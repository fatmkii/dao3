import{x as H,C as F,N as V,F as f,A as i,t,a4 as q,a5 as Q,a6 as U,w as $,q as _,b as G,r as K,a2 as L,K as s,z as g,W as x,R as n,ak as W,al as X,$ as w,J as B,S as A,V as y,X as a,a1 as S,U as C,_ as k,am as E}from"./vendor-DKSliaeX.js";import{h as P}from"./globalSetting-WymbpgkT.js";import{s as Y}from"./shuffle-Bl2z5mvo.js";import{H as Z,a as D,u as ee,b as te,_ as se}from"./app-BS5C2Xv4.js";import{u as oe}from"./forums-BKK4zFtC.js";const ae=H({__name:"ForumsStar",props:{isFavorite:{type:Boolean,default:!1},forumId:{default:0}},emits:["favorite-add","favorite-cancel"],setup(N,{emit:m}){const u=N,d=F(V,{size:"1.5rem",onClick:v},()=>F(u.isFavorite?Z:D)),c=m;function v(){u.isFavorite?c("favorite-cancel",u.forumId):c("favorite-add",u.forumId)}return(b,h)=>(i(),f(t(d)))}}),re={key:0,class:"carousel-box"},le=["src"],ne=H({__name:"Home",setup(N){q(l=>({d56b22c4:t(u).hoverColor}));const m=oe(),u=Q(),d=ee(),c=U(),{loading:v,data:b}=$(P),h=_(()=>Y(b.value));document.title="小火锅";const O=te("banner_hiden",!1),z=_(()=>({paddingBottom:d.isMobile?"6px":"",paddingTop:d.isMobile?"6px":""})),I=_(()=>({paddingBottom:d.isMobile?"6px":""})),r=G([]);K(()=>{localStorage.forums_favorites===void 0?localStorage.forums_favorites=JSON.stringify([]):r.value=JSON.parse(localStorage.forums_favorites)});const J=_(()=>{const l=m.forumsData.filter(o=>r.value.includes(o.id)),e=m.forumsData.filter(o=>!r.value.includes(o.id));return l.concat(e)});function M(l){r.value.includes(l)||(r.value.push(l),localStorage.forums_favorites=JSON.stringify(r.value))}function T(l){const e=r.value.indexOf(l);e!=-1&&(r.value.splice(e,1),localStorage.forums_favorites=JSON.stringify(r.value))}function j(l,e){const p=e.target;["path","svg"].includes(p.nodeName)||c.push({name:"forum",params:{forumId:l}})}return(l,e)=>{const p=L("router-link");return i(),f(t(C),{justify:"center",vertical:""},{default:s(()=>[t(O)?x("",!0):(i(),g("div",re,[t(v)?(i(),f(t(W),{key:0,class:"carousel-skeleton",sharp:""})):x("",!0),t(v)?x("",!0):(i(),f(t(X),{key:1,"show-arrow":"",trigger:t(d).isMobile?"click":"hover",autoplay:"",interval:1e4},{default:s(()=>[(i(!0),g(w,null,B(h.value,o=>(i(),g("img",{src:o,class:"carousel-img"},null,8,le))),256))]),_:1},8,["trigger"]))])),n(t(A),{title:"小火锅公告",size:"small"},{default:s(()=>[e[8]||(e[8]=y("div",null,"这里个人论坛“小火锅”，欢迎来玩~",-1)),y("div",null,[e[1]||(e[1]=a("QQ小火锅避难群：",-1)),n(t(S),{type:"info"},{default:s(()=>[...e[0]||(e[0]=[a("156840110",-1)])]),_:1})]),y("div",null,[e[3]||(e[3]=a("目前小火锅有5个网址：",-1)),n(t(S),{type:"info"},{default:s(()=>[...e[2]||(e[2]=[a("cpttmm.com, www.cpttmm.com, cpttmm.love, www.cpttmm.love, v2.cpttmm.com",-1)])]),_:1}),e[4]||(e[4]=a("(v2尽量不要用)",-1))]),y("div",null,[n(t(S),null,{default:s(()=>[e[6]||(e[6]=a("请务必遵守",-1)),n(p,{to:"/thread/143750",style:{"text-decoration":"underline"}},{default:s(()=>[...e[5]||(e[5]=[a("小火锅版规",-1)])]),_:1}),e[7]||(e[7]=a("喔！",-1))]),_:1})])]),_:1}),n(t(C),{justify:"center",vertical:"",size:1},{default:s(()=>[(i(!0),g(w,null,B(J.value,o=>(i(),f(t(A),{size:"small",bordered:!0,key:o.id,class:"forum-cards","header-style":z.value,"content-style":I.value,hoverable:"",onClick:R=>j(o.id,R)},{header:s(()=>[n(t(C),null,{default:s(()=>[n(ae,{"is-favorite":r.value.includes(o.id),"forum-id":o.id,onFavoriteAdd:M,onFavoriteCancel:T},null,8,["is-favorite","forum-id"]),a(" "+k(o.name),1)]),_:2},1024)]),"header-extra":s(()=>[n(t(E),{round:""},{default:s(()=>[a(k(o.id),1)]),_:2},1024)]),default:s(()=>[n(t(S),null,{default:s(()=>[a(k(o.description),1)]),_:2},1024)]),_:2},1032,["header-style","content-style","onClick"]))),128))]),_:1})]),_:1})}}}),ce=se(ne,[["__scopeId","data-v-d287aa61"]]);export{ce as default};
