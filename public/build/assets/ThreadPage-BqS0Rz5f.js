var go=Object.defineProperty,po=Object.defineProperties;var vo=Object.getOwnPropertyDescriptors;var yt=Object.getOwnPropertySymbols;var ho=Object.prototype.hasOwnProperty,bo=Object.prototype.propertyIsEnumerable;var Qe=(s,n,i)=>n in s?go(s,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[n]=i,kt=(s,n)=>{for(var i in n||(n={}))ho.call(n,i)&&Qe(s,i,n[i]);if(yt)for(var i of yt(n))bo.call(n,i)&&Qe(s,i,n[i]);return s},Ct=(s,n)=>po(s,vo(n));var It=(s,n,i)=>Qe(s,typeof n!="symbol"?n+"":n,i);import{at as he,au as _o,n as re,t as _,p as b,j as r,x as t,E as o,q as e,F as de,H as ue,I as C,J as q,S as x,L as l,P as T,D as Te,X as tt,M as Xe,av as Be,O as ye,l as z,K as y,aw as wo,ax as St,ay as Rt,g as ee,Y as Ht,am as ze,az as Ze,aA as Le,aB as be,T as At,aC as yo,aD as ko,U as Nt,W as qt,b as W,aE as Ce,N as _e,aF as Co,i as F,aG as ot,a4 as Ve,aH as Gt,aI as Ot,aJ as Io,aK as So,Q as le,w as De,aL as xo,aM as Po,aN as $o,as as Mo,C as Lo,u as Z,an as zo,ao as Do,a2 as xt,ap as To,aO as Ro,R as Ho,aP as Ao,a3 as Pt,aq as $t,ar as No,ak as qo,m as Fe,aQ as Go,aR as Oo,aS as Eo,aT as jo}from"./vendor-B4iN01yc.js";import{h as Uo,a as Fo,g as Et,_ as Mt,b as Vo,p as Bo,n as Wo}from"./emojiData-8fxnL-2h.js";import{t as Ko,p as Lt}from"./showDialog-rpxiXnxl.js";import{u as me,b as B,e as et,a as te,c as ke,f as Yo,g as ce,r as we,_ as Re,d as zt}from"./app-DcEq7zYB.js";import{_ as Dt}from"./loudspeaker-BtB32koe.js";import{_ as Qo}from"./PostInput.vue_vue_type_script_setup_true_lang-bSVLVMwl.js";import{L as Je,S as Jo}from"./LoudspeakerComponent-D_3lrWH8.js";import{u as Xo,t as Zo,a as ea,d as ta,r as oa,b as aa,c as na,e as sa,f as la}from"./admin-BNqTsuI8.js";import{i as ra,a as ia}from"./inputNumberFormat-BPxWRFt_.js";import{u as ua}from"./browseLogger-Df0p843L.js";import"./forums-4EBhOIRA.js";window.Pusher=_o;class da{constructor(){It(this,"_echoConnector");this._echoConnector=null}connect(){if(this._echoConnector===null){const n=window.location.hostname;this._echoConnector=new he({broadcaster:"reverb",key:"h1gdqae9h4rihjohv1vv",wsHost:n,wsPort:"8090",wssPort:"8090",forceTLS:!0,enabledTransports:["ws","wss"],namespace:""})}else throw new Error("Echo实例已经连接过了")}disconnect(){if(this._echoConnector instanceof he)this._echoConnector.disconnect(),this._echoConnector=null;else throw new Error("Echo实例已经删除过了")}channel(n){if(this._echoConnector instanceof he)return this._echoConnector.channel(n);throw new Error("Echo实例需要先连接.connect()")}leaveChannel(n){if(this._echoConnector instanceof he)this._echoConnector.leaveChannel(n);else throw new Error("Echo实例需要先连接.connect()")}leaveAllChannels(){if(this._echoConnector instanceof he)this._echoConnector.leaveAllChannels();else throw new Error("Echo实例需要先连接.connect()")}get isConnected(){return this._echoConnector instanceof he}get pusher(){return this._echoConnector instanceof he?this._echoConnector.connector.pusher:null}}function ma(){return new da}const ca={0:{name:"空白占位",ImgSrc:""},23410:{name:"已日清",ImgSrc:"https://wmimg.com/i/1547/2025/02/67adef97cf647.png"},23401:{name:"olo不足",ImgSrc:"https://wmimg.com/i/1547/2025/02/67adef9811f04.png"},234011:{name:"私密主题",ImgSrc:"https://wmimg.com/i/1547/2025/02/67adef97ce810.png"},23404:{name:"板块or主题不存在",ImgSrc:"https://wmimg.com/i/1547/2025/02/67adef9818836.png"},21404:{name:"需要饼干",ImgSrc:"https://wmimg.com/i/1547/2025/02/67adef97e42d8.png"}},fa=["src"],ga=re({__name:"ForbiddenModal",setup(s,{expose:n}){const i=_(0),R=_(""),v=me(),h=_(!1);function I(p){i.value=p.errorCode,R.value=p.message,h.value=!0}return n({show:I}),(p,d)=>(r(),b(e(Te),{show:h.value,"onUpdate:show":d[2]||(d[2]=g=>h.value=g),"display-directive":"if"},{default:t(()=>[o(e(de),{style:ue({maxWidth:e(v).modalMaxWidth}),closable:"",onClose:d[1]||(d[1]=g=>h.value=!1),size:"small"},{action:t(()=>[o(e(C),{justify:"end"},{default:t(()=>[o(e(B),{onClick:d[0]||(d[0]=g=>h.value=!1)},{default:t(()=>[...d[3]||(d[3]=[l("关闭",-1)])]),_:1})]),_:1})]),default:t(()=>[o(e(C),{vertical:""},{default:t(()=>[q("img",{style:{width:"100%"},src:e(ca)[i.value].ImgSrc},null,8,fa),o(e(x),null,{default:t(()=>[l(T(R.value),1)]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),pa=re({__name:"JumpModal",props:{threadId:{},postsNum:{},page:{}},setup(s,{expose:n}){const i=me(),R=tt(),v=s,h=_(),I=_(!1);function p(){I.value=!0}n({show:p});function d(){if(h.value!==void 0){const g=Math.ceil((h.value+1)/200),k="#f_"+h.value;if(R.push({name:"thread",params:{threadId:v.threadId,page:g},hash:k}),g===v.page){const S=document.querySelector(k);S==null||S.scrollIntoView({block:"center",behavior:"auto"}),S==null||S.classList.add("on-focus")}I.value=!1}}return(g,k)=>(r(),b(e(Te),{show:I.value,"onUpdate:show":k[3]||(k[3]=S=>I.value=S),"display-directive":"if"},{default:t(()=>[o(e(de),{style:ue({maxWidth:e(i).modalMaxWidth}),title:"跳楼机",closable:"",onClose:k[2]||(k[2]=S=>I.value=!1),size:"small"},{action:t(()=>[o(e(C),{justify:"end"},{default:t(()=>[o(e(B),{type:"primary",onClick:d,disabled:!h.value},{default:t(()=>[...k[5]||(k[5]=[l("Jump!",-1)])]),_:1},8,["disabled"]),o(e(B),{onClick:k[1]||(k[1]=S=>I.value=!1)},{default:t(()=>[...k[6]||(k[6]=[l("关闭",-1)])]),_:1})]),_:1})]),default:t(()=>[o(e(C),{vertical:""},{default:t(()=>[o(e(x),null,{default:t(()=>[l(" 最大高度："+T(s.postsNum)+"楼 ",1)]),_:1}),o(e(Xe),null,{default:t(()=>[o(e(et),{style:{width:"3.2rem"},class:"round"},{default:t(()=>[...k[4]||(k[4]=[l("跳楼",-1)])]),_:1}),o(e(Be),{placeholder:"请输入楼层号",max:s.postsNum,value:h.value,"onUpdate:value":k[0]||(k[0]=S=>h.value=S),onKeyup:ye(d,["enter"])},null,8,["max","value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),va=re({__name:"AdminActionModal",props:{threadId:{},forumId:{default:0}},emits:["refreshPostsList"],setup(s,{expose:n,emit:i}){const R=me(),v=te(),h=tt(),I=_(null),p=s,d=_({contentInput:void 0,switchInput:!1}),g=_("hint"),k=_(!0),S=_();let w;const E=z(()=>({contentInput:{required:$.value.requireContent,message:"请填写理由"},switchInput:{required:!1}})),K={hint:{requireContent:!1,contentMessage:!1,requireSwitch:!1},ban:{requireContent:!0,contentMessage:"你要永久粉碎这个饼干吗？",requireSwitch:!1},lock:{requireContent:!0,contentMessage:`要封禁这个饼干吗？
第1次3天、2次6天、3次9天、4次碎饼`,requireSwitch:!1},deleteAll:{requireContent:!0,contentMessage:`要用管理员权限删除该饼干全部回复吗？
此功能请谨慎使用，仅在有恶意刷屏时。`,requireSwitch:!0},delete:{requireContent:!0,contentMessage:"要用管理员权限删除这个回复吗？",requireSwitch:!0},recovery:{requireContent:!0,contentMessage:"要用管理员权限恢复这个回复吗？",requireSwitch:!1},deleteThread:{requireContent:!0,contentMessage:"要用管理员权限删除这个主题吗？",requireSwitch:!1},setTop:{requireContent:!1,contentMessage:"要设为置顶吗？",requireSwitch:!1},cancelTop:{requireContent:!1,contentMessage:"要取消置顶吗？",requireSwitch:!1}},$=z(()=>K[g.value]),m=_(!1);function M(D){var c;g.value=D.action,w=(c=D.postId)!=null?c:0,S.value=void 0,m.value=!0,D.action==="hint"?(k.value=!1,N("hint")):k.value=!0}n({show:M});const P=i;function N(D){var c;if(D==="hint"){S.value="查询中……";const f={binggan:v.binggan,thread_id:p.threadId,post_id:w};Xo(f).then(H=>{S.value=`此饼干状态：${H.user_status}。已被锁定过${H.locked_count}次。`});return}(c=I.value)==null||c.validate(f=>{if(f){window.$message.error("请确认信息填写完整");return}else switch(D){case"ban":const H={binggan:v.binggan,thread_id:p.threadId,post_id:w,content:d.value.contentInput};la(H).then(()=>{m.value=!1,P("refreshPostsList")});break;case"lock":const oe={binggan:v.binggan,thread_id:p.threadId,post_id:w,content:d.value.contentInput};sa(oe).then(()=>{m.value=!1,P("refreshPostsList")});break;case"deleteAll":const j={binggan:v.binggan,thread_id:p.threadId,post_id:w,content:d.value.contentInput,reduce_olo:d.value.switchInput};na(j).then(()=>{m.value=!1,P("refreshPostsList")});break;case"delete":const G={binggan:v.binggan,thread_id:p.threadId,post_id:w,content:d.value.contentInput,reduce_olo:d.value.switchInput};aa(G).then(()=>{m.value=!1,P("refreshPostsList")});break;case"recovery":const ae={binggan:v.binggan,thread_id:p.threadId,post_id:w,content:d.value.contentInput};oa(ae).then(()=>{m.value=!1,P("refreshPostsList")});break;case"deleteThread":const O={binggan:v.binggan,thread_id:p.threadId,content:d.value.contentInput};ta(O).then(()=>{m.value=!1,h.push({name:"forum",params:{forumId:p.forumId,page:1}})});break;case"setTop":const L={binggan:v.binggan,thread_id:p.threadId};ea(L).then(()=>{m.value=!1,P("refreshPostsList")});break;case"cancelTop":const A={binggan:v.binggan,thread_id:p.threadId};Zo(A).then(()=>{m.value=!1,P("refreshPostsList")});break}})}return(D,c)=>(r(),b(e(Te),{show:m.value,"onUpdate:show":c[5]||(c[5]=f=>m.value=f),"display-directive":"if",size:"small"},{default:t(()=>[o(e(de),{style:ue({maxWidth:e(R).modalMaxWidth}),title:"管理员操作",closable:"",onClose:c[4]||(c[4]=f=>m.value=!1),size:"small"},{action:t(()=>[o(e(C),{justify:"end"},{default:t(()=>[k.value?(r(),b(e(B),{key:0,type:"warning",onClick:c[2]||(c[2]=f=>N(g.value))},{default:t(()=>[...c[7]||(c[7]=[l("提交",-1)])]),_:1})):y("",!0),o(e(B),{onClick:c[3]||(c[3]=f=>m.value=!1)},{default:t(()=>[...c[8]||(c[8]=[l("关闭",-1)])]),_:1})]),_:1})]),default:t(()=>[o(e(C),{vertical:""},{default:t(()=>[$.value.contentMessage?(r(),b(e(x),{key:0,style:{"white-space":"pre-wrap"}},{default:t(()=>[l(T($.value.contentMessage),1)]),_:1})):y("",!0),S.value?(r(),b(e(x),{key:1},{default:t(()=>[l(T(S.value),1)]),_:1})):y("",!0),o(e(wo),{ref_key:"formRef",ref:I,model:d.value,"label-placement":"left","label-width":"auto",rules:E.value,size:e(R).isMobile?"small":"medium",style:{"margin-top":"10px"}},{default:t(()=>[$.value.requireContent?(r(),b(e(St),{key:0,label:"理由",path:"contentInput"},{default:t(()=>[o(e(ke),{placeholder:"必填",value:d.value.contentInput,"onUpdate:value":c[0]||(c[0]=f=>d.value.contentInput=f)},null,8,["value"])]),_:1})):y("",!0),$.value.requireSwitch?(r(),b(e(St),{key:1,label:"罚款olo",path:"switchInput"},{default:t(()=>[o(e(Rt),{value:d.value.switchInput,"onUpdate:value":c[1]||(c[1]=f=>d.value.switchInput=f)},null,8,["value"]),o(e(x),{style:{"margin-left":"6px"}},{default:t(()=>[...c[6]||(c[6]=[l("每个帖子罚款500，封顶5000个olo",-1)])]),_:1})]),_:1})):y("",!0)]),_:1},8,["model","rules","size"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ha=re({__name:"RewardModal",emits:["refreshPostsList"],setup(s,{expose:n,emit:i}){const R=me(),v=te(),h=_(100),I=_(),p=_(!1),d=_();function g($){d.value=$,p.value=!0}n({show:g});const k=i;function S(){const $={binggan:v.binggan,post_floor_message:"@"+d.value.postFloorMessage,forum_id:d.value.forumId,thread_id:d.value.threadId,post_id:d.value.postId,coin:h.value,content:I.value};E($)}const{loading:w,send:E,onSuccess:K}=ee($=>Yo($),{immediate:!1});return K(()=>{p.value=!1,k("refreshPostsList")}),($,m)=>(r(),b(e(Te),{show:p.value,"onUpdate:show":m[4]||(m[4]=M=>p.value=M),"display-directive":"if"},{default:t(()=>{var M;return[o(e(de),{style:ue({maxWidth:e(R).modalMaxWidth}),title:`打赏给№${(M=d.value)==null?void 0:M.floor}`,closable:"",onClose:m[3]||(m[3]=P=>p.value=!1),size:"small"},{action:t(()=>[o(e(C),{justify:"end"},{default:t(()=>[o(e(B),{type:"primary",onClick:S,loading:e(w)},{default:t(()=>[...m[12]||(m[12]=[l("打赏",-1)])]),_:1},8,["loading"]),o(e(B),{onClick:m[2]||(m[2]=P=>p.value=!1)},{default:t(()=>[...m[13]||(m[13]=[l("关闭",-1)])]),_:1})]),_:1})]),default:t(()=>[o(e(C),{vertical:""},{default:t(()=>[q("div",null,[e(R).isDouble11?(r(),b(e(x),{key:1},{default:t(()=>[...m[6]||(m[6]=[q("del",null,"温馨提示：在打赏额以外，会追加扣除7%手续费。",-1),q("br",null,null,-1),l(" 活动期间限时手续费2%！ ",-1)])]),_:1})):(r(),b(e(x),{key:0},{default:t(()=>[...m[5]||(m[5]=[l(" 温馨提示：在打赏额以外，会追加扣除7%手续费。",-1)])]),_:1})),m[9]||(m[9]=q("br",null,null,-1)),o(e(x),null,{default:t(()=>[...m[7]||(m[7]=[l("总共扣除：",-1)])]),_:1}),o(e(x),{type:"error"},{default:t(()=>[l(T(Math.ceil(h.value*(e(R).isDouble11?1.02:1.07))),1)]),_:1}),o(e(x),null,{default:t(()=>[...m[8]||(m[8]=[l("块奥利奥。",-1)])]),_:1})]),o(e(Xe),null,{default:t(()=>[o(e(et),{style:{width:"3.2rem"}},{default:t(()=>[...m[10]||(m[10]=[l("打赏",-1)])]),_:1}),o(e(Be),{type:"password",placeholder:"olo数量","show-password-on":"mousedown",clearable:"",value:h.value,"onUpdate:value":m[0]||(m[0]=P=>h.value=P),onKeyup:ye(S,["enter"]),max:1e6,min:1,step:1e3,parse:e(ia),format:e(ra)},null,8,["value","parse","format"])]),_:1}),o(e(Xe),null,{default:t(()=>[o(e(et),{style:{width:"3.2rem"},class:"round"},{default:t(()=>[...m[11]||(m[11]=[l("留言",-1)])]),_:1}),o(e(ke),{value:I.value,"onUpdate:value":m[1]||(m[1]=P=>I.value=P),placeholder:"（可留空）",onKeyup:ye(S,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style","title"])]}),_:1},8,["show"]))}});let Tt;function ba(s,n=500){return function(...i){clearTimeout(Tt),Tt=setTimeout(()=>{s(...i)},n)}}const _a=re({__name:"BrowseLogger",props:{postsListLoading:{type:Boolean},disableScroll:{type:Boolean,default:!1},isSearch:{type:Boolean},threadId:{},page:{}},setup(s){const n=s,i=_(!1),R=Ht(),v=ua();function h(){function p(){const g=window.innerWidth/2;return document.elementsFromPoint(g,100)}ba(()=>{const g=p(),k=v.get(n.threadId);g.forEach(S=>{const w=Number(S.getAttribute("floor"));w&&w>k.floor&&v.log(n.threadId,w)})},100)()}function I(){if(!R.hash&&v.get(n.threadId)){const p=v.get(n.threadId),d=Math.ceil((p.floor+1)/200);if(d===n.page&&p.floor!==0){const g=document.getElementById("f_"+p.floor);g!==null&&(g.scrollIntoView({behavior:"auto",block:"center"}),window.$message.success(`已自动滚到上次浏览进度${p.floor}楼`))}d>n.page&&(i.value=!0)}}return ze(()=>n.postsListLoading,p=>{p===!1&&!n.disableScroll&&Ze(()=>I())}),Le(()=>{v.initThread(n.threadId),window.addEventListener("scroll",h)}),be(()=>{i.value=!1,window.removeEventListener("scroll",h)}),(p,d)=>{const g=At("router-link");return i.value&&!s.isSearch?(r(),b(e(yo),{key:0,type:"success",closable:"",style:{"border-radius":"10px"}},{default:t(()=>[l(" 你上次已经浏览到"+T(e(v).get(s.threadId).floor)+"楼， ",1),o(g,{onClick:d[0]||(d[0]=k=>i.value=!1),to:{name:"thread",params:{threadId:s.threadId,page:Math.ceil((e(v).get(s.threadId).floor+1)/200)}}},{default:t(()=>[...d[1]||(d[1]=[l(" 点击这里 ",-1)])]),_:1},8,["to"]),d[2]||(d[2]=l(" 跳转 ",-1))]),_:1})):y("",!0)}}}),wa=re({__name:"ChangeColorModal",props:{threadId:{}},emits:["refreshPostsList"],setup(s,{expose:n,emit:i}){const R=me(),v=te(),h=s,I=_(),p=["#b65954","#c78878","#9b7e70","#de7562","#fca44b","#f1c727","#f6da79","#fbda97","#9fc778","#78c79f","#8ab185","#98c0d9","#8691db","#7878c7","#566b7c","#9678c7","#9f78c7","#ca95e9","#ecacc6","#a86fa2","#7e3749"],d=_(!1);function g(){d.value=!0}n({show:g});const{loading:k,send:S,onSuccess:w}=ee(K=>Ko(K),{immediate:!1});function E(){if(!I.value){window.$message.error("颜色输入不能为空");return}const K={binggan:v.binggan,thread_id:h.threadId,color:I.value};S(K),w(()=>d.value=!1)}return(K,$)=>(r(),b(e(Te),{show:d.value,"onUpdate:show":$[3]||($[3]=m=>d.value=m),"display-directive":"if"},{default:t(()=>[o(e(de),{style:ue({maxWidth:e(R).modalMaxWidth}),title:"标题改色",closable:"",onClose:$[2]||($[2]=m=>d.value=!1),size:"small"},{action:t(()=>[o(e(C),{justify:"end"},{default:t(()=>[o(e(B),{type:"primary",onClick:E,disabled:e(k),loading:e(k)},{default:t(()=>[...$[5]||($[5]=[l("提交",-1)])]),_:1},8,["disabled","loading"]),o(e(B),{onClick:$[1]||($[1]=m=>d.value=!1)},{default:t(()=>[...$[6]||($[6]=[l("关闭",-1)])]),_:1})]),_:1})]),default:t(()=>[o(e(C),{vertical:""},{default:t(()=>[o(e(x),null,{default:t(()=>[...$[4]||($[4]=[l(" 要更换标题颜色吗？每次收费500个olo喔 ",-1)])]),_:1}),o(e(ko),{value:I.value,"onUpdate:value":$[0]||($[0]=m=>I.value=m),modes:["hex"],"show-alpha":!1,style:{"max-width":"8.2rem"},swatches:p},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ya=te(),ka=s=>{const n=ce.Get("api/crowds/"+s,{name:"crowdDataGetter-"+s,params:{binggan:ya.binggan},localCache:null,hitSource:[]});return n.meta={shouldRemind:!1},n},Ca=s=>{const n=ce.Post("api/crowds/",s,{name:"userCrowdPoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Ia=s=>{const n=ce.Post("api/crowds/repeal",s,{name:"adminCrowdRepealPoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Sa={style:{"text-align":"center"}},xa={key:0},Pa={key:1},$a={key:2},Ma={key:3},La=re({__name:"CrowdComponent",props:{crowdId:{},forumId:{}},setup(s){Nt(j=>({v02a8d6e9:e(v).dividerColor}));const n=s,i=te(),R=me(),v=qt(),h=_(1e3),I=z(()=>{const j=W.tz(M.value.end_date),G=W(),ae=j.diff(G,"hour");return ae>=1?`${ae}小时后`:`${j.diff(G,"minute")}分钟后`}),p=z(()=>W.tz(M.value.end_date).format("YY年M月D日 HH:mm")),d=z(()=>W().isAfter(W.tz(M.value.end_date))),g=[{label:"中止",key:"repeal",icon:we(Ot,{size:"1.5rem"})}];function k(j){switch(j){case"repeal":oe();break}}const S=[{title:"我支持的olo",key:"olo",resizable:!0},{title:"参与时间",key:"created_at",resizable:!0}],{data:w,loading:E,send:K,onSuccess:$}=ee(ka(n.crowdId),{immediate:!1});function m(){K({binggan:i.binggan})}i.binggan&&m();const M=z(()=>{var j;return(j=w.value)==null?void 0:j.crowd}),P=z(()=>{var j,G;return(G=(j=w.value)==null?void 0:j.crowd_record)!=null?G:[]}),N=z(()=>Math.round(M.value.olo_total/M.value.olo_target*100)),{loading:D,send:c,onSuccess:f}=ee(j=>Ca(j),{immediate:!1});f(()=>{m()});function H(){if(!h.value){window.$message.error("请输入众筹金额喔");return}const j={binggan:i.binggan,crowd_olo:h.value,crowd_id:n.crowdId},G={title:"参加众筹",closable:!1,content:`确定要参加众筹吗？将消耗${h.value}个olo`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{c(j)}};window.$dialog.warning(G)}function oe(){const j={binggan:i.binggan,crowd_id:n.crowdId},G={title:"中止众筹",closable:!1,content:"确定要中止众筹吗？已投注的olo将会退回",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ia(j).then(()=>{m()})}};window.$dialog.warning(G)}return(j,G)=>(r(),b(e(de),{size:"small",bordered:!0},{default:t(()=>[o(e(Ce),{show:e(E)},{default:t(()=>[M.value!==void 0?(r(),b(e(C),{key:0,vertical:""},{default:t(()=>[o(e(C),{size:"small",align:"center",class:"crowd-title"},{default:t(()=>[o(e(_e),{size:e(R).isMobile?24:32},{default:t(()=>[o(e(Co))]),_:1},8,["size"]),q("span",null,T(M.value.title),1)]),_:1}),o(e(C),{vertical:"",align:"center"},{default:t(()=>[o(e(ot),{type:"dashboard",status:"success",percentage:N.value},{default:t(()=>[q("span",Sa,"进度"+T(N.value)+"% ",1)]),_:1},8,["percentage"]),d.value&&M.value.is_closed===0?(r(),F("span",xa,"众筹已经过期了")):y("",!0),M.value.is_closed===1?(r(),F("span",Pa,"众筹已达成目标！谢谢各位参与~")):y("",!0),M.value.is_closed===2?(r(),F("span",$a,"众筹已经被管理员中止，olo已退回")):y("",!0),!d.value&&M.value.is_closed===0?(r(),F("div",Ma,[o(e(x),{depth:3},{default:t(()=>[...G[1]||(G[1]=[l("结束时间：",-1)])]),_:1}),q("span",null,T(p.value)+" ("+T(I.value)+")",1)])):y("",!0),q("div",null,[o(e(x),{depth:3},{default:t(()=>[...G[2]||(G[2]=[l("众筹目标：",-1)])]),_:1}),q("span",null,T(`${M.value.olo_target.toLocaleString("en-us")} 个olo`),1)]),q("div",null,[o(e(x),{depth:3},{default:t(()=>[...G[3]||(G[3]=[l("已众筹到：",-1)])]),_:1}),q("span",null,T(`${M.value.olo_total.toLocaleString("en-us")} 个olo`),1)]),o(e(C),{size:"small",align:"center"},{default:t(()=>[o(e(Be),{max:1e6,min:1,step:1e3,placeholder:"投入额",disabled:d.value||M.value.is_closed!==0,value:h.value,"onUpdate:value":G[0]||(G[0]=ae=>h.value=ae)},null,8,["disabled","value"]),o(e(B),{type:"primary",onClick:H,loading:e(D),disabled:e(D)||d.value||M.value.is_closed!==0},{default:t(()=>[...G[4]||(G[4]=[l("投入",-1)])]),_:1},8,["loading","disabled"]),e(i).checkAdminForums(s.forumId)&&M.value.is_closed===0?(r(),b(e(Ve),{key:0,trigger:e(R).isMobile?"click":"hover",options:g,onSelect:k,placement:"bottom-start"},{default:t(()=>[o(e(B),{type:"warning"},{default:t(()=>[...G[5]||(G[5]=[l("管理",-1)])]),_:1})]),_:1},8,["trigger"])):y("",!0)]),_:1})]),_:1}),P.value.length>0?(r(),b(e(Gt),{key:0,columns:S,data:P.value,bordered:!1},null,8,["data"])):y("",!0)]),_:1})):y("",!0)]),_:1},8,["show"])]),_:1}))}}),za=Re(La,[["__scopeId","data-v-c8ea6852"]]),Da=te(),Ta=s=>{const n=ce.Get("api/gambles/"+s,{name:"gambleDataGetter-"+s,params:{binggan:Da.binggan},localCache:null,hitSource:[]});return n.meta={shouldRemind:!1},n},Ra=s=>{const n=ce.Post("api/gambles/",s,{name:"userGamblePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Ha=s=>{const n=ce.Post("api/gambles/close",s,{name:"adminGambleClosePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Aa=s=>{const n=ce.Post("api/gambles/repeal",s,{name:"adminGambleRepealPoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Na={key:0},qa={key:1},Ga={key:2},Oa={key:3},Ea={class:"gamble-item"},ja={style:{"margin-left":"auto"}},Ua=re({__name:"GambleComponent",props:{gambleId:{},forumId:{}},setup(s){Nt(O=>({v8196b06e:e(v).dividerColor}));const n=s,i=te(),R=me(),v=qt(),h=_(),I=_(1e3),p=z(()=>{const O=W.tz(P.value.end_date),L=W(),A=O.diff(L,"hour");return A>=1?`${A}小时后`:`${O.diff(L,"minute")}分钟后`}),d=z(()=>W.tz(P.value.end_date).format("YY年M月D日 HH:mm")),g=z(()=>W().isAfter(W.tz(P.value.end_date))),k=[{label:"开奖",key:"close",icon:we(xo,{size:"1.5rem"})},{label:"中止",key:"repeal",icon:we(Ot,{size:"1.5rem"})}];function S(O){switch(O){case"close":G();break;case"repeal":ae();break}}const w=[{title:"我的投注",key:"option_text",resizable:!0},{title:"投注额",key:"betting_olo",resizable:!0},{title:"赔率",key:"odds",render:O=>{var L,A;return(A=(L=O.odds)==null?void 0:L.toFixed(2))!=null?A:"（开奖时确定）"},resizable:!0},{title:"奖金",key:"win_olo",resizable:!0}],{data:E,loading:K,send:$,onSuccess:m}=ee(Ta(n.gambleId),{immediate:!1});function M(){$({binggan:i.binggan})}i.binggan&&M();const P=z(()=>E.value.gamble_question),N=z(()=>E.value.gamble_options),D=z(()=>{var O,L;return(L=(O=E.value.user_choices)==null?void 0:O.map(A=>{var ne;return Ct(kt({},A),{option_text:(ne=N.value.find(He=>He.id===A.option_id))==null?void 0:ne.option_text})}))!=null?L:[]}),c=z(()=>{var O;return(O=N.value.find(L=>L.id===P.value.result_option_id))==null?void 0:O.option_text}),{loading:f,send:H,onSuccess:oe}=ee(O=>Ra(O),{immediate:!1});oe(()=>{M()});function j(){if(!h.value||!I.value){window.$message.error("请选择选项和输入投注额喔");return}const O={binggan:i.binggan,gamble_question_id:n.gambleId,bet_option:h.value,betting_olo:I.value},L={title:"参加菠菜",closable:!1,content:`确定要参加菠菜吗？将消耗${I.value}个olo`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{H(O)}};window.$dialog.warning(L)}function G(){var A;if(!h.value){window.$message.error("请选择选项喔");return}const O={binggan:i.binggan,gamble_question_id:n.gambleId,result_option:h.value},L={title:"开奖菠菜",closable:!1,content:`确定要开奖吗？开奖选项是：${(A=N.value.find(ne=>ne.id===h.value))==null?void 0:A.option_text}`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ha(O).then(()=>{M()})}};window.$dialog.warning(L)}function ae(){const O={binggan:i.binggan,gamble_question_id:n.gambleId},L={title:"中止菠菜",closable:!1,content:"确定要中止菠菜吗？已投注的olo将会退回",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Aa(O).then(()=>{M()})}};window.$dialog.warning(L)}return(O,L)=>(r(),b(e(de),{size:"small",bordered:!0},{default:t(()=>[o(e(Ce),{show:e(K)},{default:t(()=>[e(E)!==void 0?(r(),b(e(C),{key:0,vertical:""},{default:t(()=>[o(e(C),{size:"small",align:"center",class:"gamble-title"},{default:t(()=>[o(e(_e),{size:e(R).isMobile?24:32},{default:t(()=>[o(e(Io))]),_:1},8,["size"]),q("span",null,T(P.value.title),1)]),_:1}),o(e(So),{value:h.value,"onUpdate:value":L[0]||(L[0]=A=>h.value=A)},{default:t(()=>[o(e(C),{vertical:"",size:"large"},{default:t(()=>[(r(!0),F(le,null,De(N.value,(A,ne)=>(r(),F("div",{key:A.id},[o(e(Po),{value:A.id,label:`（当前赔率 ${A.odds.toFixed(2)}）： ${A.id==P.value.result_option_id?"⭐":""} ${A.option_text}`},null,8,["value","label"]),o(e(ot),{status:"success",type:"line",height:e(R).isMobile?20:24,percentage:Math.floor(A.olo_total/P.value.olo_total*100),"indicator-placement":"inside"},{default:t(()=>[l(T(A.olo_total),1)]),_:2},1032,["height","percentage"])]))),128))]),_:1})]),_:1},8,["value"]),g.value&&P.value.is_closed===0?(r(),F("span",Na,"菠菜已经关闭投注")):y("",!0),P.value.is_closed===1?(r(),F("span",qa,T(`菠菜已开奖，奖金已发放。中奖项是：${c.value}`),1)):y("",!0),P.value.is_closed===2?(r(),F("span",Ga,"菠菜已经被管理员中止，投注olo已退回")):y("",!0),!g.value&&P.value.is_closed===0?(r(),F("div",Oa,[o(e(x),{depth:3},{default:t(()=>[...L[2]||(L[2]=[l("结束时间：",-1)])]),_:1}),q("span",null,T(d.value)+" ("+T(p.value)+")",1)])):y("",!0),o(e(C),{size:"small",align:"center"},{default:t(()=>[o(e(Be),{max:1e6,min:1,step:1e3,placeholder:"投注额",disabled:g.value||P.value.is_closed!==0,value:I.value,"onUpdate:value":L[1]||(L[1]=A=>I.value=A)},null,8,["disabled","value"]),o(e(B),{type:"primary",onClick:j,loading:e(f),disabled:e(f)||g.value||P.value.is_closed!==0},{default:t(()=>[...L[3]||(L[3]=[l("投注",-1)])]),_:1},8,["loading","disabled"]),e(i).checkAdminForums(s.forumId)&&P.value.is_closed===0?(r(),b(e(Ve),{key:0,trigger:e(R).isMobile?"click":"hover",options:k,onSelect:S,placement:"bottom-start"},{default:t(()=>[o(e(B),{type:"warning"},{default:t(()=>[...L[4]||(L[4]=[l("管理",-1)])]),_:1})]),_:1},8,["trigger"])):y("",!0)]),_:1}),!e(R).isMobile&&D.value.length>0?(r(),b(e(Gt),{key:4,columns:w,data:D.value,bordered:!1},null,8,["data"])):y("",!0),e(R).isMobile?(r(),F(le,{key:5},[D.value.length>0?(r(),b(e(C),{key:0,vertical:"",align:"start",size:"small"},{default:t(()=>[(r(!0),F(le,null,De(D.value,A=>(r(),F("div",Ea,[o(e(C),{style:{"margin-bottom":"6px"}},{default:t(()=>[q("div",null,[o(e(x),{depth:3},{default:t(()=>[...L[5]||(L[5]=[l("我的投注：",-1)])]),_:1}),o(e(x),null,{default:t(()=>[l(T(A.option_text),1)]),_:2},1024)])]),_:2},1024),o(e(C),{style:{"margin-bottom":"6px"}},{default:t(()=>[q("div",null,[o(e(x),{depth:3},{default:t(()=>[...L[6]||(L[6]=[l("投注额：",-1)])]),_:1}),o(e(x),null,{default:t(()=>[l(T(A.betting_olo),1)]),_:2},1024)])]),_:2},1024),A.win_olo?(r(),b(e(C),{key:0,style:{"margin-bottom":"6px"}},{default:t(()=>[q("div",null,[o(e(x),{depth:3},{default:t(()=>[...L[7]||(L[7]=[l("赔率：",-1)])]),_:1}),o(e(x),null,{default:t(()=>{var ne;return[l(T((ne=A.odds)==null?void 0:ne.toFixed(2)),1)]}),_:2},1024)]),q("div",ja,[o(e(x),{depth:3},{default:t(()=>[...L[8]||(L[8]=[l("奖金：",-1)])]),_:1}),o(e(x),null,{default:t(()=>[l(T(A.win_olo),1)]),_:2},1024)])]),_:2},1024)):y("",!0)]))),256))]),_:1})):y("",!0)],64)):y("",!0)]),_:1})):y("",!0)]),_:1},8,["show"])]),_:1}))}}),Fa=Re(Ua,[["__scopeId","data-v-d08fb987"]]),Va={key:0},Ba=re({__name:"HongbaoComponent",props:{hongbaoId:{},threadId:{},forumId:{},noHongbaoPicMode:{type:Boolean}},emits:["refreshPostsList"],setup(s,{emit:n}){const i=te(),R=me(),v=s,h=z(()=>g.value.pic_url&&!v.noHongbaoPicMode),I=z(()=>h.value?{backgroundImage:`linear-gradient(rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5)), url(${g.value.pic_url})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"}:{}),p=_(),d=z(()=>({1:"随机olo",2:"定额olo"})[g.value.type]),{data:g,loading:k,send:S,onSuccess:w}=ee(Uo(v.hongbaoId),{immediate:!1,initialData:{}});w(N=>{p.value=N.data.key_word});function E(){S({binggan:i.binggan})}i.binggan&&E();const{loading:K,send:$,onSuccess:m}=ee(N=>Fo(N),{immediate:!1});m(()=>{P("refreshPostsList")});function M(N){if(!N.isTrusted){const H={title:"错误",closable:!1,content:"请不要用脚本抢红包喔",positiveText:"确定"};window.$dialog.warning(H);return}const{timestamp:D,newPostKey:c}=Et(N.isTrusted,v.threadId,i.binggan),f={binggan:i.binggan,forum_id:v.forumId,thread_id:v.threadId,content:"--红包口令: "+p.value,nickname:"= =",post_with_admin:!1,new_post_key:c,timestamp:D,hongbao_id:v.hongbaoId,hongbao_key_word:p.value};$(f).then(()=>{E()})}const P=n;return(N,D)=>(r(),b(e(de),{size:"small",bordered:!0,class:"hongbao-card",style:ue(I.value)},{default:t(()=>[o(e(Ce),{show:e(k)},{default:t(()=>[o(e(C),{vertical:"",align:"center"},{default:t(()=>[o(e(C),{align:"center",size:"small"},{default:t(()=>[o(e(x),{style:{"font-size":"1rem"}},{default:t(()=>[...D[1]||(D[1]=[l("口令红包",-1)])]),_:1}),h.value?y("",!0):(r(),F("img",{key:0,src:"/hongbao.svg",style:ue({height:e(R).isMobile?"30px":"36px"})},null,4))]),_:1}),q("div",null,[e(g).key_word?(r(),b(e(x),{key:0,depth:3},{default:t(()=>[...D[2]||(D[2]=[l("口令：",-1)])]),_:1})):y("",!0),o(e(x),null,{default:t(()=>[l(T(e(g).key_word),1)]),_:1})]),q("div",null,[o(e(x),{depth:3},{default:t(()=>[...D[3]||(D[3]=[l("数量：",-1)])]),_:1}),o(e(x),null,{default:t(()=>[l(T(e(g).num_remains)+" /"+T(e(g).num_total)+" （"+T(d.value)+"）",1)]),_:1})]),e(g).olo_hide?y("",!0):(r(),F("div",Va,[o(e(x),{depth:3},{default:t(()=>[...D[4]||(D[4]=[l("总额：",-1)])]),_:1}),o(e(x),null,{default:t(()=>{var c;return[l(T((c=e(g).olo_total)==null?void 0:c.toLocaleString("en-us"))+" olo ",1)]}),_:1})])),o(e(C),{size:"small",wrap:!1},{default:t(()=>{var c;return[e(g).hongbao_user===null?(r(),b(e(ke),{key:0,value:p.value,"onUpdate:value":D[0]||(D[0]=f=>p.value=f),maxlength:255,onKeyup:ye(M,["enter"]),style:{"max-width":"328px"},placeholder:e(g).num_remains===0?"已经抢光啦":"请输入口令","auto-size":"",disabled:e(g).hongbao_user!==null||e(g).num_remains===0},null,8,["value","placeholder","disabled"])):(r(),b(e(ke),{key:1,value:`你抢到了${(c=e(g).hongbao_user)==null?void 0:c.olo.toLocaleString("en-us")}个olo`,maxlength:255,style:{"max-width":"328px"},"auto-size":"",disabled:""},null,8,["value"])),o(e(B),{type:"primary",onClick:M,disabled:e(g).hongbao_user!==null||e(K)||e(g).num_remains===0},{default:t(()=>[...D[5]||(D[5]=[l("抢！",-1)])]),_:1},8,["disabled"])]}),_:1})]),_:1})]),_:1},8,["show"])]),_:1},8,["style"]))}}),Wa=Re(Ba,[["__scopeId","data-v-d0fedc06"]]),Ka=te(),Ya=s=>{const n=ce.Get("api/votes/"+s,{name:"voteDataGetter-"+s,params:{binggan:Ka.binggan},localCache:null,hitSource:[]});return n.meta={shouldRemind:!1},n},Qa=s=>{const n=ce.Post("api/votes/",s,{name:"userVotePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Ja={key:0},Xa=re({__name:"VoteComponent",props:{voteId:{}},setup(s){const n=s,i=te(),R=me(),v=_([]);ze(v,(c,f)=>{c.length>E.value.max_choices&&(window.$message.error(`最多只能选择${E.value.max_choices}个选项喔`),v.value=f)});const h=z(()=>{const c=W.tz(E.value.end_date),f=W(),H=c.diff(f,"hour");return H>=1?`${H}小时后`:`${c.diff(f,"minute")}分钟后`}),I=z(()=>W.tz(E.value.end_date).format("YY年M月D日 HH:mm")),p=z(()=>W().isAfter(W.tz(E.value.end_date))),{data:d,loading:g,send:k,onSuccess:S}=ee(Ya(n.voteId),{immediate:!1});S(c=>{c.data.user_choices&&(v.value=c.data.user_choices.options_id)});function w(){k({binggan:i.binggan})}i.binggan&&w();const E=z(()=>d.value.vote_question),K=z(()=>d.value.vote_options),$=z(()=>d.value.user_choices),m=z(()=>$.value!==null),{loading:M,send:P,onSuccess:N}=ee(c=>Qa(c),{immediate:!1});N(()=>{w()});function D(){const c={binggan:i.binggan,vote_question_id:n.voteId,vote_options:v.value};P(c)}return(c,f)=>(r(),b(e(de),{size:"small",bordered:!0},{default:t(()=>[o(e(Ce),{show:e(g)},{default:t(()=>[e(d)!==void 0?(r(),b(e(C),{key:0,vertical:""},{default:t(()=>[o(e(C),{size:"small",align:"center",class:"vote-title"},{default:t(()=>[o(e(_e),{size:e(R).isMobile?24:32},{default:t(()=>[o(e($o))]),_:1},8,["size"]),q("span",null,T(e(d).vote_question.title),1)]),_:1}),o(e(Mo),{value:v.value,"onUpdate:value":f[0]||(f[0]=H=>v.value=H),disabled:m.value},{default:t(()=>[o(e(C),{vertical:"",size:"large"},{default:t(()=>[(r(!0),F(le,null,De(K.value,(H,oe)=>(r(),F("div",{key:H.id},[o(e(Lo),{value:H.id,label:`${oe+1}. ${H.option_text}`},null,8,["value","label"]),o(e(ot),{status:"success",type:"line",height:e(R).isMobile?20:24,percentage:Math.floor(H.vote_total/E.value.vote_total*100),"indicator-placement":"inside"},{default:t(()=>[l(T(H.vote_total)+"票 ",1)]),_:2},1032,["height","percentage"])]))),128))]),_:1})]),_:1},8,["value","disabled"]),p.value?(r(),F("span",Ja,"投票已经结束了")):(r(),F(le,{key:1},[q("div",null,[o(e(x),{depth:3},{default:t(()=>[...f[1]||(f[1]=[l("最多选择：",-1)])]),_:1}),q("span",null,T(E.value.max_choices)+"个选项",1)]),q("div",null,[o(e(x),{depth:3},{default:t(()=>[...f[2]||(f[2]=[l("结束时间：",-1)])]),_:1}),q("span",null,T(I.value)+" ("+T(h.value)+")",1)])],64)),o(e(C),{size:"small",align:"center"},{default:t(()=>[o(e(B),{type:"primary",onClick:D,loading:e(M),disabled:e(M)||m.value||p.value},{default:t(()=>[...f[3]||(f[3]=[l("投票",-1)])]),_:1},8,["loading","disabled"]),m.value?(r(),b(e(x),{key:0,depth:3},{default:t(()=>[...f[4]||(f[4]=[l("你已经投过票了，谢谢参与！",-1)])]),_:1})):y("",!0)]),_:1})]),_:1})):y("",!0)]),_:1},8,["show"])]),_:1}))}}),Za=Re(Xa,[["__scopeId","data-v-467006fa"]]),en=te(),tn=s=>{const n=ce.Post("api/store_pool",s,{name:"poolStorePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},on=()=>{const s=ce.Get("api/get_pool",{name:"poolDataGetter",params:{binggan:en.binggan},localCache:null,hitSource:[]});return s.meta={shouldRemind:!1},s},an=re({__name:"PoolComponent",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(s,{emit:n}){const i=s,R=te(),v=me(),h=W.tz("2025-10-1 00:00"),I=W.tz("2025-10-4 00:00"),p=z(()=>{const c=W.tz();return c<h?0:c>I?2:1}),d=z(()=>({0:`活动将于 ${h.format("M月D日H点")} 开始`,1:`请投入你的祝福~~，活动将于${I.format("M月D日H点")}结束。（${g.value}）`,2:"祝福池已关闭，请等待开奖。"})[p.value]),g=z(()=>{const c=W.tz(),f=I.diff(c,"hour"),H=I.diff(c,"minute")-60*f;return`剩余${f}小时${H}分钟`}),k=_(),{data:S,loading:w,send:E,onSuccess:K}=ee(on(),{immediate:!1,initialData:{}});function $(){E()}R.binggan&&$();const{loading:m,send:M,onSuccess:P}=ee(c=>tn(c),{immediate:!1});function N(c){if(k.value===void 0){const H={title:"错误",closable:!1,content:"请输入祝福语喔",positiveText:"确定"};window.$dialog.warning(H);return}const f={binggan:R.binggan,forum_id:i.forumId,thread_id:i.threadId,message:k.value,olo:c?3e5:1e3,admin:c};M(f).then(()=>{$(),D("refreshPostsList")})}const D=n;return(c,f)=>(r(),b(e(de),{size:"small",bordered:!0},{default:t(()=>[o(e(Ce),{show:e(w)},{default:t(()=>[o(e(C),{vertical:"",align:"center"},{default:t(()=>[o(e(C),{align:"center",size:"small"},{default:t(()=>[o(e(x),{style:{"font-size":"1rem"}},{default:t(()=>[...f[4]||(f[4]=[l("祝福池",-1)])]),_:1}),q("img",{src:"/hongbao.svg",style:ue({height:e(v).isMobile?"30px":"36px"})},null,4)]),_:1}),q("div",null,[o(e(x),{depth:3},{default:t(()=>[...f[5]||(f[5]=[l("祝福池总额：",-1)])]),_:1}),o(e(x),null,{default:t(()=>{var H;return[l(T((H=e(S).olo_total)==null?void 0:H.toLocaleString("en-us"))+" olo ",1)]}),_:1})]),o(e(C),{size:"small",wrap:!1},{default:t(()=>[o(e(ke),{value:k.value,"onUpdate:value":f[0]||(f[0]=H=>k.value=H),maxlength:255,onKeyup:f[1]||(f[1]=ye(H=>N(!1),["enter"])),style:{"max-width":"328px"},placeholder:e(S).user_pool===null?"请留下祝福语":"已经投过祝福啦","auto-size":"",disabled:e(S).user_pool!==null},null,8,["value","placeholder","disabled"]),o(e(B),{type:"primary",onClick:f[2]||(f[2]=H=>N(!1)),disabled:e(S).user_pool!==null||e(m)||p.value!==1},{default:t(()=>[...f[6]||(f[6]=[l("投入祝福",-1)])]),_:1},8,["disabled"]),e(R).admin.isSuperAdmin?(r(),b(e(B),{key:0,type:"warning",onClick:f[3]||(f[3]=H=>N(!0))},{default:t(()=>[...f[7]||(f[7]=[l("投入30w",-1)])]),_:1})):y("",!0)]),_:1}),o(e(C),{align:"center",size:"small"},{default:t(()=>[q("span",null,T(d.value),1)]),_:1})]),_:1})]),_:1},8,["show"])]),_:1}))}}),nn={bordered:!0,class:"post-item-skeleton"},sn=re({__name:"ThreadPage",props:{threadId:{},page:{},search:{}},setup(s){const n=te(),i=me(),R=Ht(),v=tt(),h=_(null),I=_([]),p=_(null),d=_(null),g=_(null),k=_(null),S=_(null);Le(()=>{i.showTopbarNav=!1}),be(()=>{i.showTopbarNav=!0});const w=s,E=_(null),K=_(null),$=_(null),m=_(null),M=_(null),P=_(null),N=_(!0),D=_(!1);Le(()=>{D.value=!0}),be(()=>{D.value=!1});const c=z(()=>{const u=W.tz(V.value.nissin_date),a=W(),Y=u.diff(a,"hour"),J=u.diff(a,"minute")-60*Y;return`${Y}小时${J}分钟后`}),f=_(!1),H=_(!1),oe=Z("no_video_mode",!1),j=Z("no_image_mode",!1),G=Z("no_emoji_mode",!1),ae=Z("no_custom_emoji_mode",!1),O=Z("no_head_mode",!1),L=Z("no_battle_mode",!1),A=Z("no_roll_mode",!1),ne=Z("no_reward_mode",!1),He=Z("no_hongbao_mode",!1),Ae=Z("no_hongbao_pic_mode",!1),Ne=Z("no_mention_mode",!1),qe=Z("use_url_mode",!1),at=Z("no_pailou_mode",!1),jt=z(()=>{const u=[{ref:oe,label:"音频视频"},{ref:j,label:"图片"},{ref:G,label:"一般表情包"},{ref:ae,label:"自定义表情包"},{ref:O,label:"头像"},{ref:L,label:"大乱斗"},{ref:A,label:"roll点"},{ref:ne,label:"打赏"},{ref:He,label:"红包结果"},{ref:Ae,label:"红包封面"},{ref:Ne,label:"关闭@标注"},{ref:at,label:"无内容排楼"}];return n.admin.isSuperAdmin?u.unshift({ref:f,label:"超管模式启动！"}):n.admin.isNormalAdmin&&u.unshift({ref:H,label:"让代码失效"}),u});function Ut(){return Fe(C,{style:"padding:6px 8px",vertical:!0},()=>[Array.from(jt.value).map(u=>Fe(zt,{checked:u.ref.value,"onUpdate:checked":a=>u.ref.value=a,label:u.label})),Fe(Go,{keepAliveOnHover:!1,placement:"bottom",style:{width:"max-content"}},{trigger:()=>Fe(zt,{checked:qe.value,"onUpdate:checked":u=>qe.value=u,label:"自动转换超链接"}),default:()=>"实验性功能，可能会导致回复显示出错"})])}const Ft=[{type:"group",key:"header",label:"屏蔽"},{key:"header-divider",type:"divider"},{key:"funcOption",type:"render",render:Ut}],Vt=z(()=>{const u=[{label:"删除主题",key:"deleteThread",icon:we(Oo,{size:"1.5rem"})}];return V.value.sub_id===0?u.push({label:"设为置顶",key:"setTop",icon:we(Eo,{size:"1.5rem"})}):u.push({label:"取消置顶",key:"cancelTop",icon:we(jo,{size:"1.5rem"})}),u});function Bt(u){var a;(a=P.value)==null||a.show({action:u})}const Ie=_(w.page);function nt(u){v.push({name:"thread",params:{threadId:w.threadId,page:u},query:{search:w.search}})}ze(()=>w.page,u=>Ie.value=u);const st=z(()=>({threadId:w.threadId,binggan:n.binggan,page:w.page,searchContent:w.search,noMentionMode:Ne.value})),{loading:ge,data:fe,onSuccess:Wt,onError:Kt,send:Yt}=zo(()=>Lt(st.value),[()=>w.threadId,()=>w.page,()=>w.search],{initialData:{},immediate:!0});Wt(u=>{document.title=u.data.thread_data.title,Ze(()=>{if(R.hash){const a=document.querySelector(R.hash);a==null||a.scrollIntoView({block:"center",behavior:"auto"}),a==null||a.classList.add("on-focus")}})}),Kt(u=>{var a;N.value=!1,u.error.cause!==void 0&&u.error.cause.code!==401&&((a=m.value)==null||a.show({errorCode:u.error.cause.code,message:u.error.message}))}),Le(()=>{Yt(),N.value=!0}),be(()=>{var u;ge.value=!0,(u=h.value)==null||u.resetInput()});const lt=_(!1),{fetching:We,onSuccess:Qt,onError:Jt,fetch:Xt}=Do();function se(u=!1){We.value!==!0&&(lt.value=u,Xt(Lt(st.value)))}Qt(()=>{I.value.forEach(u=>{u.refreshBattleData()}),lt.value&&!i.userCustom.lessToast&&window.$message.success("已刷新数据")}),Jt(u=>{var a;N.value=!1,u.error.cause!==void 0&&((a=m.value)==null||a.show({errorCode:u.error.cause.code,message:u.error.message}))});const Zt=z(()=>fe.value.posts_data.data),V=z(()=>fe.value.thread_data),Q=z(()=>fe.value.forum_data),Ge=z(()=>fe.value.your_post_floors),rt=z(()=>{let u;return u=Zt.value.filter(a=>{var Y;if(L.value===!0&&a.battle_id!==null||A.value===!0&&a.created_by_admin===2&&a.nickname==="Roll点系统")return!1;if(ne.value===!0&&a.created_by_admin===2&&a.nickname==="奥利奥打赏系统"&&!a.is_your_post){if(Ge.value.length>0){const J=a.content.match(/@№[0-9]+/g);if(J===null)return!1;const X=Number(J[0].slice(2));if(Ge.value.includes(X))return!0}return!1}if(He.value===!0){const J=a.created_by_admin==2&&a.nickname=="红包结果"&&!a.is_your_post,X=/^--红包口令: /.test(a.content)&&!a.is_your_post;if(J||X)return!1}if(at.value===!0&&!a.is_your_post&&new RegExp("^<span(.*?)<\\/span>$","s").test(a.content))return!1;if((Y=n.userData)!=null&&Y.binggan.use_pingbici&&i.userCustom.hidePingbiciFloor){const J=i.userCustom.pingbiciIngnoreCase?"gi":"g";for(let X of n.userData.pingbici.content_pingbici)if(new RegExp(X,J).test(a.content))return!1;if(V.value.anti_jingfen){for(let X of n.userData.pingbici.fjf_pingbici)if(new RegExp(X,"g").test(a.created_binggan_hash.slice(0,5)))return!1}for(let X of n.userData.pingbici.fjf_pingbici)if(new RegExp(X,J).test(a.nickname))return!1}return!0}),u}),Oe=_(w.search),Ee=_(!!w.search);function it(){v.push({name:"thread",params:{threadId:w.threadId,page:1},query:{search:Oe.value||void 0}})}function eo(){Oe.value=void 0,Ee.value=!1,v.push({name:"thread",params:{threadId:w.threadId,page:1}})}const pe=_(!1),je=_(!1),ut=z(()=>w.page===(ge.value?w.page:fe.value.posts_data.lastPage)),Se=ma();function to(u){u.post_floor>=w.page*200?(pe.value=!1,je.value=!0):fe.value.posts_data.data.find(Y=>Y.id===u.post_id)||oo(u.thread_id,u.post_id)}function oo(u,a){const Y={binggan:n.binggan,post_id:a,thread_id:u};Bo(Y).then(J=>{fe.value.posts_data.data.push(J),i.userCustom.hongbaoThenStop&&J.hongbao_id!==null&&(window.$message.info("有红包！停止涮锅！（个人中心开启了红包自动停止涮锅）"),pe.value=!1);const X=document.body.clientHeight-document.documentElement.scrollTop;Ze(()=>{var ve;((ve=h.value)!=null&&ve.isTyping||i.userCustom.holdPageWhenListening)&&(document.documentElement.scrollTop=document.body.clientHeight-X)})})}ze(pe,u=>{var a;if(u===!0)try{se(!1),Se.connect(),Se.channel("thread_"+w.threadId).listen("NewPost",Y=>to(Y)),(a=Se.pusher)==null||a.connection.bind("state_change",Y=>{Y.current==="unavailable"&&(window.$message.error("嗷……服务器的自动涮锅服务好像出问题了，暂时不能使用"),pe.value=!1)})}catch(Y){window.$message.error("嗷……服务器的自动涮锅服务好像出问题了，暂时不能使用"),pe.value=!1}else Se.isConnected&&Se.disconnect()}),be(()=>{pe.value=!1}),ze([()=>w.threadId,()=>w.page,()=>w.search],()=>{pe.value=!1,je.value=!1});let dt,Ke;function mt(u,a){const{timestamp:Y,newPostKey:J}=Et(u.ist,V.value.id,n.binggan),X={binggan:n.binggan,forum_id:Q.value.id,thread_id:V.value.id,content:u.contentInput,nickname:u.nicknameInput,post_with_admin:u.postWithAdmin,new_post_key:J,timestamp:Y};Ke=a,dt=u,so(X)}function ao(){mt(dt,Ke)}const{loading:no,send:so,onSuccess:lo,onError:ro}=ee(u=>Wo(u),{immediate:!1});lo(()=>{Ke("success"),se(!1)}),ro(u=>{var a;u.error.cause!==void 0&&u.error.cause.code===244291&&((a=K.value)==null||a.show())});function ct(u){u.ctrlKey&&u.key==="x"&&se(!0)}Le(()=>{window.addEventListener("keyup",ct)}),be(()=>{window.removeEventListener("keyup",ct)});const io=_("1rem"),uo=_("rgb(150,150,150)"),mo=_(.01),Ue=_(150),co=z(()=>{var u;return(u=fe.value.watermark_string)!=null?u:"loading"}),fo=z(()=>{const u=`
        <svg xmlns="http://www.w3.org/2000/svg" width="${Ue.value}" height="${Ue.value}">
            <text x="50%" y="50%" dy=".3em" text-anchor="middle"
                font-family="Arial, sans-serif"
                font-size="${io.value}"
                fill="${uo.value}"
                opacity="${mo.value}"
                transform="rotate(-45, ${Ue.value/2}, ${Ue.value/2})">
                ${co.value}
            </text>
        </svg>
    `.trim().replace(/\s+/g," ");return{backgroundImage:`url("data:image/svg+xml;charset=utf-8,${encodeURIComponent(u)}")`,backgroundRepeat:"repeat",pointerEvents:"none",position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:0}});return(u,a)=>{var J,X;const Y=At("router-link");return r(),F(le,null,[o(e(C),{vertical:""},{default:t(()=>{var ve,ft,gt;return[N.value?(r(),F(le,{key:0},[o(e(C),{align:"center",style:{"margin-top":"8px"}},{default:t(()=>[o(e(_e),{size:e(i).isMobile?28:34},{default:t(()=>[o(e(To),{style:{cursor:"pointer"},onClick:a[0]||(a[0]=U=>Ee.value=!Ee.value)})]),_:1},8,["size"]),o(Dt,{page:Ie.value,"onUpdate:page":[a[1]||(a[1]=U=>Ie.value=U),nt],"last-page":e(ge)?1:e(fe).posts_data.lastPage,style:{"margin-left":"auto"}},null,8,["page","last-page"])]),_:1}),Ee.value?(r(),b(e(C),{key:0,wrap:!1},{default:t(()=>[o(e(ke),{value:Oe.value,"onUpdate:value":a[2]||(a[2]=U=>Oe.value=U),maxlength:100,style:{"max-width":"400px"},placeholder:"搜索回复内容","auto-size":"",onKeyup:ye(it,["enter"])},null,8,["value"]),o(e(B),{type:"primary",onClick:it},{default:t(()=>[...a[15]||(a[15]=[l("搜索",-1)])]),_:1}),o(e(B),{type:"default",onClick:eo},{default:t(()=>[...a[16]||(a[16]=[l("清空",-1)])]),_:1})]),_:1})):y("",!0),e(i).userCustom.loudspeakerPosition==="top"?(r(),b(Je,{key:1})):y("",!0),o(_a,{page:s.page,"thread-id":s.threadId,"posts-list-loading":e(ge),"disable-scroll":!!s.search,"is-search":!!s.search},null,8,["page","thread-id","posts-list-loading","disable-scroll","is-search"])],64)):y("",!0),!e(ge)&&N.value?(r(),F(le,{key:1},[o(e(de),{class:"thread-title-container",size:"small",key:"title-card"},{default:t(()=>{var U,ie,xe,Pe;return[q("span",{class:"thread-title",style:ue({fontSize:e(i).userCustom.fontSizeThreadList+"px"})},T((U=V.value)==null?void 0:U.title)+" ["+T((ie=V.value)==null?void 0:ie.posts_num)+"] ",5),e(n).checkAdminForums((xe=Q.value)==null?void 0:xe.id)?(r(),b(e(Ve),{key:0,trigger:"click",options:Vt.value,onSelect:Bt,size:e(i).isMobile?"medium":"large"},{default:t(()=>[o(e(_e),{size:e(i).isMobile?20:24,style:{cursor:"pointer",float:"right","margin-left":"0.5rem"}},{default:t(()=>[o(e(Ro))]),_:1},8,["size"])]),_:1},8,["options","size"])):y("",!0),(Pe=V.value)!=null&&Pe.is_your_thread?(r(),b(e(B),{key:1,size:"small",type:"primary",style:{float:"right","margin-left":"0.5rem"},onClick:a[3]||(a[3]=Ye=>{var $e;return($e=E.value)==null?void 0:$e.show()})},{default:t(()=>[...a[17]||(a[17]=[l(" 变色 ",-1)])]),_:1})):y("",!0)]}),_:1}),o(e(C),{vertical:"",size:2},{default:t(()=>{var U,ie,xe,Pe,Ye,$e,pt,vt;return[o(Mt,{"post-data":rt.value[0],"your-posts-list":Ge.value,"anti-jingfen":(U=V.value)==null?void 0:U.anti_jingfen,"forum-id":Q.value.id,"no-custom-emoji-mode":e(ae),"no-emoji-mode":e(G),"no-head-mode":e(O),"no-image-mode":e(j),"no-video-mode":e(oe),"use-url-mode":e(qe),"random-head-group-index":V.value.random_heads_group,"super-admin-mode":f.value,"no-mention-mode":e(Ne),onShowRewardModal:(ie=M.value)==null?void 0:ie.show,"no-hongbao-pic-mode":e(Ae),onQuoteClick:(xe=h.value)==null?void 0:xe.quoteHandle,onRefreshPostsList:a[4]||(a[4]=Me=>se(!1)),onAdminHandle:(Pe=P.value)==null?void 0:Pe.show},null,8,["post-data","your-posts-list","anti-jingfen","forum-id","no-custom-emoji-mode","no-emoji-mode","no-head-mode","no-image-mode","no-video-mode","use-url-mode","random-head-group-index","super-admin-mode","no-mention-mode","onShowRewardModal","no-hongbao-pic-mode","onQuoteClick","onAdminHandle"]),V.value.vote_question_id!==null?(r(),b(Za,{key:0,ref_key:"VoteComponentCom",ref:p,"vote-id":V.value.vote_question_id},null,8,["vote-id"])):y("",!0),V.value.gamble_question_id!==null?(r(),b(Fa,{key:1,ref_key:"GambleComponentCom",ref:d,"gamble-id":V.value.gamble_question_id,"forum-id":(Ye=Q.value)==null?void 0:Ye.id},null,8,["gamble-id","forum-id"])):y("",!0),V.value.crowd_id!==null?(r(),b(za,{key:2,ref_key:"CrowdComponentCom",ref:g,"crowd-id":V.value.crowd_id,"forum-id":($e=Q.value)==null?void 0:$e.id},null,8,["crowd-id","forum-id"])):y("",!0),V.value.hongbao_id!==null?(r(),b(Wa,{key:3,ref_key:"HongbaoComponentCom",ref:k,"hongbao-id":V.value.hongbao_id,"thread-id":s.threadId,"forum-id":(pt=Q.value)==null?void 0:pt.id,"no-hongbao-pic-mode":e(Ae),onRefreshPostsList:a[5]||(a[5]=Me=>se(!1))},null,8,["hongbao-id","thread-id","forum-id","no-hongbao-pic-mode"])):y("",!0),s.threadId===166424?(r(),b(an,{key:4,ref_key:"PoolComponentCom",ref:S,"thread-id":s.threadId,"forum-id":(vt=Q.value)==null?void 0:vt.id,onRefreshPostsList:a[6]||(a[6]=Me=>se(!1))},null,8,["thread-id","forum-id"])):y("",!0),(r(!0),F(le,null,De(rt.value.slice(1),Me=>{var ht,bt,_t,wt;return r(),b(Mt,{key:Me.id,"post-data":Me,"your-posts-list":Ge.value,"anti-jingfen":(ht=V.value)==null?void 0:ht.anti_jingfen,"forum-id":Q.value.id,"no-custom-emoji-mode":e(ae),"no-emoji-mode":e(G),"no-head-mode":e(O),"no-image-mode":e(j),"no-video-mode":e(oe),"use-url-mode":e(qe),"random-head-group-index":V.value.random_heads_group,"super-admin-mode":f.value,"admin-mode":H.value,"no-mention-mode":e(Ne),onShowRewardModal:(bt=M.value)==null?void 0:bt.show,"no-hongbao-pic-mode":e(Ae),onQuoteClick:(_t=h.value)==null?void 0:_t.quoteHandle,onRefreshPostsList:a[7]||(a[7]=ln=>se(!1)),onAdminHandle:(wt=P.value)==null?void 0:wt.show,ref_for:!0,ref_key:"PostItemComs",ref:I},null,8,["post-data","your-posts-list","anti-jingfen","forum-id","no-custom-emoji-mode","no-emoji-mode","no-head-mode","no-image-mode","no-video-mode","use-url-mode","random-head-group-index","super-admin-mode","admin-mode","no-mention-mode","onShowRewardModal","no-hongbao-pic-mode","onQuoteClick","onAdminHandle"])}),128))]}),_:1}),o(e(C),{align:"center",style:{"margin-top":"8px"}},{default:t(()=>[o(e(B),{type:"primary",loading:e(We),disabled:e(We),onClick:a[8]||(a[8]=U=>se(!0))},{default:t(()=>[...a[18]||(a[18]=[l("刷新",-1)])]),_:1},8,["loading","disabled"]),o(e(Rt),{value:pe.value,"onUpdate:value":a[9]||(a[9]=U=>pe.value=U),disabled:!ut.value||je.value},{checked:t(()=>[...a[19]||(a[19]=[l(" 涮锅中 ",-1)])]),unchecked:t(()=>[...a[20]||(a[20]=[l(" 自动涮锅 ",-1)])]),_:1},8,["value","disabled"]),je.value?(r(),b(Y,{key:0,to:{name:"thread",params:{threadId:s.threadId,page:s.page+1}}},{default:t(()=>[...a[21]||(a[21]=[l("回帖已经翻页、点击前往 ",-1)])]),_:1},8,["to"])):y("",!0),ut.value?y("",!0):(r(),b(e(x),{key:1},{default:t(()=>[...a[22]||(a[22]=[l("在最新一页才能自动涮锅",-1)])]),_:1}))]),_:1}),o(e(C),{align:"center",style:ue([{"margin-top":"8px"},{paddingRight:e(i).isMobile?"24px":"0px"}])},{default:t(()=>[o(e(Ho),{placement:"bottom-start",trigger:"hover"},{trigger:t(()=>[o(e(_e),{size:34},{default:t(()=>[o(e(Ao),{onClick:a[10]||(a[10]=U=>{var ie;return e(v).push({name:"forum",params:{forumId:(ie=Q.value)==null?void 0:ie.id}})}),style:{cursor:"pointer"}})]),_:1})]),default:t(()=>[o(e(x),null,{default:t(()=>[...a[23]||(a[23]=[l("返回小岛",-1)])]),_:1})]),_:1}),o(Dt,{page:Ie.value,"onUpdate:page":[a[11]||(a[11]=U=>Ie.value=U),nt],"last-page":e(ge)?1:e(fe).posts_data.lastPage,style:{"margin-left":"auto"}},null,8,["page","last-page"])]),_:1},8,["style"]),e(i).userCustom.loudspeakerPosition==="center"?(r(),b(Je,{key:0})):y("",!0)],64)):(r(),b(e(C),{key:2,vertical:"",size:2},{default:t(()=>[(r(),F(le,null,De(200,U=>q("div",nn)),64))]),_:1})),xt(o(Qo,{ref_key:"postInputCom",ref:h,mode:"post","forum-id":(ve=Q.value)==null?void 0:ve.id,"thread-id":s.threadId,disabled:!1,handling:e(no),"random-heads-group":(ft=V.value)==null?void 0:ft.random_heads_group,onContentCommit:mt,onRefreshPostsList:se},null,8,["forum-id","thread-id","handling","random-heads-group"]),[[Pt,!e(ge)&&N.value]]),!e(ge)&&N.value?(r(),F(le,{key:3},[o(e(C),{justify:"end"},{default:t(()=>[Q.value.is_nissin===2&&V.value.sub_id===0?(r(),b(e(x),{key:0},{default:t(()=>[a[24]||(a[24]=l(" 本贴将于 ",-1)),o(e(x),{type:"error"},{default:t(()=>[l(T(c.value),1)]),_:1}),a[25]||(a[25]=l(" 日清，请及时更换帖子喔 ",-1))]),_:1})):y("",!0),Q.value.is_nissin===1&&V.value.sub_id===0?(r(),b(e(x),{key:1},{default:t(()=>[a[27]||(a[27]=l(" 本小岛 ",-1)),o(e(x),{type:"error"},{default:t(()=>[...a[26]||(a[26]=[l(" 每日早上8:00 ",-1)])]),_:1}),a[28]||(a[28]=l(" 日清，请及时更换帖子喔 ",-1))]),_:1})):y("",!0)]),_:1}),o(e(C),null,{default:t(()=>[o(e(B),{type:"primary",onClick:a[12]||(a[12]=U=>{var ie;return e(v).push({name:"forum",params:{forumId:(ie=Q.value)==null?void 0:ie.id}})})},{default:t(()=>[...a[29]||(a[29]=[l("返回小岛",-1)])]),_:1})]),_:1}),e(i).userCustom.loudspeakerPosition==="bottom"?(r(),b(Je,{key:0})):y("",!0),a[31]||(a[31]=q("div",{style:{height:"50px"}},null,-1)),D.value?(r(),F(le,{key:1},[(r(),b($t,{to:"#topbar-nav"},[o(Y,{to:{name:"forum",params:{forumId:(gt=Q.value)==null?void 0:gt.id}},class:"flex-item-center"},{default:t(()=>[o(e(No),{tooltip:!1},{default:t(()=>{var U;return[l(T((U=Q.value)==null?void 0:U.name),1)]}),_:1}),o(e(qo),{round:"",class:"forum-tag",size:e(i).isMobile?"small":"medium"},{default:t(()=>{var U;return[l(T((U=Q.value)==null?void 0:U.id),1)]}),_:1},8,["size"])]),_:1},8,["to"])])),(r(),b($t,{to:"#topbar-func"},[o(e(Ve),{trigger:e(i).isMobile?"click":"hover",options:Ft,placement:"bottom-start"},{default:t(()=>[o(e(B),null,{default:t(()=>[...a[30]||(a[30]=[l("屏蔽",-1)])]),_:1})]),_:1},8,["trigger"])]))],64)):y("",!0),o(wa,{ref_key:"ChangeColorModalCom",ref:E,"thread-id":s.threadId},null,8,["thread-id"]),o(Vo,{ref_key:"CaptchaModalCom",ref:K,onWaterUnlockOnSuccess:ao,type:"new_post"},null,512),o(pa,{ref_key:"JumpModalCom",ref:$,"thread-id":s.threadId,"posts-num":V.value.posts_num,page:s.page},null,8,["thread-id","posts-num","page"]),o(ha,{ref_key:"RewardModalCom",ref:M,onRefreshPostsList:se},null,512)],64)):y("",!0),o(Jo,{mode:"thread",onRefresh:a[13]||(a[13]=U=>se(!0)),onShowJumpModal:a[14]||(a[14]=U=>$.value.show())})]}),_:1}),xt(o(e(Ce),{size:"large",class:"spin"},null,512),[[Pt,e(ge)]]),o(ga,{ref_key:"ForbiddenModalCom",ref:m},null,512),e(n).checkAdminForums((J=Q.value)==null?void 0:J.id)?(r(),b(va,{key:0,ref_key:"AdminActionModalCom",ref:P,onRefreshPostsList:se,"thread-id":s.threadId,"forum-id":(X=Q.value)==null?void 0:X.id},null,8,["thread-id","forum-id"])):y("",!0),q("div",{style:ue(fo.value)},null,4)],64)}}}),wn=Re(sn,[["__scopeId","data-v-bcb2f9e0"]]);export{wn as default};
