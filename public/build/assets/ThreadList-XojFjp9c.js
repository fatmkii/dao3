import{x as V,a4 as A,a5 as H,a6 as I,w as j,a2 as E,F as u,A as r,t as s,U as y,K as n,z as g,J as v,$ as b,S as L,R as a,V as m,T,X as i,W as w,_ as l,a1 as h}from"./vendor-DKSliaeX.js";import{d as J,s as K}from"./showDialog-CR-FesH4.js";import{u as U}from"./browseLogger-Dw9qxaZF.js";import{u as X,d as z,_ as G}from"./app-BS5C2Xv4.js";const O={key:0},Q=V({__name:"ThreadList",props:{threadsListData:{},showThis:{type:Boolean},newWindowToPost:{type:Boolean,default:!1}},emits:["withdrawDelayThreadSuccess"],setup(x,{expose:S,emit:P}){A(o=>({"07aae8c0":s(p).hoverColor,"4be6a5f4":s(p).textColor1}));const d=X(),p=H(),k=I(),M=x,W=P,C=U(),c=C.data;function $(){C.reload()}S({reloadBrowseLogger:$});function B(o){const t={name:"thread",params:{threadId:o,page:Math.ceil((c.value[o].floor+1)/200)},hash:`#f_${c.value[o].floor}`};if(M.newWindowToPost){const _=k.resolve(t);window.open(_.href,"_blank")}else k.push(t)}const{loading:R,send:q,onSuccess:F}=j(o=>J(o),{immediate:!1});F(()=>{W("withdrawDelayThreadSuccess")});function N(o){K({title:"要撤回延时主题吗？",onPositiveClick:()=>{q(o)}})}return(o,t)=>{const _=E("router-link");return o.showThis?(r(),u(s(y),{key:0,vertical:"",size:2},{default:n(()=>[(r(!0),g(b,null,v(o.threadsListData,e=>(r(),u(s(L),{size:"small",bordered:!0,key:e.id,class:"thread-cards","content-style":{padding:s(d).userCustom.threadListCardPadding+"px"},hoverable:""},{default:n(()=>[a(s(y),{vertical:"",size:[0,0]},{default:n(()=>[m("div",{style:T({color:e.title_color&&!s(d).userCustom.monochromeMode?e.title_color:s(p).textColor1,fontSize:s(d).userCustom.fontSizeThreadList+"px",lineHeight:1.5}),class:"thread-title"},[i(l(e.sub_title)+" "+l(e.vote_question_id?"🗳️":"")+" "+l(e.gamble_question_id?"🎲":"")+" "+l(e.crowd_id?"💰":"")+" "+l(e.hongbao_id?"🧧":"")+" ",1),a(_,{to:{name:"thread",params:{threadId:e.id}},style:T({color:e.title_color&&!s(d).userCustom.monochromeMode?e.title_color:s(p).textColor1,pointerEvents:e.is_delay?"none":void 0}),target:o.newWindowToPost?"_blank":!1},{default:n(()=>[i(l(e.title),1)]),_:2},1032,["to","style","target"]),e.posts_num>200?(r(),u(_,{key:0,to:{name:"thread",params:{threadId:e.id,page:Math.ceil((e.posts_num+1)/200)}},target:o.newWindowToPost?"_blank":!1},{default:n(()=>[i(" ["+l(Math.ceil((e.posts_num+1)/200))+"] ",1)]),_:2},1032,["to","target"])):w("",!0),s(c)[e.id]?(r(),u(s(z),{key:1,size:"tiny",type:"primary",onClick:f=>B(e.id)},{default:n(()=>{var f;return[i(" ["+l((f=s(c)[e.id])==null?void 0:f.floor)+"楼] ",1)]}),_:2},1032,["onClick"])):w("",!0),e.is_your_thread?(r(),u(s(z),{key:2,size:"tiny",type:"warning",disabled:s(R),onClick:f=>N(e.id)},{default:n(()=>[...t[0]||(t[0]=[i("撤回",-1)])]),_:1},8,["disabled","onClick"])):w("",!0)],4),a(s(y),{size:"small",class:"thread-title-secondary",style:T({fontSize:s(d).userCustom.fontSizeThreadListFooter+"px",marginTop:s(d).userCustom.threadListInnerMargin+"px",lineHeight:1.5})},{default:n(()=>[m("span",null,[a(s(h),{depth:"3"},{default:n(()=>[...t[1]||(t[1]=[i("最新回复:",-1)])]),_:1}),i(" "+l(e.updated_at),1)]),m("span",null,[a(s(h),{depth:"3"},{default:n(()=>[...t[2]||(t[2]=[i("发帖人:",-1)])]),_:1}),i(" "+l(e.nickname),1)]),t[4]||(t[4]=m("span",{style:{"margin-left":"auto"}},null,-1)),i(" "+l(e.posts_num>1200?"🔥":"")+" ",1),e.locked_by_coin>0?(r(),g("span",O,"🔒"+l(e.locked_by_coin),1)):w("",!0),m("span",null,[a(s(h),{depth:"3"},{default:n(()=>[...t[3]||(t[3]=[i("Re:",-1)])]),_:1}),i(" "+l(e.posts_num),1)])]),_:2},1032,["style"])]),_:2},1024)]),_:2},1032,["content-style"]))),128))]),_:1})):(r(),u(s(y),{key:1,vertical:"",size:2},{default:n(()=>[(r(),g(b,null,v(50,e=>a(s(L),{class:"threads-card-skeleton"})),64))]),_:1}))}}}),se=G(Q,[["__scopeId","data-v-3819a25a"]]);export{se as T};
