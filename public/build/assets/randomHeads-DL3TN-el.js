import{b8 as Me,S as n,w as Y,y as en,a7 as Se,I as At,a0 as ie,Y as D,aC as Ft,b9 as Sn,ba as Pt,a4 as ae,bb as In,$ as S,bc as tn,q as lt,ag as Qe,ai as st,X as nn,J as He,d as V,L as Ue,a8 as gt,bd as Pn,be as $n,ac as ht,bf as Bn,ae as bt,C as je,aw as de,ad as $t,bg as on,m as ze,bh as Tn,bi as Mn,b2 as Bt,V as Nt,aY as Ln,e as ft,a5 as Tt,bj as jt,a3 as Ht,bk as Ae,aq as Dn,bl as On,bm as ln,aB as Be,bn as An,av as Mt,bo as Vt,bp as Ce,ah as an,a1 as J,a$ as We,aA as rn,ax as sn,ay as un,az as dn,bq as Nn,ak as Te,Z as G,br as Lt,al as xt,bs as $e,bt as yt,bu as jn,bv as cn,aE as Hn,K as pt,as as hn,aP as qe,bw as Un,b4 as Fn,ap as Et,x as Vn,bx as En,A as Z,F as we,j as se,aG as fn,by as ye,b as Fe,o as Le,g as Wn,c as vt,M as me,f as h,H as c,a as r,k as fe,n as be,z as F,h as _e,s as Ne,aH as ce,i as Xe,aJ as Ge,aI as et,Q as tt,N as ke,bz as qn,bA as Dt,aO as Wt,b7 as Xn,b5 as Ct,aM as Gn,aX as Yn,p as Kn,v as Zn,G as Ze,b6 as Jn,bB as Qn}from"./app-BYB32yAm.js";import{_ as ut,s as eo}from"./showDialog-DZhBB07B.js";import{u as to}from"./forums-DK5zcUOZ.js";import{_ as Re}from"./FInput.vue_vue_type_script_setup_true_lang-CsJqv-RY.js";import{c as no,_ as he}from"./index-u4XndDaU.js";import{A as gn,N as qt,a as oo}from"./Tabs-D1dnVlrx.js";import{a as io,b as nt}from"./Ellipsis-wYYb2U2o.js";import{e as lo}from"./emojiData-a0Hcov0e.js";import{a as ao}from"./Checkbox-Idy5uEl7.js";const ro=Me("attach",n("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n("g",{fill:"currentColor","fill-rule":"nonzero"},n("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),so=Me("trash",n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),n("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),n("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),n("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),uo=Me("download",n("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n("g",{fill:"currentColor","fill-rule":"nonzero"},n("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),co=Y({name:"Remove",render(){return n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),ho=Me("cancel",n("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n("g",{fill:"currentColor","fill-rule":"nonzero"},n("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),fo=Me("retry",n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),n("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),go=Me("rotateClockwise",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),n("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),po=Me("rotateClockwise",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),n("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),vo=Me("zoomIn",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),n("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),mo=Me("zoomOut",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),n("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),wo=Y({name:"ResizeSmall",render(){return n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n("g",{fill:"none"},n("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),bo=en&&"loading"in document.createElement("img"),xo=(e={})=>{var t;const{root:l=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof l=="string"?document.querySelector(l):l)||document.documentElement})}},kt=new WeakMap,_t=new WeakMap,zt=new WeakMap,yo=(e,t,l)=>{if(!e)return()=>{};const s=xo(t),{root:o}=s.options;let d;const f=kt.get(o);f?d=f:(d=new Map,kt.set(o,d));let m,u;d.has(s.hash)?(u=d.get(s.hash),u[1].has(e)||(m=u[0],u[1].add(e),m.observe(e))):(m=new IntersectionObserver(g=>{g.forEach(x=>{if(x.isIntersecting){const p=_t.get(x.target),C=zt.get(x.target);p&&p(),C&&(C.value=!0)}})},s.options),m.observe(e),u=[m,new Set([e])],d.set(s.hash,u));let a=!1;const i=()=>{a||(_t.delete(e),zt.delete(e),a=!0,u[1].has(e)&&(u[0].unobserve(e),u[1].delete(e)),u[1].size<=0&&d.delete(s.hash),d.size||kt.delete(o))};return _t.set(e,i),zt.set(e,l),i},Ut=Object.assign(Object.assign({},Se.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),pn=At("n-image"),Co=n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),ko=n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),_o=n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),zo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},n("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),Ro=ie([ie("body >",[D("image-container","position: fixed;")]),D("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),D("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Ft()]),D("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[D("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Ft()]),D("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[Sn()]),D("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),D("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[Pt("preview-disabled",`
 cursor: pointer;
 `),ie("img",`
 border-radius: inherit;
 `)])]),dt=32,vn=Y({name:"ImagePreview",props:Object.assign(Object.assign({},Ut),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=Se("Image","-image",Ro,In,e,ae(e,"clsPrefix"));let l=null;const s=S(null),o=S(null),d=S(void 0),f=S(!1),m=S(!1),{localeRef:u}=tn("Image");function a(){const{value:M}=o;if(!l||!M)return;const{style:W}=M,N=l.getBoundingClientRect(),le=N.left+N.width/2,b=N.top+N.height/2;W.transformOrigin=`${le}px ${b}px`}function i(M){var W,N;switch(M.key){case" ":M.preventDefault();break;case"ArrowLeft":(W=e.onPrev)===null||W===void 0||W.call(e);break;case"ArrowRight":(N=e.onNext)===null||N===void 0||N.call(e);break;case"Escape":$();break}}lt(f,M=>{M?Qe("keydown",document,i):st("keydown",document,i)}),nn(()=>{st("keydown",document,i)});let g=0,x=0,p=0,C=0,y=0,H=0,B=0,_=0,R=!1;function I(M){const{clientX:W,clientY:N}=M;p=W-g,C=N-x,Mn(k)}function z(M){const{mouseUpClientX:W,mouseUpClientY:N,mouseDownClientX:le,mouseDownClientY:b}=M,A=le-W,q=b-N,ne=`vertical${q>0?"Top":"Bottom"}`,ge=`horizontal${A>0?"Left":"Right"}`;return{moveVerticalDirection:ne,moveHorizontalDirection:ge,deltaHorizontal:A,deltaVertical:q}}function U(M){const{value:W}=s;if(!W)return{offsetX:0,offsetY:0};const N=W.getBoundingClientRect(),{moveVerticalDirection:le,moveHorizontalDirection:b,deltaHorizontal:A,deltaVertical:q}=M||{};let ne=0,ge=0;return N.width<=window.innerWidth?ne=0:N.left>0?ne=(N.width-window.innerWidth)/2:N.right<window.innerWidth?ne=-(N.width-window.innerWidth)/2:b==="horizontalRight"?ne=Math.min((N.width-window.innerWidth)/2,y-(A??0)):ne=Math.max(-((N.width-window.innerWidth)/2),y-(A??0)),N.height<=window.innerHeight?ge=0:N.top>0?ge=(N.height-window.innerHeight)/2:N.bottom<window.innerHeight?ge=-(N.height-window.innerHeight)/2:le==="verticalBottom"?ge=Math.min((N.height-window.innerHeight)/2,H-(q??0)):ge=Math.max(-((N.height-window.innerHeight)/2),H-(q??0)),{offsetX:ne,offsetY:ge}}function O(M){st("mousemove",document,I),st("mouseup",document,O);const{clientX:W,clientY:N}=M;R=!1;const le=z({mouseUpClientX:W,mouseUpClientY:N,mouseDownClientX:B,mouseDownClientY:_}),b=U(le);p=b.offsetX,C=b.offsetY,k()}const T=He(pn,null);function P(M){var W,N;if((N=(W=T==null?void 0:T.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onMousedown)===null||N===void 0||N.call(W,M),M.button!==0)return;const{clientX:le,clientY:b}=M;R=!0,g=le-p,x=b-C,y=p,H=C,B=le,_=b,k(),Qe("mousemove",document,I),Qe("mouseup",document,O)}function E(M){var W,N;(N=(W=T==null?void 0:T.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDblclick)===null||N===void 0||N.call(W,M);const le=ue();X=X===le?1:le,k()}const L=1.5;let j=0,X=1,Q=0;function ee(){X=1,j=0}function te(){var M;ee(),Q=0,(M=e.onPrev)===null||M===void 0||M.call(e)}function re(){var M;ee(),Q=0,(M=e.onNext)===null||M===void 0||M.call(e)}function oe(){Q-=90,k()}function pe(){Q+=90,k()}function xe(){const{value:M}=s;if(!M)return 1;const{innerWidth:W,innerHeight:N}=window,le=Math.max(1,M.naturalHeight/(N-dt)),b=Math.max(1,M.naturalWidth/(W-dt));return Math.max(3,le*2,b*2)}function ue(){const{value:M}=s;if(!M)return 1;const{innerWidth:W,innerHeight:N}=window,le=M.naturalHeight/(N-dt),b=M.naturalWidth/(W-dt);return le<1&&b<1?1:Math.max(le,b)}function ve(){const M=xe();X<M&&(j+=1,X=Math.min(M,Math.pow(L,j)),k())}function w(){if(X>.5){const M=X;j-=1,X=Math.max(.5,Math.pow(L,j));const W=M-X;k(!1);const N=U();X+=W,k(!1),X-=W,p=N.offsetX,C=N.offsetY,k()}}function v(){const M=d.value;M&&on(M,void 0)}function k(M=!0){var W;const{value:N}=s;if(!N)return;const{style:le}=N,b=ze((W=T==null?void 0:T.previewedImgPropsRef.value)===null||W===void 0?void 0:W.style);let A="";if(typeof b=="string")A=b+";";else for(const ne in b)A+=`${Tn(ne)}: ${b[ne]};`;const q=`transform-origin: center; transform: translateX(${p}px) translateY(${C}px) rotate(${Q}deg) scale(${X});`;R?le.cssText=A+"cursor: grabbing; transition: none;"+q:le.cssText=A+"cursor: grab;"+q+(M?"":"transition: none;"),M||N.offsetHeight}function $(){f.value=!f.value,m.value=!0}function K(){X=ue(),j=Math.ceil(Math.log(X)/Math.log(L)),p=0,C=0,k()}const Ie={setPreviewSrc:M=>{d.value=M},setThumbnailEl:M=>{l=M},toggleShow:$};function Ve(M,W){if(e.showToolbarTooltip){const{value:N}=t;return n(io,{to:!1,theme:N.peers.Tooltip,themeOverrides:N.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>u.value[W],trigger:()=>M})}else return M}const at=V(()=>{const{common:{cubicBezierEaseInOut:M},self:{toolbarIconColor:W,toolbarBorderRadius:N,toolbarBoxShadow:le,toolbarColor:b}}=t.value;return{"--n-bezier":M,"--n-toolbar-icon-color":W,"--n-toolbar-color":b,"--n-toolbar-border-radius":N,"--n-toolbar-box-shadow":le}}),{inlineThemeDisabled:rt}=Ue(),De=rt?gt("image-preview",void 0,at,e):void 0;return Object.assign({previewRef:s,previewWrapperRef:o,previewSrc:d,show:f,appear:Pn(),displayed:m,previewedImgProps:T==null?void 0:T.previewedImgPropsRef,handleWheel(M){M.preventDefault()},handlePreviewMousedown:P,handlePreviewDblclick:E,syncTransformOrigin:a,handleAfterLeave:()=>{ee(),Q=0,m.value=!1},handleDragStart:M=>{var W,N;(N=(W=T==null?void 0:T.previewedImgPropsRef.value)===null||W===void 0?void 0:W.onDragstart)===null||N===void 0||N.call(W,M),M.preventDefault()},zoomIn:ve,zoomOut:w,handleDownloadClick:v,rotateCounterclockwise:oe,rotateClockwise:pe,handleSwitchPrev:te,handleSwitchNext:re,withTooltip:Ve,resizeToOrignalImageSize:K,cssVars:rt?void 0:at,themeClass:De==null?void 0:De.themeClass,onRender:De==null?void 0:De.onRender},Ie)},render(){var e,t;const{clsPrefix:l}=this;return n(je,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),n($n,{show:this.show},{default:()=>{var s;return this.show||this.displayed?((s=this.onRender)===null||s===void 0||s.call(this),ht(n("div",{class:[`${l}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},n(bt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?n("div",{class:`${l}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?n(bt,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:o}=this;return n("div",{class:`${l}-image-preview-toolbar`},this.onPrev?n(je,null,o(n(de,{clsPrefix:l,onClick:this.handleSwitchPrev},{default:()=>Co}),"tipPrevious"),o(n(de,{clsPrefix:l,onClick:this.handleSwitchNext},{default:()=>ko}),"tipNext")):null,o(n(de,{clsPrefix:l,onClick:this.rotateCounterclockwise},{default:()=>n(po,null)}),"tipCounterclockwise"),o(n(de,{clsPrefix:l,onClick:this.rotateClockwise},{default:()=>n(go,null)}),"tipClockwise"),o(n(de,{clsPrefix:l,onClick:this.resizeToOrignalImageSize},{default:()=>n(wo,null)}),"tipOriginalSize"),o(n(de,{clsPrefix:l,onClick:this.zoomOut},{default:()=>n(mo,null)}),"tipZoomOut"),o(n(de,{clsPrefix:l,onClick:this.zoomIn},{default:()=>n(vo,null)}),"tipZoomIn"),o(n(de,{clsPrefix:l,onClick:this.handleDownloadClick},{default:()=>zo}),"tipDownload"),o(n(de,{clsPrefix:l,onClick:this.toggleShow},{default:()=>_o}),"tipClose"))}}):null,n(bt,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:o={}}=this;return ht(n("div",{class:`${l}-image-preview-wrapper`,ref:"previewWrapperRef"},n("img",Object.assign({},o,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${l}-image-preview`,o.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[$t,this.show]])}})),[[Bn,{enabled:this.show}]])):null}}))}}),mn=At("n-image-group"),So=Ut,Io=Y({name:"ImageGroup",props:So,setup(e){let t;const{mergedClsPrefixRef:l}=Ue(e),s=`c${Bt()}`,o=Ln(),d=u=>{var a;t=u,(a=m.value)===null||a===void 0||a.setPreviewSrc(u)};function f(u){var a,i;if(!(o!=null&&o.proxy))return;const x=o.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${s}]:not([data-error=true])`);if(!x.length)return;const p=Array.from(x).findIndex(C=>C.dataset.previewSrc===t);~p?d(x[(p+u+x.length)%x.length].dataset.previewSrc):d(x[0].dataset.previewSrc),u===1?(a=e.onPreviewNext)===null||a===void 0||a.call(e):(i=e.onPreviewPrev)===null||i===void 0||i.call(e)}Nt(mn,{mergedClsPrefixRef:l,setPreviewSrc:d,setThumbnailEl:u=>{var a;(a=m.value)===null||a===void 0||a.setThumbnailEl(u)},toggleShow:()=>{var u;(u=m.value)===null||u===void 0||u.toggleShow()},groupId:s});const m=S(null);return{mergedClsPrefix:l,previewInstRef:m,next:()=>{f(1)},prev:()=>{f(-1)}}},render(){return n(vn,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),Po=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Ut),$o=Y({name:"Image",props:Po,inheritAttrs:!1,setup(e){const t=S(null),l=S(!1),s=S(null),o=He(mn,null),{mergedClsPrefixRef:d}=o||Ue(e),f={click:()=>{if(e.previewDisabled||l.value)return;const a=e.previewSrc||e.src;if(o){o.setPreviewSrc(a),o.setThumbnailEl(t.value),o.toggleShow();return}const{value:i}=s;i&&(i.setPreviewSrc(a),i.setThumbnailEl(t.value),i.toggleShow())}},m=S(!e.lazy);ft(()=>{var a;(a=t.value)===null||a===void 0||a.setAttribute("data-group-id",(o==null?void 0:o.groupId)||"")}),ft(()=>{if(e.lazy&&e.intersectionObserverOptions){let a;const i=Tt(()=>{a==null||a(),a=void 0,a=yo(t.value,e.intersectionObserverOptions,m)});nn(()=>{i(),a==null||a()})}}),Tt(()=>{var a;e.src||((a=e.imgProps)===null||a===void 0||a.src),l.value=!1});const u=S(!1);return Nt(pn,{previewedImgPropsRef:ae(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:d,groupId:o==null?void 0:o.groupId,previewInstRef:s,imageRef:t,showError:l,shouldStartLoading:m,loaded:u,mergedOnClick:a=>{var i,g;f.click(),(g=(i=e.imgProps)===null||i===void 0?void 0:i.onClick)===null||g===void 0||g.call(i,a)},mergedOnError:a=>{if(!m.value)return;l.value=!0;const{onError:i,imgProps:{onError:g}={}}=e;i==null||i(a),g==null||g(a)},mergedOnLoad:a=>{const{onLoad:i,imgProps:{onLoad:g}={}}=e;i==null||i(a),g==null||g(a),u.value=!0}},f)},render(){var e,t;const{mergedClsPrefix:l,imgProps:s={},loaded:o,$attrs:d,lazy:f}=this,m=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),u=this.src||s.src,a=n("img",Object.assign(Object.assign({},s),{ref:"imageRef",width:this.width||s.width,height:this.height||s.height,src:this.showError?this.fallbackSrc:f&&this.intersectionObserverOptions?this.shouldStartLoading?u:void 0:u,alt:this.alt||s.alt,"aria-label":this.alt||s.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:bo&&f&&!this.intersectionObserverOptions?"lazy":"eager",style:[s.style||"",m&&!o?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return n("div",Object.assign({},d,{role:"none",class:[d.class,`${l}-image`,(this.previewDisabled||this.showError)&&`${l}-image--preview-disabled`]}),this.groupId?a:n(vn,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:l,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>a}),!o&&m)}});function Bo(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function To(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function Rt(e){return e==null?!0:!Number.isNaN(e)}function Xt(e,t){return e==null?"":t===void 0?String(e):e.toFixed(t)}function St(e){if(e===null)return null;if(typeof e=="number")return e;{const t=Number(e);return Number.isNaN(t)?null:t}}const Mo=ie([D("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),D("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Gt=800,Yt=100,Lo=Object.assign(Object.assign({},Se.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),ot=Y({name:"InputNumber",props:Lo,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:l,mergedRtlRef:s}=Ue(e),o=Se("InputNumber","-input-number",Mo,An,e,l),{localeRef:d}=tn("InputNumber"),f=jt(e),{mergedSizeRef:m,mergedDisabledRef:u,mergedStatusRef:a}=f,i=S(null),g=S(null),x=S(null),p=S(e.defaultValue),C=ae(e,"value"),y=Ht(C,p),H=S(""),B=b=>{const A=String(b).split(".")[1];return A?A.length:0},_=b=>{const A=[e.min,e.max,e.step,b].map(q=>q===void 0?0:B(q));return Math.max(...A)},R=Ae(()=>{const{placeholder:b}=e;return b!==void 0?b:d.value.placeholder}),I=Ae(()=>{const b=St(e.step);return b!==null?b===0?1:Math.abs(b):1}),z=Ae(()=>{const b=St(e.min);return b!==null?b:null}),U=Ae(()=>{const b=St(e.max);return b!==null?b:null}),O=b=>{const{value:A}=y;if(b===A){P();return}const{"onUpdate:value":q,onUpdateValue:ne,onChange:ge}=e,{nTriggerFormInput:Pe,nTriggerFormChange:Ee}=f;ge&&Ce(ge,b),ne&&Ce(ne,b),q&&Ce(q,b),p.value=b,Pe(),Ee()},T=({offset:b,doUpdateIfValid:A,fixPrecision:q,isInputing:ne})=>{const{value:ge}=H;if(ne&&To(ge))return!1;const Pe=(e.parse||Bo)(ge);if(Pe===null)return A&&O(null),null;if(Rt(Pe)){const Ee=B(Pe),{precision:Ke}=e;if(Ke!==void 0&&Ke<Ee&&!q)return!1;let Oe=parseFloat((Pe+b).toFixed(Ke??_(Pe)));if(Rt(Oe)){const{value:mt}=U,{value:wt}=z;if(mt!==null&&Oe>mt){if(!A||ne)return!1;Oe=mt}if(wt!==null&&Oe<wt){if(!A||ne)return!1;Oe=wt}return e.validator&&!e.validator(Oe)?!1:(A&&O(Oe),Oe)}}return!1},P=()=>{const{value:b}=y;if(Rt(b)){const{format:A,precision:q}=e;A?H.value=A(b):b===null||q===void 0||B(b)>q?H.value=Xt(b,void 0):H.value=Xt(b,q)}else H.value=String(b)};P();const E=Ae(()=>T({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),L=Ae(()=>{const{value:b}=y;if(e.validator&&b===null)return!1;const{value:A}=I;return T({offset:-A,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),j=Ae(()=>{const{value:b}=y;if(e.validator&&b===null)return!1;const{value:A}=I;return T({offset:+A,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function X(b){const{onFocus:A}=e,{nTriggerFormFocus:q}=f;A&&Ce(A,b),q()}function Q(b){var A,q;if(b.target===((A=i.value)===null||A===void 0?void 0:A.wrapperElRef))return;const ne=T({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(ne!==!1){const Ee=(q=i.value)===null||q===void 0?void 0:q.inputElRef;Ee&&(Ee.value=String(ne||"")),y.value===ne&&P()}else P();const{onBlur:ge}=e,{nTriggerFormBlur:Pe}=f;ge&&Ce(ge,b),Pe(),an(()=>{P()})}function ee(b){const{onClear:A}=e;A&&Ce(A,b)}function te(){const{value:b}=j;if(!b){K();return}const{value:A}=y;if(A===null)e.validator||O(xe());else{const{value:q}=I;T({offset:q,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function re(){const{value:b}=L;if(!b){$();return}const{value:A}=y;if(A===null)e.validator||O(xe());else{const{value:q}=I;T({offset:-q,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const oe=X,pe=Q;function xe(){if(e.validator)return null;const{value:b}=z,{value:A}=U;return b!==null?Math.max(0,b):A!==null?Math.min(0,A):0}function ue(b){ee(b),O(null)}function ve(b){var A,q,ne;!((A=x.value)===null||A===void 0)&&A.$el.contains(b.target)&&b.preventDefault(),!((q=g.value)===null||q===void 0)&&q.$el.contains(b.target)&&b.preventDefault(),(ne=i.value)===null||ne===void 0||ne.activate()}let w=null,v=null,k=null;function $(){k&&(window.clearTimeout(k),k=null),w&&(window.clearInterval(w),w=null)}function K(){Ve&&(window.clearTimeout(Ve),Ve=null),v&&(window.clearInterval(v),v=null)}function Ie(){$(),k=window.setTimeout(()=>{w=window.setInterval(()=>{re()},Yt)},Gt),Qe("mouseup",document,$,{once:!0})}let Ve=null;function at(){K(),Ve=window.setTimeout(()=>{v=window.setInterval(()=>{te()},Yt)},Gt),Qe("mouseup",document,K,{once:!0})}const rt=()=>{v||te()},De=()=>{w||re()};function M(b){var A,q;if(b.key==="Enter"){if(b.target===((A=i.value)===null||A===void 0?void 0:A.wrapperElRef))return;T({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((q=i.value)===null||q===void 0||q.deactivate())}else if(b.key==="ArrowUp"){if(!j.value||e.keyboard.ArrowUp===!1)return;b.preventDefault(),T({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&te()}else if(b.key==="ArrowDown"){if(!L.value||e.keyboard.ArrowDown===!1)return;b.preventDefault(),T({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&re()}}function W(b){H.value=b,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&T({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}lt(y,()=>{P()});const N={focus:()=>{var b;return(b=i.value)===null||b===void 0?void 0:b.focus()},blur:()=>{var b;return(b=i.value)===null||b===void 0?void 0:b.blur()},select:()=>{var b;return(b=i.value)===null||b===void 0?void 0:b.select()}},le=Dn("InputNumber",s,l);return Object.assign(Object.assign({},N),{rtlEnabled:le,inputInstRef:i,minusButtonInstRef:g,addButtonInstRef:x,mergedClsPrefix:l,mergedBordered:t,uncontrolledValue:p,mergedValue:y,mergedPlaceholder:R,displayedValueInvalid:E,mergedSize:m,mergedDisabled:u,displayedValue:H,addable:j,minusable:L,mergedStatus:a,handleFocus:oe,handleBlur:pe,handleClear:ue,handleMouseDown:ve,handleAddClick:rt,handleMinusClick:De,handleAddMousedown:at,handleMinusMousedown:Ie,handleKeyDown:M,handleUpdateDisplayedValue:W,mergedTheme:o,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:V(()=>{const{self:{iconColorDisabled:b}}=o.value,[A,q,ne,ge]=On(b);return{textColorTextDisabled:`rgb(${A}, ${q}, ${ne})`,opacityDisabled:`${ge}`}})})},render(){const{mergedClsPrefix:e,$slots:t}=this,l=()=>n(Vt,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>Mt(t["minus-icon"],()=>[n(de,{clsPrefix:e},{default:()=>n(co,null)})])}),s=()=>n(Vt,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>Mt(t["add-icon"],()=>[n(de,{clsPrefix:e},{default:()=>n(gn,null)})])});return n("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},n(ln,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var o;return this.showButton&&this.buttonPlacement==="both"?[l(),Be(t.prefix,d=>d?n("span",{class:`${e}-input-number-prefix`},d):null)]:(o=t.prefix)===null||o===void 0?void 0:o.call(t)},suffix:()=>{var o;return this.showButton?[Be(t.suffix,d=>d?n("span",{class:`${e}-input-number-suffix`},d):null),this.buttonPlacement==="right"?l():null,s()]:(o=t.suffix)===null||o===void 0?void 0:o.call(t)}}))}}),Do=ie([D("progress",{display:"inline-block"},[D("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),J("line",`
 width: 100%;
 display: block;
 `,[D("progress-content",`
 display: flex;
 align-items: center;
 `,[D("progress-graph",{flex:1})]),D("progress-custom-content",{marginLeft:"14px"}),D("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[J("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),J("circle, dashboard",{width:"120px"},[D("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),D("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),D("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),J("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[D("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),D("progress-content",{position:"relative"}),D("progress-graph",{position:"relative"},[D("progress-graph-circle",[ie("svg",{verticalAlign:"bottom"}),D("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[J("empty",{opacity:0})]),D("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),D("progress-graph-line",[J("indicator-inside",[D("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[D("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),D("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),J("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[D("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),D("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),D("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[D("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[J("processing",[ie("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ie("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),Oo={success:n(rn,null),error:n(sn,null),warning:n(un,null),info:n(dn,null)},Ao=Y({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const l=V(()=>We(e.height)),s=V(()=>e.railBorderRadius!==void 0?We(e.railBorderRadius):e.height!==void 0?We(e.height,{c:.5}):""),o=V(()=>e.fillBorderRadius!==void 0?We(e.fillBorderRadius):e.railBorderRadius!==void 0?We(e.railBorderRadius):e.height!==void 0?We(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:d,railColor:f,railStyle:m,percentage:u,unit:a,indicatorTextColor:i,status:g,showIndicator:x,fillColor:p,processing:C,clsPrefix:y}=e;return n("div",{class:`${y}-progress-content`,role:"none"},n("div",{class:`${y}-progress-graph`,"aria-hidden":!0},n("div",{class:[`${y}-progress-graph-line`,{[`${y}-progress-graph-line--indicator-${d}`]:!0}]},n("div",{class:`${y}-progress-graph-line-rail`,style:[{backgroundColor:f,height:l.value,borderRadius:s.value},m]},n("div",{class:[`${y}-progress-graph-line-fill`,C&&`${y}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:p,height:l.value,lineHeight:l.value,borderRadius:o.value}},d==="inside"?n("div",{class:`${y}-progress-graph-line-indicator`,style:{color:i}},t.default?t.default():`${u}${a}`):null)))),x&&d==="outside"?n("div",null,t.default?n("div",{class:`${y}-progress-custom-content`,style:{color:i},role:"none"},t.default()):g==="default"?n("div",{role:"none",class:`${y}-progress-icon ${y}-progress-icon--as-text`,style:{color:i}},u,a):n("div",{class:`${y}-progress-icon`,"aria-hidden":!0},n(de,{clsPrefix:y},{default:()=>Oo[g]}))):null)}}}),No={success:n(rn,null),error:n(sn,null),warning:n(un,null),info:n(dn,null)},jo=Y({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function l(s,o,d){const{gapDegree:f,viewBoxWidth:m,strokeWidth:u}=e,a=50,i=0,g=a,x=0,p=2*a,C=50+u/2,y=`M ${C},${C} m ${i},${g}
      a ${a},${a} 0 1 1 ${x},${-p}
      a ${a},${a} 0 1 1 ${-x},${p}`,H=Math.PI*2*a,B={stroke:d,strokeDasharray:`${s/100*(H-f)}px ${m*8}px`,strokeDashoffset:`-${f/2}px`,transformOrigin:o?"center":void 0,transform:o?`rotate(${o}deg)`:void 0};return{pathString:y,pathStyle:B}}return()=>{const{fillColor:s,railColor:o,strokeWidth:d,offsetDegree:f,status:m,percentage:u,showIndicator:a,indicatorTextColor:i,unit:g,gapOffsetDegree:x,clsPrefix:p}=e,{pathString:C,pathStyle:y}=l(100,0,o),{pathString:H,pathStyle:B}=l(u,f,s),_=100+d;return n("div",{class:`${p}-progress-content`,role:"none"},n("div",{class:`${p}-progress-graph`,"aria-hidden":!0},n("div",{class:`${p}-progress-graph-circle`,style:{transform:x?`rotate(${x}deg)`:void 0}},n("svg",{viewBox:`0 0 ${_} ${_}`},n("g",null,n("path",{class:`${p}-progress-graph-circle-rail`,d:C,"stroke-width":d,"stroke-linecap":"round",fill:"none",style:y})),n("g",null,n("path",{class:[`${p}-progress-graph-circle-fill`,u===0&&`${p}-progress-graph-circle-fill--empty`],d:H,"stroke-width":d,"stroke-linecap":"round",fill:"none",style:B}))))),a?n("div",null,t.default?n("div",{class:`${p}-progress-custom-content`,role:"none"},t.default()):m!=="default"?n("div",{class:`${p}-progress-icon`,"aria-hidden":!0},n(de,{clsPrefix:p},{default:()=>No[m]})):n("div",{class:`${p}-progress-text`,style:{color:i},role:"none"},n("span",{class:`${p}-progress-text__percentage`},u),n("span",{class:`${p}-progress-text__unit`},g))):null)}}});function Kt(e,t,l=100){return`m ${l/2} ${l/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const Ho=Y({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const l=V(()=>e.percentage.map((o,d)=>`${Math.PI*o/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*d)-e.circleGap*d)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:s,strokeWidth:o,circleGap:d,showIndicator:f,fillColor:m,railColor:u,railStyle:a,percentage:i,clsPrefix:g}=e;return n("div",{class:`${g}-progress-content`,role:"none"},n("div",{class:`${g}-progress-graph`,"aria-hidden":!0},n("div",{class:`${g}-progress-graph-circle`},n("svg",{viewBox:`0 0 ${s} ${s}`},i.map((x,p)=>n("g",{key:p},n("path",{class:`${g}-progress-graph-circle-rail`,d:Kt(s/2-o/2*(1+2*p)-d*p,o,s),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:u[p]},a[p]]}),n("path",{class:[`${g}-progress-graph-circle-fill`,x===0&&`${g}-progress-graph-circle-fill--empty`],d:Kt(s/2-o/2*(1+2*p)-d*p,o,s),"stroke-width":o,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:l.value[p],strokeDashoffset:0,stroke:m[p]}})))))),f&&t.default?n("div",null,n("div",{class:`${g}-progress-text`},t.default())):null)}}}),Uo=Object.assign(Object.assign({},Se.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),Fo=Y({name:"Progress",props:Uo,setup(e){const t=V(()=>e.indicatorPlacement||e.indicatorPosition),l=V(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:s,inlineThemeDisabled:o}=Ue(e),d=Se("Progress","-progress",Do,Nn,e,s),f=V(()=>{const{status:u}=e,{common:{cubicBezierEaseInOut:a},self:{fontSize:i,fontSizeCircle:g,railColor:x,railHeight:p,iconSizeCircle:C,iconSizeLine:y,textColorCircle:H,textColorLineInner:B,textColorLineOuter:_,lineBgProcessing:R,fontWeightCircle:I,[Te("iconColor",u)]:z,[Te("fillColor",u)]:U}}=d.value;return{"--n-bezier":a,"--n-fill-color":U,"--n-font-size":i,"--n-font-size-circle":g,"--n-font-weight-circle":I,"--n-icon-color":z,"--n-icon-size-circle":C,"--n-icon-size-line":y,"--n-line-bg-processing":R,"--n-rail-color":x,"--n-rail-height":p,"--n-text-color-circle":H,"--n-text-color-line-inner":B,"--n-text-color-line-outer":_}}),m=o?gt("progress",V(()=>e.status[0]),f,e):void 0;return{mergedClsPrefix:s,mergedIndicatorPlacement:t,gapDeg:l,cssVars:o?void 0:f,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:l,showIndicator:s,status:o,railColor:d,railStyle:f,color:m,percentage:u,viewBoxWidth:a,strokeWidth:i,mergedIndicatorPlacement:g,unit:x,borderRadius:p,fillBorderRadius:C,height:y,processing:H,circleGap:B,mergedClsPrefix:_,gapDeg:R,gapOffsetDegree:I,themeClass:z,$slots:U,onRender:O}=this;return O==null||O(),n("div",{class:[z,`${_}-progress`,`${_}-progress--${e}`,`${_}-progress--${o}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":u,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?n(jo,{clsPrefix:_,status:o,showIndicator:s,indicatorTextColor:l,railColor:d,fillColor:m,railStyle:f,offsetDegree:this.offsetDegree,percentage:u,viewBoxWidth:a,strokeWidth:i,gapDegree:R===void 0?e==="dashboard"?75:0:R,gapOffsetDegree:I,unit:x},U):e==="line"?n(Ao,{clsPrefix:_,status:o,showIndicator:s,indicatorTextColor:l,railColor:d,fillColor:m,railStyle:f,percentage:u,processing:H,indicatorPlacement:g,unit:x,fillBorderRadius:C,railBorderRadius:p,height:y},U):e==="multiple-circle"?n(Ho,{clsPrefix:_,strokeWidth:i,railColor:d,fillColor:m,railStyle:f,viewBoxWidth:a,percentage:u,showIndicator:s,circleGap:B},U):null)}}),Vo=D("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[G("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),G("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),G("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),D("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[Lt({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),G("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),G("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),G("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),ie("&:focus",[G("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),J("round",[G("rail","border-radius: calc(var(--n-rail-height) / 2);",[G("button","border-radius: calc(var(--n-button-height) / 2);")])]),Pt("disabled",[Pt("icon",[J("rubber-band",[J("pressed",[G("rail",[G("button","max-width: var(--n-button-width-pressed);")])]),G("rail",[ie("&:active",[G("button","max-width: var(--n-button-width-pressed);")])]),J("active",[J("pressed",[G("rail",[G("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),G("rail",[ie("&:active",[G("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),J("active",[G("rail",[G("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),G("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[G("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[Lt()]),G("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),J("active",[G("rail","background-color: var(--n-rail-color-active);")]),J("loading",[G("rail",`
 cursor: wait;
 `)]),J("disabled",[G("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),Eo=Object.assign(Object.assign({},Se.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let Je;const Tl=Y({name:"Switch",props:Eo,setup(e){Je===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?Je=CSS.supports("width","max(1px)"):Je=!1:Je=!0);const{mergedClsPrefixRef:t,inlineThemeDisabled:l}=Ue(e),s=Se("Switch","-switch",Vo,jn,e,t),o=jt(e),{mergedSizeRef:d,mergedDisabledRef:f}=o,m=S(e.defaultValue),u=ae(e,"value"),a=Ht(u,m),i=V(()=>a.value===e.checkedValue),g=S(!1),x=S(!1),p=V(()=>{const{railStyle:T}=e;if(T)return T({focused:x.value,checked:i.value})});function C(T){const{"onUpdate:value":P,onChange:E,onUpdateValue:L}=e,{nTriggerFormInput:j,nTriggerFormChange:X}=o;P&&Ce(P,T),L&&Ce(L,T),E&&Ce(E,T),m.value=T,j(),X()}function y(){const{nTriggerFormFocus:T}=o;T()}function H(){const{nTriggerFormBlur:T}=o;T()}function B(){e.loading||f.value||(a.value!==e.checkedValue?C(e.checkedValue):C(e.uncheckedValue))}function _(){x.value=!0,y()}function R(){x.value=!1,H(),g.value=!1}function I(T){e.loading||f.value||T.key===" "&&(a.value!==e.checkedValue?C(e.checkedValue):C(e.uncheckedValue),g.value=!1)}function z(T){e.loading||f.value||T.key===" "&&(T.preventDefault(),g.value=!0)}const U=V(()=>{const{value:T}=d,{self:{opacityDisabled:P,railColor:E,railColorActive:L,buttonBoxShadow:j,buttonColor:X,boxShadowFocus:Q,loadingColor:ee,textColor:te,iconColor:re,[Te("buttonHeight",T)]:oe,[Te("buttonWidth",T)]:pe,[Te("buttonWidthPressed",T)]:xe,[Te("railHeight",T)]:ue,[Te("railWidth",T)]:ve,[Te("railBorderRadius",T)]:w,[Te("buttonBorderRadius",T)]:v},common:{cubicBezierEaseInOut:k}}=s.value;let $,K,Ie;return Je?($=`calc((${ue} - ${oe}) / 2)`,K=`max(${ue}, ${oe})`,Ie=`max(${ve}, calc(${ve} + ${oe} - ${ue}))`):($=xt(($e(ue)-$e(oe))/2),K=xt(Math.max($e(ue),$e(oe))),Ie=$e(ue)>$e(oe)?ve:xt($e(ve)+$e(oe)-$e(ue))),{"--n-bezier":k,"--n-button-border-radius":v,"--n-button-box-shadow":j,"--n-button-color":X,"--n-button-width":pe,"--n-button-width-pressed":xe,"--n-button-height":oe,"--n-height":K,"--n-offset":$,"--n-opacity-disabled":P,"--n-rail-border-radius":w,"--n-rail-color":E,"--n-rail-color-active":L,"--n-rail-height":ue,"--n-rail-width":ve,"--n-width":Ie,"--n-box-shadow-focus":Q,"--n-loading-color":ee,"--n-text-color":te,"--n-icon-color":re}}),O=l?gt("switch",V(()=>d.value[0]),U,e):void 0;return{handleClick:B,handleBlur:R,handleFocus:_,handleKeyup:I,handleKeydown:z,mergedRailStyle:p,pressed:g,mergedClsPrefix:t,mergedValue:a,checked:i,mergedDisabled:f,cssVars:l?void 0:U,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:l,mergedRailStyle:s,onRender:o,$slots:d}=this;o==null||o();const{checked:f,unchecked:m,icon:u,"checked-icon":a,"unchecked-icon":i}=d,g=!(yt(u)&&yt(a)&&yt(i));return n("div",{role:"switch","aria-checked":l,class:[`${e}-switch`,this.themeClass,g&&`${e}-switch--icon`,l&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},n("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:s},Be(f,x=>Be(m,p=>x||p?n("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},n("div",{class:`${e}-switch__rail-placeholder`},n("div",{class:`${e}-switch__button-placeholder`}),x),n("div",{class:`${e}-switch__rail-placeholder`},n("div",{class:`${e}-switch__button-placeholder`}),p)):null)),n("div",{class:`${e}-switch__button`},Be(u,x=>Be(a,p=>Be(i,C=>n(cn,null,{default:()=>this.loading?n(Hn,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(p||x)?n("div",{class:`${e}-switch__button-icon`,key:p?"checked-icon":"icon"},p||x):!this.checked&&(C||x)?n("div",{class:`${e}-switch__button-icon`,key:C?"unchecked-icon":"icon"},C||x):null})))),Be(f,x=>x&&n("div",{key:"checked",class:`${e}-switch__checked`},x)),Be(m,x=>x&&n("div",{key:"unchecked",class:`${e}-switch__unchecked`},x)))))}}),Ye=At("n-upload"),wn="__UPLOAD_DRAGGER__",Wo=Y({name:"UploadDragger",[wn]:!0,setup(e,{slots:t}){const l=He(Ye,null);return l||pt("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:s},mergedDisabledRef:{value:o},maxReachedRef:{value:d}}=l;return n("div",{class:[`${s}-upload-dragger`,(o||d)&&`${s}-upload-dragger--disabled`]},t)}}});var Ot=function(e,t,l,s){function o(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function m(i){try{a(s.next(i))}catch(g){f(g)}}function u(i){try{a(s.throw(i))}catch(g){f(g)}}function a(i){i.done?d(i.value):o(i.value).then(m,u)}a((s=s.apply(e,t||[])).next())})};const bn=e=>e.includes("image/"),Zt=(e="")=>{const t=e.split("/"),s=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(s)||[""])[0]},Jt=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,xn=e=>{if(e.type)return bn(e.type);const t=Zt(e.name||"");if(Jt.test(t))return!0;const l=e.thumbnailUrl||e.url||"",s=Zt(l);return!!(/^data:image\//.test(l)||Jt.test(s))};function qo(e){return Ot(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!bn(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const Xo=en&&window.FileReader&&window.File;function Go(e){return e.isDirectory}function Yo(e){return e.isFile}function Ko(e,t){return Ot(this,void 0,void 0,function*(){const l=[];function s(o){return Ot(this,void 0,void 0,function*(){for(const d of o)if(d){if(t&&Go(d)){const f=d.createReader();try{const m=yield new Promise((u,a)=>{f.readEntries(u,a)});yield s(m)}catch{}}else if(Yo(d))try{const f=yield new Promise((m,u)=>{d.file(m,u)});l.push({file:f,entry:d,source:"dnd"})}catch{}}})}return yield s(e),l})}function it(e){const{id:t,name:l,percentage:s,status:o,url:d,file:f,thumbnailUrl:m,type:u,fullPath:a,batchId:i}=e;return{id:t,name:l,percentage:s??null,status:o,url:d??null,file:f??null,thumbnailUrl:m??null,type:u??null,fullPath:a??null,batchId:i??null}}function Zo(e,t,l){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),l=l.toLocaleLowerCase(),l.split(",").map(o=>o.trim()).filter(Boolean).some(o=>{if(o.startsWith(".")){if(e.endsWith(o))return!0}else if(o.includes("/")){const[d,f]=t.split("/"),[m,u]=o.split("/");if((m==="*"||d&&m&&m===d)&&(u==="*"||f&&u&&u===f))return!0}else return!0;return!1})}const yn=Y({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const l=He(Ye,null);l||pt("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:s,mergedDisabledRef:o,maxReachedRef:d,listTypeRef:f,dragOverRef:m,openOpenFileDialog:u,draggerInsideRef:a,handleFileAddition:i,mergedDirectoryDndRef:g,triggerClassRef:x,triggerStyleRef:p}=l,C=V(()=>f.value==="image-card");function y(){o.value||d.value||u()}function H(I){I.preventDefault(),m.value=!0}function B(I){I.preventDefault(),m.value=!0}function _(I){I.preventDefault(),m.value=!1}function R(I){var z;if(I.preventDefault(),!a.value||o.value||d.value){m.value=!1;return}const U=(z=I.dataTransfer)===null||z===void 0?void 0:z.items;U!=null&&U.length?Ko(Array.from(U).map(O=>O.webkitGetAsEntry()),g.value).then(O=>{i(O)}).finally(()=>{m.value=!1}):m.value=!1}return()=>{var I;const{value:z}=s;return e.abstract?(I=t.default)===null||I===void 0?void 0:I.call(t,{handleClick:y,handleDrop:R,handleDragOver:H,handleDragEnter:B,handleDragLeave:_}):n("div",{class:[`${z}-upload-trigger`,(o.value||d.value)&&`${z}-upload-trigger--disabled`,C.value&&`${z}-upload-trigger--image-card`,x.value],style:p.value,onClick:y,onDrop:R,onDragover:H,onDragenter:B,onDragleave:_},C.value?n(Wo,null,{default:()=>Mt(t.default,()=>[n(de,{clsPrefix:z},{default:()=>n(gn,null)})])}):t)}}}),Jo=Y({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:He(Ye).mergedThemeRef}},render(){return n(hn,null,{default:()=>this.show?n(Fo,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),Qo=n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n("g",{fill:"none"},n("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),ei=n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n("g",{fill:"none"},n("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var ti=function(e,t,l,s){function o(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function m(i){try{a(s.next(i))}catch(g){f(g)}}function u(i){try{a(s.throw(i))}catch(g){f(g)}}function a(i){i.done?d(i.value):o(i.value).then(m,u)}a((s=s.apply(e,t||[])).next())})};const ct={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},ni=Y({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=He(Ye),l=S(null),s=S(""),o=V(()=>{const{file:z}=e;return z.status==="finished"?"success":z.status==="error"?"error":"info"}),d=V(()=>{const{file:z}=e;if(z.status==="error")return"error"}),f=V(()=>{const{file:z}=e;return z.status==="uploading"}),m=V(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:z}=e;return["uploading","pending","error"].includes(z.status)}),u=V(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:z}=e;return["finished"].includes(z.status)}),a=V(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:z}=e;return["finished"].includes(z.status)}),i=V(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:z}=e;return["error"].includes(z.status)}),g=Ae(()=>s.value||e.file.thumbnailUrl||e.file.url),x=V(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:z},listType:U}=e;return["finished"].includes(z)&&g.value&&U==="image-card"});function p(){t.submit(e.file.id)}function C(z){z.preventDefault();const{file:U}=e;["finished","pending","error"].includes(U.status)?H(U):["uploading"].includes(U.status)?_(U):Fn("upload","The button clicked type is unknown.")}function y(z){z.preventDefault(),B(e.file)}function H(z){const{xhrMap:U,doChange:O,onRemoveRef:{value:T},mergedFileListRef:{value:P}}=t;Promise.resolve(T?T({file:Object.assign({},z),fileList:P}):!0).then(E=>{if(E===!1)return;const L=Object.assign({},z,{status:"removed"});U.delete(z.id),O(L,void 0,{remove:!0})})}function B(z){const{onDownloadRef:{value:U}}=t;Promise.resolve(U?U(Object.assign({},z)):!0).then(O=>{O!==!1&&on(z.url,z.name)})}function _(z){const{xhrMap:U}=t,O=U.get(z.id);O==null||O.abort(),H(Object.assign({},z))}function R(){const{onPreviewRef:{value:z}}=t;if(z)z(e.file);else if(e.listType==="image-card"){const{value:U}=l;if(!U)return;U.click()}}const I=()=>ti(this,void 0,void 0,function*(){const{listType:z}=e;z!=="image"&&z!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(s.value=yield t.getFileThumbnailUrlResolver(e.file))});return Tt(()=>{I()}),{mergedTheme:t.mergedThemeRef,progressStatus:o,buttonType:d,showProgress:f,disabled:t.mergedDisabledRef,showCancelButton:m,showRemoveButton:u,showDownloadButton:a,showRetryButton:i,showPreviewButton:x,mergedThumbnailUrl:g,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:l,handleRemoveOrCancelClick:C,handleDownloadClick:y,handleRetryClick:p,handlePreviewClick:R}},render(){const{clsPrefix:e,mergedTheme:t,listType:l,file:s,renderIcon:o}=this;let d;const f=l==="image";f||l==="image-card"?d=!this.shouldUseThumbnailUrl(s)||!this.mergedThumbnailUrl?n("span",{class:`${e}-upload-file-info__thumbnail`},o?o(s):xn(s)?n(de,{clsPrefix:e},{default:()=>Qo}):n(de,{clsPrefix:e},{default:()=>ei})):n("a",{rel:"noopener noreferer",target:"_blank",href:s.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},l==="image-card"?n($o,{src:this.mergedThumbnailUrl||void 0,previewSrc:s.url||void 0,alt:s.name,ref:"imageRef"}):n("img",{src:this.mergedThumbnailUrl||void 0,alt:s.name})):d=n("span",{class:`${e}-upload-file-info__thumbnail`},o?o(s):n(de,{clsPrefix:e},{default:()=>n(ro,null)}));const u=n(Jo,{show:this.showProgress,percentage:s.percentage||0,status:this.progressStatus}),a=l==="text"||l==="image";return n("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,s.url&&s.status!=="error"&&l!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${l}-type`]},n("div",{class:`${e}-upload-file-info`},d,n("div",{class:`${e}-upload-file-info__name`},a&&(s.url&&s.status!=="error"?n("a",{rel:"noopener noreferer",target:"_blank",href:s.url||void 0,onClick:this.handlePreviewClick},s.name):n("span",{onClick:this.handlePreviewClick},s.name)),f&&u),n("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${l}-type`]},this.showPreviewButton?n(qe,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:ct},{icon:()=>n(de,{clsPrefix:e},{default:()=>n(Un,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&n(qe,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:ct,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>n(cn,null,{default:()=>this.showRemoveButton?n(de,{clsPrefix:e,key:"trash"},{default:()=>n(so,null)}):n(de,{clsPrefix:e,key:"cancel"},{default:()=>n(ho,null)})})}),this.showRetryButton&&!this.disabled&&n(qe,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:ct},{icon:()=>n(de,{clsPrefix:e},{default:()=>n(fo,null)})}),this.showDownloadButton?n(qe,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:ct},{icon:()=>n(de,{clsPrefix:e},{default:()=>n(uo,null)})}):null)),!f&&u)}}),oi=Y({name:"UploadFileList",setup(e,{slots:t}){const l=He(Ye,null);l||pt("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:s,mergedClsPrefixRef:o,listTypeRef:d,mergedFileListRef:f,fileListClassRef:m,fileListStyleRef:u,cssVarsRef:a,themeClassRef:i,maxReachedRef:g,showTriggerRef:x,imageGroupPropsRef:p}=l,C=V(()=>d.value==="image-card"),y=()=>f.value.map(B=>n(ni,{clsPrefix:o.value,key:B.id,file:B,listType:d.value})),H=()=>C.value?n(Io,Object.assign({},p.value),{default:y}):n(hn,{group:!0},{default:y});return()=>{const{value:B}=o,{value:_}=s;return n("div",{class:[`${B}-upload-file-list`,C.value&&`${B}-upload-file-list--grid`,_?i==null?void 0:i.value:void 0,m.value],style:[_&&a?a.value:"",u.value]},H(),x.value&&!g.value&&C.value&&n(yn,null,t))}}}),ii=ie([D("upload","width: 100%;",[J("dragger-inside",[D("upload-trigger",`
 display: block;
 `)]),J("drag-over",[D("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),D("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ie("&:hover",`
 border: var(--n-dragger-border-hover);
 `),J("disabled",`
 cursor: not-allowed;
 `)]),D("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ie("+",[D("upload-file-list","margin-top: 8px;")]),J("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),J("image-card",`
 width: 96px;
 height: 96px;
 `,[D("base-icon",`
 font-size: 24px;
 `),D("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),D("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ie("a, img","outline: none;"),J("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[D("upload-file","cursor: not-allowed;")]),J("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),D("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Et(),D("progress",[Et({foldPadding:!0})]),ie("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[D("upload-file-info",[G("action",`
 opacity: 1;
 `)])]),J("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[D("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[D("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),G("name",`
 padding: 0 8px;
 `),G("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ie("img",`
 width: 100%;
 `)])])]),J("text-type",[D("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),J("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[D("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),D("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[G("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ie("img",`
 width: 100%;
 `)])]),ie("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ie("&:hover",[ie("&::before","opacity: 1;"),D("upload-file-info",[G("thumbnail","opacity: .12;")])])]),J("error-status",[ie("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),D("upload-file-info",[G("name","color: var(--n-item-text-color-error);"),G("thumbnail","color: var(--n-item-text-color-error);")]),J("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),J("with-url",`
 cursor: pointer;
 `,[D("upload-file-info",[G("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ie("a",`
 text-decoration: underline;
 `)])])]),D("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[G("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[D("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),G("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[D("button",[ie("&:not(:last-child)",{marginRight:"4px"}),D("base-icon",[ie("svg",[Lt()])])]),J("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),J("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),G("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ie("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),D("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var Qt=function(e,t,l,s){function o(d){return d instanceof l?d:new l(function(f){f(d)})}return new(l||(l=Promise))(function(d,f){function m(i){try{a(s.next(i))}catch(g){f(g)}}function u(i){try{a(s.throw(i))}catch(g){f(g)}}function a(i){i.done?d(i.value):o(i.value).then(m,u)}a((s=s.apply(e,t||[])).next())})};function li(e,t,l){const{doChange:s,xhrMap:o}=e;let d=0;function f(u){var a;let i=Object.assign({},t,{status:"error",percentage:d});o.delete(t.id),i=it(((a=e.onError)===null||a===void 0?void 0:a.call(e,{file:i,event:u}))||i),s(i,u)}function m(u){var a;if(e.isErrorState){if(e.isErrorState(l)){f(u);return}}else if(l.status<200||l.status>=300){f(u);return}let i=Object.assign({},t,{status:"finished",percentage:d});o.delete(t.id),i=it(((a=e.onFinish)===null||a===void 0?void 0:a.call(e,{file:i,event:u}))||i),s(i,u)}return{handleXHRLoad:m,handleXHRError:f,handleXHRAbort(u){const a=Object.assign({},t,{status:"removed",file:null,percentage:d});o.delete(t.id),s(a,u)},handleXHRProgress(u){const a=Object.assign({},t,{status:"uploading"});if(u.lengthComputable){const i=Math.ceil(u.loaded/u.total*100);a.percentage=i,d=i}s(a,u)}}}function ai(e){const{inst:t,file:l,data:s,headers:o,withCredentials:d,action:f,customRequest:m}=e,{doChange:u}=e.inst;let a=0;m({file:l,data:s,headers:o,withCredentials:d,action:f,onProgress(i){const g=Object.assign({},l,{status:"uploading"}),x=i.percent;g.percentage=x,a=x,u(g)},onFinish(){var i;let g=Object.assign({},l,{status:"finished",percentage:a});g=it(((i=t.onFinish)===null||i===void 0?void 0:i.call(t,{file:g}))||g),u(g)},onError(){var i;let g=Object.assign({},l,{status:"error",percentage:a});g=it(((i=t.onError)===null||i===void 0?void 0:i.call(t,{file:g}))||g),u(g)}})}function ri(e,t,l){const s=li(e,t,l);l.onabort=s.handleXHRAbort,l.onerror=s.handleXHRError,l.onload=s.handleXHRLoad,l.upload&&(l.upload.onprogress=s.handleXHRProgress)}function Cn(e,t){return typeof e=="function"?e({file:t}):e||{}}function si(e,t,l){const s=Cn(t,l);s&&Object.keys(s).forEach(o=>{e.setRequestHeader(o,s[o])})}function ui(e,t,l){const s=Cn(t,l);s&&Object.keys(s).forEach(o=>{e.append(o,s[o])})}function di(e,t,l,{method:s,action:o,withCredentials:d,responseType:f,headers:m,data:u}){const a=new XMLHttpRequest;a.responseType=f,e.xhrMap.set(l.id,a),a.withCredentials=d;const i=new FormData;if(ui(i,u,l),l.file!==null&&i.append(t,l.file),ri(e,l,a),o!==void 0){a.open(s.toUpperCase(),o),si(a,m,l),a.send(i);const g=Object.assign({},l,{status:"uploading"});e.doChange(g)}}const ci=Object.assign(Object.assign({},Se.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>Xo?xn(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),kn=Y({name:"Upload",props:ci,setup(e){e.abstract&&e.listType==="image-card"&&pt("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:l}=Ue(e),s=Se("Upload","-upload",ii,En,e,t),o=jt(e),d=V(()=>{const{max:P}=e;return P!==void 0?p.value.length>=P:!1}),f=S(e.defaultFileList),m=ae(e,"fileList"),u=S(null),a={value:!1},i=S(!1),g=new Map,x=Ht(m,f),p=V(()=>x.value.map(it));function C(){var P;(P=u.value)===null||P===void 0||P.click()}function y(P){const E=P.target;_(E.files?Array.from(E.files).map(L=>({file:L,entry:null,source:"input"})):null,P),E.value=""}function H(P){const{"onUpdate:fileList":E,onUpdateFileList:L}=e;E&&Ce(E,P),L&&Ce(L,P),f.value=P}const B=V(()=>e.multiple||e.directory);function _(P,E){if(!P||P.length===0)return;const{onBeforeUpload:L}=e;P=B.value?P:[P[0]];const{max:j,accept:X}=e;P=P.filter(({file:ee,source:te})=>te==="dnd"&&(X!=null&&X.trim())?Zo(ee.name,ee.type,X):!0),j&&(P=P.slice(0,j-p.value.length));const Q=Bt();Promise.all(P.map(({file:ee,entry:te})=>Qt(this,void 0,void 0,function*(){var re;const oe={id:Bt(),batchId:Q,name:ee.name,status:"pending",percentage:0,file:ee,url:null,type:ee.type,thumbnailUrl:null,fullPath:(re=te==null?void 0:te.fullPath)!==null&&re!==void 0?re:`/${ee.webkitRelativePath||ee.name}`};return!L||(yield L({file:oe,fileList:p.value}))!==!1?oe:null}))).then(ee=>Qt(this,void 0,void 0,function*(){let te=Promise.resolve();ee.forEach(re=>{te=te.then(an).then(()=>{re&&I(re,E,{append:!0})})}),yield te})).then(()=>{e.defaultUpload&&R()})}function R(P){const{method:E,action:L,withCredentials:j,headers:X,data:Q,name:ee}=e,te=P!==void 0?p.value.filter(oe=>oe.id===P):p.value,re=P!==void 0;te.forEach(oe=>{const{status:pe}=oe;(pe==="pending"||pe==="error"&&re)&&(e.customRequest?ai({inst:{doChange:I,xhrMap:g,onFinish:e.onFinish,onError:e.onError},file:oe,action:L,withCredentials:j,headers:X,data:Q,customRequest:e.customRequest}):di({doChange:I,xhrMap:g,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},ee,oe,{method:E,action:L,withCredentials:j,responseType:e.responseType,headers:X,data:Q}))})}const I=(P,E,L={append:!1,remove:!1})=>{const{append:j,remove:X}=L,Q=Array.from(p.value),ee=Q.findIndex(te=>te.id===P.id);if(j||X||~ee){j?Q.push(P):X?Q.splice(ee,1):Q.splice(ee,1,P);const{onChange:te}=e;te&&te({file:P,fileList:Q,event:E}),H(Q)}};function z(P){var E;if(P.thumbnailUrl)return P.thumbnailUrl;const{createThumbnailUrl:L}=e;return L?(E=L(P.file,P))!==null&&E!==void 0?E:P.url||"":P.url?P.url:P.file?qo(P.file):""}const U=V(()=>{const{common:{cubicBezierEaseInOut:P},self:{draggerColor:E,draggerBorder:L,draggerBorderHover:j,itemColorHover:X,itemColorHoverError:Q,itemTextColorError:ee,itemTextColorSuccess:te,itemTextColor:re,itemIconColor:oe,itemDisabledOpacity:pe,lineHeight:xe,borderRadius:ue,fontSize:ve,itemBorderImageCardError:w,itemBorderImageCard:v}}=s.value;return{"--n-bezier":P,"--n-border-radius":ue,"--n-dragger-border":L,"--n-dragger-border-hover":j,"--n-dragger-color":E,"--n-font-size":ve,"--n-item-color-hover":X,"--n-item-color-hover-error":Q,"--n-item-disabled-opacity":pe,"--n-item-icon-color":oe,"--n-item-text-color":re,"--n-item-text-color-error":ee,"--n-item-text-color-success":te,"--n-line-height":xe,"--n-item-border-image-card-error":w,"--n-item-border-image-card":v}}),O=l?gt("upload",void 0,U,e):void 0;Nt(Ye,{mergedClsPrefixRef:t,mergedThemeRef:s,showCancelButtonRef:ae(e,"showCancelButton"),showDownloadButtonRef:ae(e,"showDownloadButton"),showRemoveButtonRef:ae(e,"showRemoveButton"),showRetryButtonRef:ae(e,"showRetryButton"),onRemoveRef:ae(e,"onRemove"),onDownloadRef:ae(e,"onDownload"),mergedFileListRef:p,triggerClassRef:ae(e,"triggerClass"),triggerStyleRef:ae(e,"triggerStyle"),shouldUseThumbnailUrlRef:ae(e,"shouldUseThumbnailUrl"),renderIconRef:ae(e,"renderIcon"),xhrMap:g,submit:R,doChange:I,showPreviewButtonRef:ae(e,"showPreviewButton"),onPreviewRef:ae(e,"onPreview"),getFileThumbnailUrlResolver:z,listTypeRef:ae(e,"listType"),dragOverRef:i,openOpenFileDialog:C,draggerInsideRef:a,handleFileAddition:_,mergedDisabledRef:o.mergedDisabledRef,maxReachedRef:d,fileListClassRef:ae(e,"fileListClass"),fileListStyleRef:ae(e,"fileListStyle"),abstractRef:ae(e,"abstract"),acceptRef:ae(e,"accept"),cssVarsRef:l?void 0:U,themeClassRef:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender,showTriggerRef:ae(e,"showTrigger"),imageGroupPropsRef:ae(e,"imageGroupProps"),mergedDirectoryDndRef:V(()=>{var P;return(P=e.directoryDnd)!==null&&P!==void 0?P:e.directory})});const T={clear:()=>{f.value=[]},submit:R,openOpenFileDialog:C};return Object.assign({mergedClsPrefix:t,draggerInsideRef:a,inputElRef:u,mergedTheme:s,dragOver:i,mergedMultiple:B,cssVars:l?void 0:U,themeClass:O==null?void 0:O.themeClass,onRender:O==null?void 0:O.onRender,handleFileInputChange:y},T)},render(){var e,t;const{draggerInsideRef:l,mergedClsPrefix:s,$slots:o,directory:d,onRender:f}=this;if(o.default&&!this.abstract){const u=o.default()[0];!((e=u==null?void 0:u.type)===null||e===void 0)&&e[wn]&&(l.value=!0)}const m=n("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${s}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:d||void 0,directory:d||void 0}));return this.abstract?n(je,null,(t=o.default)===null||t===void 0?void 0:t.call(o),n(Vn,{to:"body"},m)):(f==null||f(),n("div",{class:[`${s}-upload`,l.value&&`${s}-upload--dragger-inside`,this.dragOver&&`${s}-upload--drag-over`,this.themeClass],style:this.cssVars},m,this.showTrigger&&this.listType!=="image-card"&&n(yn,null,o),this.showFileList&&n(oi,null,o)))}}),hi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},fi=se("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),gi=[fi],pi=Y({name:"Minus",render:function(t,l){return Z(),we("svg",hi,gi)}}),vi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},mi=se("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),wi=[mi],bi=Y({name:"Plus",render:function(t,l){return Z(),we("svg",vi,wi)}}),xi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},yi=se("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Ci=[yi],ki=Y({name:"ArrowUndoOutline",render:function(t,l){return Z(),we("svg",xi,Ci)}}),_i={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},zi=fn('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),Ri=[zi],Si=Y({name:"DiceOutline",render:function(t,l){return Z(),we("svg",_i,Ri)}}),Ii={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Pi=fn('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),$i=[Pi],Bi=Y({name:"GameControllerOutline",render:function(t,l){return Z(),we("svg",Ii,$i)}}),Ml=e=>{const t=ye.Post("api/posts/create",e,{name:"newPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ll=e=>{const t=ye.Get("api/posts/"+e.post_id,{name:"postGetter",params:{binggan:e.binggan,thread_id:e.thread_id},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Dl=e=>{const t=ye.Delete("api/posts/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"deletePostDeleter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ol=e=>{const t=ye.Put("api/posts/recover/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"recoverPostPutter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ti=e=>{const t=ye.Post("api/posts/create_roll",e,{name:"rollPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t};function Mi(e,t,l){const s=new Date().getTime(),o=no.MD5(t+l+s+e).toString();return{timestamp:s,newPostKey:o}}const Li=Y({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:l}){Fe();const s=Le();Wn();const o=e,d=V(()=>{const _=window.innerWidth;return _>=532?"500px":_-32+"px"}),f=V(()=>{let _=[];if(a.value>0&&i.value>0){for(var R=0;R<a.value;R++)_[R]=Math.floor(Math.random()*i.value)+1;return _.join()}else return null}),m=S(),u=S(),a=S(1),i=S(100),g=S(!1);function x(){g.value=!0}t({show:x});const p=l,{loading:C,send:y,onSuccess:H}=vt(_=>Ti(_),{immediate:!1});function B(){if(!a.value){window.$message.error("请填写骰子数量");return}if(!i.value){window.$message.error("请填写骰子数量");return}const _={binggan:s.binggan,thread_id:o.threadId,forum_id:o.forumId,roll_name:m.value,roll_event:u.value,roll_num:a.value,roll_range:i.value};y(_)}return H(()=>{p("refreshPostsList"),g.value=!1}),(_,R)=>(Z(),me(r(Ge),{show:g.value,"onUpdate:show":R[6]||(R[6]=I=>g.value=I),"display-directive":"if"},{default:h(()=>[c(r(Xe),{style:ze({maxWidth:d.value}),title:"Roll点",closable:"",onClose:R[5]||(R[5]=I=>g.value=!1),size:"small"},{action:h(()=>[c(r(fe),{justify:"end"},{default:h(()=>[c(r(be),{type:"primary",onClick:B,disabled:r(C)},{default:h(()=>[F("Roll it!")]),_:1},8,["disabled"]),c(r(be),{onClick:R[4]||(R[4]=I=>g.value=!1)},{default:h(()=>[F("关闭")]),_:1})]),_:1})]),default:h(()=>[c(r(fe),{vertical:""},{default:h(()=>[c(r(_e),null,{default:h(()=>[F(" 输出参考： ")]),_:1}),c(r(_e),null,{default:h(()=>[F(Ne(m.value?`「${m.value}」，`:"")+" "+Ne(u.value?`「${u.value}」的结果：`:"")+" "+Ne(`${a.value} d ${i.value} = 「${f.value}」`),1)]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[F("Roll点昵称")]),_:1}),c(r(Re),{placeholder:"可留空",maxlength:100,value:m.value,"onUpdate:value":R[0]||(R[0]=I=>m.value=I)},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[F("Roll点事件")]),_:1}),c(r(Re),{placeholder:"可留空",maxlength:100,value:u.value,"onUpdate:value":R[1]||(R[1]=I=>u.value=I)},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[F("骰子数量")]),_:1}),c(r(ot),{max:100,min:1,placeholder:"必须填写",value:a.value,"onUpdate:value":R[2]||(R[2]=I=>a.value=I)},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[F("骰子大小")]),_:1}),c(r(ot),{max:1e4,min:1,placeholder:"必须填写",value:i.value,"onUpdate:value":R[3]||(R[3]=I=>i.value=I)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Di={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Oi=se("defs",null,null,-1),Ai=se("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),Ni=se("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),ji=[Oi,Ai,Ni],Hi=Y({name:"AudioMutedOutlined",render:function(t,l){return Z(),we("svg",Di,ji)}}),Ui={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Fi=se("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),Vi=[Fi],Ei=Y({name:"MoneyCollectOutlined",render:function(t,l){return Z(),we("svg",Ui,Vi)}}),Wi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},qi=se("g",{fill:"none"},[se("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),Xi=[qi],Gi=Y({name:"Code24Regular",render:function(t,l){return Z(),we("svg",Wi,Xi)}}),Yi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ki=se("g",{fill:"none"},[se("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),Zi=[Ki],Ji=Y({name:"DrawShape24Regular",render:function(t,l){return Z(),we("svg",Yi,Zi)}}),Qi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},el=se("g",{fill:"none"},[se("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),tl=[el],nl=Y({name:"Eraser24Regular",render:function(t,l){return Z(),we("svg",Qi,tl)}}),ol=Le(),Al=e=>{const t=ye.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:ol.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return t.meta={shouldRemind:!1},t},il=e=>{const t=ye.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Nl=e=>{const t=ye.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},It=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],ll=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}];function _n(e){const t=e.replace(/,/g,"").trim();return/^\d+(\.(\d+)?)?$/.test(t)?Number(t):t===""?null:Number.NaN}function zn(e){return e===null?"":e.toLocaleString("en-US")}const al=Y({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:l}){Fe();const s=Le(),o=e,d=V(()=>{const _=window.innerWidth;return _>=532?"500px":_-32+"px"}),f=V(()=>{const _=[{value:1,label:"共通",available:!0}];return ll.forEach(R=>{R.value===o.randomHeadsGroup&&_.push(R)}),_}),m=V(()=>{const _=It[a.value-1];if(a.value===1){const R=s.userData.my_battle_chara.filter(I=>!I.not_use).map((I,z)=>({value:z+240,label:I.name}));return _.concat(R)}else return _}),u=S(1),a=S(o.randomHeadsGroup),i=S(100);lt(a,_=>{_===1?u.value=It[_-1][8].value:u.value=It[_-1][0].value},{immediate:!0});const{loading:g,send:x,onSuccess:p}=vt(_=>il(_),{immediate:!1});function C(_){const{timestamp:R,newPostKey:I}=Mi(_.isTrusted,o.threadId,s.binggan),z={binggan:s.binggan,forum_id:o.forumId,thread_id:o.threadId,battle_olo:i.value,chara_id:u.value>=240?u.value-240:u.value,is_custom_chara:u.value>=240,chara_group:a.value-1,new_post_key:I,timestamp:R};x(z)}p(()=>{B("refreshPostsList"),y.value=!1});const y=S(!1);function H(){y.value=!0}t({show:H});const B=l;return(_,R)=>(Z(),me(r(Ge),{show:y.value,"onUpdate:show":R[5]||(R[5]=I=>y.value=I),"display-directive":"if"},{default:h(()=>[c(r(Xe),{style:ze({maxWidth:d.value}),title:"表情包大乱斗！",closable:"",onClose:R[4]||(R[4]=I=>y.value=!1),size:"small"},{action:h(()=>[c(r(fe),{justify:"end"},{default:h(()=>[c(r(be),{type:"primary",onClick:C,loading:r(g)},{default:h(()=>[F("提交")]),_:1},8,["loading"]),c(r(be),{onClick:R[3]||(R[3]=I=>y.value=!1)},{default:h(()=>[F("关闭")]),_:1})]),_:1})]),default:h(()=>[c(r(fe),{vertical:""},{default:h(()=>[c(r(_e),null,{default:h(()=>[F("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"3.2rem"}},{default:h(()=>[F("主题")]),_:1}),c(r(nt),{value:a.value,"onUpdate:value":R[0]||(R[0]=I=>a.value=I),options:f.value},null,8,["value","options"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"3.2rem"}},{default:h(()=>[F("角色")]),_:1}),c(r(nt),{value:u.value,"onUpdate:value":R[1]||(R[1]=I=>u.value=I),options:m.value},null,8,["value","options"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"3.2rem"}},{default:h(()=>[F("下注")]),_:1}),c(r(ot),{value:i.value,"onUpdate:value":R[2]||(R[2]=I=>i.value=I),max:1e6,min:100,step:100,parse:r(_n),format:r(zn),onKeyup:et(C,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),rl=Y({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:t,emit:l}){const s=V(()=>{const p=window.innerWidth;return p>=532?"500px":p-32+"px"}),o=S(0),d=S(),f=S(),m=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],u=V(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${f.value}</summary>${d.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${f.value}">${d.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${d.value}">`}]);lt(o,()=>{d.value=u.value[o.value].inputDefault_1,f.value=u.value[o.value].inputDefault_2},{immediate:!0});function a(){x("insertCode",u.value[o.value].insertText),i.value=!1}const i=S(!1);function g(){i.value=!0}t({show:g});const x=l;return(p,C)=>(Z(),me(r(Ge),{show:i.value,"onUpdate:show":C[5]||(C[5]=y=>i.value=y),"display-directive":"if"},{default:h(()=>[c(r(Xe),{style:ze({maxWidth:s.value}),title:"快捷代码",closable:"",onClose:C[4]||(C[4]=y=>i.value=!1),size:"small"},{action:h(()=>[c(r(fe),{justify:"end"},{default:h(()=>[c(r(be),{type:"primary",onClick:a},{default:h(()=>[F("插入")]),_:1}),c(r(be),{onClick:C[3]||(C[3]=y=>i.value=!1)},{default:h(()=>[F("关闭")]),_:1})]),_:1})]),default:h(()=>[c(r(fe),{vertical:""},{default:h(()=>[c(r(_e),null,{default:h(()=>[F("代码预览：")]),_:1}),c(r(_e),null,{default:h(()=>[F(Ne(u.value[o.value].insertText),1)]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("代码内容")]),_:1}),c(r(nt),{value:o.value,"onUpdate:value":C[0]||(C[0]=y=>o.value=y),options:m},null,8,["value"])]),_:1}),ht(c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F(Ne(u.value[o.value].prepend_1),1)]),_:1}),c(r(Re),{value:d.value,"onUpdate:value":C[1]||(C[1]=y=>d.value=y),onKeyup:et(a,["enter"])},null,8,["value"])]),_:1},512),[[$t,u.value[o.value].inputEnable_1]]),ht(c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F(Ne(u.value[o.value].prepend_2),1)]),_:1}),c(r(Re),{value:f.value,"onUpdate:value":C[2]||(C[2]=y=>f.value=y),onKeyup:et(a,["enter"])},null,8,["value"])]),_:1},512),[[$t,u.value[o.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),sl=["onClick"],ul=["src"],dl=Y({__name:"EmojiTab",props:{randomHeadsGroup:{default:0},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:t}){const l=Le(),s=Fe(),o=e,d=S(),f=V(()=>{const p=lo.filter(C=>!l.userData.emoji_excluded.includes(C.id)&&(C.headsId===0||C.headsId===o.randomHeadsGroup));return l.userData.my_emoji&&p.unshift({id:0,headsId:0,name:"自定义",emojis:l.userData.my_emoji}),p}),m=t;function u(p,C){m("appendEmoji",p,C==="自定义"),o.autoHide&&(d.value=-1)}let a=!1;function i(p,C){return n("span",{onClick:()=>g(C),innerHTML:p})}function g(p){p===d.value&&(a=!0,d.value=-1)}function x(p,C){return a?(a=!1,!1):!0}return(p,C)=>(Z(),me(r(oo),{type:"line","bar-width":0,animated:"",onBeforeLeave:x,size:r(s).isMobile?"small":"medium","default-value":-1,value:d.value,"onUpdate:value":C[0]||(C[0]=y=>d.value=y)},{default:h(()=>[(Z(!0),we(je,null,tt(f.value,(y,H,B)=>(Z(),me(r(qt),{name:y.id,tab:i(y.name,y.id)},{default:h(()=>[c(r(fe),{size:"small",class:"emoji-container"},{default:h(()=>[(Z(!0),we(je,null,tt(y.emojis,(_,R,I)=>(Z(),we("div",{class:"emoji-box",onClick:z=>u(_,y.name)},[se("img",{src:_,class:"emoji-in-box"},null,8,ul)],8,sl))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),c(r(qt),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),cl=e=>{const t=ye.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},jl=e=>{const t=ye.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},hl=Y({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:l}){const s=Fe(),o=Le(),d=e,f=V(()=>{const E=window.innerWidth;return E>=532?"500px":E-32+"px"}),m=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],u=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],a=S(3e3),i=S(10),g=S(1),x=S(1),p=S(),C=S(),y=S([]),H=S(!1),B=S(1);function _(E){E===1&&B.value<5&&(B.value+=1),E===-1&&B.value>1&&(y.value.splice(B.value-1,1),B.value-=1)}const{loading:R,send:I,onSuccess:z}=vt(E=>cl(E),{immediate:!1});function U(){if(p.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(C.value===void 0&&[2,3].includes(x.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(g.value===2&&a.value%i.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const E={binggan:o.binggan,forum_id:d.forumId,thread_id:d.threadId,hongbao_olo:a.value,hongbao_num:i.value,type:g.value,key_word_type:x.value,hongbao_key_word:p.value,hongbao_question:C.value,hongbao_message_json:y.value,hongbao_olo_hide:H.value};I(E)}z(()=>{P("refreshPostsList"),O.value=!1});const O=S(!1);function T(){O.value=!0}t({show:T});const P=l;return(E,L)=>(Z(),me(r(Ge),{show:O.value,"onUpdate:show":L[11]||(L[11]=j=>O.value=j),"display-directive":"if"},{default:h(()=>[c(r(Xe),{style:ze({maxWidth:f.value}),title:"发起红包",closable:"",onClose:L[10]||(L[10]=j=>O.value=!1),size:"small"},{action:h(()=>[c(r(fe),{justify:"end"},{default:h(()=>[c(r(be),{type:"primary",onClick:U,loading:r(R)},{default:h(()=>[F("提交")]),_:1},8,["loading"]),c(r(be),{onClick:L[9]||(L[9]=j=>O.value=!1)},{default:h(()=>[F("关闭")]),_:1})]),_:1})]),default:h(()=>[c(r(fe),{vertical:""},{default:h(()=>[se("div",null,[c(r(_e),{depth:3},{default:h(()=>[F("温馨提示：")]),_:1}),F("在红包总额以外，会追加扣除7%手续费。 ")]),se("div",null,[c(r(_e),{depth:3},{default:h(()=>[F("总共扣除：")]),_:1}),c(r(_e),{type:"warning"},{default:h(()=>[F(Ne(Math.ceil(a.value*(r(s).isDouble11?1.02:1.07))),1)]),_:1}),F("个奥利奥 ")]),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("红包类型")]),_:1}),c(r(nt),{value:x.value,"onUpdate:value":L[0]||(L[0]=j=>x.value=j),options:m},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("olo类型")]),_:1}),c(r(nt),{value:g.value,"onUpdate:value":L[1]||(L[1]=j=>g.value=j),options:u},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("红包个数")]),_:1}),c(r(ot),{value:i.value,"onUpdate:value":L[2]||(L[2]=j=>i.value=j),max:50,min:5,step:5},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("olo总额")]),_:1}),c(r(ot),{value:a.value,"onUpdate:value":L[3]||(L[3]=j=>a.value=j),max:1e6,min:3e3,step:1e3,parse:r(_n),format:r(zn)},null,8,["value","parse","format"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("红包口令")]),_:1}),c(r(Re),{value:p.value,"onUpdate:value":L[4]||(L[4]=j=>p.value=j),placeholder:"必填"},null,8,["value"])]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("口令提示")]),_:1}),c(r(Re),{value:C.value,"onUpdate:value":L[5]||(L[5]=j=>C.value=j),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(Z(!0),we(je,null,tt(B.value,j=>(Z(),me(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"5.2rem"}},{default:h(()=>[F("回复留言")]),_:1}),c(r(Re),{value:y.value[j-1],"onUpdate:value":X=>y.value[j-1]=X,placeholder:`#${j}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),c(r(fe),{size:"small",align:"center"},{default:h(()=>[c(r(_e),{depth:3},{default:h(()=>[F("留言数量")]),_:1}),c(r(qe),{size:"tiny",circle:"",disabled:B.value===5,onClick:L[6]||(L[6]=j=>_(1))},{icon:h(()=>[c(r(ke),null,{default:h(()=>[c(r(bi))]),_:1})]),_:1},8,["disabled"]),c(r(qe),{size:"tiny",circle:"",disabled:B.value===1,onClick:L[7]||(L[7]=j=>{_(-1)})},{icon:h(()=>[c(r(ke),null,{default:h(()=>[c(r(pi))]),_:1})]),_:1},8,["disabled"]),c(r(ao),{checked:H.value,"onUpdate:checked":L[8]||(L[8]=j=>H.value=j),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),fl=Y({__name:"PingbiciModal",setup(e,{expose:t}){Fe();const l=Le(),s=V(()=>{const g=window.innerWidth;return g>=532?"500px":g-32+"px"}),o=S(),{loading:d,send:f,onSuccess:m}=vt(g=>qn(g),{immediate:!1});function u(){if(!o.value){window.$message.error("请填写屏蔽词");return}const g={binggan:l.binggan,content_pingbici:o.value};f(g)}m(()=>{l.refreshUserData(),a.value=!1});const a=S(!1);function i(){a.value=!0}return t({show:i}),(g,x)=>(Z(),me(r(Ge),{show:a.value,"onUpdate:show":x[3]||(x[3]=p=>a.value=p),"display-directive":"if"},{default:h(()=>[c(r(Xe),{style:ze({maxWidth:s.value}),title:"追加屏蔽词",closable:"",onClose:x[2]||(x[2]=p=>a.value=!1),size:"small"},{action:h(()=>[c(r(fe),{justify:"end"},{default:h(()=>[c(r(be),{type:"primary",onClick:u,loading:r(d),disabled:!o.value},{default:h(()=>[F("提交")]),_:1},8,["loading","disabled"]),c(r(be),{onClick:x[1]||(x[1]=p=>a.value=!1)},{default:h(()=>[F("关闭")]),_:1})]),_:1})]),default:h(()=>[c(r(fe),{vertical:""},{default:h(()=>[c(r(_e),null,{default:h(()=>[F("暂时只做了“内容屏蔽词”的追加")]),_:1}),c(r(ce),null,{default:h(()=>[c(r(he),{style:{width:"4.2rem"}},{default:h(()=>[F("屏蔽词")]),_:1}),c(r(Re),{value:o.value,"onUpdate:value":x[0]||(x[0]=p=>o.value=p),max:255,onKeyup:et(u,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Hl=()=>{const e=ye.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},Rn=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const l=ye.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return l.meta={shouldRemind:!0},l},gl=Y({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:t}){const l=Fe(),s=Le(),o=S(null),d=e,f=t;function m(i){var g=document.getElementsByTagName("body")[0],x=document.createElement("script"),p=document.getElementById("upload-button");i=="mjj"&&(x.setAttribute("async","true"),x.setAttribute("src","https://mjj.today/sdk/pup.js"),x.setAttribute("data-url","https://mjj.today/upload"),x.setAttribute("data-auto-insert","html-embed"),p==null||p.setAttribute("data-chevereto-pup-trigger","")),i=="imgbb"&&(x.setAttribute("async","true"),x.setAttribute("src","https://imgbb.com/upload.js"),x.setAttribute("data-url","https://imgbb.com/upload"),x.setAttribute("data-auto-insert","html-embed-medium"),p==null||p.setAttribute("data-imgbb-trigger","")),i=="freeimage"&&(x.setAttribute("async","true"),x.setAttribute("src","https://freeimage.host/sdk/pup.js"),x.setAttribute("data-url","https://freeimage.host/upload"),x.setAttribute("data-auto-insert","html-embed-medium"),p==null||p.setAttribute("data-chevereto-pup-trigger","")),g.appendChild(x)}ft(()=>{m(l.ImgHost)});const u=S(!1),a=({file:i,data:g,headers:x,withCredentials:p,action:C,onFinish:y,onError:H,onProgress:B})=>{var _;if(i.file!==null){if(i.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(_=o.value)==null||_.clear();return}const R={binggan:s.binggan,file:i.file,mode:"img",thread_id:d.threadId,forum_id:d.forumId};u.value=!0,Rn(R).then(I=>{var z;f("insertImage",I.file_url),(z=o.value)==null||z.clear(),u.value=!1}).catch(()=>{var I;(I=o.value)==null||I.clear(),u.value=!1})}};return(i,g)=>i.forumId===419?(Z(),me(r(kn),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":a,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:o},{default:h(()=>[c(r(be),{style:{"margin-right":"auto"},disabled:i.userIsLocked,loading:u.value},{default:h(()=>[F("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(Z(),me(r(be),{key:1,style:{"margin-right":"auto"},disabled:i.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:h(()=>[F("上传图片")]),_:1},8,["disabled"]))}}),pl=["width","height"],vl=["width","height"],ml=se("div",null,"颜色",-1),wl=se("div",null,"画笔",-1),bl=["onClick"],xl=se("div",null,"操作",-1),yl=["title","innerHTML","onClick"],Cl=Y({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:t,emit:l}){const s=Le(),o=e,d=V(()=>{const w=window.innerWidth;return w>=832?"800px":w-32+"px"}),f=S(!1);function m(){f.value=!0}t({show:m});const u=l,a=S(),i=V(()=>{var w;return(w=a.value)==null?void 0:w.getContext("2d")}),g=S(),x=V(()=>{var w;return(w=g.value)==null?void 0:w.getContext("2d")}),p=new Image;let C=!1;const y={x:0,y:0,width:0,height:0},H=S([]),B=S([]),_=S([]),R=S({lineWidth:3,lineColor:"#111111",shadowBlur:1}),I=S(!1),z=S(!1);let U=0,O=0;const T=V(()=>window.innerWidth>836?796:window.innerWidth-36),P=V(()=>window.innerHeight>580?400:window.innerHeight-212),E=V(()=>[{title:"上一步",action:"prev",className:H.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:B.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:H.value.length||B.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:H.value.length||B.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:z.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),L=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function j(){const w=new ImageData(T.value,P.value);_.value.push(w)}ft(()=>{j()});function X(){i.value.lineWidth=R.value.lineWidth,i.value.shadowBlur=R.value.shadowBlur,i.value.shadowColor=R.value.lineColor,i.value.strokeStyle=R.value.lineColor,i.value.lineCap="round",i.value.lineJoin="round"}function Q(w){if(C)if(z.value){const v=w.target;let k,$;w instanceof MouseEvent?(k=w.clientX-v.getBoundingClientRect().x,$=w.clientY-v.getBoundingClientRect().y):(k=w.changedTouches[0].clientX-v.getBoundingClientRect().x,$=w.changedTouches[0].clientY-v.getBoundingClientRect().y),g.value.height=g.value.height;let K={x:y.x+(k-U),y:y.y+($-O),width:y.width,height:y.height};xe(p,K)}else{i.value.beginPath(),i.value.moveTo(U,O);const v=w.target;let k,$;w instanceof MouseEvent?(k=w.clientX-v.getBoundingClientRect().x,$=w.clientY-v.getBoundingClientRect().y):(k=w.changedTouches[0].clientX-v.getBoundingClientRect().x,$=w.changedTouches[0].clientY-v.getBoundingClientRect().y),i.value.globalCompositeOperation=I.value?"destination-out":"source-over",i.value.lineTo(k,$),[U,O]=[k,$],i.value.stroke()}}function ee(w){if(z.value){const v=w.target;let k,$;w instanceof MouseEvent?(k=w.clientX-v.getBoundingClientRect().x,$=w.clientY-v.getBoundingClientRect().y):(k=w.changedTouches[0].clientX-v.getBoundingClientRect().x,$=w.changedTouches[0].clientY-v.getBoundingClientRect().y),y.x+=k-U,y.y+=$-O,C=!1}else{const v=i.value.getImageData(0,0,a.value.width,a.value.height);B.value.length?(_.value=[],_.value=_.value.concat(H.value),_.value.push(v),B.value=[]):_.value.push(v),C=!1}}function te(w){if(z.value){const v=w.target;let k,$;w instanceof MouseEvent?(k=w.clientX-v.getBoundingClientRect().x,$=w.clientY-v.getBoundingClientRect().y):(k=w.changedTouches[0].clientX-v.getBoundingClientRect().x,$=w.changedTouches[0].clientY-v.getBoundingClientRect().y),U=k,O=$,C=!0}else{C=!0;const v=w.target;let k,$;w instanceof MouseEvent?(k=w.clientX-v.getBoundingClientRect().x,$=w.clientY-v.getBoundingClientRect().y):(k=w.changedTouches[0].clientX-v.getBoundingClientRect().x,$=w.changedTouches[0].clientY-v.getBoundingClientRect().y),X(),U=k,O=$;const K=i.value.getImageData(0,0,a.value.width,a.value.height);H.value.push(K)}}function re(w){R.value.lineWidth=w,I.value=!1,z.value=!1}function oe(w){switch(w){case"prev":if(H.value.length){const v=H.value.pop(),k=_.value[H.value.length+1];B.value.push(k),i.value.putImageData(v,0,0)}break;case"next":if(B.value.length){const v=B.value.pop(),k=_.value[_.value.length-B.value.length-2];H.value.push(k),i.value.putImageData(v,0,0)}break;case"clear":i.value.clearRect(0,0,a.value.width,a.value.height),H.value=[],B.value=[],_.value=[_.value[0]];break;case"eraser":I.value=!0;break;case"drag":z.value=!0;break}}function pe(w){if(w.file.file){var v=new FileReader;v.readAsDataURL(w.file.file),v.onload=k=>{p.src=k.target.result,p.onload=function(){var $=g,K=p;y.width=K.width,y.height=K.height,K.width/K.height>=$.value.width/$.value.height?K.width>$.value.width&&(y.width=$.value.width,y.height=K.height*$.value.width/K.width):K.height>$.value.height&&(y.width=K.width*$.value.height/K.height,y.height=$.value.height),xe(K,y)}}}}function xe(w,v){x.value.drawImage(w,v.x,v.y,v.width,v.height)}const ue=S(!1);function ve(){let w=new Image;w.src=a.value.toDataURL("image/png"),w.onload=()=>{x.value.drawImage(w,0,0),v(g.value)};function v($){$.toBlob(K=>{K&&k(K)},"image/png")}function k($){const K={binggan:s.binggan,file:$,mode:"img",thread_id:o.threadId,forum_id:o.forumId};ue.value=!0,Rn(K).then(Ie=>{u("insertImage",Ie.file_url),ue.value=!1,f.value=!1}).catch(()=>{ue.value=!1})}}return(w,v)=>(Z(),me(r(Ge),{show:f.value,"onUpdate:show":v[5]||(v[5]=k=>f.value=k),"display-directive":"show"},{default:h(()=>[c(r(Xe),{style:ze({maxWidth:d.value}),title:"涂鸦板",closable:"",onClose:v[4]||(v[4]=k=>f.value=!1),size:"small","content-style":{padding:"0px"}},{default:h(()=>[se("div",{id:"canvas-container",style:ze({width:T.value+"px",height:P.value+"px"})},[se("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:g,width:T.value,height:P.value,onTouchmove:v[0]||(v[0]=Dt(()=>{},["prevent"]))},null,40,pl),se("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:a,class:Wt({painting:!z.value,dragging:z.value}),width:T.value,height:P.value,onTouchmove:[v[1]||(v[1]=Dt(()=>{},["prevent"])),Q],onMousedown:te,onMouseup:ee,onMousemove:Q,onTouchstart:te,onTouchend:ee},null,42,vl)],4),c(r(Xn),{"x-gap":"6",cols:4},{default:h(()=>[c(r(Ct),{span:"1"},{default:h(()=>[ml,c(r(Gn),{value:R.value.lineColor,"onUpdate:value":v[2]||(v[2]=k=>R.value.lineColor=k),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),c(r(Ct),{span:"1"},{default:h(()=>[wl,c(r(fe),{id:"canvas-brush",size:"small",align:"center"},{default:h(()=>[(Z(),we(je,null,tt(L,(k,$)=>se("span",{key:$,style:ze({fontSize:k.font_size+"px"}),onClick:K=>re(k.lineWidth)},Ne(k.innerHTML),13,bl)),64))]),_:1})]),_:1}),c(r(Ct),{span:"2"},{default:h(()=>[xl,c(r(fe),{id:"canvas-control",size:"small"},{default:h(()=>[(Z(!0),we(je,null,tt(E.value,(k,$)=>(Z(),we("span",{key:$,title:k.title,class:Wt([k.className]),innerHTML:k.innerHTML,onClick:K=>oe(k.action)},null,10,yl))),128))]),_:1})]),_:1})]),_:1})]),action:h(()=>[c(r(fe),{justify:"end"},{default:h(()=>[c(r(kn),{"default-upload":!1,onChange:pe,"show-file-list":!1},{default:h(()=>[c(r(be),null,{default:h(()=>[F("加载图片")]),_:1})]),_:1}),c(r(be),{type:"primary",onClick:ve,disabled:w.userIsLocked,loading:ue.value},{default:h(()=>[F("上传")]),_:1},8,["disabled","loading"]),c(r(be),{onClick:v[3]||(v[3]=k=>f.value=!1)},{default:h(()=>[F("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ul=Y({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:t,emit:l}){const s=Le(),o=Fe();to(),Yn();const d=S(null),f=S(null),m=S(null),u=S(null),a=S(null),i=S(null),g=S(null),x=e,p=V(()=>s.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(s.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),C=V(()=>s.userData.binggan.locked_ttl>0),y=S(s.userData.binggan.nickname||"= ="),H=S(""),B=S(""),_=S(!1),R=S(!1),I=S(!1),z=Kn("emoji_auto_hide",!1);function U(){let w=[n(ut,{checked:I.value,"onUpdate:checked":v=>I.value=v,label:"实时预览"}),n(ut,{checked:z.value,"onUpdate:checked":v=>z.value=v,label:"表情包自动收起"})];return s.userData.binggan.admin!==0&&s.checkAdminForums(x.forumId)&&w.push(n(ut,{checked:R.value,"onUpdate:checked":v=>R.value=v,label:"管理员"})),n(fe,{style:"padding:6px 8px",vertical:!0},()=>w)}const O=[{key:"funcOption",type:"render",render:U}];lt(R,w=>y.value=w?"管理员":"= =");function T(w){return w.selectionStart!=null?w.selectionStart:0}function P(w,v){const k=T(w),$=w.value,K=$.substring(0,k)+v+$.substring(k);B.value=K}function E(w){const v=document.getElementById("content-input");P(v,w),Q(),v.focus()}function L(){eo({title:"要清空内容吗？",onPositiveClick:()=>B.value=""})}const j=S([""]);function X(){j.value.length>1&&(j.value.pop(),B.value=j.value.slice(-1)[0])}function Q(){j.value.push(B.value??""),j.value.length>20&&j.value.shift()}function ee(w,v){E(`<img src='${w}' class='${v?"custom-emoji-img":"emoji-img"}'>`)}function te(w){E(w)}function re(w){E(`<img src='${w}' />`)}function oe(w){var v;B.value=w,Q(),(v=d.value)==null||v.focus()}const pe=l;function xe(w){new Promise(function(k,$){pe("contentCommit",{contentInput:B.value,nicknameInput:y.value,postWithAdmin:R.value,titleInput:H.value,isDelay:_.value,ist:w.isTrusted},k)}).then(ue)}function ue(){H.value="",B.value="",_.value=!1}const ve=S(!1);return t({quoteHandle:oe,isTyping:ve}),(w,v)=>(Z(),me(r(fe),{vertical:""},{default:h(()=>[c(r(fe),{size:"small",wrap:!1,align:"center"},{default:h(()=>[c(r(ce),{style:{"max-width":"300px"}},{default:h(()=>[c(r(he),{style:{width:"3.2rem"}},{default:h(()=>[F("昵称")]),_:1}),c(r(Re),{maxlength:30,value:y.value,"onUpdate:value":v[0]||(v[0]=k=>y.value=k),"show-count":"",style:ze({color:R.value?"FF6060":void 0})},null,8,["value","style"])]),_:1}),c(r(Zn),{trigger:"hover",options:O,placement:"bottom-start"},{default:h(()=>[c(r(be),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:h(()=>[F("功能")]),_:1})]),_:1})]),_:1}),w.mode==="thread"?(Z(),me(r(ce),{key:0},{default:h(()=>[c(r(he),{style:{width:"3.2rem"}},{default:h(()=>[F("标题")]),_:1}),c(r(Re),{maxlength:100,value:H.value,"onUpdate:value":v[1]||(v[1]=k=>H.value=k),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):Ze("",!0),c(dl,{"auto-hide":r(z),"random-heads-group":w.randomHeadsGroup,onAppendEmoji:ee},null,8,["auto-hide","random-heads-group"]),c(r(fe),{size:r(o).isMobile?"small":"medium",justify:"end",align:"center"},{default:h(()=>[w.mode==="post"?(Z(),me(r(ke),{key:0,size:r(o).isMobile?28:32},{default:h(()=>[c(r(Ei),{style:{cursor:"pointer"},onClick:v[2]||(v[2]=k=>{var $;return($=f.value)==null?void 0:$.show()})})]),_:1},8,["size"])):Ze("",!0),w.mode==="post"?(Z(),me(r(ke),{key:1,size:r(o).isMobile?28:32},{default:h(()=>[c(r(Bi),{style:{cursor:"pointer"},onClick:v[3]||(v[3]=k=>{var $;return($=m.value)==null?void 0:$.show()})})]),_:1},8,["size"])):Ze("",!0),w.mode==="post"?(Z(),me(r(ke),{key:2,size:r(o).isMobile?28:32},{default:h(()=>[c(r(Si),{style:{cursor:"pointer"},onClick:v[4]||(v[4]=k=>{var $;return($=u.value)==null?void 0:$.show()})})]),_:1},8,["size"])):Ze("",!0),c(r(ke),{size:r(o).isMobile?28:32},{default:h(()=>[c(r(Ji),{style:{cursor:"pointer"},onClick:v[5]||(v[5]=k=>{var $;return($=g.value)==null?void 0:$.show()})})]),_:1},8,["size"]),c(r(ke),{size:r(o).isMobile?28:32},{default:h(()=>[c(r(Gi),{style:{cursor:"pointer"},onClick:v[6]||(v[6]=k=>{var $;return($=i.value)==null?void 0:$.show()})})]),_:1},8,["size"]),c(r(ke),{size:r(o).isMobile?28:32},{default:h(()=>[c(r(Hi),{style:{cursor:"pointer"},onClick:v[7]||(v[7]=k=>{var $;return($=a.value)==null?void 0:$.show()})})]),_:1},8,["size"]),c(r(Jn),{vertical:""}),c(r(ke),{size:r(o).isMobile?28:32},{default:h(()=>[c(r(ki),{style:{cursor:"pointer"},onClick:X})]),_:1},8,["size"]),c(r(ke),{size:r(o).isMobile?28:32},{default:h(()=>[c(r(nl),{style:{cursor:"pointer"},onClick:L})]),_:1},8,["size"])]),_:1},8,["size"]),c(r(ln),{value:B.value,"onUpdate:value":v[8]||(v[8]=k=>B.value=k),type:"textarea",placeholder:p.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:d,style:{"border-radius":"10px"},"input-props":{id:"content-input"},disabled:C.value,onChange:Q,onKeyup:v[9]||(v[9]=et(Dt(k=>xe(k),["ctrl"]),["enter"])),onBlur:v[10]||(v[10]=k=>ve.value=!1),onFocus:v[11]||(v[11]=k=>ve.value=!0)},null,8,["value","placeholder","disabled"]),c(r(fe),{justify:"end",align:"center"},{default:h(()=>[c(gl,{"user-is-locked":C.value,"forum-id":w.forumId,"thread-id":w.threadId,onInsertImage:re},null,8,["user-is-locked","forum-id","thread-id"]),w.mode==="thread"?(Z(),me(r(ut),{key:0,checked:_.value,"onUpdate:checked":v[12]||(v[12]=k=>_.value=k)},{default:h(()=>[F("延时发送")]),_:1},8,["checked"])):Ze("",!0),c(r(Qn),{placement:"bottom-start",trigger:"hover",disabled:r(o).isMobile},{trigger:h(()=>[c(r(be),{type:"primary",onClick:v[13]||(v[13]=k=>xe(k)),loading:w.handling,disabled:C.value},{default:h(()=>[F("提交")]),_:1},8,["loading","disabled"])]),default:h(()=>[F(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),c(hl,{ref_key:"HongbaoModalCom",ref:f,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:v[14]||(v[14]=k=>pe("refreshPostsList"))},null,8,["thread-id","forum-id"]),c(al,{ref_key:"BattleModalCom",ref:m,"thread-id":w.threadId,"forum-id":w.forumId,"random-heads-group":w.randomHeadsGroup,onRefreshPostsList:v[15]||(v[15]=k=>pe("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),c(Li,{ref_key:"RollModalCom",ref:u,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:v[16]||(v[16]=k=>pe("refreshPostsList"))},null,8,["thread-id","forum-id"]),c(fl,{ref_key:"PingbiciModalCom",ref:a},null,512),c(rl,{ref_key:"CodeModalCom",ref:i,onInsertCode:te},null,512),c(Cl,{ref_key:"DrawerModalCom",ref:g,onInsertImage:re,"user-is-locked":C.value,"forum-id":w.forumId,"thread-id":w.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}}),Fl=[{id:1,name:"默认",random_heads:["https://z3.ax1x.com/2021/08/01/fSAAIg.png","https://z3.ax1x.com/2021/08/01/fSAeRs.png","https://z3.ax1x.com/2021/08/01/fSAViQ.png","https://z3.ax1x.com/2021/08/01/fSAZGj.png","https://z3.ax1x.com/2021/08/01/fSAkdS.png","https://z3.ax1x.com/2021/08/01/fSAmzn.png","https://z3.ax1x.com/2021/08/01/fSAuMq.png","https://z3.ax1x.com/2021/08/01/fSAKs0.png","https://z3.ax1x.com/2021/08/01/fSAMLV.png","https://z3.ax1x.com/2021/08/01/fSAlZT.png","https://z3.ax1x.com/2021/08/01/fSA1dU.png","https://z3.ax1x.com/2021/08/01/fSA3oF.png","https://z3.ax1x.com/2021/08/01/fSAGi4.png","https://z3.ax1x.com/2021/08/01/fSAYW9.png","https://z3.ax1x.com/2021/08/01/fSAJJJ.png","https://z3.ax1x.com/2021/08/01/fSAtzR.png","https://z3.ax1x.com/2021/08/01/fSAUQ1.png","https://z3.ax1x.com/2021/08/01/fSAsFe.png","https://z3.ax1x.com/2021/08/01/fSABdO.png","https://z3.ax1x.com/2021/08/01/fSADoD.png","https://z3.ax1x.com/2021/08/01/fSA0eK.png","https://z3.ax1x.com/2021/08/01/fSAyJH.png","https://z3.ax1x.com/2021/08/01/fSA6Wd.png","https://z3.ax1x.com/2021/08/01/fSAgSA.png","https://z3.ax1x.com/2021/08/01/fSA2QI.png","https://z3.ax1x.com/2021/08/01/fSARyt.png","https://z3.ax1x.com/2021/08/01/fSAWOP.png","https://z3.ax1x.com/2021/08/01/fSAhef.png","https://z3.ax1x.com/2021/08/01/fSA4w8.png","https://z3.ax1x.com/2021/08/01/fSA5TS.png","https://z3.ax1x.com/2021/08/01/fSAoFg.png","https://z3.ax1x.com/2021/08/01/fSATYQ.png","https://z3.ax1x.com/2021/08/01/fSA7Wj.png","https://z3.ax1x.com/2021/08/01/fSAbSs.png","https://z3.ax1x.com/2021/08/01/fSAqln.png","https://z3.ax1x.com/2021/08/01/fSALyq.png","https://z3.ax1x.com/2021/08/01/fSAOO0.png","https://z3.ax1x.com/2021/08/01/fSAjmV.png","https://z3.ax1x.com/2021/08/01/fSAvwT.png","https://z3.ax1x.com/2021/08/01/fSAxTU.png"]},{id:2,name:"咒岛",random_heads:["https://www.z4a.net/images/2021/04/28/1ec2f3b016cc3993d.png","https://www.z4a.net/images/2021/04/28/2c9d9c4cfced955f1.png","https://www.z4a.net/images/2021/04/28/3a72868d2ed97544e.png","https://www.z4a.net/images/2021/04/28/4a530a7008124f895.png","https://www.z4a.net/images/2021/04/28/16.png","https://www.z4a.net/images/2021/04/28/5c3d0f8f7e94c0f87.png","https://www.z4a.net/images/2021/04/28/6.png","https://www.z4a.net/images/2021/04/28/7.png","https://www.z4a.net/images/2021/04/28/8.png","https://www.z4a.net/images/2021/04/28/9.png","https://www.z4a.net/images/2021/04/28/17.png","https://www.z4a.net/images/2021/04/28/10a78173cca4d2b9e4.png","https://www.z4a.net/images/2021/04/28/116817e6f9946a883b.png","https://www.z4a.net/images/2021/04/28/12d6faaf27dd411273.png","https://www.z4a.net/images/2021/04/28/13cd6b9af2dee496c2.png","https://www.z4a.net/images/2021/04/28/158cb6d1c543151992.png","https://www.z4a.net/images/2021/04/28/191dbde0611454f9c4.png","https://www.z4a.net/images/2021/04/28/149dd44da8e8badd09.png","https://www.z4a.net/images/2021/04/28/189f30c4bbf3eb9015.png","https://www.z4a.net/images/2021/04/28/201161035e7d5b8c56.png","https://www.z4a.net/images/2021/04/28/21.png","https://www.z4a.net/images/2021/04/28/222dc14b16d6f5e3ad.png","https://www.z4a.net/images/2021/04/28/23.png","https://www.z4a.net/images/2021/04/28/24.png","https://www.z4a.net/images/2021/04/28/25.png","https://www.z4a.net/images/2021/04/28/26.png","https://www.z4a.net/images/2021/04/28/27.png","https://www.z4a.net/images/2021/04/28/28.png","https://www.z4a.net/images/2021/04/28/29.png","https://www.z4a.net/images/2021/04/28/30.png","https://www.z4a.net/images/2021/04/28/31.png","https://www.z4a.net/images/2021/04/28/32.png","https://www.z4a.net/images/2021/04/28/333753a209916c1bac.png","https://www.z4a.net/images/2021/04/28/34.png","https://www.z4a.net/images/2021/04/28/35.png","https://www.z4a.net/images/2021/04/28/36.png","https://www.z4a.net/images/2021/04/28/37.png","https://www.z4a.net/images/2021/04/28/38.png","https://www.z4a.net/images/2021/04/28/39.png","https://www.z4a.net/images/2021/04/28/40.png"]},{id:3,name:"国配",random_heads:["https://s2.ax1x.com/2020/03/04/3oNmCT.jpg","https://s2.ax1x.com/2020/03/04/3oNZ5V.jpg","https://s2.ax1x.com/2020/03/04/3oNVU0.jpg","https://s2.ax1x.com/2020/03/04/3oNEEq.jpg","https://s2.ax1x.com/2020/03/04/3oNkbn.jpg","https://s2.ax1x.com/2020/03/04/3oNFDs.jpg","https://s2.ax1x.com/2020/03/04/3oNiuj.jpg","https://s2.ax1x.com/2020/03/04/3oNCvQ.jpg","https://s2.ax1x.com/2020/03/04/3oN9gg.jpg","https://s2.ax1x.com/2020/03/04/3otx4f.jpg","https://s2.ax1x.com/2020/03/04/3otvUP.jpg","https://s2.ax1x.com/2020/03/04/3otjEt.jpg","https://s2.ax1x.com/2020/03/04/3otOHI.jpg","https://s2.ax1x.com/2020/03/04/3otLDA.jpg","https://s2.ax1x.com/2020/03/04/3otqud.jpg","https://s2.ax1x.com/2020/03/04/3otHjH.jpg","https://s2.ax1x.com/2020/03/04/3ot54K.jpg","https://s2.ax1x.com/2020/03/04/3ot4N6.jpg","https://s2.ax1x.com/2020/03/04/3ot6c4.jpg","https://s2.ax1x.com/2020/03/04/3otcjJ.jpg","https://i.loli.net/2020/05/12/fjzJG2tOKS9x75i.png","https://s2.ax1x.com/2020/03/04/3othAx.jpg","https://s2.ax1x.com/2020/03/04/3otWH1.jpg","https://i.loli.net/2020/05/12/RJkuylMqTDbhFYK.png","https://s2.ax1x.com/2020/03/04/3oaHvF.jpg","https://i.loli.net/2020/05/12/JniT3y5EjlHveCa.png","https://i.loli.net/2020/05/12/uLf37Dh4moSNWHl.png","https://i.loli.net/2020/05/12/4PDlehfWOJZoEcj.png","https://i.loli.net/2020/05/12/UznI9POMuTN5CdF.png","https://i.loli.net/2020/05/12/Ku24JNkQp6sedEb.png","https://i.loli.net/2020/05/12/zPiTZRcU2WxC65D.png","https://i.loli.net/2020/05/12/6JeYhNKMLsBQlFO.png","https://i.loli.net/2020/05/12/gIqU1VEXHAQ2ShG.png","https://i.loli.net/2020/05/12/RJOoTxZKvQtLNrA.png","https://i.loli.net/2020/05/12/WHtM9RFxsaCXUYp.png","https://i.loli.net/2020/05/12/KtVvfRUPzA4CDFi.png","https://i.loli.net/2020/05/12/XQWotbfrYi7dBp6.png","https://i.loli.net/2020/05/12/f4h65rGU7cRYwZ8.png","https://i.loli.net/2020/05/12/1HWeg4xdsX85kZT.png","https://i.loli.net/2020/05/12/J8uH6ClX4EGLifc.png"]},{id:4,name:"兵兵球",random_heads:["https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-01.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-02.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-03.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-04.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-05.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-06.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-07.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-08.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-09.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-10.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-11.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-12.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-13.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-14.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-15.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-16.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-17.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-18.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-19.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-20.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-21.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-22.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-23.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-24.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-25.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-26.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-27.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-28.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-29.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-30.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-31.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-32.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-33.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-34.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-35.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-36.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-37.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-38.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-39.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-40.gif"]}];export{ot as N,Ul as _,Ol as a,zn as b,Hl as c,Dl as d,Tl as e,It as f,Mi as g,Al as h,_n as i,Nl as j,jl as k,Ml as n,Ll as p,Fl as r};
