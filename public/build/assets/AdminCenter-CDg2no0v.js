import{n as E,U as ae,W as le,t as U,a1 as me,l as G,am as J,g as B,p as w,j as m,x as a,K as C,E as t,q as e,F as K,I as y,i as A,Q as h,w as L,J as N,z as Pe,L as l,S as d,a_ as oe,a2 as de,ay as ee,a3 as re,b as R,ac as be,ad as _e,b0 as ye,aH as xe,bf as te,P as T,bl as Q,ar as Y,bg as ke,m as j,aZ as W,aw as Z,ax as P,av as ve,ak as Re,b3 as he,b4 as Be,ab as Ee}from"./vendor-C-2co6ae.js";import{a as H,u as q,b as O,_ as ne,c as X}from"./app-CsEnLcBD.js";import{s as He,g as qe,h as Ve,i as ze,j as Ye,k as je,l as Le,m as De}from"./admin-ejhZ9tk1.js";import{u as se}from"./forums-BGaTqZw2.js";import{i as Ge,a as Je}from"./inputNumberFormat-BPxWRFt_.js";const Ke={class:"banner-box-sm"},Qe=["src"],We=["src","onClick"],Ze=E({__name:"TabBanners",setup(V){ae(u=>({"6a1c8eac":e(M).textColor1}));const x=H();q();const k=se(),M=le(),b=U(0);me(()=>{p.value.length>0&&(b.value=p.value[0].value)});const p=G(()=>x.binggan===null||x.userData.binggan.admin_forums===void 0?[]:k.forumsData.reduce((u,n)=>(x.checkAdminForums(n.id)&&u.push({value:n.id,label:n.name,forumId:n.id}),u),[])),r=U([]);J(b,u=>{u===void 0?r.value=[]:r.value=[...k.forumData(u)?.banners??[]]});const _=U(!1),o=U(),s=G(()=>o.value?.split(/[\n,，]+/).filter(u=>u!="")??[]);function f(){_.value=!1,r.value=r.value.concat(s.value),o.value=void 0,v()}function z(u){r.value?.splice(u,1)}const{loading:I,send:g,onSuccess:S}=B(u=>He(u),{immediate:!1});S(()=>{k.getForumsData()});function v(){const u={binggan:x.binggan,forum_id:b.value,banners:r.value};g(u)}return(u,n)=>(m(),w(e(y),{vertical:""},{default:a(()=>[_.value?(m(),w(e(K),{key:0,title:"待追加的版头",size:"small",class:"dash-line"},{"header-extra":a(()=>[t(e(y),{size:"small"},{default:a(()=>[t(e(O),{type:"primary",onClick:f},{default:a(()=>[...n[4]||(n[4]=[l("追加",-1)])]),_:1}),t(e(O),{type:"default",onClick:n[0]||(n[0]=F=>{_.value=!1,o.value=void 0})},{default:a(()=>[...n[5]||(n[5]=[l("关闭",-1)])]),_:1})]),_:1})]),default:a(()=>[t(e(y),{size:"small"},{default:a(()=>[(m(!0),A(h,null,L(s.value,(F,D,ue)=>(m(),A("div",Ke,[N("img",{src:F,style:{width:"100%"}},null,8,Qe)]))),256))]),_:1}),t(e(Pe),{type:"textarea",value:o.value,"onUpdate:value":n[1]||(n[1]=F=>o.value=F),placeholder:"在这里贴网址追加版头。可以一次多个，每行一个。",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})):C("",!0),t(e(K),{title:"版头设定",size:"small"},{"header-extra":a(()=>[t(e(y),{size:"small",align:"center",wrap:!0},{default:a(()=>[t(e(d),{depth:3},{default:a(()=>[...n[6]||(n[6]=[l("选择小岛",-1)])]),_:1}),t(e(oe),{value:b.value,"onUpdate:value":n[2]||(n[2]=F=>b.value=F),options:p.value,"consistent-menu-width":!1,style:{width:"100px"}},null,8,["value","options"]),_.value?C("",!0):(m(),w(e(O),{key:0,type:"primary",onClick:n[3]||(n[3]=F=>_.value=!0)},{default:a(()=>[...n[7]||(n[7]=[l("追加",-1)])]),_:1}))]),_:1})]),default:a(()=>[t(e(d),{depth:3},{default:a(()=>[...n[8]||(n[8]=[l("点击图片移除",-1)])]),_:1}),t(e(y),{wrap:!0,size:[4,4]},{default:a(()=>[(m(!0),A(h,null,L(r.value,(F,D)=>(m(),A("div",{key:D+(b.value??0)*1e3,class:"banner-box"},[N("img",{src:F,class:"banner-img",onClick:ue=>z(D)},null,8,We)]))),128))]),_:1})]),_:1}),t(e(y),{align:"center",justify:"end"},{default:a(()=>[t(e(d),{depth:3,style:{"font-size":"0.875rem"}},{default:a(()=>[...n[9]||(n[9]=[l("各个小岛的变更要分别提交喔",-1)])]),_:1}),t(e(O),{type:"primary",loading:e(I),disable:e(I),onClick:v},{default:a(()=>[...n[10]||(n[10]=[l("提交",-1)])]),_:1},8,["loading","disable"])]),_:1})]),_:1}))}}),Xe=ne(Ze,[["__scopeId","data-v-35893c7d"]]),et=E({__name:"TabGlobal",setup(V){ae(o=>({"21c7f12a":e(k).textColor1}));const x=H();q(),se();const k=le(),M=U(!1),b=U(!1),p=U(!1),r=U(!1);x.admin.isSuperAdmin===!0&&qe().then(o=>{M.value=o.new_binggan,b.value=o.new_loudspeaker,p.value=o.new_binggan_force,r.value=!0});function _(o,s){const f={binggan:x.binggan,key:o,value:JSON.stringify(s)};Ve(f).then()}return(o,s)=>(m(),w(e(y),{vertical:"",size:[6,12]},{default:a(()=>[t(e(y),{size:"small"},{default:a(()=>[t(e(d),{style:{width:"6.2rem"}},{default:a(()=>[...s[6]||(s[6]=[l("领取饼干开关",-1)])]),_:1}),t(e(ee),{value:M.value,"onUpdate:value":s[0]||(s[0]=f=>M.value=f),disabled:!r.value,onUpdateValue:s[1]||(s[1]=f=>_("new_binggan",f))},null,8,["value","disabled"]),de(t(e(d),{depth:3},{default:a(()=>[...s[7]||(s[7]=[l("读取中",-1)])]),_:1},512),[[re,!r.value]])]),_:1}),t(e(y),{size:"small"},{default:a(()=>[t(e(d),{style:{width:"6.2rem"}},{default:a(()=>[...s[8]||(s[8]=[l("大喇叭开关",-1)])]),_:1}),t(e(ee),{value:b.value,"onUpdate:value":s[2]||(s[2]=f=>b.value=f),disabled:!r.value,onUpdateValue:s[3]||(s[3]=f=>_("new_loudspeaker",f))},null,8,["value","disabled"]),de(t(e(d),{depth:3},{default:a(()=>[...s[9]||(s[9]=[l("读取中",-1)])]),_:1},512),[[re,!r.value]])]),_:1}),t(e(y),{size:"small"},{default:a(()=>[t(e(d),{style:{width:"6.2rem"}},{default:a(()=>[...s[10]||(s[10]=[l("强制打开饼干（慎用）",-1)])]),_:1}),t(e(ee),{value:p.value,"onUpdate:value":s[4]||(s[4]=f=>p.value=f),disabled:!r.value,onUpdateValue:s[5]||(s[5]=f=>_("new_binggan_force",f))},null,8,["value","disabled"]),de(t(e(d),{depth:3},{default:a(()=>[...s[11]||(s[11]=[l("读取中",-1)])]),_:1},512),[[re,!r.value]])]),_:1})]),_:1}))}}),tt=ne(et,[["__scopeId","data-v-3d2b5c4f"]]),at={class:"actives-item"},lt={style:{"margin-left":"auto"}},nt={key:0,style:{"margin-top":"6px"}},st={style:{"margin-top":"6px"}},ut={style:{"margin-top":"6px"}},it=E({__name:"TabActives",setup(V){ae(v=>({a0198f68:e(M).dividerColor})),R.extend(be),R.extend(_e);const x=H(),k=q(),M=le(),b=U(R().tz("Asia/Shanghai").format("YYYY-MM-DD"));J(b,()=>z());const p=U(1);J(p,()=>z()),me(()=>z());function r(v){return R().add(1,"day").isBefore(v)}const _=[{title:"时间",key:"created_at",resizable:!0},{title:"管理员",key:"name",resizable:!0},{title:"罚款",key:"olo",resizable:!0},{title:"操作",key:"active",resizable:!0},{title:"原因",key:"content",resizable:!0},{title:"主题",key:"thread_title",render:g,resizable:!0},{title:"回复",key:"post_content",render:S,resizable:!0}],{loading:o,data:s,send:f}=B(v=>ze(v),{immediate:!1,initialData:{data:[],last_page:1}});function z(){const v={binggan:x.binggan,date:b.value,page:p.value};f(v)}function I(v){return{name:"thread",params:{threadId:v.thread_id,page:v.floor===null?1:Math.ceil((v.floor+1)/200)},hash:v.floor===null?void 0:"#f_"+v.floor}}function g(v,u){return v.thread_id!==null?j(Q,{to:I(v),target:"_blank"},()=>j(Y,{style:"max-width: 120px"},()=>v.thread_title)):j(Y,{style:"max-width: 120px"},()=>v.thread_title)}function S(v,u){return v.thread_id!==null?j(Q,{to:I(v),target:"_blank"},()=>j(Y,{style:"max-width: 120px"},()=>v.post_content)):j(Y,{style:"max-width: 120px"},()=>v.post_content)}return(v,u)=>(m(),w(e(y),{size:"small"},{default:a(()=>[t(e(ye),{"formatted-value":b.value,"onUpdate:formattedValue":u[0]||(u[0]=n=>b.value=n),"value-format":"yyyy-MM-dd",type:"date",size:e(k).isMobile?"small":"medium","is-date-disabled":r},null,8,["formatted-value","size"]),t(e(O),{type:"primary",onClick:u[1]||(u[1]=n=>z())},{default:a(()=>[...u[4]||(u[4]=[l(" 查询 ",-1)])]),_:1}),t(e(K),{title:"管理员操作记录",size:"small"},{default:a(()=>[e(k).isMobile?C("",!0):(m(),w(e(y),{key:0},{default:a(()=>[t(e(xe),{columns:_,data:e(s).data,bordered:!1,loading:e(o),style:{height:"100%"}},null,8,["data","loading"]),t(e(te),{page:p.value,"onUpdate:page":u[2]||(u[2]=n=>p.value=n),"page-count":e(s).last_page,size:"medium",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})),e(k).isMobile?(m(),A(h,{key:1},[e(s).data.length>0?(m(),w(e(y),{key:0,vertical:"",align:"start",size:"small"},{default:a(()=>[e(o)?C("",!0):(m(!0),A(h,{key:0},L(e(s).data,n=>(m(),A("div",at,[t(e(y),null,{default:a(()=>[N("div",null,[t(e(d),{depth:3},{default:a(()=>[...u[5]||(u[5]=[l("时间：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(n.created_at),1)]),_:2},1024)]),N("div",lt,[t(e(d),{depth:3},{default:a(()=>[...u[6]||(u[6]=[l("管理员：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(n.name),1)]),_:2},1024)])]),_:2},1024),n.olo?(m(),A("div",nt,[t(e(d),{depth:3},{default:a(()=>[...u[7]||(u[7]=[l("罚款：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(n.olo),1)]),_:2},1024)])):C("",!0),N("div",st,[t(e(d),{depth:3},{default:a(()=>[...u[8]||(u[8]=[l("操作：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(n.active),1)]),_:2},1024)]),N("div",ut,[t(e(d),{depth:3},{default:a(()=>[...u[9]||(u[9]=[l("原因：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(n.content),1)]),_:2},1024)]),n.thread_title!==null?(m(),w(e(y),{key:1,style:{"margin-top":"6px"},wrap:!1},{default:a(()=>[t(e(d),{depth:3},{default:a(()=>[...u[10]||(u[10]=[l("主题：",-1)])]),_:1}),t(e(Q),{to:I(n),style:{"max-width":"80%"}},{default:a(()=>[t(e(Y),null,{default:a(()=>[l(T(n.thread_title),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)):C("",!0),n.post_content!==null?(m(),w(e(y),{key:2,style:{"margin-top":"6px"},wrap:!1},{default:a(()=>[t(e(d),{depth:3},{default:a(()=>[...u[11]||(u[11]=[l("主题：",-1)])]),_:1}),t(e(Q),{to:I(n),style:{"max-width":"80%"}},{default:a(()=>[t(e(Y),null,{default:a(()=>[l(T(n.post_content),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)):C("",!0)]))),256)),t(e(te),{page:p.value,"onUpdate:page":u[3]||(u[3]=n=>p.value=n),"page-count":e(s).last_page,size:"small",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})):(m(),w(e(ke),{key:1}))],64)):C("",!0)]),_:1})]),_:1}))}}),dt=ne(it,[["__scopeId","data-v-a35e3f42"]]),rt={class:"actives-item"},ot={style:{"margin-left":"auto"}},mt={key:0,style:{"margin-top":"6px"}},pt={key:1,style:{"margin-top":"6px"}},ft={style:{"margin-top":"6px"}},gt={style:{"margin-top":"6px"}},vt=E({__name:"TabActivesSuper",setup(V){ae(I=>({"2c7ab229":e(M).dividerColor})),R.extend(be),R.extend(_e);const x=H(),k=q(),M=le(),b=U(R().tz("Asia/Shanghai").format("YYYY-MM-DD"));J(b,()=>z());const p=U(1);J(p,()=>z()),me(()=>z());function r(I){return R().add(1,"day").isBefore(I)}const _=[{title:"时间",key:"created_at",resizable:!0},{title:"管理员",key:"name",resizable:!0},{title:"目标饼干",key:"binggan_target",resizable:!0},{title:"罚款",key:"olo",resizable:!0},{title:"操作",key:"active",resizable:!0},{title:"原因",key:"content",resizable:!0}],{loading:o,data:s,send:f}=B(I=>ze(I),{immediate:!1,initialData:{data:[],last_page:1}});function z(){const I={binggan:x.binggan,date:b.value,page:p.value,show_super:!0};f(I)}return(I,g)=>(m(),w(e(y),{size:"small"},{default:a(()=>[t(e(ye),{"formatted-value":b.value,"onUpdate:formattedValue":g[0]||(g[0]=S=>b.value=S),"value-format":"yyyy-MM-dd",type:"date",size:e(k).isMobile?"small":"medium","is-date-disabled":r},null,8,["formatted-value","size"]),t(e(O),{type:"primary",onClick:g[1]||(g[1]=S=>z())},{default:a(()=>[...g[4]||(g[4]=[l(" 查询 ",-1)])]),_:1}),t(e(K),{title:"管理员操作记录",size:"small"},{default:a(()=>[e(k).isMobile?C("",!0):(m(),w(e(y),{key:0},{default:a(()=>[t(e(xe),{columns:_,data:e(s).data,bordered:!1,loading:e(o),style:{height:"100%"}},null,8,["data","loading"]),t(e(te),{page:p.value,"onUpdate:page":g[2]||(g[2]=S=>p.value=S),"page-count":e(s).last_page,size:"medium",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})),e(k).isMobile?(m(),A(h,{key:1},[e(s).data.length>0?(m(),w(e(y),{key:0,vertical:"",align:"start",size:"small"},{default:a(()=>[e(o)?C("",!0):(m(!0),A(h,{key:0},L(e(s).data,S=>(m(),A("div",rt,[t(e(y),null,{default:a(()=>[N("div",null,[t(e(d),{depth:3},{default:a(()=>[...g[5]||(g[5]=[l("时间：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(S.created_at),1)]),_:2},1024)]),N("div",ot,[t(e(d),{depth:3},{default:a(()=>[...g[6]||(g[6]=[l("管理员：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(S.name),1)]),_:2},1024)])]),_:2},1024),S.olo?(m(),A("div",mt,[t(e(d),{depth:3},{default:a(()=>[...g[7]||(g[7]=[l("目标饼干：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(S.binggan_target),1)]),_:2},1024)])):C("",!0),S.olo?(m(),A("div",pt,[t(e(d),{depth:3},{default:a(()=>[...g[8]||(g[8]=[l("罚款：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(S.olo),1)]),_:2},1024)])):C("",!0),N("div",ft,[t(e(d),{depth:3},{default:a(()=>[...g[9]||(g[9]=[l("操作：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(S.active),1)]),_:2},1024)]),N("div",gt,[t(e(d),{depth:3},{default:a(()=>[...g[10]||(g[10]=[l("原因：",-1)])]),_:1}),t(e(d),null,{default:a(()=>[l(T(S.content),1)]),_:2},1024)])]))),256)),t(e(te),{page:p.value,"onUpdate:page":g[3]||(g[3]=S=>p.value=S),"page-count":e(s).last_page,size:"small",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})):(m(),w(e(ke),{key:1}))],64)):C("",!0)]),_:1})]),_:1}))}}),bt=ne(vt,[["__scopeId","data-v-296b2d9d"]]),_t=E({__name:"TabSuperAdmin",setup(V){const x=H(),k=q(),M=se(),b=U(null),p=U(null),r=U(null),_=U(null),o=U({binggan:"",olo:void 0,message:""}),s=U({uuid:""}),f=U({thread_id:null,forum_id:1,nissin_clear:!0}),z=U({binggan:"",medalId:181}),I=G(()=>M.forumsData.map($=>({value:$.id,label:$.name}))),g=[{value:181,label:"皇家御用画宗"},{value:182,label:"小火锅守护者"}],S={binggan:{required:!0,message:"请填写目标饼干",trigger:"blur"},message:{required:!1},olo:{required:!0,message:"请选择要奖罚的olo",type:"number",trigger:"blur"}},v={uuid:{required:!0,message:"请填写目标UUID",trigger:"blur"}},u={thread_id:{required:!0,message:"请填写主题ID",type:"number",trigger:"blur"},forum_id:{required:!0,message:"请选择目标小岛",type:"number",trigger:"blur"},nissin_clear:{required:!0}},n={binggan:{required:!0,message:"请填写目标饼干",trigger:"blur"},medalId:{required:!0,message:"请选择要发放的成就",type:"number",trigger:"blur"}},{loading:F,send:D,onSuccess:ue,onError:Se}=B($=>Ye($),{immediate:!1});ue(()=>{o.value.binggan=""}),Se(()=>{o.value.binggan=""});function ce(){r.value?.validate($=>{if($){window.$message.error("请确认信息填写完整");return}else{const i={binggan:x.binggan,binggan_target:o.value.binggan,olo_num:o.value.olo,olo_message:o.value.message},c=o.value.olo>0?"奖励":"罚款",ie={title:"奖罚olo",closable:!1,content:`对象饼干：${o.value.binggan} ${c}${o.value.olo}个olo`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{D(i)}};window.$dialog.warning(ie)}})}const{loading:pe,send:Ue,onSuccess:we,onError:xt}=B($=>je($),{immediate:!1});we(()=>{s.value.uuid=""});function $e(){b.value?.validate($=>{if($){window.$message.error("请确认信息填写完整");return}else{const i={binggan:x.binggan,uuid:s.value.uuid};Ue(i)}})}const{loading:fe,send:Ie,onSuccess:Me,onError:kt}=B($=>Le($),{immediate:!1});Me(()=>{f.value.thread_id=null});function Te(){p.value?.validate($=>{if($){window.$message.error("请确认信息填写完整");return}else{const i={binggan:x.binggan,thread_id:f.value.thread_id,forum_id:f.value.forum_id,nissin_clear:f.value.nissin_clear};Ie(i)}})}const{loading:ge,send:Ae,onSuccess:Ne,onError:Ce}=B($=>De($),{immediate:!1});Ne(()=>{z.value.binggan=""}),Ce(()=>{z.value.binggan=""});function Fe(){_.value?.validate($=>{if($){window.$message.error("请确认信息填写完整");return}else{const i={binggan:x.binggan,binggan_target:z.value.binggan,medal_id:z.value.medalId},c=g.find(Oe=>Oe.value===z.value.medalId),ie={title:"发放成就",closable:!1,content:`对象饼干：${z.value.binggan}  发放成就：${c?.label}`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ae(i)}};window.$dialog.warning(ie)}})}return($,i)=>(m(),w(e(y),{style:{"max-width":"450px"}},{default:a(()=>[t(e(W),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:a(()=>[t(e(d),{style:{"font-size":"0.875rem"}},{default:a(()=>[...i[9]||(i[9]=[l("奖罚olo ",-1)])]),_:1})]),_:1}),t(e(Z),{ref_key:"oloFormRef",ref:r,model:o.value,"label-placement":"left","label-width":"auto",rules:S,size:e(k).isMobile?"small":"medium",style:{"max-width":"300px"}},{default:a(()=>[t(e(P),{label:"目标饼干",path:"binggan"},{default:a(()=>[t(e(X),{value:o.value.binggan,"onUpdate:value":i[0]||(i[0]=c=>o.value.binggan=c)},null,8,["value"])]),_:1}),t(e(P),{label:"奖罚olo",path:"olo"},{default:a(()=>[t(e(ve),{value:o.value.olo,"onUpdate:value":i[1]||(i[1]=c=>o.value.olo=c),max:1e6,min:-1e6,step:1e3,parse:e(Je),format:e(Ge),placeholder:"正数是奖励，负数是罚款"},null,8,["value","parse","format"])]),_:1}),t(e(P),{label:"附带留言",path:"message"},{default:a(()=>[t(e(X),{value:o.value.message,"onUpdate:value":i[2]||(i[2]=c=>o.value.message=c),placeholder:"将显示在收支记录"},null,8,["value"])]),_:1}),t(e(O),{type:"primary",loading:e(F),disabled:e(F),onClick:ce},{default:a(()=>[...i[10]||(i[10]=[l("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"]),t(e(W),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:a(()=>[t(e(d),{style:{"font-size":"0.875rem"}},{default:a(()=>[...i[11]||(i[11]=[l("解锁UUID ",-1)])]),_:1})]),_:1}),t(e(Z),{ref_key:"uuidFormRef",ref:b,model:s.value,"label-placement":"left","label-width":"auto",rules:v,size:e(k).isMobile?"small":"medium",style:{"max-width":"450px"}},{default:a(()=>[t(e(P),{label:"解锁UUID",path:"uuid"},{default:a(()=>[t(e(X),{value:s.value.uuid,"onUpdate:value":i[3]||(i[3]=c=>s.value.uuid=c)},null,8,["value"])]),_:1}),t(e(O),{type:"primary",loading:e(pe),disabled:e(pe),onClick:$e},{default:a(()=>[...i[12]||(i[12]=[l("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"]),t(e(W),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:a(()=>[t(e(d),{style:{"font-size":"0.875rem"}},{default:a(()=>[...i[13]||(i[13]=[l("主题转区 ",-1)])]),_:1})]),_:1}),t(e(Z),{ref_key:"transferFormRef",ref:p,model:f.value,"label-placement":"left","label-width":"auto",rules:u,size:e(k).isMobile?"small":"medium",style:{"max-width":"450px"}},{default:a(()=>[t(e(P),{label:"主题ID",path:"thread_id"},{default:a(()=>[t(e(ve),{"show-button":!1,value:f.value.thread_id,"onUpdate:value":i[4]||(i[4]=c=>f.value.thread_id=c),max:1e6,min:1},null,8,["value"])]),_:1}),t(e(P),{label:"目标小岛",path:"forum_id"},{default:a(()=>[t(e(oe),{value:f.value.forum_id,"onUpdate:value":i[5]||(i[5]=c=>f.value.forum_id=c),options:I.value,"consistent-menu-width":!1,style:{width:"300px"}},null,8,["value","options"])]),_:1}),t(e(P),{label:"解锁日清",path:"nissin_clear"},{default:a(()=>[t(e(ee),{value:f.value.nissin_clear,"onUpdate:value":i[6]||(i[6]=c=>f.value.nissin_clear=c)},null,8,["value"])]),_:1}),t(e(O),{type:"primary",loading:e(fe),disabled:e(fe),onClick:Te},{default:a(()=>[...i[14]||(i[14]=[l("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"]),t(e(W),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:a(()=>[t(e(d),{style:{"font-size":"0.875rem"}},{default:a(()=>[...i[15]||(i[15]=[l("发放成就 ",-1)])]),_:1})]),_:1}),t(e(Z),{ref_key:"formRef",ref:_,model:z.value,"label-placement":"left","label-width":"auto",rules:n,size:e(k).isMobile?"small":"medium",style:{"max-width":"300px"}},{default:a(()=>[t(e(P),{label:"目标饼干",path:"binggan"},{default:a(()=>[t(e(X),{value:z.value.binggan,"onUpdate:value":i[7]||(i[7]=c=>z.value.binggan=c)},null,8,["value"])]),_:1}),t(e(P),{label:"发放成就",path:"medalId"},{default:a(()=>[t(e(oe),{value:z.value.medalId,"onUpdate:value":i[8]||(i[8]=c=>z.value.medalId=c),options:g,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),t(e(O),{type:"primary",loading:e(ge),disabled:e(ge),onClick:Fe},{default:a(()=>[...i[16]||(i[16]=[l("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"])]),_:1}))}}),yt=E({__name:"AdminCard",setup(V){const x=H(),k=q(),M=se(),b=G(()=>x.binggan===null||x.userData.binggan.admin_forums===void 0?[]:M.forumsData.reduce((p,r)=>(x.checkAdminForums(r.id)&&p.push({value:r.id,label:r.name,forumId:r.id}),p),[]));return(p,r)=>(m(),w(e(K),{hoverable:"",size:"small"},{default:a(()=>[t(e(y),{vertical:e(k).isMobile},{default:a(()=>[t(e(y),{size:"small",align:"center"},{default:a(()=>[...r[0]||(r[0]=[N("img",{src:"/ui/my-binggan.png",style:{"max-width":"50px","max-height":"50px"}},null,-1),N("span",null,"管理员中心",-1)])]),_:1}),N("div",null,[t(e(d),{depth:3},{default:a(()=>[...r[1]||(r[1]=[l("我管理的板块",-1)])]),_:1}),t(e(y),null,{default:a(()=>[(m(!0),A(h,null,L(b.value,_=>(m(),w(e(Re),null,{default:a(()=>[l(T(_.forumId)+". "+T(_.label),1)]),_:2},1024))),256))]),_:1})])]),_:1},8,["vertical"])]),_:1}))}}),$t=E({__name:"AdminCenter",setup(V){const x=H(),k=q(),M=U();document.title="管理员中心";const b=G(()=>{const p=[{name:"banners",tab:"版头设定",component:Xe}];return x.admin.isNormalAdmin&&p.unshift({name:"actives",tab:"管理状况",component:dt}),x.admin.isSuperAdmin?p.concat([{name:"global",tab:"全局设置",component:tt},{name:"super_actives",tab:"超管状况",component:bt},{name:"super_admin",tab:"超管操作",component:_t}]):p});return(p,r)=>(m(),w(e(y),{vertical:"",style:{"margin-top":"8px"}},{default:a(()=>[t(e(yt)),t(e(he),{type:"line","bar-width":e(k).isMobile?0:void 0,animated:"",size:e(k).isMobile?"small":"large",value:M.value,"onUpdate:value":r[0]||(r[0]=_=>M.value=_)},{default:a(()=>[(m(!0),A(h,null,L(b.value,_=>(m(),w(e(Be),{name:_.name,tab:_.tab,key:_.name},{default:a(()=>[(m(),w(Ee(_.component)))]),_:2},1032,["name","tab"]))),128))]),_:1},8,["bar-width","size","value"]),r[1]||(r[1]=N("div",{style:{height:"50px"}},null,-1))]),_:1}))}});export{$t as default};
