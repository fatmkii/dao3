const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-CX92nnuh.js","assets/vendor-TKhEiLHF.js","assets/globalSetting-d3wBwWrN.js","assets/shuffle-Bl2z5mvo.js","assets/forums-G6BqhANs.js","assets/Home-Dm4jxpRK.css","assets/404-BqzusaHa.js","assets/ForumPage-3whScl94.js","assets/subtitles-DW7M559j.js","assets/loudspeaker-BeE7tNuA.js","assets/LoudspeakerComponent-4C1Ivbyx.js","assets/LoudspeakerComponent-CeWHoYH8.css","assets/ThreadList-W8dK9gNc.js","assets/showDialog-Da8JjK79.js","assets/browseLogger-CL0k0N9N.js","assets/ThreadList-eFolxItn.css","assets/ForumPage-BlNKp2zl.css","assets/ThreadPage-CW5xDdIu.js","assets/emojiData-Csse3usw.js","assets/emojiData-B3Pkf3Q_.css","assets/PostInput.vue_vue_type_script_setup_true_lang-vBzX8atl.js","assets/inputNumberFormat-BPxWRFt_.js","assets/PostInput-B6_TgcdH.css","assets/admin-teRuTxTV.js","assets/ThreadPage-BLNm3zp0.css","assets/NewThread-DYoxyOKr.js","assets/UserCenter-DEOwG0SV.js","assets/UserCenter-QlP951R7.css","assets/AdminCenter-o1SeoiYj.js","assets/AdminCenter-CG8Hwt0M.css","assets/LoudspeakerPage-B-4r4Uvs.js","assets/LoudspeakerPage-B3s9d63i.css","assets/EmojiContest-fDjm4sA_.js","assets/EmojiContest-F3lSZ_az.css"])))=>i.map(i=>d[i]);
var Be=Object.defineProperty,Ae=Object.defineProperties;var ze=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var $e=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var ge=(t,e,o)=>e in t?Be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,q=(t,e)=>{for(var o in e||(e={}))$e.call(e,o)&&ge(t,o,e[o]);if(pe)for(var o of pe(e))Ue.call(e,o)&&ge(t,o,e[o]);return t},fe=(t,e)=>Ae(t,ze(e));var A=(t,e,o)=>new Promise((s,a)=>{var l=n=>{try{c(o.next(n))}catch(p){a(p)}},u=n=>{try{c(o.throw(n))}catch(p){a(p)}},c=n=>n.done?s(n.value):Promise.resolve(n.value).then(l,u);c((o=o.apply(t,e)).next())});import{c as je,a as Ge,d as re,t as x,l as _,b as $,u as Pe,e as He,f as ae,G as se,V as ne,g as H,n as T,h as Oe,i as Y,j as S,k as Ne,m as y,N as We,o as j,r as ke,p as F,q as r,B as qe,s as Q,v as J,w as K,x as i,y as X,z as Ve,A as Ye,C as Qe,D as le,E as d,F as ie,H as ue,I as M,J as w,K as O,L as h,M as he,O as ve,P as N,Q as Fe,R as Je,S as L,T as de,U as Ie,W as xe,X as Ke,Y as Xe,Z as V,_ as Ze,$ as et,a0 as tt,a1 as ot,a2 as rt,a3 as at,a4 as be,a5 as st,a6 as nt,a7 as lt,a8 as it,a9 as ut,aa as dt,ab as ct,ac as mt,ad as pt,ae as gt,af as ft}from"./vendor-TKhEiLHF.js";const ht="modulepreload",vt=function(t){return"/build/"+t},_e={},D=function(e,o,s){let a=Promise.resolve();if(o&&o.length>0){let n=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));a=n(o.map(p=>{if(p=vt(p),p in _e)return;_e[p]=!0;const b=p.endsWith(".css"),m=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const C=document.createElement("link");if(C.rel=b?"stylesheet":ht,b||(C.as="script"),C.crossOrigin="",C.href=p,c&&C.setAttribute("nonce",c),document.head.appendChild(C),b)return new Promise((I,P)=>{C.addEventListener("load",I),C.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&l(c.reason);return e().catch(l)})},bt=[{path:"/",name:"Homepage",component:()=>D(()=>import("./Home-CX92nnuh.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/:pathMatch(.*)*",name:"Page404",component:()=>D(()=>import("./404-BqzusaHa.js"),__vite__mapDeps([6,1]))},{path:"/forum/:forumId/:page?",name:"forum",props:t=>({forumId:parseInt(t.params.forumId),page:t.params.page?parseInt(t.params.page):1,search:t.query.search,delay:t.query.delay==="true"}),component:()=>D(()=>import("./ForumPage-3whScl94.js"),__vite__mapDeps([7,1,4,8,3,9,10,11,12,13,14,15,16]))},{path:"/thread/:threadId/:page?",name:"thread",props:t=>({threadId:parseInt(t.params.threadId),page:t.params.page?parseInt(t.params.page):1,search:t.query.search}),component:()=>D(()=>import("./ThreadPage-CW5xDdIu.js"),__vite__mapDeps([17,1,18,13,4,19,9,20,21,22,10,11,23,14,24]))},{path:"/new-thread/:forumId",name:"new-thread",props:t=>({forumId:parseInt(t.params.forumId)}),component:()=>D(()=>import("./NewThread-DYoxyOKr.js"),__vite__mapDeps([25,1,13,4,20,18,19,21,22,8]))},{path:"/user-center",component:()=>D(()=>import("./UserCenter-DEOwG0SV.js"),__vite__mapDeps([26,1,4,12,13,14,15,18,19,21,27])),name:"user-center"},{path:"/admin-center",component:()=>D(()=>import("./AdminCenter-o1SeoiYj.js"),__vite__mapDeps([28,1,23,4,21,29])),name:"admin-center"},{path:"/loudspeaker",component:()=>D(()=>import("./LoudspeakerPage-B-4r4Uvs.js"),__vite__mapDeps([30,1,23,2,9,31])),name:"loudspeaker"},{path:"/emoji-moe",component:()=>D(()=>import("./EmojiContest-fDjm4sA_.js"),__vite__mapDeps([32,1,3,33])),name:"emoji-moe"}],_t=je({history:Ge(),routes:bt,scrollBehavior(t,e,o){return o||(t.hash?!1:{top:0})}}),R=re("commonStore",()=>{const t=x(!1),e=x(0),o=x(document.body.clientWidth),s=x(document.body.clientWidth<1200),a=_(()=>o.value>=532?"500px":o.value-32+"px");window.addEventListener("resize",()=>{s.value=document.body.clientWidth<1200,o.value=document.body.clientWidth});const l=x(!0);function u(){const P=document.getElementById("app").offsetWidth-24;return Math.ceil(P*250/920)+"px"}const c=x(u());window.addEventListener("resize",()=>c.value=u());const n=_(()=>{const I=[{month:6,date:18},{month:11,date:11},{month:1,date:28},{month:1,date:29}],P=$.tz();let E=!1;return I.forEach(v=>{P.month()+1===v.month&&P.date()===v.date&&(E=!0)}),E}),p=_(()=>{const I=[{month:10,date:1}],P=$.tz();let E=!1;return I.forEach(v=>{P.month()+1===v.month&&P.date()===v.date&&(E=!0)}),E}),b=_(()=>$.tz().month()===9),m=Pe("user_custom",{version:240505,imgHost:"imgbb",hongbaoThenStop:!1,holdPageWhenListening:!1,lessToast:!1,postLegacyMode:!1,monochromeMode:!1,sidebarLeft:!1,loudspeakerPosition:"bottom",quoteMax:3,foldMaxLine:16,emojiWhiteBack:!1,lineHeightPost:28,fontSizePost:16,fontSizeQuote:16,fontSizeFooter:14,fontSizeThreadList:16,fontSizeThreadListFooter:14,fontSizeInput:16,threadListCardPadding:12,threadListInnerMargin:6,postCardPadding:12,postInnerMargin:12,hidePingbiciFloor:!1,pingbiciIngnoreCase:!1},localStorage,{mergeDefaults:!0});function C(){const I={title:"重置设定",closable:!1,content:"确定要重置所有一般设定吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{m.value.quoteMax=3,m.value.foldMaxLine=16,m.value.lineHeightPost=28,m.value.fontSizePost=16,m.value.fontSizeQuote=16,m.value.fontSizeFooter=14,m.value.fontSizeThreadList=16,m.value.fontSizeThreadListFooter=14,m.value.fontSizeInput=16,m.value.threadListCardPadding=12,m.value.threadListInnerMargin=6,m.value.postCardPadding=12,m.value.postInnerMargin=12,m.value.emojiWhiteBack=!1}};window.$dialog.warning(I)}return{unauthModalShow:t,requestErrorCode:e,isMobile:s,clientWidth:o,showTopbarNav:l,bannerHeight:c,isDouble11:n,isOctober:b,isOctober1st:p,userCustom:m,modalMaxWidth:a,userCustomReset:C}}),Ce={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"rgba(249, 249, 249, 1)"},Button:{colorPrimary:"#32BA32FF"},Card:{color:"#fafffa80"}},Ct={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#f5f6f8",primaryColor:"#333639FF"},Button:{colorPrimary:"#333639FF"},Card:{color:"#FFFFFF80"},Tabs:{tabTextColorActiveLine:"#18A058FF",tabTextColorHoverLine:"#18A058FF"}},yt={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',textColor1:"rgba(255, 255, 255, 0.73)",textColor2:"rgba(255, 255, 255, 0.66)"},Card:{colorEmbedded:"rgba(44, 44, 50, 1)",color:"rgba(44, 44, 50, 0.5)"}},St={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#eefaee"},Card:{color:"#fafffa80",borderColor:"rgba(233, 245, 234, 1)"},Button:{colorPrimary:"#52b051FF",colorHoverPrimary:"#3ba251FF",color:"#ffffffFF",colorHover:"#ffffffFF",colorPressed:"#ffffffFF",colorFocus:"#ffffffFF",colorDisabled:"#ffffffFF",colorPressedPrimary:"#3a9958FF",borderPressedPrimary:"0px",borderFocusPrimary:"0px",borderDisabledPrimary:"0px",borderHoverPrimary:"0px",borderPrimary:"0px",colorSecondary:"rgba(46, 51, 56, .05)",colorTertiary:"rgba(46, 51, 56, .05)",textColorTertiary:"rgb(118, 124, 130)"}},ye={topBarBackgroudColor:"#FFF",sidebarColor:"#90d590",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},wt={topBarBackgroudColor:"#FFF",sidebarColor:"#aaaaaa",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},Pt={topBarBackgroudColor:"#18181CFF",sidebarColor:"#316c58",postItemBorderColor:"#FFFFFF17",postFooterColor:"#FFFFFF85"},kt={topBarBackgroudColor:"#fafffaFF",sidebarColor:"#52b051",postItemBorderColor:"#5FB878",postFooterColor:"#5FB878"},ce=re("themeStore",()=>{const t=Pe("theme","green");function e(u){t.value=u}const o=_(()=>({light:null,sfw:null,dark:He,green:null})[t.value]||null),s=_(()=>({light:Ce,sfw:Ct,dark:yt,green:St})[t.value]||Ce),a=_(()=>({light:{strong:!0,secondary:!0,tertiary:!1},sfw:{strong:!0,secondary:!1,tertiary:!0},dark:{strong:!0,secondary:!0,tertiary:!1},green:{strong:!1,secondary:!1,tertiary:!1}})[t.value]||{strong:!0,secondary:!0,tertiary:!1}),l=_(()=>({light:ye,sfw:wt,dark:Pt,green:kt})[t.value]||ye);return{themeClass:o,themeOverrideClass:s,themeChange:e,buttonThemeAttr:a,themeColor:l}}),f=ae({statesHook:ne,requestAdapter:se(),beforeRequest:t=>{t.config.headers.Accept="application/json";const e=localStorage.getItem("Token");e&&(t.config.headers.Authorization="Bearer "+e)},responded:{onSuccess:(t,e)=>A(null,null,function*(){var a;const o=R();if(t.status>=400){if(o.requestErrorCode=t.status,t.status==401)throw o.unauthModalShow=!0,new Error(t.statusText,{cause:{code:t.status}});const l=yield t.json();throw l.message?(window.$message.error(JSON.stringify(l.message),{closable:!0,duration:5e3}),new Error(l.message,{cause:{code:l.code}})):(window.$message.error(t.statusText,{closable:!0,duration:5e3}),new Error(t.statusText,{cause:{code:l.code}}))}const s=yield t.json();if(s.code!==200)throw o.requestErrorCode=s.code,s.code==21499?(o.unauthModalShow=!0,new Error(s.message,{cause:{code:s.code}})):(window.$message.error(JSON.stringify(s.message),{closable:!0,duration:5e3}),new Error(s.message,{cause:{code:s.code}}));return(a=e.meta)!=null&&a.shouldRemind&&!o.userCustom.lessToast&&window.$message.success(s.message),s.data}),onError:(t,e)=>{throw window.$message.error("嗷！好像网络出错了。"),t},onComplete:t=>A(null,null,function*(){})},errorLogger:!1,cacheLogger:!1}),Ft=ae({statesHook:ne,requestAdapter:se(),responded:{onSuccess:(t,e)=>A(null,null,function*(){return yield t.json()}),onError:(t,e)=>{throw window.$message.error("嗷！好像网络出错了。"),t},onComplete:t=>A(null,null,function*(){})},errorLogger:!1,cacheLogger:!1});ae({statesHook:ne,requestAdapter:se(),beforeRequest:t=>{},responded:{onSuccess:(t,e)=>A(null,null,function*(){if(t.status>=400)throw new Error(t.statusText);return t}),onError:(t,e)=>{},onComplete:t=>A(null,null,function*(){})},errorLogger:!1,cacheLogger:!1});const It=t=>f.Post("/api/user/show",{binggan:t},{name:"userDataGetter",params:{},localCache:{mode:"placeholder",expire:3600*1e3},hitSource:[/^user(?!DataGetter).*$/,"newPostPoster","pingbiciAddPoster","pingbiciSetPoster","myEmojisAddPoster","myEmojisSetPoster","bankDepositPoster","bankWithdrawPoster","newCustomBingganPoster","battleCreatePoster","battleChanllengerRollPoster","hongbaoPostCreatePoster","hongbaoPostStorePoster","hongbaoStorePoster","newLoudspeakerPoster","deletePostDeleter","recoverPostPutter","newThreadPoster","threadChangeColorPoster","delayThreadDeleter"]}),xt=t=>f.Post("api/user/register",{register_key:t},{name:"userRegisterPoster",params:{},localCache:null,hitSource:[]}),Zt=t=>{const e=f.Post("api/user/reward",t,{name:"userRewardPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},eo=t=>{const e=f.Post("api/user/water_unlock",t,{name:"waterUnlockPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},to=t=>{const e=f.Post("api/user/my_emoji_set",t,{name:"myEmojisSetPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},oo=t=>{const e=f.Post("api/user/my_emoji_add",t,{name:"myEmojisAddPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},Tt=()=>{const t=f.Get("api/user/check_reg_record",{name:"checkRegisterRecordPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},ro=t=>{const e=f.Post("api/income/show_day_v2",t,{name:"incomeDataGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},ao=t=>{const e=f.Get("api/income/show_sum_v2",{name:"incomeSumDataGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},so=t=>{const e=f.Post("api/user/pingbici_set",t,{name:"pingbiciSetPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},no=t=>{const e=f.Post("api/user/pingbici_add",t,{name:"pingbiciAddPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},lo=t=>{const e=f.Post("api/user/show_medals",t,{name:"getMedalsDataPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},io=t=>{const e=f.Post("api/user/show_medal_progress",t,{name:"getMedalProgressPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},uo=t=>{const e=f.Post("api/user/show_bank",t,{name:"getBankDataPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},co=t=>{const e=f.Post("api/user/bank_deposit",t,{name:"bankDepositPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},mo=t=>{const e=f.Post("api/user/bank_withdraw",t,{name:"bankWithdrawPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},po=t=>{const e=f.Get("api/user/user_lv_show",{name:"getUserLevelGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},go=t=>{const e=f.Post("api/user/user_lv_up",t,{name:"userLevelUpPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},fo=t=>{const e=f.Post("api/user/create_custom",t,{name:"newCustomBingganPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},ho=t=>{const e=f.Get("api/user/my_battle_chara",{name:"getUserLevelGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},vo=t=>{const e=f.Post("api/user/my_battle_chara_set",t,{name:"setUserCharaPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},Z=re("userStore",()=>{const t=x(!1),e=localStorage.getItem("Binggan"),o=localStorage.getItem("Token"),s={binggan:{nickname:"= =",coin:0,coin_in_bank:0,use_pingbici:!1,new_msg:!1,user_lv:0,locked_ttl:0},my_battle_chara:[],emoji_excluded:[],pingbici:{content_pingbici:[],fjf_pingbici:[],title_pingbici:[]},my_emoji:[]},{loading:a,data:l,onSuccess:u,send:c}=H(It,{initialData:s,immediate:!1});e&&o&&(t.value=!0,c(e));function n(){c(e)}function p(m){return m===void 0||a.value||l.value.binggan.admin_forums===void 0?!1:l.value.binggan.admin_forums.includes(m)}const b=_(()=>{var C;const m=(C=l.value.binggan.admin)!=null?C:0;return{isForumAdmin:m>=1,isNormalAdmin:m>=10,isSeniorAdmin:m>=20,isSuperAdmin:m>=99}});return{userDataLoading:a,userData:l,userLoginStatus:t,binggan:e,admin:b,refreshUserData:n,checkAdminForums:p}}),Lt=T({setup(){window.$dialog=Oe()}}),Te=(t,e)=>{const o=t.__vccOpts||t;for(const[s,a]of e)o[s]=a;return o};function Mt(t,e,o,s,a,l){return S(),Y("div")}const Rt=Te(Lt,[["render",Mt]]),Et=T({setup(){window.$message=Ne()}});function Dt(t,e,o,s,a,l){return S(),Y("div")}const Bt=Te(Et,[["render",Dt]]),At=(t,e)=>f.Post("/api/login",{binggan:t,password:e},{name:"userLoginPoster",params:{},localCache:null}),zt=t=>f.Post("/api/logout",{binggan:t},{name:"userLogoutPoster",params:{},localCache:null}),bo=t=>{const e=f.Post("/api/set_password",t,{name:"userSetPasswordPoster",params:{},localCache:null});return e.meta={shouldRemind:!0},e};function Le(){localStorage.removeItem("Binggan"),localStorage.removeItem("Token"),window.location.href="/"}const $t={size:"1rem"},z=(t,e=$t)=>{let o="1rem";return typeof e.size=="string"?o=e.size:typeof e.size=="number"&&(o=e.size+"rem"),()=>y(We,{size:o,color:e.color},{default:()=>y(t)})},_o=()=>{const t=f.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Co=t=>{const e=new FormData;e.append("file",t.file),e.append("mode",t.mode),e.append("binggan",t.binggan),e.append("thread_id",String(t.thread_id)),e.append("forum_id",String(t.forum_id));const o=f.Post("api/img_upload",e,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return o.meta={shouldRemind:!0},o},yo=t=>{const e=new FormData;e.append("file",t.file);const o=Ft.Post(t.url,e,{name:"uploadImageToPublicPoster",params:{},localCache:null,hitSource:[]});return o.meta={shouldRemind:!0},o},Ut=()=>{const t=f.Get("api/new_binggan_check",{name:"newBingganCheckGetter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t};function jt(t){var e,o,s="",a;for(t+="",e=0,o=t.length;e<o;e++)a=t.charCodeAt(e).toString(16),s+=a.length<2?"0"+a:a;return s}function Gt(t){var e=document.createElement("canvas"),o=e.getContext("2d"),s=t;o.textBaseline="top",o.font="14px 'Arial'",o.textBaseline="alphabetic",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.fillText(s,2,15),o.fillStyle="rgba(102, 204, 0, 0.7)",o.fillText(s,4,17);var a=e.toDataURL().replace("data:image/png;base64,",""),l=atob(a),u=jt(l.slice(-16,-12));return u}function Ht(){const t="XiaoHuoGuoCpttmm",e="abcdef0123456789",o=j.enc.Utf8.parse(t);var a={iv:j.enc.Utf8.parse(e),mode:j.mode.CBC,padding:j.pad.Pkcs7};const l=Gt("BrowserLeaks,com <canvas> 1.0"),u=j.MD5(navigator.userAgent).toString().substr(0,8);return j.AES.encrypt("XiaoHuoGuo"+l+u,o,a).toString()}const U=T({__name:"FButton",setup(t){const e=R(),o=ce(),s=ke(),a=_(()=>q(q({},s),o.buttonThemeAttr)),l=_(()=>e.isMobile?"small":"medium");return(u,c)=>(S(),F(r(qe),Q({round:"",size:l.value},a.value),J({_:2},[K(u.$slots,(n,p,b)=>({name:p,fn:i(()=>[X(u.$slots,p)])}))]),1040,["size"]))}}),Se=T({__name:"FInput",props:{autoSize:{type:Boolean,default:!1}},setup(t){const e=R(),o=t,s=_(()=>o.autoSize&&e.isMobile?"small":"medium");return(a,l)=>(S(),F(r(Ve),Q({round:"",size:s.value},a.$attrs),J({_:2},[K(a.$slots,(u,c,n)=>({name:c,fn:i(()=>[X(a.$slots,c)])}))]),1040,["size"]))}}),we=T({__name:"FInputGroupLabel",props:{round:{type:Boolean,default:!0},autoSize:{type:Boolean,default:!1}},setup(t){const e=R(),o=ke(),s=t,a=s.round?{"border-bottom-left-radius":"17px","border-top-left-radius":"17px"}:void 0,l=_(()=>fe(q({},o),{style:a})),u=_(()=>s.autoSize&&e.isMobile?"small":"medium");return(c,n)=>(S(),F(r(Ye),Q({size:u.value},l.value),J({_:2},[K(c.$slots,(p,b,m)=>({name:b,fn:i(()=>[X(c.$slots,b)])}))]),1040,["size"]))}}),Ot=T({__name:"FCheckbox",setup(t){const e=R(),o=_(()=>e.isMobile?"small":"medium");return(s,a)=>(S(),F(r(Qe),Q({size:o.value},s.$attrs),J({_:2},[K(s.$slots,(l,u,c)=>({name:u,fn:i(()=>[X(s.$slots,u)])}))]),1040,["size"]))}}),Nt=T({__name:"LoginModal",emits:["submitRegister"],setup(t,{expose:e,emit:o}){const s=R(),a=Z(),l=x(!1);e({show:()=>l.value=!0});const c=x(""),n=x(""),p=_(()=>m.value.enable?"领取饼干开放中！":"领取饼干尚未开放"),b=_(()=>$(m.value.next_date*1e3).format("YYYY年M月D日")),{data:m}=H(Ut,{initialData:{enable:!1,next_date:0}}),{data:C}=H(Tt(),{initialData:{reg_record_TTL:-2}}),I=_(()=>{var G,g;if(!(((G=C.value)==null?void 0:G.reg_record_TTL)<=0))return`在${Math.floor(((g=C.value)==null?void 0:g.reg_record_TTL)/3600)}小时后才能再次领取饼干。`}),P=()=>{te(c.value,n.value),n.value=""},{loading:E,onSuccess:v,data:k,send:te}=H(At,{immediate:!1});v(()=>{localStorage.Token=k.value.token,localStorage.Binggan=k.value.binggan,window.location.href="/"});const W=()=>{Ee(Ht())},{loading:me,onSuccess:Me,onError:Re,data:oe,send:Ee}=H(xt,{immediate:!1});Me(()=>{a.binggan=oe.value.binggan,localStorage.Token=oe.value.token,localStorage.Binggan=oe.value.binggan,l.value=!1,De("submitRegister")}),Re(G=>{window.$dialog.error({title:"申请饼干失败",content:G.error.message})});const De=o;return(G,g)=>(S(),F(r(le),{show:l.value,"onUpdate:show":g[4]||(g[4]=B=>l.value=B),"display-directive":"if"},{default:i(()=>[d(r(ie),{style:ue({maxWidth:r(s).modalMaxWidth}),title:"欢迎来到小火锅！",closable:"",onClose:g[3]||(g[3]=B=>l.value=!1),size:"small"},{action:i(()=>[d(r(M),{justify:"end"},{default:i(()=>[r(C).reg_record_TTL>0?(S(),F(r(L),{key:0,style:{"margin-right":"auto"}},{default:i(()=>[h(N(I.value),1)]),_:1})):O("",!0),d(r(U),{onClick:g[2]||(g[2]=B=>l.value=!1)},{default:i(()=>[...g[11]||(g[11]=[h("关闭",-1)])]),_:1})]),_:1})]),default:i(()=>[d(r(M),{vertical:""},{default:i(()=>[g[10]||(g[10]=w("div",null,[h("这里是私人论坛小火锅，欢迎来玩！"),w("br"),h("QQ小火锅避难群：156840110 "),w("br"),h("使用前需要在下面领取或者导入饼干喔")],-1)),d(r(he),null,{default:i(()=>[d(r(we),{style:{width:"3.2rem"}},{default:i(()=>[...g[5]||(g[5]=[h("饼干",-1)])]),_:1}),d(r(Se),{value:c.value,"onUpdate:value":g[0]||(g[0]=B=>c.value=B),placeholder:"请输入饼干",maxlength:"16",onKeyup:ve(P,["enter"])},null,8,["value"])]),_:1}),d(r(he),null,{default:i(()=>[d(r(we),{style:{width:"3.2rem"},class:"round"},{default:i(()=>[...g[6]||(g[6]=[h("密码",-1)])]),_:1}),d(r(Se),{type:"password",placeholder:"（可留空）请输入密码","show-password-on":"mousedown",value:n.value,"onUpdate:value":g[1]||(g[1]=B=>n.value=B),onKeyup:ve(P,["enter"])},null,8,["value"])]),_:1}),d(r(M),null,{default:i(()=>[d(r(U),{type:"warning",disabled:r(me)||!r(m).enable||r(C).reg_record_TTL>0,onClick:W},{default:i(()=>[h(N(p.value),1)]),_:1},8,["disabled"]),d(r(U),{style:{"margin-left":"auto"},type:"primary",onClick:P,disabled:r(E)},{default:i(()=>[...g[7]||(g[7]=[h("导入饼干",-1)])]),_:1},8,["disabled"])]),_:1}),r(m).enable?O("",!0):(S(),Y(Fe,{key:0},[d(r(Je),{trigger:"hover"},{trigger:i(()=>[...g[8]||(g[8]=[w("span",null,"领取饼干为定期开放（点击查看开放时间）",-1)])]),default:i(()=>[g[9]||(g[9]=w("span",null,[h("开放时间为："),w("br"),h("每月第1日、春节(3天)、国庆(3天)、"),w("br"),h("端午、中秋、618和双十一")],-1))]),_:1}),w("div",null,"下次开放："+N(b.value),1)],64))]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Wt=T({__name:"RegisterHintModal",setup(t,{expose:e}){const o=Z(),s=R(),a=x(!1);e({show:()=>a.value=!0});function u(){a.value=!1,window.location.href="/"}return(c,n)=>{const p=de("router-link");return S(),F(r(le),{show:a.value,"onUpdate:show":n[1]||(n[1]=b=>a.value=b),"display-directive":"if"},{default:i(()=>[d(r(ie),{style:ue({maxWidth:r(s).modalMaxWidth}),title:"欢迎加入小火锅！",closable:"",onClose:n[0]||(n[0]=b=>a.value=!1),size:"small"},{action:i(()=>[d(r(M),{justify:"end"},{default:i(()=>[d(r(U),{onClick:u},{default:i(()=>[...n[11]||(n[11]=[h("关闭",-1)])]),_:1})]),_:1})]),default:i(()=>[d(r(M),{vertical:"",size:"medium",style:{"word-wrap":"break-word"}},{default:i(()=>[w("div",null,[n[2]||(n[2]=h("你的饼干是：",-1)),d(r(L),{strong:"",type:"info",style:{"font-size":"1.5rem"}},{default:i(()=>[h(N(r(o).binggan),1)]),_:1}),n[3]||(n[3]=w("br",null,null,-1)),n[4]||(n[4]=h("（之后在个人中心也可以查看）",-1))]),d(r(L),{depth:"2"},{default:i(()=>[...n[5]||(n[5]=[h("① 饼干就是你的小火锅账号。请保存好，不要泄露喔！",-1)])]),_:1}),d(r(L),{depth:"2"},{default:i(()=>[n[7]||(n[7]=h("② 为了账号安全，",-1)),d(r(L),{strong:"",type:"error"},{default:i(()=>[...n[6]||(n[6]=[h("建议尽快在个人中心设定密码。",-1)])]),_:1})]),_:1}),d(r(L),{depth:"2"},{default:i(()=>[n[9]||(n[9]=h("③ 请务必遵守",-1)),d(p,{to:"/thread/13351"},{default:i(()=>[...n[8]||(n[8]=[h("小火锅版规",-1)])]),_:1}),n[10]||(n[10]=h("喔！",-1))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])}}}),qt=T({__name:"TopBar",setup(t){Ie(v=>({"51bb01be":r(n).textColor1,"241e0506":r(c).themeColor.topBarBackgroudColor,"8a612fe6":r(n).dividerColor}));const e=Z(),o=R(),s=Ke(),a=Xe(),l=x(null),u=x(null),c=ce(),n=xe(),p=[{label:"魔芋锅",key:"sfw",icon:z(V,{color:"#F9F9F9"})},{label:"白汤锅",key:"light",icon:z(V,{color:"#d9efd9"})},{label:"芝麻锅",key:"dark",icon:z(V,{color:"#101014"})},{label:"青菜锅",key:"green",icon:z(V,{color:"#53A551"})},{type:"render",key:"monochrome",render:b}];function b(){return y(M,{style:"padding:6px 8px",vertical:!0},()=>[y(Ot,{checked:o.userCustom.monochromeMode,"onUpdate:checked":v=>o.userCustom.monochromeMode=v,label:"单色模式"})])}function m(){return y(M,{vertical:!0},()=>[y("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[y("img",{style:"max-height: 40px;",src:"/ui/my-binggan.png"}),y("div",null,[y("div",null,[y(L,{depth:3},{default:()=>"我的饼干"})]),y("div",{style:"font-size: 1rem;"},[y(L,{depth:2},{default:()=>e.binggan})])])]),y("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[y("img",{style:"max-height: 40px;",src:"/ui/my-olo.png"}),y("div",null,[y("div",null,[y(L,{depth:3},{default:()=>"奥利奥"})]),y("div",{style:"font-size: 1rem;"},[y(L,{depth:2},{default:()=>e.userData.binggan.coin})])])])])}const C=_(()=>{const v=[{key:"header",type:"render",render:m},{key:"header-divider",type:"divider"},{label:"个人中心",key:"profile",icon:z(Ze,{size:"1.25rem"}),props:{onClick:()=>s.push("/user-center")}},{label:"退出饼干",key:"logout",icon:z(et,{size:"1.25rem"}),props:{onClick:I}}];return e.admin.isForumAdmin&&v.splice(3,0,{label:"管理中心",key:"admin",icon:z(tt,{size:"1.25rem"}),props:{onClick:()=>s.push("/admin-center")}}),v});function I(){const v={title:"退出饼干",closable:!1,content:"确定要退出饼干吗？请务必先记下自己的饼干喔。",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{zt(e.binggan).then(()=>{Le(),window.location.href="/"})}};window.$dialog.warning(v)}function P(){e.refreshUserData()}function E(){var v;(v=u.value)==null||v.show()}return ot(()=>{var v;!(localStorage.getItem("Binggan")&&localStorage.getItem("Token"))&&a.path=="/"&&((v=l.value)==null||v.show())}),(v,k)=>{const te=de("router-link");return S(),F(r(M),{class:"top-bar",align:"center",wrap:!1},{default:i(()=>{var W;return[w("img",{src:"/favicon.png",alt:"",onClick:k[0]||(k[0]=me=>v.$router.push("/"))}),rt(d(te,{to:"/"},{default:i(()=>[...k[1]||(k[1]=[h(" 小火锅 ",-1)])]),_:1},512),[[at,r(o).showTopbarNav]]),k[4]||(k[4]=w("div",{id:"topbar-nav",style:{"flex-shrink":"1",overflow:"hidden"}},null,-1)),k[5]||(k[5]=w("div",{id:"topbar-func"},null,-1)),d(r(be),{trigger:r(o).isMobile?"click":"hover",options:p,onSelect:r(c).themeChange},{default:i(()=>[...k[2]||(k[2]=[w("img",{src:"/ui/skin.png",style:{"margin-left":"auto"},class:"img-icon"},null,-1)])]),_:1},8,["trigger","onSelect"]),r(e).userLoginStatus?(S(),F(r(be),{key:0,trigger:r(o).isMobile?"click":"hover",options:C.value},{default:i(()=>[w("img",{src:"/ui/user-center.png",onMouseenter:P,class:"img-icon"},null,32)]),_:1},8,["trigger","options"])):O("",!0),!r(e).userDataLoading&&!r(e).userLoginStatus?(S(),F(r(U),{key:1,type:"primary",onClick:(W=l.value)==null?void 0:W.show},{default:i(()=>[...k[3]||(k[3]=[h(" 导入饼干 ",-1)])]),_:1},8,["onClick"])):O("",!0),!r(e).userDataLoading&&!r(e).userLoginStatus?(S(),Y(Fe,{key:2},[d(Nt,{ref_key:"LoginModalCom",ref:l,onSubmitRegister:E},null,512),d(Wt,{ref_key:"registerHintModalCom",ref:u},null,512)],64)):O("",!0)]}),_:1})}}}),Vt={style:{"margin-left":"auto"}},Yt=T({__name:"UnauthModal",setup(t){const e=R(),o=_(()=>e.requestErrorCode===401?"你未导入饼干，或者饼干的登录信息已失效。请申请或重新导入饼干。":e.requestErrorCode===21499?"嗷……你的饼干被碎了。请申请或重新导入饼干。":"");return(s,a)=>(S(),F(r(le),{show:r(e).unauthModalShow,"onUpdate:show":a[2]||(a[2]=l=>r(e).unauthModalShow=l),"display-directive":"if"},{default:i(()=>[d(r(ie),{style:ue({maxWidth:r(e).modalMaxWidth}),closable:"",onClose:a[1]||(a[1]=l=>r(e).unauthModalShow=!1),size:"small"},{action:i(()=>[d(r(M),{justify:"end"},{default:i(()=>[d(r(U),{onClick:r(Le),type:"primary"},{default:i(()=>[...a[4]||(a[4]=[h("导入饼干",-1)])]),_:1},8,["onClick"]),d(r(U),{onClick:a[0]||(a[0]=l=>r(e).unauthModalShow=!1)},{default:i(()=>[...a[5]||(a[5]=[h("关闭",-1)])]),_:1})]),_:1})]),default:i(()=>[d(r(M),{vertical:""},{default:i(()=>[a[3]||(a[3]=w("img",{src:"https://wmimg.com/i/1547/2025/02/67adef97e42d8.png",alt:"需要饼干才能进入喔"},null,-1)),w("div",Vt,N(o.value),1)]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Qt=T({__name:"App",setup(t){Ie(l=>({"569fcae7":r(s).userCustom.fontSizeQuote+"px","4f154f2c":r(o).textColor3,"4c417994":r(o).warningColor,fbf9aa24:r(o).primaryColor,"34b79c30":r(o).errorColor,"175e64d6":r(e).themeColor.postFooterColor,"7d36bd43":a.value}));const e=ce(),o=xe();Z();const s=R(),a=_(()=>s.userCustom.emojiWhiteBack?"#FFFFFF":void 0);return(l,u)=>{const c=de("router-view");return S(),F(r(nt),{theme:r(e).themeClass,"theme-overrides":r(e).themeOverrideClass,locale:r(st)},{default:i(()=>[d(r(lt)),d(r(it),null,{default:i(()=>[d(Bt)]),_:1}),d(r(ut),null,{default:i(()=>[d(Rt)]),_:1}),d(qt),d(c,null,{default:i(({Component:n})=>[(S(),F(dt,{include:"ThreadPage,NewThread"},[(S(),F(ct(n)))],1024))]),_:1}),d(Yt)]),_:1},8,["theme","theme-overrides","locale"])}}});$.extend(mt);$.extend(pt);$.tz.setDefault("Asia/Shanghai");const Jt=gt(),ee=ft({});ee.component("app",Qt);ee.use(_t);ee.use(Jt);ee.mount("#app");export{po as A,go as B,lo as C,io as D,bo as E,so as F,oo as G,Te as _,Z as a,U as b,Se as c,Ot as d,we as e,Zt as f,f as g,ce as h,_o as i,Co as j,yo as k,uo as l,co as m,mo as n,ho as o,no as p,fo as q,z as r,vo as s,zt as t,R as u,Le as v,eo as w,to as x,ro as y,ao as z};
