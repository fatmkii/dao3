import{aZ as ze,S as n,w as q,a_ as $t,a7 as De,I as ft,a$ as Jt,ak as Qt,b0 as en,a0 as ne,Y as B,aQ as xt,b1 as tn,b2 as nn,a4 as te,$ as R,q as Je,ag as nt,ai as Ve,X as Lt,J as $e,d as U,L as qe,a8 as pt,b3 as on,b4 as an,ac as Ze,b5 as ln,ae as ot,C as Ie,ay as oe,ad as ut,m as ye,b6 as rn,b7 as dt,V as vt,b8 as sn,e as Ke,a5 as ct,a1 as Q,b9 as Be,aC as Tt,az as Bt,aA as Mt,aB as Dt,ba as un,al as yt,K as Qe,ax as dn,av as Ot,bb as cn,aJ as Me,bc as hn,bd as gn,as as Ct,Z as we,be as fn,bf as pn,a3 as vn,x as mn,bg as wn,bh as kt,ah as bn,A as E,F as ue,j as ee,aE as At,bi as pe,b as Le,o as Re,g as xn,c as et,M as se,f as h,H as u,a as o,k as le,n as de,z as D,h as xe,s as Pe,i as Oe,aG as Ae,aF as Ne,bj as ht,aI as _t,Q as Ue,N as be,aY as yn,aX as Cn,bk as kn,aU as _n,p as zn,v as Rn,G as He,y as Xe,bl as Sn}from"./app-CbdLWzt8.js";import{s as Pn}from"./showDialog-DaE_F1t-.js";import{u as In}from"./forums-CmaLuKEH.js";import{_ as Ce}from"./FInput.vue_vue_type_script_setup_true_lang-baSRWhJU.js";import{c as $n,_ as ie}from"./index-BwQFl2QQ.js";import{N as ae}from"./InputGroup-ChF4aLXM.js";import{N as Fe}from"./Switch-zxxZo8tV.js";import{N as Ee}from"./Select-DTULi6vq.js";import{a as Ln,N as it}from"./Grid-i3TLFYM0.js";import{N as Tn}from"./ColorPicker-B_FwFfK_.js";import{A as Bn}from"./Add-DgyN-kRp.js";import{u as Mn}from"./use-locale-B6bKXE1s.js";import{c as Dn}from"./_createCompounder-B8t-2BGF.js";import{a as On}from"./Ellipsis-BAGfKKJV.js";import{d as jt}from"./download-sglA049O.js";import{E as An,N as jn}from"./Input-DyEBFTwa.js";import{e as Hn}from"./emojiData-k9xnXPRi.js";import{a as zt,b as Nn,N as Un}from"./Tabs-CHDmfRv1.js";var Fn=Dn(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()});const En=ze("attach",n("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n("g",{fill:"currentColor","fill-rule":"nonzero"},n("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Wn=ze("trash",n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),n("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),n("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),n("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),qn=ze("download",n("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n("g",{fill:"currentColor","fill-rule":"nonzero"},n("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Vn=ze("cancel",n("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},n("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},n("g",{fill:"currentColor","fill-rule":"nonzero"},n("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Xn=ze("retry",n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},n("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),n("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Gn=ze("rotateClockwise",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),n("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Yn=ze("rotateClockwise",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),n("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Zn=ze("zoomIn",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),n("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Kn=ze("zoomOut",n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),n("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Jn=q({name:"ResizeSmall",render(){return n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n("g",{fill:"none"},n("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Qn=$t&&"loading"in document.createElement("img"),eo=(e={})=>{var t;const{root:a=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof a=="string"?document.querySelector(a):a)||document.documentElement})}},at=new WeakMap,lt=new WeakMap,rt=new WeakMap,to=(e,t,a)=>{if(!e)return()=>{};const r=eo(t),{root:l}=r.options;let c;const f=at.get(l);f?c=f:(c=new Map,at.set(l,c));let m,d;c.has(r.hash)?(d=c.get(r.hash),d[1].has(e)||(m=d[0],d[1].add(e),m.observe(e))):(m=new IntersectionObserver(g=>{g.forEach(z=>{if(z.isIntersecting){const p=lt.get(z.target),b=rt.get(z.target);p&&p(),b&&(b.value=!0)}})},r.options),m.observe(e),d=[m,new Set([e])],c.set(r.hash,d));let i=!1;const s=()=>{i||(lt.delete(e),rt.delete(e),i=!0,d[1].has(e)&&(d[0].unobserve(e),d[1].delete(e)),d[1].size<=0&&c.delete(r.hash),c.size||at.delete(l))};return lt.set(e,s),rt.set(e,a),s},mt=Object.assign(Object.assign({},De.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Ht=ft("n-image");function no(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const oo=Jt({name:"Image",common:Qt,peers:{Tooltip:en},self:no}),io=n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),ao=n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),lo=n("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),ro=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},n("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),so=ne([ne("body >",[B("image-container","position: fixed;")]),B("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),B("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[xt()]),B("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[B("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),xt()]),B("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[tn()]),B("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),B("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[nn("preview-disabled",`
 cursor: pointer;
 `),ne("img",`
 border-radius: inherit;
 `)])]),Ge=32,Nt=q({name:"ImagePreview",props:Object.assign(Object.assign({},mt),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=De("Image","-image",so,oo,e,te(e,"clsPrefix"));let a=null;const r=R(null),l=R(null),c=R(void 0),f=R(!1),m=R(!1),{localeRef:d}=Mn("Image");function i(){const{value:$}=l;if(!a||!$)return;const{style:N}=$,T=a.getBoundingClientRect(),K=T.left+T.width/2,J=T.top+T.height/2;N.transformOrigin=`${K}px ${J}px`}function s($){var N,T;switch($.key){case" ":$.preventDefault();break;case"ArrowLeft":(N=e.onPrev)===null||N===void 0||N.call(e);break;case"ArrowRight":(T=e.onNext)===null||T===void 0||T.call(e);break;case"Escape":I();break}}Je(f,$=>{$?nt("keydown",document,s):Ve("keydown",document,s)}),Lt(()=>{Ve("keydown",document,s)});let g=0,z=0,p=0,b=0,x=0,j=0,L=0,k=0,_=!1;function S($){const{clientX:N,clientY:T}=$;p=N-g,b=T-z,rn(y)}function C($){const{mouseUpClientX:N,mouseUpClientY:T,mouseDownClientX:K,mouseDownClientY:J}=$,he=K-N,fe=J-T,me=`vertical${fe>0?"Top":"Bottom"}`,Se=`horizontal${he>0?"Left":"Right"}`;return{moveVerticalDirection:me,moveHorizontalDirection:Se,deltaHorizontal:he,deltaVertical:fe}}function A($){const{value:N}=r;if(!N)return{offsetX:0,offsetY:0};const T=N.getBoundingClientRect(),{moveVerticalDirection:K,moveHorizontalDirection:J,deltaHorizontal:he,deltaVertical:fe}=$||{};let me=0,Se=0;return T.width<=window.innerWidth?me=0:T.left>0?me=(T.width-window.innerWidth)/2:T.right<window.innerWidth?me=-(T.width-window.innerWidth)/2:J==="horizontalRight"?me=Math.min((T.width-window.innerWidth)/2,x-(he??0)):me=Math.max(-((T.width-window.innerWidth)/2),x-(he??0)),T.height<=window.innerHeight?Se=0:T.top>0?Se=(T.height-window.innerHeight)/2:T.bottom<window.innerHeight?Se=-(T.height-window.innerHeight)/2:K==="verticalBottom"?Se=Math.min((T.height-window.innerHeight)/2,j-(fe??0)):Se=Math.max(-((T.height-window.innerHeight)/2),j-(fe??0)),{offsetX:me,offsetY:Se}}function H($){Ve("mousemove",document,S),Ve("mouseup",document,H);const{clientX:N,clientY:T}=$;_=!1;const K=C({mouseUpClientX:N,mouseUpClientY:T,mouseDownClientX:L,mouseDownClientY:k}),J=A(K);p=J.offsetX,b=J.offsetY,y()}const V=$e(Ht,null);function P($){var N,T;if((T=(N=V==null?void 0:V.previewedImgPropsRef.value)===null||N===void 0?void 0:N.onMousedown)===null||T===void 0||T.call(N,$),$.button!==0)return;const{clientX:K,clientY:J}=$;_=!0,g=K-p,z=J-b,x=p,j=b,L=K,k=J,y(),nt("mousemove",document,S),nt("mouseup",document,H)}function F($){var N,T;(T=(N=V==null?void 0:V.previewedImgPropsRef.value)===null||N===void 0?void 0:N.onDblclick)===null||T===void 0||T.call(N,$);const K=ve();W=W===K?1:K,y()}const M=1.5;let O=0,W=1,X=0;function G(){W=1,O=0}function Z(){var $;G(),X=0,($=e.onPrev)===null||$===void 0||$.call(e)}function re(){var $;G(),X=0,($=e.onNext)===null||$===void 0||$.call(e)}function ce(){X-=90,y()}function ge(){X+=90,y()}function ke(){const{value:$}=r;if(!$)return 1;const{innerWidth:N,innerHeight:T}=window,K=Math.max(1,$.naturalHeight/(T-Ge)),J=Math.max(1,$.naturalWidth/(N-Ge));return Math.max(3,K*2,J*2)}function ve(){const{value:$}=r;if(!$)return 1;const{innerWidth:N,innerHeight:T}=window,K=$.naturalHeight/(T-Ge),J=$.naturalWidth/(N-Ge);return K<1&&J<1?1:Math.max(K,J)}function _e(){const $=ke();W<$&&(O+=1,W=Math.min($,Math.pow(M,O)),y())}function w(){if(W>.5){const $=W;O-=1,W=Math.max(.5,Math.pow(M,O));const N=$-W;y(!1);const T=A();W+=N,y(!1),W-=N,p=T.offsetX,b=T.offsetY,y()}}function v(){const $=c.value;$&&jt($,void 0)}function y($=!0){var N;const{value:T}=r;if(!T)return;const{style:K}=T,J=ye((N=V==null?void 0:V.previewedImgPropsRef.value)===null||N===void 0?void 0:N.style);let he="";if(typeof J=="string")he=J+";";else for(const me in J)he+=`${Fn(me)}: ${J[me]};`;const fe=`transform-origin: center; transform: translateX(${p}px) translateY(${b}px) rotate(${X}deg) scale(${W});`;_?K.cssText=he+"cursor: grabbing; transition: none;"+fe:K.cssText=he+"cursor: grab;"+fe+($?"":"transition: none;"),$||T.offsetHeight}function I(){f.value=!f.value,m.value=!0}function Y(){W=ve(),O=Math.ceil(Math.log(W)/Math.log(M)),p=0,b=0,y()}const tt={setPreviewSrc:$=>{c.value=$},setThumbnailEl:$=>{a=$},toggleShow:I};function Kt($,N){if(e.showToolbarTooltip){const{value:T}=t;return n(On,{to:!1,theme:T.peers.Tooltip,themeOverrides:T.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[N],trigger:()=>$})}else return $}const wt=U(()=>{const{common:{cubicBezierEaseInOut:$},self:{toolbarIconColor:N,toolbarBorderRadius:T,toolbarBoxShadow:K,toolbarColor:J}}=t.value;return{"--n-bezier":$,"--n-toolbar-icon-color":N,"--n-toolbar-color":J,"--n-toolbar-border-radius":T,"--n-toolbar-box-shadow":K}}),{inlineThemeDisabled:bt}=qe(),Te=bt?pt("image-preview",void 0,wt,e):void 0;return Object.assign({previewRef:r,previewWrapperRef:l,previewSrc:c,show:f,appear:on(),displayed:m,previewedImgProps:V==null?void 0:V.previewedImgPropsRef,handleWheel($){$.preventDefault()},handlePreviewMousedown:P,handlePreviewDblclick:F,syncTransformOrigin:i,handleAfterLeave:()=>{G(),X=0,m.value=!1},handleDragStart:$=>{var N,T;(T=(N=V==null?void 0:V.previewedImgPropsRef.value)===null||N===void 0?void 0:N.onDragstart)===null||T===void 0||T.call(N,$),$.preventDefault()},zoomIn:_e,zoomOut:w,handleDownloadClick:v,rotateCounterclockwise:ce,rotateClockwise:ge,handleSwitchPrev:Z,handleSwitchNext:re,withTooltip:Kt,resizeToOrignalImageSize:Y,cssVars:bt?void 0:wt,themeClass:Te==null?void 0:Te.themeClass,onRender:Te==null?void 0:Te.onRender},tt)},render(){var e,t;const{clsPrefix:a}=this;return n(Ie,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),n(an,{show:this.show},{default:()=>{var r;return this.show||this.displayed?((r=this.onRender)===null||r===void 0||r.call(this),Ze(n("div",{class:[`${a}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},n(ot,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?n("div",{class:`${a}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?n(ot,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:l}=this;return n("div",{class:`${a}-image-preview-toolbar`},this.onPrev?n(Ie,null,l(n(oe,{clsPrefix:a,onClick:this.handleSwitchPrev},{default:()=>io}),"tipPrevious"),l(n(oe,{clsPrefix:a,onClick:this.handleSwitchNext},{default:()=>ao}),"tipNext")):null,l(n(oe,{clsPrefix:a,onClick:this.rotateCounterclockwise},{default:()=>n(Yn,null)}),"tipCounterclockwise"),l(n(oe,{clsPrefix:a,onClick:this.rotateClockwise},{default:()=>n(Gn,null)}),"tipClockwise"),l(n(oe,{clsPrefix:a,onClick:this.resizeToOrignalImageSize},{default:()=>n(Jn,null)}),"tipOriginalSize"),l(n(oe,{clsPrefix:a,onClick:this.zoomOut},{default:()=>n(Kn,null)}),"tipZoomOut"),l(n(oe,{clsPrefix:a,onClick:this.zoomIn},{default:()=>n(Zn,null)}),"tipZoomIn"),l(n(oe,{clsPrefix:a,onClick:this.handleDownloadClick},{default:()=>ro}),"tipDownload"),l(n(oe,{clsPrefix:a,onClick:this.toggleShow},{default:()=>lo}),"tipClose"))}}):null,n(ot,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:l={}}=this;return Ze(n("div",{class:`${a}-image-preview-wrapper`,ref:"previewWrapperRef"},n("img",Object.assign({},l,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${a}-image-preview`,l.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ut,this.show]])}})),[[ln,{enabled:this.show}]])):null}}))}}),Ut=ft("n-image-group"),uo=mt,co=q({name:"ImageGroup",props:uo,setup(e){let t;const{mergedClsPrefixRef:a}=qe(e),r=`c${dt()}`,l=sn(),c=d=>{var i;t=d,(i=m.value)===null||i===void 0||i.setPreviewSrc(d)};function f(d){var i,s;if(!(l!=null&&l.proxy))return;const z=l.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${r}]:not([data-error=true])`);if(!z.length)return;const p=Array.from(z).findIndex(b=>b.dataset.previewSrc===t);~p?c(z[(p+d+z.length)%z.length].dataset.previewSrc):c(z[0].dataset.previewSrc),d===1?(i=e.onPreviewNext)===null||i===void 0||i.call(e):(s=e.onPreviewPrev)===null||s===void 0||s.call(e)}vt(Ut,{mergedClsPrefixRef:a,setPreviewSrc:c,setThumbnailEl:d=>{var i;(i=m.value)===null||i===void 0||i.setThumbnailEl(d)},toggleShow:()=>{var d;(d=m.value)===null||d===void 0||d.toggleShow()},groupId:r});const m=R(null);return{mergedClsPrefix:a,previewInstRef:m,next:()=>{f(1)},prev:()=>{f(-1)}}},render(){return n(Nt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),ho=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},mt),go=q({name:"Image",props:ho,inheritAttrs:!1,setup(e){const t=R(null),a=R(!1),r=R(null),l=$e(Ut,null),{mergedClsPrefixRef:c}=l||qe(e),f={click:()=>{if(e.previewDisabled||a.value)return;const i=e.previewSrc||e.src;if(l){l.setPreviewSrc(i),l.setThumbnailEl(t.value),l.toggleShow();return}const{value:s}=r;s&&(s.setPreviewSrc(i),s.setThumbnailEl(t.value),s.toggleShow())}},m=R(!e.lazy);Ke(()=>{var i;(i=t.value)===null||i===void 0||i.setAttribute("data-group-id",(l==null?void 0:l.groupId)||"")}),Ke(()=>{if(e.lazy&&e.intersectionObserverOptions){let i;const s=ct(()=>{i==null||i(),i=void 0,i=to(t.value,e.intersectionObserverOptions,m)});Lt(()=>{s(),i==null||i()})}}),ct(()=>{var i;e.src||((i=e.imgProps)===null||i===void 0||i.src),a.value=!1});const d=R(!1);return vt(Ht,{previewedImgPropsRef:te(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:c,groupId:l==null?void 0:l.groupId,previewInstRef:r,imageRef:t,showError:a,shouldStartLoading:m,loaded:d,mergedOnClick:i=>{var s,g;f.click(),(g=(s=e.imgProps)===null||s===void 0?void 0:s.onClick)===null||g===void 0||g.call(s,i)},mergedOnError:i=>{if(!m.value)return;a.value=!0;const{onError:s,imgProps:{onError:g}={}}=e;s==null||s(i),g==null||g(i)},mergedOnLoad:i=>{const{onLoad:s,imgProps:{onLoad:g}={}}=e;s==null||s(i),g==null||g(i),d.value=!0}},f)},render(){var e,t;const{mergedClsPrefix:a,imgProps:r={},loaded:l,$attrs:c,lazy:f}=this,m=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),d=this.src||r.src,i=n("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:this.showError?this.fallbackSrc:f&&this.intersectionObserverOptions?this.shouldStartLoading?d:void 0:d,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Qn&&f&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",m&&!l?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return n("div",Object.assign({},c,{role:"none",class:[c.class,`${a}-image`,(this.previewDisabled||this.showError)&&`${a}-image--preview-disabled`]}),this.groupId?i:n(Nt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:a,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>i}),!l&&m)}}),fo=ne([B("progress",{display:"inline-block"},[B("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Q("line",`
 width: 100%;
 display: block;
 `,[B("progress-content",`
 display: flex;
 align-items: center;
 `,[B("progress-graph",{flex:1})]),B("progress-custom-content",{marginLeft:"14px"}),B("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[Q("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),Q("circle, dashboard",{width:"120px"},[B("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),B("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),B("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),Q("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[B("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),B("progress-content",{position:"relative"}),B("progress-graph",{position:"relative"},[B("progress-graph-circle",[ne("svg",{verticalAlign:"bottom"}),B("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[Q("empty",{opacity:0})]),B("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),B("progress-graph-line",[Q("indicator-inside",[B("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[B("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),B("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),Q("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[B("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),B("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),B("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[B("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[Q("processing",[ne("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ne("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),po={success:n(Tt,null),error:n(Bt,null),warning:n(Mt,null),info:n(Dt,null)},vo=q({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const a=U(()=>Be(e.height)),r=U(()=>e.railBorderRadius!==void 0?Be(e.railBorderRadius):e.height!==void 0?Be(e.height,{c:.5}):""),l=U(()=>e.fillBorderRadius!==void 0?Be(e.fillBorderRadius):e.railBorderRadius!==void 0?Be(e.railBorderRadius):e.height!==void 0?Be(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:c,railColor:f,railStyle:m,percentage:d,unit:i,indicatorTextColor:s,status:g,showIndicator:z,fillColor:p,processing:b,clsPrefix:x}=e;return n("div",{class:`${x}-progress-content`,role:"none"},n("div",{class:`${x}-progress-graph`,"aria-hidden":!0},n("div",{class:[`${x}-progress-graph-line`,{[`${x}-progress-graph-line--indicator-${c}`]:!0}]},n("div",{class:`${x}-progress-graph-line-rail`,style:[{backgroundColor:f,height:a.value,borderRadius:r.value},m]},n("div",{class:[`${x}-progress-graph-line-fill`,b&&`${x}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:p,height:a.value,lineHeight:a.value,borderRadius:l.value}},c==="inside"?n("div",{class:`${x}-progress-graph-line-indicator`,style:{color:s}},t.default?t.default():`${d}${i}`):null)))),z&&c==="outside"?n("div",null,t.default?n("div",{class:`${x}-progress-custom-content`,style:{color:s},role:"none"},t.default()):g==="default"?n("div",{role:"none",class:`${x}-progress-icon ${x}-progress-icon--as-text`,style:{color:s}},d,i):n("div",{class:`${x}-progress-icon`,"aria-hidden":!0},n(oe,{clsPrefix:x},{default:()=>po[g]}))):null)}}}),mo={success:n(Tt,null),error:n(Bt,null),warning:n(Mt,null),info:n(Dt,null)},wo=q({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function a(r,l,c){const{gapDegree:f,viewBoxWidth:m,strokeWidth:d}=e,i=50,s=0,g=i,z=0,p=2*i,b=50+d/2,x=`M ${b},${b} m ${s},${g}
      a ${i},${i} 0 1 1 ${z},${-p}
      a ${i},${i} 0 1 1 ${-z},${p}`,j=Math.PI*2*i,L={stroke:c,strokeDasharray:`${r/100*(j-f)}px ${m*8}px`,strokeDashoffset:`-${f/2}px`,transformOrigin:l?"center":void 0,transform:l?`rotate(${l}deg)`:void 0};return{pathString:x,pathStyle:L}}return()=>{const{fillColor:r,railColor:l,strokeWidth:c,offsetDegree:f,status:m,percentage:d,showIndicator:i,indicatorTextColor:s,unit:g,gapOffsetDegree:z,clsPrefix:p}=e,{pathString:b,pathStyle:x}=a(100,0,l),{pathString:j,pathStyle:L}=a(d,f,r),k=100+c;return n("div",{class:`${p}-progress-content`,role:"none"},n("div",{class:`${p}-progress-graph`,"aria-hidden":!0},n("div",{class:`${p}-progress-graph-circle`,style:{transform:z?`rotate(${z}deg)`:void 0}},n("svg",{viewBox:`0 0 ${k} ${k}`},n("g",null,n("path",{class:`${p}-progress-graph-circle-rail`,d:b,"stroke-width":c,"stroke-linecap":"round",fill:"none",style:x})),n("g",null,n("path",{class:[`${p}-progress-graph-circle-fill`,d===0&&`${p}-progress-graph-circle-fill--empty`],d:j,"stroke-width":c,"stroke-linecap":"round",fill:"none",style:L}))))),i?n("div",null,t.default?n("div",{class:`${p}-progress-custom-content`,role:"none"},t.default()):m!=="default"?n("div",{class:`${p}-progress-icon`,"aria-hidden":!0},n(oe,{clsPrefix:p},{default:()=>mo[m]})):n("div",{class:`${p}-progress-text`,style:{color:s},role:"none"},n("span",{class:`${p}-progress-text__percentage`},d),n("span",{class:`${p}-progress-text__unit`},g))):null)}}});function Rt(e,t,a=100){return`m ${a/2} ${a/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const bo=q({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const a=U(()=>e.percentage.map((l,c)=>`${Math.PI*l/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*c)-e.circleGap*c)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:r,strokeWidth:l,circleGap:c,showIndicator:f,fillColor:m,railColor:d,railStyle:i,percentage:s,clsPrefix:g}=e;return n("div",{class:`${g}-progress-content`,role:"none"},n("div",{class:`${g}-progress-graph`,"aria-hidden":!0},n("div",{class:`${g}-progress-graph-circle`},n("svg",{viewBox:`0 0 ${r} ${r}`},s.map((z,p)=>n("g",{key:p},n("path",{class:`${g}-progress-graph-circle-rail`,d:Rt(r/2-l/2*(1+2*p)-c*p,l,r),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:d[p]},i[p]]}),n("path",{class:[`${g}-progress-graph-circle-fill`,z===0&&`${g}-progress-graph-circle-fill--empty`],d:Rt(r/2-l/2*(1+2*p)-c*p,l,r),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:a.value[p],strokeDashoffset:0,stroke:m[p]}})))))),f&&t.default?n("div",null,n("div",{class:`${g}-progress-text`},t.default())):null)}}}),xo=Object.assign(Object.assign({},De.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),yo=q({name:"Progress",props:xo,setup(e){const t=U(()=>e.indicatorPlacement||e.indicatorPosition),a=U(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:l}=qe(e),c=De("Progress","-progress",fo,un,e,r),f=U(()=>{const{status:d}=e,{common:{cubicBezierEaseInOut:i},self:{fontSize:s,fontSizeCircle:g,railColor:z,railHeight:p,iconSizeCircle:b,iconSizeLine:x,textColorCircle:j,textColorLineInner:L,textColorLineOuter:k,lineBgProcessing:_,fontWeightCircle:S,[yt("iconColor",d)]:C,[yt("fillColor",d)]:A}}=c.value;return{"--n-bezier":i,"--n-fill-color":A,"--n-font-size":s,"--n-font-size-circle":g,"--n-font-weight-circle":S,"--n-icon-color":C,"--n-icon-size-circle":b,"--n-icon-size-line":x,"--n-line-bg-processing":_,"--n-rail-color":z,"--n-rail-height":p,"--n-text-color-circle":j,"--n-text-color-line-inner":L,"--n-text-color-line-outer":k}}),m=l?pt("progress",U(()=>e.status[0]),f,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:t,gapDeg:a,cssVars:l?void 0:f,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:a,showIndicator:r,status:l,railColor:c,railStyle:f,color:m,percentage:d,viewBoxWidth:i,strokeWidth:s,mergedIndicatorPlacement:g,unit:z,borderRadius:p,fillBorderRadius:b,height:x,processing:j,circleGap:L,mergedClsPrefix:k,gapDeg:_,gapOffsetDegree:S,themeClass:C,$slots:A,onRender:H}=this;return H==null||H(),n("div",{class:[C,`${k}-progress`,`${k}-progress--${e}`,`${k}-progress--${l}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":d,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?n(wo,{clsPrefix:k,status:l,showIndicator:r,indicatorTextColor:a,railColor:c,fillColor:m,railStyle:f,offsetDegree:this.offsetDegree,percentage:d,viewBoxWidth:i,strokeWidth:s,gapDegree:_===void 0?e==="dashboard"?75:0:_,gapOffsetDegree:S,unit:z},A):e==="line"?n(vo,{clsPrefix:k,status:l,showIndicator:r,indicatorTextColor:a,railColor:c,fillColor:m,railStyle:f,percentage:d,processing:j,indicatorPlacement:g,unit:z,fillBorderRadius:b,railBorderRadius:p,height:x},A):e==="multiple-circle"?n(bo,{clsPrefix:k,strokeWidth:s,railColor:c,fillColor:m,railStyle:f,viewBoxWidth:i,percentage:d,showIndicator:r,circleGap:L},A):null)}}),je=ft("n-upload"),Ft="__UPLOAD_DRAGGER__",Co=q({name:"UploadDragger",[Ft]:!0,setup(e,{slots:t}){const a=$e(je,null);return a||Qe("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:l},maxReachedRef:{value:c}}=a;return n("div",{class:[`${r}-upload-dragger`,(l||c)&&`${r}-upload-dragger--disabled`]},t)}}});var gt=function(e,t,a,r){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(s){try{i(r.next(s))}catch(g){f(g)}}function d(s){try{i(r.throw(s))}catch(g){f(g)}}function i(s){s.done?c(s.value):l(s.value).then(m,d)}i((r=r.apply(e,t||[])).next())})};const Et=e=>e.includes("image/"),St=(e="")=>{const t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},Pt=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Wt=e=>{if(e.type)return Et(e.type);const t=St(e.name||"");if(Pt.test(t))return!0;const a=e.thumbnailUrl||e.url||"",r=St(a);return!!(/^data:image\//.test(a)||Pt.test(r))};function ko(e){return gt(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Et(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const _o=$t&&window.FileReader&&window.File;function zo(e){return e.isDirectory}function Ro(e){return e.isFile}function So(e,t){return gt(this,void 0,void 0,function*(){const a=[];function r(l){return gt(this,void 0,void 0,function*(){for(const c of l)if(c){if(t&&zo(c)){const f=c.createReader();try{const m=yield new Promise((d,i)=>{f.readEntries(d,i)});yield r(m)}catch{}}else if(Ro(c))try{const f=yield new Promise((m,d)=>{c.file(m,d)});a.push({file:f,entry:c,source:"dnd"})}catch{}}})}return yield r(e),a})}function We(e){const{id:t,name:a,percentage:r,status:l,url:c,file:f,thumbnailUrl:m,type:d,fullPath:i,batchId:s}=e;return{id:t,name:a,percentage:r??null,status:l,url:c??null,file:f??null,thumbnailUrl:m??null,type:d??null,fullPath:i??null,batchId:s??null}}function Po(e,t,a){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),a=a.toLocaleLowerCase(),a.split(",").map(l=>l.trim()).filter(Boolean).some(l=>{if(l.startsWith(".")){if(e.endsWith(l))return!0}else if(l.includes("/")){const[c,f]=t.split("/"),[m,d]=l.split("/");if((m==="*"||c&&m&&m===c)&&(d==="*"||f&&d&&d===f))return!0}else return!0;return!1})}const qt=q({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const a=$e(je,null);a||Qe("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:l,maxReachedRef:c,listTypeRef:f,dragOverRef:m,openOpenFileDialog:d,draggerInsideRef:i,handleFileAddition:s,mergedDirectoryDndRef:g,triggerClassRef:z,triggerStyleRef:p}=a,b=U(()=>f.value==="image-card");function x(){l.value||c.value||d()}function j(S){S.preventDefault(),m.value=!0}function L(S){S.preventDefault(),m.value=!0}function k(S){S.preventDefault(),m.value=!1}function _(S){var C;if(S.preventDefault(),!i.value||l.value||c.value){m.value=!1;return}const A=(C=S.dataTransfer)===null||C===void 0?void 0:C.items;A!=null&&A.length?So(Array.from(A).map(H=>H.webkitGetAsEntry()),g.value).then(H=>{s(H)}).finally(()=>{m.value=!1}):m.value=!1}return()=>{var S;const{value:C}=r;return e.abstract?(S=t.default)===null||S===void 0?void 0:S.call(t,{handleClick:x,handleDrop:_,handleDragOver:j,handleDragEnter:L,handleDragLeave:k}):n("div",{class:[`${C}-upload-trigger`,(l.value||c.value)&&`${C}-upload-trigger--disabled`,b.value&&`${C}-upload-trigger--image-card`,z.value],style:p.value,onClick:x,onDrop:_,onDragover:j,onDragenter:L,onDragleave:k},b.value?n(Co,null,{default:()=>dn(t.default,()=>[n(oe,{clsPrefix:C},{default:()=>n(Bn,null)})])}):t)}}}),Io=q({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:$e(je).mergedThemeRef}},render(){return n(Ot,null,{default:()=>this.show?n(yo,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),$o=n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n("g",{fill:"none"},n("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Lo=n("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},n("g",{fill:"none"},n("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var To=function(e,t,a,r){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(s){try{i(r.next(s))}catch(g){f(g)}}function d(s){try{i(r.throw(s))}catch(g){f(g)}}function i(s){s.done?c(s.value):l(s.value).then(m,d)}i((r=r.apply(e,t||[])).next())})};const Ye={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Bo=q({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=$e(je),a=R(null),r=R(""),l=U(()=>{const{file:C}=e;return C.status==="finished"?"success":C.status==="error"?"error":"info"}),c=U(()=>{const{file:C}=e;if(C.status==="error")return"error"}),f=U(()=>{const{file:C}=e;return C.status==="uploading"}),m=U(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:C}=e;return["uploading","pending","error"].includes(C.status)}),d=U(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:C}=e;return["finished"].includes(C.status)}),i=U(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:C}=e;return["finished"].includes(C.status)}),s=U(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:C}=e;return["error"].includes(C.status)}),g=cn(()=>r.value||e.file.thumbnailUrl||e.file.url),z=U(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:C},listType:A}=e;return["finished"].includes(C)&&g.value&&A==="image-card"});function p(){t.submit(e.file.id)}function b(C){C.preventDefault();const{file:A}=e;["finished","pending","error"].includes(A.status)?j(A):["uploading"].includes(A.status)?k(A):gn("upload","The button clicked type is unknown.")}function x(C){C.preventDefault(),L(e.file)}function j(C){const{xhrMap:A,doChange:H,onRemoveRef:{value:V},mergedFileListRef:{value:P}}=t;Promise.resolve(V?V({file:Object.assign({},C),fileList:P}):!0).then(F=>{if(F===!1)return;const M=Object.assign({},C,{status:"removed"});A.delete(C.id),H(M,void 0,{remove:!0})})}function L(C){const{onDownloadRef:{value:A}}=t;Promise.resolve(A?A(Object.assign({},C)):!0).then(H=>{H!==!1&&jt(C.url,C.name)})}function k(C){const{xhrMap:A}=t,H=A.get(C.id);H==null||H.abort(),j(Object.assign({},C))}function _(){const{onPreviewRef:{value:C}}=t;if(C)C(e.file);else if(e.listType==="image-card"){const{value:A}=a;if(!A)return;A.click()}}const S=()=>To(this,void 0,void 0,function*(){const{listType:C}=e;C!=="image"&&C!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield t.getFileThumbnailUrlResolver(e.file))});return ct(()=>{S()}),{mergedTheme:t.mergedThemeRef,progressStatus:l,buttonType:c,showProgress:f,disabled:t.mergedDisabledRef,showCancelButton:m,showRemoveButton:d,showDownloadButton:i,showRetryButton:s,showPreviewButton:z,mergedThumbnailUrl:g,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:a,handleRemoveOrCancelClick:b,handleDownloadClick:x,handleRetryClick:p,handlePreviewClick:_}},render(){const{clsPrefix:e,mergedTheme:t,listType:a,file:r,renderIcon:l}=this;let c;const f=a==="image";f||a==="image-card"?c=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?n("span",{class:`${e}-upload-file-info__thumbnail`},l?l(r):Wt(r)?n(oe,{clsPrefix:e},{default:()=>$o}):n(oe,{clsPrefix:e},{default:()=>Lo})):n("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},a==="image-card"?n(go,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):n("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):c=n("span",{class:`${e}-upload-file-info__thumbnail`},l?l(r):n(oe,{clsPrefix:e},{default:()=>n(En,null)}));const d=n(Io,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),i=a==="text"||a==="image";return n("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&a!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${a}-type`]},n("div",{class:`${e}-upload-file-info`},c,n("div",{class:`${e}-upload-file-info__name`},i&&(r.url&&r.status!=="error"?n("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):n("span",{onClick:this.handlePreviewClick},r.name)),f&&d),n("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${a}-type`]},this.showPreviewButton?n(Me,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ye},{icon:()=>n(oe,{clsPrefix:e},{default:()=>n(An,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&n(Me,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Ye,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>n(hn,null,{default:()=>this.showRemoveButton?n(oe,{clsPrefix:e,key:"trash"},{default:()=>n(Wn,null)}):n(oe,{clsPrefix:e,key:"cancel"},{default:()=>n(Vn,null)})})}),this.showRetryButton&&!this.disabled&&n(Me,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ye},{icon:()=>n(oe,{clsPrefix:e},{default:()=>n(Xn,null)})}),this.showDownloadButton?n(Me,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ye},{icon:()=>n(oe,{clsPrefix:e},{default:()=>n(qn,null)})}):null)),!f&&d)}}),Mo=q({name:"UploadFileList",setup(e,{slots:t}){const a=$e(je,null);a||Qe("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:l,listTypeRef:c,mergedFileListRef:f,fileListClassRef:m,fileListStyleRef:d,cssVarsRef:i,themeClassRef:s,maxReachedRef:g,showTriggerRef:z,imageGroupPropsRef:p}=a,b=U(()=>c.value==="image-card"),x=()=>f.value.map(L=>n(Bo,{clsPrefix:l.value,key:L.id,file:L,listType:c.value})),j=()=>b.value?n(co,Object.assign({},p.value),{default:x}):n(Ot,{group:!0},{default:x});return()=>{const{value:L}=l,{value:k}=r;return n("div",{class:[`${L}-upload-file-list`,b.value&&`${L}-upload-file-list--grid`,k?s==null?void 0:s.value:void 0,m.value],style:[k&&i?i.value:"",d.value]},j(),z.value&&!g.value&&b.value&&n(qt,null,t))}}}),Do=ne([B("upload","width: 100%;",[Q("dragger-inside",[B("upload-trigger",`
 display: block;
 `)]),Q("drag-over",[B("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),B("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ne("&:hover",`
 border: var(--n-dragger-border-hover);
 `),Q("disabled",`
 cursor: not-allowed;
 `)]),B("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ne("+",[B("upload-file-list","margin-top: 8px;")]),Q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),Q("image-card",`
 width: 96px;
 height: 96px;
 `,[B("base-icon",`
 font-size: 24px;
 `),B("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),B("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ne("a, img","outline: none;"),Q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[B("upload-file","cursor: not-allowed;")]),Q("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),B("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ct(),B("progress",[Ct({foldPadding:!0})]),ne("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[B("upload-file-info",[we("action",`
 opacity: 1;
 `)])]),Q("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[B("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[B("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),we("name",`
 padding: 0 8px;
 `),we("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ne("img",`
 width: 100%;
 `)])])]),Q("text-type",[B("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),Q("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[B("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),B("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[we("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ne("img",`
 width: 100%;
 `)])]),ne("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ne("&:hover",[ne("&::before","opacity: 1;"),B("upload-file-info",[we("thumbnail","opacity: .12;")])])]),Q("error-status",[ne("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),B("upload-file-info",[we("name","color: var(--n-item-text-color-error);"),we("thumbnail","color: var(--n-item-text-color-error);")]),Q("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),Q("with-url",`
 cursor: pointer;
 `,[B("upload-file-info",[we("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ne("a",`
 text-decoration: underline;
 `)])])]),B("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[we("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[B("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),we("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[B("button",[ne("&:not(:last-child)",{marginRight:"4px"}),B("base-icon",[ne("svg",[fn()])])]),Q("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),Q("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),we("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ne("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),B("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var It=function(e,t,a,r){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(s){try{i(r.next(s))}catch(g){f(g)}}function d(s){try{i(r.throw(s))}catch(g){f(g)}}function i(s){s.done?c(s.value):l(s.value).then(m,d)}i((r=r.apply(e,t||[])).next())})};function Oo(e,t,a){const{doChange:r,xhrMap:l}=e;let c=0;function f(d){var i;let s=Object.assign({},t,{status:"error",percentage:c});l.delete(t.id),s=We(((i=e.onError)===null||i===void 0?void 0:i.call(e,{file:s,event:d}))||s),r(s,d)}function m(d){var i;if(e.isErrorState){if(e.isErrorState(a)){f(d);return}}else if(a.status<200||a.status>=300){f(d);return}let s=Object.assign({},t,{status:"finished",percentage:c});l.delete(t.id),s=We(((i=e.onFinish)===null||i===void 0?void 0:i.call(e,{file:s,event:d}))||s),r(s,d)}return{handleXHRLoad:m,handleXHRError:f,handleXHRAbort(d){const i=Object.assign({},t,{status:"removed",file:null,percentage:c});l.delete(t.id),r(i,d)},handleXHRProgress(d){const i=Object.assign({},t,{status:"uploading"});if(d.lengthComputable){const s=Math.ceil(d.loaded/d.total*100);i.percentage=s,c=s}r(i,d)}}}function Ao(e){const{inst:t,file:a,data:r,headers:l,withCredentials:c,action:f,customRequest:m}=e,{doChange:d}=e.inst;let i=0;m({file:a,data:r,headers:l,withCredentials:c,action:f,onProgress(s){const g=Object.assign({},a,{status:"uploading"}),z=s.percent;g.percentage=z,i=z,d(g)},onFinish(){var s;let g=Object.assign({},a,{status:"finished",percentage:i});g=We(((s=t.onFinish)===null||s===void 0?void 0:s.call(t,{file:g}))||g),d(g)},onError(){var s;let g=Object.assign({},a,{status:"error",percentage:i});g=We(((s=t.onError)===null||s===void 0?void 0:s.call(t,{file:g}))||g),d(g)}})}function jo(e,t,a){const r=Oo(e,t,a);a.onabort=r.handleXHRAbort,a.onerror=r.handleXHRError,a.onload=r.handleXHRLoad,a.upload&&(a.upload.onprogress=r.handleXHRProgress)}function Vt(e,t){return typeof e=="function"?e({file:t}):e||{}}function Ho(e,t,a){const r=Vt(t,a);r&&Object.keys(r).forEach(l=>{e.setRequestHeader(l,r[l])})}function No(e,t,a){const r=Vt(t,a);r&&Object.keys(r).forEach(l=>{e.append(l,r[l])})}function Uo(e,t,a,{method:r,action:l,withCredentials:c,responseType:f,headers:m,data:d}){const i=new XMLHttpRequest;i.responseType=f,e.xhrMap.set(a.id,i),i.withCredentials=c;const s=new FormData;if(No(s,d,a),a.file!==null&&s.append(t,a.file),jo(e,a,i),l!==void 0){i.open(r.toUpperCase(),l),Ho(i,m,a),i.send(s);const g=Object.assign({},a,{status:"uploading"});e.doChange(g)}}const Fo=Object.assign(Object.assign({},De.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>_o?Wt(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Xt=q({name:"Upload",props:Fo,setup(e){e.abstract&&e.listType==="image-card"&&Qe("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:a}=qe(e),r=De("Upload","-upload",Do,wn,e,t),l=pn(e),c=U(()=>{const{max:P}=e;return P!==void 0?p.value.length>=P:!1}),f=R(e.defaultFileList),m=te(e,"fileList"),d=R(null),i={value:!1},s=R(!1),g=new Map,z=vn(m,f),p=U(()=>z.value.map(We));function b(){var P;(P=d.value)===null||P===void 0||P.click()}function x(P){const F=P.target;k(F.files?Array.from(F.files).map(M=>({file:M,entry:null,source:"input"})):null,P),F.value=""}function j(P){const{"onUpdate:fileList":F,onUpdateFileList:M}=e;F&&kt(F,P),M&&kt(M,P),f.value=P}const L=U(()=>e.multiple||e.directory);function k(P,F){if(!P||P.length===0)return;const{onBeforeUpload:M}=e;P=L.value?P:[P[0]];const{max:O,accept:W}=e;P=P.filter(({file:G,source:Z})=>Z==="dnd"&&(W!=null&&W.trim())?Po(G.name,G.type,W):!0),O&&(P=P.slice(0,O-p.value.length));const X=dt();Promise.all(P.map(({file:G,entry:Z})=>It(this,void 0,void 0,function*(){var re;const ce={id:dt(),batchId:X,name:G.name,status:"pending",percentage:0,file:G,url:null,type:G.type,thumbnailUrl:null,fullPath:(re=Z==null?void 0:Z.fullPath)!==null&&re!==void 0?re:`/${G.webkitRelativePath||G.name}`};return!M||(yield M({file:ce,fileList:p.value}))!==!1?ce:null}))).then(G=>It(this,void 0,void 0,function*(){let Z=Promise.resolve();G.forEach(re=>{Z=Z.then(bn).then(()=>{re&&S(re,F,{append:!0})})}),yield Z})).then(()=>{e.defaultUpload&&_()})}function _(P){const{method:F,action:M,withCredentials:O,headers:W,data:X,name:G}=e,Z=P!==void 0?p.value.filter(ce=>ce.id===P):p.value,re=P!==void 0;Z.forEach(ce=>{const{status:ge}=ce;(ge==="pending"||ge==="error"&&re)&&(e.customRequest?Ao({inst:{doChange:S,xhrMap:g,onFinish:e.onFinish,onError:e.onError},file:ce,action:M,withCredentials:O,headers:W,data:X,customRequest:e.customRequest}):Uo({doChange:S,xhrMap:g,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},G,ce,{method:F,action:M,withCredentials:O,responseType:e.responseType,headers:W,data:X}))})}const S=(P,F,M={append:!1,remove:!1})=>{const{append:O,remove:W}=M,X=Array.from(p.value),G=X.findIndex(Z=>Z.id===P.id);if(O||W||~G){O?X.push(P):W?X.splice(G,1):X.splice(G,1,P);const{onChange:Z}=e;Z&&Z({file:P,fileList:X,event:F}),j(X)}};function C(P){var F;if(P.thumbnailUrl)return P.thumbnailUrl;const{createThumbnailUrl:M}=e;return M?(F=M(P.file,P))!==null&&F!==void 0?F:P.url||"":P.url?P.url:P.file?ko(P.file):""}const A=U(()=>{const{common:{cubicBezierEaseInOut:P},self:{draggerColor:F,draggerBorder:M,draggerBorderHover:O,itemColorHover:W,itemColorHoverError:X,itemTextColorError:G,itemTextColorSuccess:Z,itemTextColor:re,itemIconColor:ce,itemDisabledOpacity:ge,lineHeight:ke,borderRadius:ve,fontSize:_e,itemBorderImageCardError:w,itemBorderImageCard:v}}=r.value;return{"--n-bezier":P,"--n-border-radius":ve,"--n-dragger-border":M,"--n-dragger-border-hover":O,"--n-dragger-color":F,"--n-font-size":_e,"--n-item-color-hover":W,"--n-item-color-hover-error":X,"--n-item-disabled-opacity":ge,"--n-item-icon-color":ce,"--n-item-text-color":re,"--n-item-text-color-error":G,"--n-item-text-color-success":Z,"--n-line-height":ke,"--n-item-border-image-card-error":w,"--n-item-border-image-card":v}}),H=a?pt("upload",void 0,A,e):void 0;vt(je,{mergedClsPrefixRef:t,mergedThemeRef:r,showCancelButtonRef:te(e,"showCancelButton"),showDownloadButtonRef:te(e,"showDownloadButton"),showRemoveButtonRef:te(e,"showRemoveButton"),showRetryButtonRef:te(e,"showRetryButton"),onRemoveRef:te(e,"onRemove"),onDownloadRef:te(e,"onDownload"),mergedFileListRef:p,triggerClassRef:te(e,"triggerClass"),triggerStyleRef:te(e,"triggerStyle"),shouldUseThumbnailUrlRef:te(e,"shouldUseThumbnailUrl"),renderIconRef:te(e,"renderIcon"),xhrMap:g,submit:_,doChange:S,showPreviewButtonRef:te(e,"showPreviewButton"),onPreviewRef:te(e,"onPreview"),getFileThumbnailUrlResolver:C,listTypeRef:te(e,"listType"),dragOverRef:s,openOpenFileDialog:b,draggerInsideRef:i,handleFileAddition:k,mergedDisabledRef:l.mergedDisabledRef,maxReachedRef:c,fileListClassRef:te(e,"fileListClass"),fileListStyleRef:te(e,"fileListStyle"),abstractRef:te(e,"abstract"),acceptRef:te(e,"accept"),cssVarsRef:a?void 0:A,themeClassRef:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender,showTriggerRef:te(e,"showTrigger"),imageGroupPropsRef:te(e,"imageGroupProps"),mergedDirectoryDndRef:U(()=>{var P;return(P=e.directoryDnd)!==null&&P!==void 0?P:e.directory})});const V={clear:()=>{f.value=[]},submit:_,openOpenFileDialog:b};return Object.assign({mergedClsPrefix:t,draggerInsideRef:i,inputElRef:d,mergedTheme:r,dragOver:s,mergedMultiple:L,cssVars:a?void 0:A,themeClass:H==null?void 0:H.themeClass,onRender:H==null?void 0:H.onRender,handleFileInputChange:x},V)},render(){var e,t;const{draggerInsideRef:a,mergedClsPrefix:r,$slots:l,directory:c,onRender:f}=this;if(l.default&&!this.abstract){const d=l.default()[0];!((e=d==null?void 0:d.type)===null||e===void 0)&&e[Ft]&&(a.value=!0)}const m=n("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:c||void 0,directory:c||void 0}));return this.abstract?n(Ie,null,(t=l.default)===null||t===void 0?void 0:t.call(l),n(mn,{to:"body"},m)):(f==null||f(),n("div",{class:[`${r}-upload`,a.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},m,this.showTrigger&&this.listType!=="image-card"&&n(qt,null,l),this.showFileList&&n(Mo,null,l)))}}),Eo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Wo=ee("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),qo=[Wo],Vo=q({name:"Minus",render:function(t,a){return E(),ue("svg",Eo,qo)}}),Xo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Go=ee("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Yo=[Go],Zo=q({name:"Plus",render:function(t,a){return E(),ue("svg",Xo,Yo)}}),Ko={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Jo=ee("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Qo=[Jo],ei=q({name:"ArrowUndoOutline",render:function(t,a){return E(),ue("svg",Ko,Qo)}}),ti={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ni=At('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),oi=[ni],ii=q({name:"DiceOutline",render:function(t,a){return E(),ue("svg",ti,oi)}}),ai={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},li=At('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),ri=[li],si=q({name:"GameControllerOutline",render:function(t,a){return E(),ue("svg",ai,ri)}}),wa=e=>{const t=pe.Post("api/posts/create",e,{name:"newPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ba=e=>{const t=pe.Get("api/posts/"+e.post_id,{name:"postGetter",params:{binggan:e.binggan,thread_id:e.thread_id},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},xa=e=>{const t=pe.Delete("api/posts/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"deletePostDeleter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ya=e=>{const t=pe.Put("api/posts/recover/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"recoverPostPutter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ui=e=>{const t=pe.Post("api/posts/create_roll",e,{name:"rollPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t};function di(e,t,a){const r=new Date().getTime(),l=$n.MD5(t+a+r+e).toString();return{timestamp:r,newPostKey:l}}const ci=q({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:a}){Le();const r=Re();xn();const l=e,c=U(()=>{const k=window.innerWidth;return k>=532?"500px":k-32+"px"}),f=U(()=>{let k=[];if(i.value>0&&s.value>0){for(var _=0;_<i.value;_++)k[_]=Math.floor(Math.random()*s.value)+1;return k.join()}else return null}),m=R(),d=R(),i=R(1),s=R(100),g=R(!1);function z(){g.value=!0}t({show:z});const p=a,{loading:b,send:x,onSuccess:j}=et(k=>ui(k),{immediate:!1});function L(){if(!i.value){window.$message.error("请填写骰子数量");return}if(!s.value){window.$message.error("请填写骰子数量");return}const k={binggan:r.binggan,thread_id:l.threadId,forum_id:l.forumId,roll_name:m.value,roll_event:d.value,roll_num:i.value,roll_range:s.value};x(k)}return j(()=>{p("refreshPostsList"),g.value=!1}),(k,_)=>(E(),se(o(Ae),{show:g.value,"onUpdate:show":_[6]||(_[6]=S=>g.value=S),"display-directive":"if"},{default:h(()=>[u(o(Oe),{style:ye({maxWidth:c.value}),title:"Roll点",closable:"",onClose:_[5]||(_[5]=S=>g.value=!1),size:"small"},{action:h(()=>[u(o(le),{justify:"end"},{default:h(()=>[u(o(de),{type:"primary",onClick:L,disabled:o(b)},{default:h(()=>[D("Roll it!")]),_:1},8,["disabled"]),u(o(de),{onClick:_[4]||(_[4]=S=>g.value=!1)},{default:h(()=>[D("关闭")]),_:1})]),_:1})]),default:h(()=>[u(o(le),{vertical:""},{default:h(()=>[u(o(xe),null,{default:h(()=>[D(" 输出参考： ")]),_:1}),u(o(xe),null,{default:h(()=>[D(Pe(m.value?`「${m.value}」，`:"")+" "+Pe(d.value?`「${d.value}」的结果：`:"")+" "+Pe(`${i.value} d ${s.value} = 「${f.value}」`),1)]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[D("Roll点昵称")]),_:1}),u(o(Ce),{placeholder:"可留空",maxlength:100,value:m.value,"onUpdate:value":_[0]||(_[0]=S=>m.value=S)},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[D("Roll点事件")]),_:1}),u(o(Ce),{placeholder:"可留空",maxlength:100,value:d.value,"onUpdate:value":_[1]||(_[1]=S=>d.value=S)},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[D("骰子数量")]),_:1}),u(o(Fe),{max:100,min:1,placeholder:"必须填写",value:i.value,"onUpdate:value":_[2]||(_[2]=S=>i.value=S)},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[D("骰子大小")]),_:1}),u(o(Fe),{max:1e4,min:1,placeholder:"必须填写",value:s.value,"onUpdate:value":_[3]||(_[3]=S=>s.value=S)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),hi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},gi=ee("defs",null,null,-1),fi=ee("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),pi=ee("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),vi=[gi,fi,pi],mi=q({name:"AudioMutedOutlined",render:function(t,a){return E(),ue("svg",hi,vi)}}),wi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},bi=ee("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),xi=[bi],yi=q({name:"MoneyCollectOutlined",render:function(t,a){return E(),ue("svg",wi,xi)}}),Ci={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ki=ee("g",{fill:"none"},[ee("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),_i=[ki],zi=q({name:"Code24Regular",render:function(t,a){return E(),ue("svg",Ci,_i)}}),Ri={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Si=ee("g",{fill:"none"},[ee("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),Pi=[Si],Ii=q({name:"DrawShape24Regular",render:function(t,a){return E(),ue("svg",Ri,Pi)}}),$i={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Li=ee("g",{fill:"none"},[ee("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),Ti=[Li],Bi=q({name:"Eraser24Regular",render:function(t,a){return E(),ue("svg",$i,Ti)}}),Mi=Re(),Ca=e=>{const t=pe.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:Mi.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return t.meta={shouldRemind:!1},t},Di=e=>{const t=pe.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ka=e=>{const t=pe.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},st=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],Oi=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}];function Gt(e){const t=e.replace(/,/g,"").trim();return/^\d+(\.(\d+)?)?$/.test(t)?Number(t):t===""?null:Number.NaN}function Yt(e){return e===null?"":e.toLocaleString("en-US")}const Ai=q({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:a}){Le();const r=Re(),l=e,c=U(()=>{const k=window.innerWidth;return k>=532?"500px":k-32+"px"}),f=U(()=>{const k=[{value:1,label:"共通",available:!0}];return Oi.forEach(_=>{_.value===l.randomHeadsGroup&&k.push(_)}),k}),m=U(()=>{const k=st[i.value-1];if(i.value===1){const _=r.userData.my_battle_chara.filter(S=>!S.not_use).map((S,C)=>({value:C+240,label:S.name}));return k.concat(_)}else return k}),d=R(1),i=R(l.randomHeadsGroup),s=R(100);Je(i,k=>{k===1?d.value=st[k-1][8].value:d.value=st[k-1][0].value},{immediate:!0});const{loading:g,send:z,onSuccess:p}=et(k=>Di(k),{immediate:!1});function b(k){const{timestamp:_,newPostKey:S}=di(k.isTrusted,l.threadId,r.binggan),C={binggan:r.binggan,forum_id:l.forumId,thread_id:l.threadId,battle_olo:s.value,chara_id:d.value>=240?d.value-240:d.value,is_custom_chara:d.value>=240,chara_group:i.value-1,new_post_key:S,timestamp:_};z(C)}p(()=>{L("refreshPostsList"),x.value=!1});const x=R(!1);function j(){x.value=!0}t({show:j});const L=a;return(k,_)=>(E(),se(o(Ae),{show:x.value,"onUpdate:show":_[5]||(_[5]=S=>x.value=S),"display-directive":"if"},{default:h(()=>[u(o(Oe),{style:ye({maxWidth:c.value}),title:"表情包大乱斗！",closable:"",onClose:_[4]||(_[4]=S=>x.value=!1),size:"small"},{action:h(()=>[u(o(le),{justify:"end"},{default:h(()=>[u(o(de),{type:"primary",onClick:b,loading:o(g)},{default:h(()=>[D("提交")]),_:1},8,["loading"]),u(o(de),{onClick:_[3]||(_[3]=S=>x.value=!1)},{default:h(()=>[D("关闭")]),_:1})]),_:1})]),default:h(()=>[u(o(le),{vertical:""},{default:h(()=>[u(o(xe),null,{default:h(()=>[D("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"3.2rem"}},{default:h(()=>[D("主题")]),_:1}),u(o(Ee),{value:i.value,"onUpdate:value":_[0]||(_[0]=S=>i.value=S),options:f.value},null,8,["value","options"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"3.2rem"}},{default:h(()=>[D("角色")]),_:1}),u(o(Ee),{value:d.value,"onUpdate:value":_[1]||(_[1]=S=>d.value=S),options:m.value},null,8,["value","options"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"3.2rem"}},{default:h(()=>[D("下注")]),_:1}),u(o(Fe),{value:s.value,"onUpdate:value":_[2]||(_[2]=S=>s.value=S),max:1e6,min:100,step:100,parse:o(Gt),format:o(Yt),onKeyup:Ne(b,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ji=q({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:t,emit:a}){const r=U(()=>{const p=window.innerWidth;return p>=532?"500px":p-32+"px"}),l=R(0),c=R(),f=R(),m=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],d=U(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${f.value}</summary>${c.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${f.value}">${c.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${c.value}">`}]);Je(l,()=>{c.value=d.value[l.value].inputDefault_1,f.value=d.value[l.value].inputDefault_2},{immediate:!0});function i(){z("insertCode",d.value[l.value].insertText),s.value=!1}const s=R(!1);function g(){s.value=!0}t({show:g});const z=a;return(p,b)=>(E(),se(o(Ae),{show:s.value,"onUpdate:show":b[5]||(b[5]=x=>s.value=x),"display-directive":"if"},{default:h(()=>[u(o(Oe),{style:ye({maxWidth:r.value}),title:"快捷代码",closable:"",onClose:b[4]||(b[4]=x=>s.value=!1),size:"small"},{action:h(()=>[u(o(le),{justify:"end"},{default:h(()=>[u(o(de),{type:"primary",onClick:i},{default:h(()=>[D("插入")]),_:1}),u(o(de),{onClick:b[3]||(b[3]=x=>s.value=!1)},{default:h(()=>[D("关闭")]),_:1})]),_:1})]),default:h(()=>[u(o(le),{vertical:""},{default:h(()=>[u(o(xe),null,{default:h(()=>[D("代码预览：")]),_:1}),u(o(xe),null,{default:h(()=>[D(Pe(d.value[l.value].insertText),1)]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("代码内容")]),_:1}),u(o(Ee),{value:l.value,"onUpdate:value":b[0]||(b[0]=x=>l.value=x),options:m},null,8,["value"])]),_:1}),Ze(u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D(Pe(d.value[l.value].prepend_1),1)]),_:1}),u(o(Ce),{value:c.value,"onUpdate:value":b[1]||(b[1]=x=>c.value=x),onKeyup:Ne(i,["enter"])},null,8,["value"])]),_:1},512),[[ut,d.value[l.value].inputEnable_1]]),Ze(u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D(Pe(d.value[l.value].prepend_2),1)]),_:1}),u(o(Ce),{value:f.value,"onUpdate:value":b[2]||(b[2]=x=>f.value=x),onKeyup:Ne(i,["enter"])},null,8,["value"])]),_:1},512),[[ut,d.value[l.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),_a=()=>{const e=pe.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},Zt=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const a=pe.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return a.meta={shouldRemind:!0},a},Hi=["width","height"],Ni=["width","height"],Ui=ee("div",null,"颜色",-1),Fi=ee("div",null,"画笔",-1),Ei=["onClick"],Wi=ee("div",null,"操作",-1),qi=["title","innerHTML","onClick"],Vi=q({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:t,emit:a}){const r=Re(),l=e,c=U(()=>{const w=window.innerWidth;return w>=832?"800px":w-32+"px"}),f=R(!1);function m(){f.value=!0}t({show:m});const d=a,i=R(),s=U(()=>{var w;return(w=i.value)==null?void 0:w.getContext("2d")}),g=R(),z=U(()=>{var w;return(w=g.value)==null?void 0:w.getContext("2d")}),p=new Image;let b=!1;const x={x:0,y:0,width:0,height:0},j=R([]),L=R([]),k=R([]),_=R({lineWidth:3,lineColor:"#111111",shadowBlur:1}),S=R(!1),C=R(!1);let A=0,H=0;const V=U(()=>window.innerWidth>836?796:window.innerWidth-36),P=U(()=>window.innerHeight>580?400:window.innerHeight-212),F=U(()=>[{title:"上一步",action:"prev",className:j.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:L.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:j.value.length||L.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:j.value.length||L.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:C.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),M=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function O(){const w=new ImageData(V.value,P.value);k.value.push(w)}Ke(()=>{O()});function W(){s.value.lineWidth=_.value.lineWidth,s.value.shadowBlur=_.value.shadowBlur,s.value.shadowColor=_.value.lineColor,s.value.strokeStyle=_.value.lineColor,s.value.lineCap="round",s.value.lineJoin="round"}function X(w){if(b)if(C.value){const v=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-v.getBoundingClientRect().x,I=w.clientY-v.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-v.getBoundingClientRect().x,I=w.changedTouches[0].clientY-v.getBoundingClientRect().y),g.value.height=g.value.height;let Y={x:x.x+(y-A),y:x.y+(I-H),width:x.width,height:x.height};ke(p,Y)}else{s.value.beginPath(),s.value.moveTo(A,H);const v=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-v.getBoundingClientRect().x,I=w.clientY-v.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-v.getBoundingClientRect().x,I=w.changedTouches[0].clientY-v.getBoundingClientRect().y),s.value.globalCompositeOperation=S.value?"destination-out":"source-over",s.value.lineTo(y,I),[A,H]=[y,I],s.value.stroke()}}function G(w){if(C.value){const v=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-v.getBoundingClientRect().x,I=w.clientY-v.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-v.getBoundingClientRect().x,I=w.changedTouches[0].clientY-v.getBoundingClientRect().y),x.x+=y-A,x.y+=I-H,b=!1}else{const v=s.value.getImageData(0,0,i.value.width,i.value.height);L.value.length?(k.value=[],k.value=k.value.concat(j.value),k.value.push(v),L.value=[]):k.value.push(v),b=!1}}function Z(w){if(C.value){const v=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-v.getBoundingClientRect().x,I=w.clientY-v.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-v.getBoundingClientRect().x,I=w.changedTouches[0].clientY-v.getBoundingClientRect().y),A=y,H=I,b=!0}else{b=!0;const v=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-v.getBoundingClientRect().x,I=w.clientY-v.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-v.getBoundingClientRect().x,I=w.changedTouches[0].clientY-v.getBoundingClientRect().y),W(),A=y,H=I;const Y=s.value.getImageData(0,0,i.value.width,i.value.height);j.value.push(Y)}}function re(w){_.value.lineWidth=w,S.value=!1,C.value=!1}function ce(w){switch(w){case"prev":if(j.value.length){const v=j.value.pop(),y=k.value[j.value.length+1];L.value.push(y),s.value.putImageData(v,0,0)}break;case"next":if(L.value.length){const v=L.value.pop(),y=k.value[k.value.length-L.value.length-2];j.value.push(y),s.value.putImageData(v,0,0)}break;case"clear":s.value.clearRect(0,0,i.value.width,i.value.height),j.value=[],L.value=[],k.value=[k.value[0]];break;case"eraser":S.value=!0;break;case"drag":C.value=!0;break}}function ge(w){if(w.file.file){var v=new FileReader;v.readAsDataURL(w.file.file),v.onload=y=>{p.src=y.target.result,p.onload=function(){var I=g,Y=p;x.width=Y.width,x.height=Y.height,Y.width/Y.height>=I.value.width/I.value.height?Y.width>I.value.width&&(x.width=I.value.width,x.height=Y.height*I.value.width/Y.width):Y.height>I.value.height&&(x.width=Y.width*I.value.height/Y.height,x.height=I.value.height),ke(Y,x)}}}}function ke(w,v){z.value.drawImage(w,v.x,v.y,v.width,v.height)}const ve=R(!1);function _e(){let w=new Image;w.src=i.value.toDataURL("image/png"),w.onload=()=>{z.value.drawImage(w,0,0),v(g.value)};function v(I){I.toBlob(Y=>{Y&&y(Y)},"image/png")}function y(I){const Y={binggan:r.binggan,file:I,mode:"img",thread_id:l.threadId,forum_id:l.forumId};ve.value=!0,Zt(Y).then(tt=>{d("insertImage",tt.file_url),ve.value=!1,f.value=!1}).catch(()=>{ve.value=!1})}}return(w,v)=>(E(),se(o(Ae),{show:f.value,"onUpdate:show":v[5]||(v[5]=y=>f.value=y),"display-directive":"show"},{default:h(()=>[u(o(Oe),{style:ye({maxWidth:c.value}),title:"涂鸦板",closable:"",onClose:v[4]||(v[4]=y=>f.value=!1),size:"small","content-style":{padding:"0px"}},{default:h(()=>[ee("div",{id:"canvas-container",style:ye({width:V.value+"px",height:P.value+"px"})},[ee("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:g,width:V.value,height:P.value,onTouchmove:v[0]||(v[0]=ht(()=>{},["prevent"]))},null,40,Hi),ee("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:i,class:_t({painting:!C.value,dragging:C.value}),width:V.value,height:P.value,onTouchmove:[v[1]||(v[1]=ht(()=>{},["prevent"])),X],onMousedown:Z,onMouseup:G,onMousemove:X,onTouchstart:Z,onTouchend:G},null,42,Ni)],4),u(o(Ln),{"x-gap":"6",cols:4},{default:h(()=>[u(o(it),{span:"1"},{default:h(()=>[Ui,u(o(Tn),{value:_.value.lineColor,"onUpdate:value":v[2]||(v[2]=y=>_.value.lineColor=y),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),u(o(it),{span:"1"},{default:h(()=>[Fi,u(o(le),{id:"canvas-brush",size:"small",align:"center"},{default:h(()=>[(E(),ue(Ie,null,Ue(M,(y,I)=>ee("span",{key:I,style:ye({fontSize:y.font_size+"px"}),onClick:Y=>re(y.lineWidth)},Pe(y.innerHTML),13,Ei)),64))]),_:1})]),_:1}),u(o(it),{span:"2"},{default:h(()=>[Wi,u(o(le),{id:"canvas-control",size:"small"},{default:h(()=>[(E(!0),ue(Ie,null,Ue(F.value,(y,I)=>(E(),ue("span",{key:I,title:y.title,class:_t([y.className]),innerHTML:y.innerHTML,onClick:Y=>ce(y.action)},null,10,qi))),128))]),_:1})]),_:1})]),_:1})]),action:h(()=>[u(o(le),{justify:"end"},{default:h(()=>[u(o(Xt),{"default-upload":!1,onChange:ge,"show-file-list":!1},{default:h(()=>[u(o(de),null,{default:h(()=>[D("加载图片")]),_:1})]),_:1}),u(o(de),{type:"primary",onClick:_e,disabled:w.userIsLocked,loading:ve.value},{default:h(()=>[D("上传")]),_:1},8,["disabled","loading"]),u(o(de),{onClick:v[3]||(v[3]=y=>f.value=!1)},{default:h(()=>[D("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Xi=["onClick"],Gi=["src"],Yi=q({__name:"EmojiTab",props:{randomHeadsGroup:{default:0},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:t}){const a=Re(),r=Le(),l=e,c=R(),f=U(()=>{const p=Hn.filter(b=>!a.userData.emoji_excluded.includes(b.id)&&(b.headsId===0||b.headsId===l.randomHeadsGroup));return a.userData.my_emoji&&p.unshift({id:0,headsId:0,name:"自定义",emojis:a.userData.my_emoji}),p}),m=t;function d(p,b){m("appendEmoji",p,b==="自定义"),l.autoHide&&(c.value=-1)}let i=!1;function s(p,b){return n("span",{onClick:()=>g(b),innerHTML:p})}function g(p){p===c.value&&(i=!0,c.value=-1)}function z(p,b){return i?(i=!1,!1):!0}return(p,b)=>(E(),se(o(Nn),{type:"line","bar-width":0,animated:"",onBeforeLeave:z,size:o(r).isMobile?"small":"medium","default-value":-1,value:c.value,"onUpdate:value":b[0]||(b[0]=x=>c.value=x)},{default:h(()=>[(E(!0),ue(Ie,null,Ue(f.value,(x,j,L)=>(E(),se(o(zt),{name:x.id,tab:s(x.name,x.id)},{default:h(()=>[u(o(le),{size:"small",class:"emoji-container"},{default:h(()=>[(E(!0),ue(Ie,null,Ue(x.emojis,(k,_,S)=>(E(),ue("div",{class:"emoji-box",onClick:C=>d(k,x.name)},[ee("img",{src:k,class:"emoji-in-box"},null,8,Gi)],8,Xi))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),u(o(zt),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),Zi=e=>{const t=pe.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},za=e=>{const t=pe.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ki=q({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:a}){const r=Le(),l=Re(),c=e,f=U(()=>{const F=window.innerWidth;return F>=532?"500px":F-32+"px"}),m=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],d=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],i=R(3e3),s=R(10),g=R(1),z=R(1),p=R(),b=R(),x=R([]),j=R(!1),L=R(1);function k(F){F===1&&L.value<5&&(L.value+=1),F===-1&&L.value>1&&(x.value.splice(L.value-1,1),L.value-=1)}const{loading:_,send:S,onSuccess:C}=et(F=>Zi(F),{immediate:!1});function A(){if(p.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(b.value===void 0&&[2,3].includes(z.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(g.value===2&&i.value%s.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const F={binggan:l.binggan,forum_id:c.forumId,thread_id:c.threadId,hongbao_olo:i.value,hongbao_num:s.value,type:g.value,key_word_type:z.value,hongbao_key_word:p.value,hongbao_question:b.value,hongbao_message_json:x.value,hongbao_olo_hide:j.value};S(F)}C(()=>{P("refreshPostsList"),H.value=!1});const H=R(!1);function V(){H.value=!0}t({show:V});const P=a;return(F,M)=>(E(),se(o(Ae),{show:H.value,"onUpdate:show":M[11]||(M[11]=O=>H.value=O),"display-directive":"if"},{default:h(()=>[u(o(Oe),{style:ye({maxWidth:f.value}),title:"发起红包",closable:"",onClose:M[10]||(M[10]=O=>H.value=!1),size:"small"},{action:h(()=>[u(o(le),{justify:"end"},{default:h(()=>[u(o(de),{type:"primary",onClick:A,loading:o(_)},{default:h(()=>[D("提交")]),_:1},8,["loading"]),u(o(de),{onClick:M[9]||(M[9]=O=>H.value=!1)},{default:h(()=>[D("关闭")]),_:1})]),_:1})]),default:h(()=>[u(o(le),{vertical:""},{default:h(()=>[ee("div",null,[u(o(xe),{depth:3},{default:h(()=>[D("温馨提示：")]),_:1}),D("在红包总额以外，会追加扣除7%手续费。 ")]),ee("div",null,[u(o(xe),{depth:3},{default:h(()=>[D("总共扣除：")]),_:1}),u(o(xe),{type:"warning"},{default:h(()=>[D(Pe(Math.ceil(i.value*(o(r).isDouble11?1.02:1.07))),1)]),_:1}),D("个奥利奥 ")]),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("红包类型")]),_:1}),u(o(Ee),{value:z.value,"onUpdate:value":M[0]||(M[0]=O=>z.value=O),options:m},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("olo类型")]),_:1}),u(o(Ee),{value:g.value,"onUpdate:value":M[1]||(M[1]=O=>g.value=O),options:d},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("红包个数")]),_:1}),u(o(Fe),{value:s.value,"onUpdate:value":M[2]||(M[2]=O=>s.value=O),max:50,min:5,step:5},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("olo总额")]),_:1}),u(o(Fe),{value:i.value,"onUpdate:value":M[3]||(M[3]=O=>i.value=O),max:1e6,min:3e3,step:1e3,parse:o(Gt),format:o(Yt)},null,8,["value","parse","format"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("红包口令")]),_:1}),u(o(Ce),{value:p.value,"onUpdate:value":M[4]||(M[4]=O=>p.value=O),placeholder:"必填"},null,8,["value"])]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("口令提示")]),_:1}),u(o(Ce),{value:b.value,"onUpdate:value":M[5]||(M[5]=O=>b.value=O),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(E(!0),ue(Ie,null,Ue(L.value,O=>(E(),se(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"5.2rem"}},{default:h(()=>[D("回复留言")]),_:1}),u(o(Ce),{value:x.value[O-1],"onUpdate:value":W=>x.value[O-1]=W,placeholder:`#${O}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),u(o(le),{size:"small",align:"center"},{default:h(()=>[u(o(xe),{depth:3},{default:h(()=>[D("留言数量")]),_:1}),u(o(Me),{size:"tiny",circle:"",disabled:L.value===5,onClick:M[6]||(M[6]=O=>k(1))},{icon:h(()=>[u(o(be),null,{default:h(()=>[u(o(Zo))]),_:1})]),_:1},8,["disabled"]),u(o(Me),{size:"tiny",circle:"",disabled:L.value===1,onClick:M[7]||(M[7]=O=>{k(-1)})},{icon:h(()=>[u(o(be),null,{default:h(()=>[u(o(Vo))]),_:1})]),_:1},8,["disabled"]),u(o(yn),{checked:j.value,"onUpdate:checked":M[8]||(M[8]=O=>j.value=O),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ji=q({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:t}){const a=Le(),r=Re(),l=R(null),c=e,f=t;function m(g){var z=document.getElementsByTagName("body")[0],p=document.createElement("script");p.setAttribute("id","image-upload-js");var b=document.getElementById("upload-button");g=="mjj"&&(p.setAttribute("async","true"),p.setAttribute("src","https://mjj.today/sdk/pup.js"),p.setAttribute("data-url","https://mjj.today/upload"),p.setAttribute("data-auto-insert","html-embed"),b==null||b.setAttribute("data-chevereto-pup-trigger","")),g=="imgbb"&&(p.setAttribute("async","true"),p.setAttribute("src","https://imgbb.com/upload.js"),p.setAttribute("data-url","https://imgbb.com/upload"),p.setAttribute("data-auto-insert","html-embed-medium"),b==null||b.setAttribute("data-imgbb-trigger","")),g=="freeimage"&&(p.setAttribute("async","true"),p.setAttribute("src","https://freeimage.host/sdk/pup.js"),p.setAttribute("data-url","https://freeimage.host/upload"),p.setAttribute("data-auto-insert","html-embed-medium"),b==null||b.setAttribute("data-chevereto-pup-trigger","")),z.appendChild(p)}function d(){const g=document.getElementById("image-upload-js");g==null||g.remove()}Ke(()=>{m(a.userCustom.imgHost)}),Cn(()=>{d()});const i=R(!1),s=({file:g,data:z,headers:p,withCredentials:b,action:x,onFinish:j,onError:L,onProgress:k})=>{var _;if(g.file!==null){if(g.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(_=l.value)==null||_.clear();return}const S={binggan:r.binggan,file:g.file,mode:"img",thread_id:c.threadId,forum_id:c.forumId};i.value=!0,Zt(S).then(C=>{var A;f("insertImage",C.file_url),(A=l.value)==null||A.clear(),i.value=!1}).catch(()=>{var C;(C=l.value)==null||C.clear(),i.value=!1})}};return(g,z)=>g.forumId===419?(E(),se(o(Xt),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":s,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:l},{default:h(()=>[u(o(de),{style:{"margin-right":"auto"},disabled:g.userIsLocked,loading:i.value},{default:h(()=>[D("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(E(),se(o(de),{key:1,style:{"margin-right":"auto"},disabled:g.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:h(()=>[D("上传图片")]),_:1},8,["disabled"]))}}),Qi=q({__name:"PingbiciModal",setup(e,{expose:t}){Le();const a=Re(),r=U(()=>{const g=window.innerWidth;return g>=532?"500px":g-32+"px"}),l=R(),{loading:c,send:f,onSuccess:m}=et(g=>kn(g),{immediate:!1});function d(){if(!l.value){window.$message.error("请填写屏蔽词");return}const g={binggan:a.binggan,content_pingbici:l.value};f(g)}m(()=>{a.refreshUserData(),i.value=!1});const i=R(!1);function s(){i.value=!0}return t({show:s}),(g,z)=>(E(),se(o(Ae),{show:i.value,"onUpdate:show":z[3]||(z[3]=p=>i.value=p),"display-directive":"if"},{default:h(()=>[u(o(Oe),{style:ye({maxWidth:r.value}),title:"追加屏蔽词",closable:"",onClose:z[2]||(z[2]=p=>i.value=!1),size:"small"},{action:h(()=>[u(o(le),{justify:"end"},{default:h(()=>[u(o(de),{type:"primary",onClick:d,loading:o(c),disabled:!l.value},{default:h(()=>[D("提交")]),_:1},8,["loading","disabled"]),u(o(de),{onClick:z[1]||(z[1]=p=>i.value=!1)},{default:h(()=>[D("关闭")]),_:1})]),_:1})]),default:h(()=>[u(o(le),{vertical:""},{default:h(()=>[u(o(xe),null,{default:h(()=>[D("暂时只做了“内容屏蔽词”的追加")]),_:1}),u(o(ae),null,{default:h(()=>[u(o(ie),{style:{width:"4.2rem"}},{default:h(()=>[D("屏蔽词")]),_:1}),u(o(Ce),{value:l.value,"onUpdate:value":z[0]||(z[0]=p=>l.value=p),max:255,onKeyup:Ne(d,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ra=q({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:t,emit:a}){const r=Re(),l=Le();In(),_n();const c=R(null),f=R(null),m=R(null),d=R(null),i=R(null),s=R(null),g=R(null),z=e,p=U(()=>r.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(r.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),b=U(()=>r.userData.binggan.locked_ttl>0),x=R(r.userData.binggan.nickname||"= ="),j=R(""),L=R(""),k=R(!1),_=R(!1),S=R(!1),C=zn("emoji_auto_hide",!1);function A(){let w=[n(Xe,{checked:S.value,"onUpdate:checked":v=>S.value=v,label:"实时预览"}),n(Xe,{checked:C.value,"onUpdate:checked":v=>C.value=v,label:"表情包自动收起"})];return r.userData.binggan.admin!==0&&r.checkAdminForums(z.forumId)&&w.push(n(Xe,{checked:_.value,"onUpdate:checked":v=>_.value=v,label:"管理员"})),n(le,{style:"padding:6px 8px",vertical:!0},()=>w)}const H=[{key:"funcOption",type:"render",render:A}];Je(_,w=>x.value=w?"管理员":"= =");function V(w){return w.selectionStart!=null?w.selectionStart:0}function P(w,v){const y=V(w),I=w.value,Y=I.substring(0,y)+v+I.substring(y);L.value=Y}function F(w){const v=document.getElementById("content-input");P(v,w),X(),v.focus()}function M(){Pn({title:"要清空内容吗？",onPositiveClick:()=>L.value=""})}const O=R([""]);function W(){O.value.length>1&&(O.value.pop(),L.value=O.value.slice(-1)[0])}function X(){O.value.push(L.value??""),O.value.length>20&&O.value.shift()}function G(w,v){F(`<img src='${w}' class='${v?"custom-emoji-img":"emoji-img"}'>`)}function Z(w){F(w)}function re(w){F(`<img src='${w}' />`)}function ce(w){var v;L.value=w,X(),(v=c.value)==null||v.focus()}const ge=a;function ke(w){if(!w.isTrusted){const y={title:"错误",closable:!1,content:"请不要用脚本回复喔，可能会被系统判断为脚本并碎饼干。",positiveText:"确定"};window.$dialog.warning(y);return}new Promise(function(y,I){ge("contentCommit",{contentInput:L.value,nicknameInput:x.value,postWithAdmin:_.value,titleInput:j.value,isDelay:k.value,ist:w.isTrusted},y)}).then(ve)}function ve(){j.value="",L.value="",k.value=!1}const _e=R(!1);return t({quoteHandle:ce,isTyping:_e}),(w,v)=>(E(),se(o(le),{vertical:""},{default:h(()=>[u(o(le),{size:"small",wrap:!1,align:"center"},{default:h(()=>[u(o(ae),{style:{"max-width":"300px"}},{default:h(()=>[u(o(ie),{style:{width:"3.2rem"}},{default:h(()=>[D("昵称")]),_:1}),u(o(Ce),{maxlength:30,value:x.value,"onUpdate:value":v[0]||(v[0]=y=>x.value=y),"show-count":"",style:ye({color:_.value?"FF6060":void 0})},null,8,["value","style"])]),_:1}),u(o(Rn),{trigger:"hover",options:H,placement:"bottom-start"},{default:h(()=>[u(o(de),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:h(()=>[D("功能")]),_:1})]),_:1})]),_:1}),w.mode==="thread"?(E(),se(o(ae),{key:0},{default:h(()=>[u(o(ie),{style:{width:"3.2rem"}},{default:h(()=>[D("标题")]),_:1}),u(o(Ce),{maxlength:100,value:j.value,"onUpdate:value":v[1]||(v[1]=y=>j.value=y),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):He("",!0),u(Yi,{"auto-hide":o(C),"random-heads-group":w.randomHeadsGroup,onAppendEmoji:G},null,8,["auto-hide","random-heads-group"]),u(o(le),{size:o(l).isMobile?"small":"medium",justify:"end",align:"center"},{default:h(()=>[w.mode==="post"?(E(),se(o(be),{key:0,size:o(l).isMobile?28:32},{default:h(()=>[u(o(yi),{style:{cursor:"pointer"},onClick:v[2]||(v[2]=y=>{var I;return(I=f.value)==null?void 0:I.show()})})]),_:1},8,["size"])):He("",!0),w.mode==="post"?(E(),se(o(be),{key:1,size:o(l).isMobile?28:32},{default:h(()=>[u(o(si),{style:{cursor:"pointer"},onClick:v[3]||(v[3]=y=>{var I;return(I=m.value)==null?void 0:I.show()})})]),_:1},8,["size"])):He("",!0),w.mode==="post"?(E(),se(o(be),{key:2,size:o(l).isMobile?28:32},{default:h(()=>[u(o(ii),{style:{cursor:"pointer"},onClick:v[4]||(v[4]=y=>{var I;return(I=d.value)==null?void 0:I.show()})})]),_:1},8,["size"])):He("",!0),u(o(be),{size:o(l).isMobile?28:32},{default:h(()=>[u(o(Ii),{style:{cursor:"pointer"},onClick:v[5]||(v[5]=y=>{var I;return(I=g.value)==null?void 0:I.show()})})]),_:1},8,["size"]),u(o(be),{size:o(l).isMobile?28:32},{default:h(()=>[u(o(zi),{style:{cursor:"pointer"},onClick:v[6]||(v[6]=y=>{var I;return(I=s.value)==null?void 0:I.show()})})]),_:1},8,["size"]),u(o(be),{size:o(l).isMobile?28:32},{default:h(()=>[u(o(mi),{style:{cursor:"pointer"},onClick:v[7]||(v[7]=y=>{var I;return(I=i.value)==null?void 0:I.show()})})]),_:1},8,["size"]),u(o(Un),{vertical:""}),u(o(be),{size:o(l).isMobile?28:32},{default:h(()=>[u(o(ei),{style:{cursor:"pointer"},onClick:W})]),_:1},8,["size"]),u(o(be),{size:o(l).isMobile?28:32},{default:h(()=>[u(o(Bi),{style:{cursor:"pointer"},onClick:M})]),_:1},8,["size"])]),_:1},8,["size"]),u(o(jn),{value:L.value,"onUpdate:value":v[8]||(v[8]=y=>L.value=y),type:"textarea",placeholder:p.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:c,style:{"border-radius":"10px"},"input-props":{id:"content-input"},disabled:b.value,onChange:X,onKeyup:v[9]||(v[9]=Ne(ht(y=>ke(y),["ctrl"]),["enter"])),onBlur:v[10]||(v[10]=y=>_e.value=!1),onFocus:v[11]||(v[11]=y=>_e.value=!0)},null,8,["value","placeholder","disabled"]),u(o(le),{justify:"end",align:"center"},{default:h(()=>[u(Ji,{"user-is-locked":b.value,"forum-id":w.forumId,"thread-id":w.threadId,onInsertImage:re},null,8,["user-is-locked","forum-id","thread-id"]),w.mode==="thread"?(E(),se(o(Xe),{key:0,checked:k.value,"onUpdate:checked":v[12]||(v[12]=y=>k.value=y)},{default:h(()=>[D("延时发送")]),_:1},8,["checked"])):He("",!0),u(o(Sn),{placement:"bottom-start",trigger:"hover",disabled:o(l).isMobile},{trigger:h(()=>[u(o(de),{type:"primary",onClick:v[13]||(v[13]=y=>ke(y)),loading:w.handling,disabled:b.value},{default:h(()=>[D("提交")]),_:1},8,["loading","disabled"])]),default:h(()=>[D(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),u(Ki,{ref_key:"HongbaoModalCom",ref:f,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:v[14]||(v[14]=y=>ge("refreshPostsList"))},null,8,["thread-id","forum-id"]),u(Ai,{ref_key:"BattleModalCom",ref:m,"thread-id":w.threadId,"forum-id":w.forumId,"random-heads-group":w.randomHeadsGroup,onRefreshPostsList:v[15]||(v[15]=y=>ge("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),u(ci,{ref_key:"RollModalCom",ref:d,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:v[16]||(v[16]=y=>ge("refreshPostsList"))},null,8,["thread-id","forum-id"]),u(Qi,{ref_key:"PingbiciModalCom",ref:i},null,512),u(ji,{ref_key:"CodeModalCom",ref:s,onInsertCode:Z},null,512),u(Vi,{ref_key:"DrawerModalCom",ref:g,onInsertImage:re,"user-is-locked":b.value,"forum-id":w.forumId,"thread-id":w.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}}),Sa=[{id:1,name:"默认",random_heads:["https://z3.ax1x.com/2021/08/01/fSAAIg.png","https://z3.ax1x.com/2021/08/01/fSAeRs.png","https://z3.ax1x.com/2021/08/01/fSAViQ.png","https://z3.ax1x.com/2021/08/01/fSAZGj.png","https://z3.ax1x.com/2021/08/01/fSAkdS.png","https://z3.ax1x.com/2021/08/01/fSAmzn.png","https://z3.ax1x.com/2021/08/01/fSAuMq.png","https://z3.ax1x.com/2021/08/01/fSAKs0.png","https://z3.ax1x.com/2021/08/01/fSAMLV.png","https://z3.ax1x.com/2021/08/01/fSAlZT.png","https://z3.ax1x.com/2021/08/01/fSA1dU.png","https://z3.ax1x.com/2021/08/01/fSA3oF.png","https://z3.ax1x.com/2021/08/01/fSAGi4.png","https://z3.ax1x.com/2021/08/01/fSAYW9.png","https://z3.ax1x.com/2021/08/01/fSAJJJ.png","https://z3.ax1x.com/2021/08/01/fSAtzR.png","https://z3.ax1x.com/2021/08/01/fSAUQ1.png","https://z3.ax1x.com/2021/08/01/fSAsFe.png","https://z3.ax1x.com/2021/08/01/fSABdO.png","https://z3.ax1x.com/2021/08/01/fSADoD.png","https://z3.ax1x.com/2021/08/01/fSA0eK.png","https://z3.ax1x.com/2021/08/01/fSAyJH.png","https://z3.ax1x.com/2021/08/01/fSA6Wd.png","https://z3.ax1x.com/2021/08/01/fSAgSA.png","https://z3.ax1x.com/2021/08/01/fSA2QI.png","https://z3.ax1x.com/2021/08/01/fSARyt.png","https://z3.ax1x.com/2021/08/01/fSAWOP.png","https://z3.ax1x.com/2021/08/01/fSAhef.png","https://z3.ax1x.com/2021/08/01/fSA4w8.png","https://z3.ax1x.com/2021/08/01/fSA5TS.png","https://z3.ax1x.com/2021/08/01/fSAoFg.png","https://z3.ax1x.com/2021/08/01/fSATYQ.png","https://z3.ax1x.com/2021/08/01/fSA7Wj.png","https://z3.ax1x.com/2021/08/01/fSAbSs.png","https://z3.ax1x.com/2021/08/01/fSAqln.png","https://z3.ax1x.com/2021/08/01/fSALyq.png","https://z3.ax1x.com/2021/08/01/fSAOO0.png","https://z3.ax1x.com/2021/08/01/fSAjmV.png","https://z3.ax1x.com/2021/08/01/fSAvwT.png","https://z3.ax1x.com/2021/08/01/fSAxTU.png"]},{id:2,name:"咒岛",random_heads:["https://www.z4a.net/images/2021/04/28/1ec2f3b016cc3993d.png","https://www.z4a.net/images/2021/04/28/2c9d9c4cfced955f1.png","https://www.z4a.net/images/2021/04/28/3a72868d2ed97544e.png","https://www.z4a.net/images/2021/04/28/4a530a7008124f895.png","https://www.z4a.net/images/2021/04/28/16.png","https://www.z4a.net/images/2021/04/28/5c3d0f8f7e94c0f87.png","https://www.z4a.net/images/2021/04/28/6.png","https://www.z4a.net/images/2021/04/28/7.png","https://www.z4a.net/images/2021/04/28/8.png","https://www.z4a.net/images/2021/04/28/9.png","https://www.z4a.net/images/2021/04/28/17.png","https://www.z4a.net/images/2021/04/28/10a78173cca4d2b9e4.png","https://www.z4a.net/images/2021/04/28/116817e6f9946a883b.png","https://www.z4a.net/images/2021/04/28/12d6faaf27dd411273.png","https://www.z4a.net/images/2021/04/28/13cd6b9af2dee496c2.png","https://www.z4a.net/images/2021/04/28/158cb6d1c543151992.png","https://www.z4a.net/images/2021/04/28/191dbde0611454f9c4.png","https://www.z4a.net/images/2021/04/28/149dd44da8e8badd09.png","https://www.z4a.net/images/2021/04/28/189f30c4bbf3eb9015.png","https://www.z4a.net/images/2021/04/28/201161035e7d5b8c56.png","https://www.z4a.net/images/2021/04/28/21.png","https://www.z4a.net/images/2021/04/28/222dc14b16d6f5e3ad.png","https://www.z4a.net/images/2021/04/28/23.png","https://www.z4a.net/images/2021/04/28/24.png","https://www.z4a.net/images/2021/04/28/25.png","https://www.z4a.net/images/2021/04/28/26.png","https://www.z4a.net/images/2021/04/28/27.png","https://www.z4a.net/images/2021/04/28/28.png","https://www.z4a.net/images/2021/04/28/29.png","https://www.z4a.net/images/2021/04/28/30.png","https://www.z4a.net/images/2021/04/28/31.png","https://www.z4a.net/images/2021/04/28/32.png","https://www.z4a.net/images/2021/04/28/333753a209916c1bac.png","https://www.z4a.net/images/2021/04/28/34.png","https://www.z4a.net/images/2021/04/28/35.png","https://www.z4a.net/images/2021/04/28/36.png","https://www.z4a.net/images/2021/04/28/37.png","https://www.z4a.net/images/2021/04/28/38.png","https://www.z4a.net/images/2021/04/28/39.png","https://www.z4a.net/images/2021/04/28/40.png"]},{id:3,name:"国配",random_heads:["https://s2.ax1x.com/2020/03/04/3oNmCT.jpg","https://s2.ax1x.com/2020/03/04/3oNZ5V.jpg","https://s2.ax1x.com/2020/03/04/3oNVU0.jpg","https://s2.ax1x.com/2020/03/04/3oNEEq.jpg","https://s2.ax1x.com/2020/03/04/3oNkbn.jpg","https://s2.ax1x.com/2020/03/04/3oNFDs.jpg","https://s2.ax1x.com/2020/03/04/3oNiuj.jpg","https://s2.ax1x.com/2020/03/04/3oNCvQ.jpg","https://s2.ax1x.com/2020/03/04/3oN9gg.jpg","https://s2.ax1x.com/2020/03/04/3otx4f.jpg","https://s2.ax1x.com/2020/03/04/3otvUP.jpg","https://s2.ax1x.com/2020/03/04/3otjEt.jpg","https://s2.ax1x.com/2020/03/04/3otOHI.jpg","https://s2.ax1x.com/2020/03/04/3otLDA.jpg","https://s2.ax1x.com/2020/03/04/3otqud.jpg","https://s2.ax1x.com/2020/03/04/3otHjH.jpg","https://s2.ax1x.com/2020/03/04/3ot54K.jpg","https://s2.ax1x.com/2020/03/04/3ot4N6.jpg","https://s2.ax1x.com/2020/03/04/3ot6c4.jpg","https://s2.ax1x.com/2020/03/04/3otcjJ.jpg","https://i.loli.net/2020/05/12/fjzJG2tOKS9x75i.png","https://s2.ax1x.com/2020/03/04/3othAx.jpg","https://s2.ax1x.com/2020/03/04/3otWH1.jpg","https://i.loli.net/2020/05/12/RJkuylMqTDbhFYK.png","https://s2.ax1x.com/2020/03/04/3oaHvF.jpg","https://i.loli.net/2020/05/12/JniT3y5EjlHveCa.png","https://i.loli.net/2020/05/12/uLf37Dh4moSNWHl.png","https://i.loli.net/2020/05/12/4PDlehfWOJZoEcj.png","https://i.loli.net/2020/05/12/UznI9POMuTN5CdF.png","https://i.loli.net/2020/05/12/Ku24JNkQp6sedEb.png","https://i.loli.net/2020/05/12/zPiTZRcU2WxC65D.png","https://i.loli.net/2020/05/12/6JeYhNKMLsBQlFO.png","https://i.loli.net/2020/05/12/gIqU1VEXHAQ2ShG.png","https://i.loli.net/2020/05/12/RJOoTxZKvQtLNrA.png","https://i.loli.net/2020/05/12/WHtM9RFxsaCXUYp.png","https://i.loli.net/2020/05/12/KtVvfRUPzA4CDFi.png","https://i.loli.net/2020/05/12/XQWotbfrYi7dBp6.png","https://i.loli.net/2020/05/12/f4h65rGU7cRYwZ8.png","https://i.loli.net/2020/05/12/1HWeg4xdsX85kZT.png","https://i.loli.net/2020/05/12/J8uH6ClX4EGLifc.png"]},{id:4,name:"兵兵球",random_heads:["https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-01.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-02.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-03.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-04.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-05.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-06.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-07.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-08.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-09.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-10.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-11.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-12.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-13.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-14.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-15.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-16.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-17.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-18.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-19.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-20.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-21.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-22.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-23.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-24.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-25.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-26.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-27.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-28.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-29.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-30.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-31.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-32.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-33.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-34.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-35.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-36.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-37.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-38.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-39.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-40.gif"]}];export{Ra as _,ya as a,Yt as b,_a as c,xa as d,st as e,Ca as f,di as g,ka as h,Gt as i,za as j,wa as n,ba as p,Sa as r};
