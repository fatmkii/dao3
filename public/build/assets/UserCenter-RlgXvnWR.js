var bt=Object.defineProperty,wt=Object.defineProperties;var yt=Object.getOwnPropertyDescriptors;var Be=Object.getOwnPropertySymbols;var xt=Object.prototype.hasOwnProperty,St=Object.prototype.propertyIsEnumerable;var We=(u,t,a)=>t in u?bt(u,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[t]=a,oe=(u,t)=>{for(var a in t||(t={}))xt.call(t,a)&&We(u,a,t[a]);if(Be)for(var a of Be(t))St.call(t,a)&&We(u,a,t[a]);return u},fe=(u,t)=>wt(u,yt(t));import{x as G,z as W,A as x,V as h,aT as _t,F as R,t as e,U as C,K as n,R as i,av as Se,a1 as y,X as g,aN as we,aK as re,aL as se,aw as H,aM as ze,ax as Q,au as J,a0 as be,S as Y,a4 as _e,a7 as $e,a6 as Ue,a5 as Te,b as I,q as K,w as ee,I as tt,_ as q,W as X,aE as je,$ as V,J as te,aU as nt,aV as it,T as Z,Y as Ee,aO as at,Q as de,C as me,M as ye,Z as st,aW as lt,aX as Tt,i as Re,ar as ot,N as rt,P as Dt,r as Et,aa as qe,aY as Ye,aC as Xe,aZ as Ce,a_ as Ve,a$ as Ct,aP as Nt,aQ as kt,ah as Mt}from"./vendor-DKSliaeX.js";import{u as ne,d as A,c as ie,j as le,z as Ot,A as Lt,g as Ne,e as ae,I as zt,J as It,K as Pt,N as $t,O as Ut,Q as jt,T as Ie,_ as Ae,W as Rt,X as At,Y as Ht,f as Ft,Z as Bt,$ as Wt,a0 as qt,a1 as Yt,a2 as Xt,a3 as Vt,a4 as Kt}from"./app-BS5C2Xv4.js";import{u as He}from"./forums-BKK4zFtC.js";import{T as Gt}from"./ThreadList-XojFjp9c.js";import{_ as Jt,f as Ke}from"./emojiData-Cp3MIFP-.js";import{i as Qt,a as Zt}from"./inputNumberFormat-BPxWRFt_.js";import"./showDialog-CR-FesH4.js";import"./browseLogger-Dw9qxaZF.js";import"./Delete-D3xRQ076.js";const en={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},tn=h("path",{d:"M12 12h2v12h-2z",fill:"currentColor"},null,-1),nn=h("path",{d:"M18 12h2v12h-2z",fill:"currentColor"},null,-1),an=h("path",{d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20z",fill:"currentColor"},null,-1),sn=h("path",{d:"M12 2h8v2h-8z",fill:"currentColor"},null,-1),ln=[tn,nn,an,sn],on=G({name:"TrashCan",render:function(t,a){return x(),W("svg",en,ln)}});function dt(u){let t=null;return()=>(t==null&&(t=u()),t)}function rn(u,t){return u.filter(a=>a!==t)}function dn(u,t){const a=new Set,d=r=>a.add(r);u.forEach(d),t.forEach(d);const s=[];return a.forEach(r=>s.push(r)),s}class un{enter(t){const a=this.entered.length,d=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=dn(this.entered.filter(d),[t]),a===0&&this.entered.length>0}leave(t){const a=this.entered.length;return this.entered=rn(this.entered.filter(this.isNodeInDocument),t),a>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class mn{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const a={};Object.keys(this.config.exposeProperties).forEach(d=>{const s=this.config.exposeProperties[d];s!=null&&(a[d]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,a)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,a){return a===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const ut="__NATIVE_FILE__",mt="__NATIVE_URL__",gt="__NATIVE_TEXT__",pt="__NATIVE_HTML__",Ge=Object.freeze(Object.defineProperty({__proto__:null,FILE:ut,HTML:pt,TEXT:gt,URL:mt},Symbol.toStringTag,{value:"Module"}));function ke(u,t,a){const d=t.reduce((s,r)=>s||u.getData(r),"");return d!=null?d:a}const Pe={[ut]:{exposeProperties:{files:u=>Array.prototype.slice.call(u.files),items:u=>u.items,dataTransfer:u=>u},matchesTypes:["Files"]},[pt]:{exposeProperties:{html:(u,t)=>ke(u,t,""),dataTransfer:u=>u},matchesTypes:["Html","text/html"]},[mt]:{exposeProperties:{urls:(u,t)=>ke(u,t,"").split(`
`),dataTransfer:u=>u},matchesTypes:["Url","text/uri-list"]},[gt]:{exposeProperties:{text:(u,t)=>ke(u,t,""),dataTransfer:u=>u},matchesTypes:["Text","text/plain"]}};function gn(u,t){const a=Pe[u];if(!a)throw new Error(`native type ${u} has no configuration`);const d=new mn(a);return d.loadDataTransfer(t),d}function Me(u){if(!u)return null;const t=Array.prototype.slice.call(u.types||[]);return Object.keys(Pe).filter(a=>{const d=Pe[a];return d!=null&&d.matchesTypes?d.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const pn=dt(()=>/firefox/i.test(navigator.userAgent)),ft=dt(()=>!!window.safari);class Je{interpolate(t){const{xs:a,ys:d,c1s:s,c2s:r,c3s:f}=this;let p=a.length-1;if(t===a[p])return d[p];let o=0,m=f.length-1,w;for(;o<=m;){w=Math.floor(.5*(o+m));const c=a[w];if(c<t)o=w+1;else if(c>t)m=w-1;else return d[w]}p=Math.max(0,m);const l=t-a[p],b=l*l;return d[p]+s[p]*l+r[p]*b+f[p]*l*b}constructor(t,a){const{length:d}=t,s=[];for(let c=0;c<d;c++)s.push(c);s.sort((c,E)=>t[c]<t[E]?-1:1);const r=[],f=[];let p,o;for(let c=0;c<d-1;c++)p=t[c+1]-t[c],o=a[c+1]-a[c],r.push(p),f.push(o/p);const m=[f[0]];for(let c=0;c<r.length-1;c++){const E=f[c],M=f[c+1];if(E*M<=0)m.push(0);else{p=r[c];const _=r[c+1],O=p+_;m.push(3*O/((O+_)/E+(O+p)/M))}}m.push(f[f.length-1]);const w=[],l=[];let b;for(let c=0;c<m.length-1;c++){b=f[c];const E=m[c],M=1/r[c],_=E+m[c+1]-b-b;w.push((b-E-_)*M),l.push(_*M*M)}this.xs=t,this.ys=a,this.c1s=m,this.c2s=w,this.c3s=l}}const fn=1;function vt(u){const t=u.nodeType===fn?u:u.parentElement;if(!t)return null;const{top:a,left:d}=t.getBoundingClientRect();return{x:d,y:a}}function ve(u){return{x:u.clientX,y:u.clientY}}function vn(u){var t;return u.nodeName==="IMG"&&(pn()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(u)))}function hn(u,t,a,d){let s=u?t.width:a,r=u?t.height:d;return ft()&&u&&(r/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:r}}function cn(u,t,a,d,s){const r=vn(t),p=vt(r?u:t),o={x:a.x-p.x,y:a.y-p.y},{offsetWidth:m,offsetHeight:w}=u,{anchorX:l,anchorY:b}=d,{dragPreviewWidth:c,dragPreviewHeight:E}=hn(r,t,m,w),M=()=>{let v=new Je([0,.5,1],[o.y,o.y/w*E,o.y+E-w]).interpolate(b);return ft()&&r&&(v+=(window.devicePixelRatio-1)*E),v},_=()=>new Je([0,.5,1],[o.x,o.x/m*c,o.x+c-m]).interpolate(l),{offsetX:O,offsetY:T}=s,z=O===0||O,N=T===0||T;return{x:z?O:_(),y:N?T:M()}}let bn=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,a){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=a}};function wn(u,t,a){return t in u?Object.defineProperty(u,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):u[t]=a,u}function Qe(u){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{},d=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(a).filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable}))),d.forEach(function(s){wn(u,s,a[s])})}return u}class yn{profile(){var t,a;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((a=this.dragOverTargetIds)===null||a===void 0?void 0:a.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var a;(a=this.window)===null||a===void 0||a.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,a,d){return this.sourcePreviewNodeOptions.set(t,d),this.sourcePreviewNodes.set(t,a),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,a,d){this.sourceNodes.set(t,a),this.sourceNodeOptions.set(t,d);const s=f=>this.handleDragStart(f,t),r=f=>this.handleSelectStart(f);return a.setAttribute("draggable","true"),a.addEventListener("dragstart",s),a.addEventListener("selectstart",r),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),a.removeEventListener("dragstart",s),a.removeEventListener("selectstart",r),a.setAttribute("draggable","false")}}connectDropTarget(t,a){const d=f=>this.handleDragEnter(f,t),s=f=>this.handleDragOver(f,t),r=f=>this.handleDrop(f,t);return a.addEventListener("dragenter",d),a.addEventListener("dragover",s),a.addEventListener("drop",r),()=>{a.removeEventListener("dragenter",d),a.removeEventListener("dragover",s),a.removeEventListener("drop",r)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),a=this.sourceNodeOptions.get(t);return Qe({dropEffect:this.altKeyPressed?"copy":"move"},a||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),a=this.sourcePreviewNodeOptions.get(t);return Qe({anchorX:.5,anchorY:.5,captureDraggingState:!1},a||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Ge).some(a=>Ge[a]===t)}beginDragNativeItem(t,a){this.clearCurrentDragSourceNode(),this.currentNativeSource=gn(t,a),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const a=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var d;return(d=this.rootElement)===null||d===void 0?void 0:d.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},a)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,a){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(a))}handleDragEnter(t,a){this.dragEnterTargetIds.unshift(a)}handleDragOver(t,a){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(a)}handleDrop(t,a){this.dropTargetIds.unshift(a)}constructor(t,a,d){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const r=this.sourceNodes.get(s);return r&&vt(r)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:r}=this;this.dragStartSourceIds=null;const f=ve(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(r||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:f});const{dataTransfer:p}=s,o=Me(p);if(this.monitor.isDragging()){if(p&&typeof p.setDragImage=="function"){const w=this.monitor.getSourceId(),l=this.sourceNodes.get(w),b=this.sourcePreviewNodes.get(w)||l;if(b){const{anchorX:c,anchorY:E,offsetX:M,offsetY:_}=this.getCurrentSourcePreviewNodeOptions(),z=cn(l,b,f,{anchorX:c,anchorY:E},{offsetX:M,offsetY:_});p.setDragImage(b,z.x,z.y)}}try{p==null||p.setData("application/json",{})}catch(w){}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(o)this.beginDragNativeItem(o);else{if(p&&!p.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var r;(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:p}=s,o=Me(p);o&&this.beginDragNativeItem(o,p)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:r}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,r.length>0&&this.actions.hover(r,{clientOffset:ve(s)}),r.some(p=>this.monitor.canDropOnTarget(p))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var r;(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:r}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=ve(s),this.scheduleHover(r),(r||[]).some(p=>this.monitor.canDropOnTarget(p))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var r;s.preventDefault(),(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(s.dataTransfer)}else Me(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:r}=this;this.dropTargetIds=[],this.actions.hover(r,{clientOffset:ve(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const r=s.target;typeof r.dragDrop=="function"&&(r.tagName==="INPUT"||r.tagName==="SELECT"||r.tagName==="TEXTAREA"||r.isContentEditable||(s.preventDefault(),r.dragDrop()))},this.options=new bn(a,d),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new un(this.isNodeInDocument)}}const xn=function(t,a,d){return new yn(t,a,d)};var ue;(function(u){u.mouse="mouse",u.touch="touch",u.keyboard="keyboard"})(ue||(ue={}));class Sn{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,a,d,s;return(s=(d=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&d!==void 0?d:(a=this.args)===null||a===void 0?void 0:a.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var t,a,d,s;return(s=(d=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&d!==void 0?d:(a=this.args)===null||a===void 0?void 0:a.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window!="undefined")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,a){this.args=t,this.context=a}}function _n(u,t,a,d){return Math.sqrt(Math.pow(Math.abs(a-u),2)+Math.pow(Math.abs(d-t),2))}function Tn(u,t,a,d,s){if(!s)return!1;const r=Math.atan2(d-t,a-u)*180/Math.PI+180;for(let f=0;f<s.length;++f){const p=s[f];if(p&&(p.start==null||r>=p.start)&&(p.end==null||r<=p.end))return!0}return!1}const Dn={Left:1},En={Left:0};function Oe(u){return u.button===void 0||u.button===En.Left}function Cn(u){return u.buttons===void 0||(u.buttons&Dn.Left)===0}function ht(u){return!!u.targetTouches}const Nn=1;function kn(u){const t=u.nodeType===Nn?u:u.parentElement;if(!t)return;const{top:a,left:d}=t.getBoundingClientRect();return{x:d,y:a}}function Mn(u,t){if(u.targetTouches.length===1)return xe(u.targetTouches[0]);if(t&&u.touches.length===1&&u.touches[0].target===t.target)return xe(u.touches[0])}function xe(u,t){return ht(u)?Mn(u,t):{x:u.clientX,y:u.clientY}}const Ze=(()=>{let u=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return u=!0,!0}}))}catch(t){}return u})(),ge={[ue.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[ue.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[ue.keyboard]:{keydown:"keydown"}};class pe{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(_t(!pe.isSetUp,"Cannot have two Touch backends at the same time."),pe.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(pe.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,a,d,s=!1){const r=Ze?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(f){const p=ge[f][a];p&&t.addEventListener(p,d,r)})}removeEventListener(t,a,d,s=!1){const r=Ze?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(f){const p=ge[f][a];p&&t.removeEventListener(p,d,r)})}connectDragSource(t,a){const d=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,a),this.addEventListener(a,"start",d),()=>{this.sourceNodes.delete(t),this.removeEventListener(a,"start",d)}}connectDragPreview(t,a,d){return this.sourcePreviewNodeOptions.set(t,d),this.sourcePreviewNodes.set(t,a),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,a){const d=this.options.rootElement;if(!this.document||!d)return()=>{};const s=r=>{if(!this.document||!d||!this.monitor.isDragging())return;let f;switch(r.type){case ge.mouse.move:f={x:r.clientX,y:r.clientY};break;case ge.touch.move:var p,o;f={x:((p=r.touches[0])===null||p===void 0?void 0:p.clientX)||0,y:((o=r.touches[0])===null||o===void 0?void 0:o.clientY)||0};break}const m=f!=null?this.document.elementFromPoint(f.x,f.y):void 0,w=m&&a.contains(m);if(m===a||w)return this.handleMove(r,t)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(t,a),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,a,d){this.getSourceClientOffset=s=>{const r=this.sourceNodes.get(s);return r&&kn(r)},this.handleTopMoveStartCapture=s=>{Oe(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!Oe(s))return;const r=xe(s);r&&(ht(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=r),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!Oe(s))return;const r=s.type===ge.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),r),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,r)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(r)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:r,dragOverTargetIds:f}=this,p=this.options.enableHoverOutsideTarget,o=xe(s,this.lastTargetTouchFallback);if(!o)return;if(this._isScrolling||!this.monitor.isDragging()&&Tn(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&r&&_n(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(r,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const m=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(m),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const w=(f||[]).map(E=>this.targetNodes.get(E)).filter(E=>!!E),l=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(o.x,o.y,w):this.document.elementsFromPoint(o.x,o.y),b=[];for(const E in l){if(!l.hasOwnProperty(E))continue;let M=l[E];for(M!=null&&b.push(M);M;)M=M.parentElement,M&&b.indexOf(M)===-1&&b.push(M)}const c=b.filter(E=>w.indexOf(E)>-1).map(E=>this._getDropTargetId(E)).filter(E=>!!E).filter((E,M,_)=>_.indexOf(E)===M);if(p)for(const E in this.targetNodes){const M=this.targetNodes.get(E);if(m&&M&&M.contains(m)&&c.indexOf(E)===-1){c.unshift(E);break}}c.reverse(),this.actions.hover(c,{clientOffset:o})},this._getDropTargetId=s=>{const r=this.targetNodes.keys();let f=r.next();for(;f.done===!1;){const p=f.value;if(s===this.targetNodes.get(p))return p;f=r.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Cn(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Sn(d,a),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(ue.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(ue.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(ue.keyboard)}}const On=function(t,a={},d={}){return new pe(t,a,d)},Ln=G({__name:"TabCommon",setup(u){const t=ne(),a=t.userCustom,d=[{value:"top",label:"放在顶部"},{value:"center",label:"放在中间"},{value:"bottom",label:"放在底部"}],s=[{value:"imgbb",label:"(推荐)imgbb"},{value:"freeimage",label:"freeimage"},{value:"imgimg",label:"imgimg"},{value:"helloimg",label:"helloimg"},{value:"picui",label:"picui"},{value:"imgwang",label:"ImgWang"},{value:"picgo",label:"(要注册)picgo"}],r={id:0,created_at:"2021-04-28 00:44:23",is_deleted:0,thread_id:0,battle_id:null,hongbao_id:null,floor:0,random_head:1,created_by_admin:0,content:"<span class='quote-content'>这是引用内容 <br>@№0 = = 2021-04-28 00:44:23</span><br>这是预览模式，可以确认上面设定的式样是否满意。<br>这是第二行。<br>这是第三行。",nickname:"= =",is_your_post:!0,hongbao_data:null},f=[{id:0,sub_id:0,forum_id:1,vote_question_id:null,gamble_question_id:null,crowd_id:null,hongbao_id:null,nickname:"= =",title:"这是预览模式，可以确认上面设定的式样是否满意。",sub_title:"[预览]",random_heads_group:1,posts_num:100,title_color:null,anti_jingfen:!1,nissin_date:null,has_nissined:!1,can_battle:!1,is_delay:!1,locked_by_coin:0,is_private:!1,created_at:null,updated_at:null}];return(p,o)=>(x(),R(e(C),{vertical:"",size:"small"},{default:n(()=>[i(e(Y),{title:"一般设定",size:"small"},{"header-extra":n(()=>[i(e(A),{onClick:e(t).userCustomReset},{default:n(()=>[...o[22]||(o[22]=[g("恢复默认",-1)])]),_:1},8,["onClick"])]),default:n(()=>[i(e(Se),{ref:"formRef",model:e(a),"label-placement":"left","label-width":"auto",size:e(t).isMobile?"small":"medium",style:{"max-height":"655px","overflow-y":"auto"}},{default:n(()=>[i(e(y),{depth:3},{default:n(()=>[...o[23]||(o[23]=[g("这些设定保存在本设备，不跟随饼干",-1)])]),_:1}),i(e(we),{cols:"1 600:2","x-gap":12},{default:n(()=>[i(e(re),{style:{"max-width":"280px"}},{default:n(()=>[i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[24]||(o[24]=[g("功能选项 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"图床选择",path:"loudspeakerPosition"},{default:n(()=>[i(e(ze),{value:e(a).imgHost,"onUpdate:value":o[0]||(o[0]=m=>e(a).imgHost=m),options:s,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),i(e(H),{label:"自动涮锅时遇红包停止",path:"hongbaoThenStop"},{default:n(()=>[i(e(Q),{value:e(a).hongbaoThenStop,"onUpdate:value":o[1]||(o[1]=m=>e(a).hongbaoThenStop=m)},null,8,["value"])]),_:1}),i(e(H),{label:"自动涮锅时页面不动",path:"holdPageWhenListening"},{default:n(()=>[i(e(Q),{value:e(a).holdPageWhenListening,"onUpdate:value":o[2]||(o[2]=m=>e(a).holdPageWhenListening=m)},null,8,["value"])]),_:1}),i(e(H),{label:"减少弹出提示",path:"lessToast"},{default:n(()=>[i(e(Q),{value:e(a).lessToast,"onUpdate:value":o[3]||(o[3]=m=>e(a).lessToast=m)},null,8,["value"])]),_:1})]),_:1}),i(e(re),{style:{"max-width":"280px"}},{default:n(()=>[i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[25]||(o[25]=[g("基本外观 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"传统式回复框",path:"postLegacyMode"},{default:n(()=>[i(e(Q),{value:e(a).postLegacyMode,"onUpdate:value":o[4]||(o[4]=m=>e(a).postLegacyMode=m)},null,8,["value"])]),_:1}),i(e(H),{label:"大喇叭和标题单色",path:"monochromeMode"},{default:n(()=>[i(e(Q),{value:e(a).monochromeMode,"onUpdate:value":o[5]||(o[5]=m=>e(a).monochromeMode=m)},null,8,["value"])]),_:1}),i(e(H),{label:"侧边栏放左边",path:"sidebarLeft"},{default:n(()=>[i(e(Q),{value:e(a).sidebarLeft,"onUpdate:value":o[6]||(o[6]=m=>e(a).sidebarLeft=m)},null,8,["value"])]),_:1}),i(e(H),{label:"大喇叭位置",path:"loudspeakerPosition"},{default:n(()=>[i(e(ze),{value:e(a).loudspeakerPosition,"onUpdate:value":o[7]||(o[7]=m=>e(a).loudspeakerPosition=m),options:d,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),i(e(H),{label:"最大引用层数",path:"quoteMax"},{default:n(()=>[i(e(J),{value:e(a).quoteMax,"onUpdate:value":o[8]||(o[8]=m=>e(a).quoteMax=m),max:6,min:1,step:1},{suffix:n(()=>[...o[26]||(o[26]=[g(" 层 ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复行数限高",path:"foldMaxLine"},{default:n(()=>[i(e(J),{value:e(a).foldMaxLine,"onUpdate:value":o[9]||(o[9]=m=>e(a).foldMaxLine=m),max:99,min:6,step:1},{suffix:n(()=>[...o[27]||(o[27]=[g(" 行 ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"表情包白色背景",path:"emojiWhiteBack"},{default:n(()=>[i(e(be),{trigger:"hover"},{trigger:n(()=>[i(e(Q),{value:e(a).emojiWhiteBack,"onUpdate:value":o[10]||(o[10]=m=>e(a).emojiWhiteBack=m)},null,8,["value"])]),default:n(()=>[o[28]||(o[28]=h("span",null,"可以解决AC娘在芝麻锅中看不清的问题",-1))]),_:1})]),_:1})]),_:1}),i(e(re),{style:{"max-width":"280px"}},{default:n(()=>[i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[29]||(o[29]=[g("字体大小 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"回复内容",path:"fontSizePost"},{default:n(()=>[i(e(J),{value:e(a).fontSizePost,"onUpdate:value":o[11]||(o[11]=m=>e(a).fontSizePost=m),max:24,min:10,step:.5},{suffix:n(()=>[...o[30]||(o[30]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"引用内容",path:"fontSizeQuote"},{default:n(()=>[i(e(J),{value:e(a).fontSizeQuote,"onUpdate:value":o[12]||(o[12]=m=>e(a).fontSizeQuote=m),max:24,min:10,step:.5},{suffix:n(()=>[...o[31]||(o[31]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复脚注",path:"fontSizeFooter"},{default:n(()=>[i(e(J),{value:e(a).fontSizeFooter,"onUpdate:value":o[13]||(o[13]=m=>e(a).fontSizeFooter=m),max:22,min:8,step:.5},{suffix:n(()=>[...o[32]||(o[32]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题列表",path:"fontSizeThreadList"},{default:n(()=>[i(e(J),{value:e(a).fontSizeThreadList,"onUpdate:value":o[14]||(o[14]=m=>e(a).fontSizeThreadList=m),max:24,min:10,step:.5},{suffix:n(()=>[...o[33]||(o[33]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题列表脚注",path:"fontSizeThreadListFooter"},{default:n(()=>[i(e(J),{value:e(a).fontSizeThreadListFooter,"onUpdate:value":o[15]||(o[15]=m=>e(a).fontSizeThreadListFooter=m),max:22,min:8,step:.5},{suffix:n(()=>[...o[34]||(o[34]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"输入框",path:"fontSizeInput"},{default:n(()=>[i(e(J),{value:e(a).fontSizeInput,"onUpdate:value":o[16]||(o[16]=m=>e(a).fontSizeInput=m),max:24,min:10,step:.5},{suffix:n(()=>[...o[35]||(o[35]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(e(re),{style:{"max-width":"280px"}},{default:n(()=>[i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[36]||(o[36]=[g("间距相关 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"回复内容行距",path:"lineHeightPost"},{default:n(()=>[i(e(J),{value:e(a).lineHeightPost,"onUpdate:value":o[17]||(o[17]=m=>e(a).lineHeightPost=m),max:40,min:16,step:2},{suffix:n(()=>[...o[37]||(o[37]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复内容上下间距",path:"postInnerMargin"},{default:n(()=>[i(e(J),{value:e(a).postInnerMargin,"onUpdate:value":o[18]||(o[18]=m=>e(a).postInnerMargin=m),max:30,min:0,step:1},{suffix:n(()=>[...o[38]||(o[38]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复卡片四周空白",path:"postCardPadding"},{default:n(()=>[i(e(J),{value:e(a).postCardPadding,"onUpdate:value":o[19]||(o[19]=m=>e(a).postCardPadding=m),max:20,min:4,step:1},{suffix:n(()=>[...o[39]||(o[39]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题内容上下间距",path:"threadListInnerMargin"},{default:n(()=>[i(e(J),{value:e(a).threadListInnerMargin,"onUpdate:value":o[20]||(o[20]=m=>e(a).threadListInnerMargin=m),max:30,min:0,step:1},{suffix:n(()=>[...o[40]||(o[40]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题卡片四周空白",path:"threadListCardPadding"},{default:n(()=>[i(e(J),{value:e(a).threadListCardPadding,"onUpdate:value":o[21]||(o[21]=m=>e(a).threadListCardPadding=m),max:20,min:4,step:1},{suffix:n(()=>[...o[41]||(o[41]=[g(" px ",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","size"])]),_:1}),i(e(se),{style:{"margin-top":"2px","margin-bottom":"2px"}}),i(Jt,{"post-data":r,"forum-id":0,"preview-mode":!0}),i(e(se),{style:{"margin-top":"2px","margin-bottom":"2px"}}),i(Gt,{"threads-list-data":f,"show-this":!0})]),_:1}))}}),zn={class:"bank-item"},In={style:{"margin-left":"auto"}},Pn={style:{"margin-left":"auto"}},he=10,$n=G({__name:"TabBank",setup(u){_e(U=>({bcc33106:e(d).dividerColor}));const t=ie(),a=ne();He(),$e(),Ue();const d=Te(),s=I(!1),r=I(),f=I(1e4),p=I(le.tz().add(2,"day").format("YYYY-MM-DD 00:00:00")),o=I({pageSize:he}),m=[{title:"存入时间",key:"created_at",resizable:!0},{title:"存粮",key:"olo",resizable:!0},{title:"标签",key:"description",resizable:!0},{title:"到期时间",key:"expire_date",resizable:!0},{title:"操作",key:"controller",render:E,resizable:!0}],w=I(1),l=K(()=>(w.value-1)*he);function b(U){return le().subtract(1,"day").isAfter(U)||le().add(1,"year").isBefore(le(U))}const c=K(()=>T.value.map(U=>U.olo).reduce((U,S)=>U+S,0));function E(U,S){return me(A,{onClick:()=>L(U.id,U.isExpired),size:"tiny",type:U.isExpired?"success":"warning",innerHTML:U.isExpired?"到期开仓":"提前开仓"})}const{loading:M,data:_,send:O}=ee(U=>Ot(U),{immediate:!1,initialData:[]});t.binggan!==null&&O({binggan:t.binggan});const T=K(()=>_.value.map(U=>fe(oe({},U),{isExpired:le().isAfter(U.expire_date)}))),{loading:z,send:N,onSuccess:$}=ee(U=>Lt(U),{immediate:!1});$(()=>{t.refreshUserData(),O({binggan:t.binggan}),s.value=!1});function v(){if(f.value===null){window.$message.error("请输入要存入的olo");return}const U={title:"存入粮仓",closable:!1,content:"要往粮仓存入olo吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const S={binggan:t.binggan,olo:f.value,description:r.value,expire_date:p.value};N(S)}};window.$dialog.success(U)}function L(U,S){function F(){const j={binggan:t.binggan,deposit_id:U,confirm_penalty:!S};zt(j).then(()=>{t.refreshUserData(),O({binggan:t.binggan})})}if(S){const j={title:"取出到期的存粮",closable:!1,content:"要取出存粮吗？因为已经到期，不收取手续费。",positiveText:"确定",negativeText:"取消",onPositiveClick:F};window.$dialog.success(j)}else{const j={title:"提前取出存粮",closable:!1,content:"确定要提前取出存粮吗？将会扣除12%的奥利奥喔",positiveText:"确定",negativeText:"取消",onPositiveClick:F};window.$dialog.warning(j)}}return(U,S)=>(x(),R(e(C),{align:"center"},{default:n(()=>[i(e(A),{type:"primary",onClick:S[0]||(S[0]=F=>s.value=!0)},{default:n(()=>[...S[8]||(S[8]=[g("我要存粮",-1)])]),_:1}),i(e(Y),{title:"我的粮仓",size:"small"},tt({default:n(()=>[e(a).isMobile?X("",!0):(x(),R(e(je),{key:0,columns:m,data:T.value,pagination:o.value,loading:e(M),bordered:!1},null,8,["data","pagination","loading"])),e(a).isMobile?(x(),W(V,{key:1},[T.value.length>0?(x(),R(e(C),{key:0,vertical:"",align:"start",size:"small"},{default:n(()=>[(x(!0),W(V,null,te(T.value.slice(l.value,l.value+he),F=>(x(),W("div",zn,[F.description?(x(),R(e(C),{key:0,style:{"margin-bottom":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[10]||(S[10]=[g("存粮标签：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(F.description),1)]),_:2},1024)])]),_:2},1024)):X("",!0),i(e(C),{style:{"margin-bottom":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[11]||(S[11]=[g("存入时间：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(F.created_at),1)]),_:2},1024)]),h("div",In,[i(e(y),{depth:3},{default:n(()=>[...S[12]||(S[12]=[g("存粮：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(F.olo),1)]),_:2},1024)])]),_:2},1024),i(e(C),{style:{"margin-bottom":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[13]||(S[13]=[g("到期时间：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(F.expire_date),1)]),_:2},1024)]),h("div",Pn,[F.isExpired?X("",!0):(x(),R(e(A),{key:0,size:"tiny",type:"warning",onClick:j=>L(F.id,F.isExpired)},{default:n(()=>[...S[14]||(S[14]=[g("提前开仓",-1)])]),_:1},8,["onClick"])),F.isExpired?(x(),R(e(A),{key:1,size:"tiny",type:"success",onClick:j=>L(F.id,F.isExpired)},{default:n(()=>[...S[15]||(S[15]=[g("到期开仓",-1)])]),_:1},8,["onClick"])):X("",!0)])]),_:2},1024)]))),256)),i(e(nt),{page:w.value,"onUpdate:page":S[1]||(S[1]=F=>w.value=F),"item-count":T.value.length,"page-size":he,size:"small",style:{"margin-left":"auto"}},null,8,["page","item-count"])]),_:1})):(x(),R(e(it),{key:1}))],64)):X("",!0)]),_:2},[T.value.length>0?{name:"header-extra",fn:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[9]||(S[9]=[g("粮仓总计：",-1)])]),_:1}),h("span",null,q(c.value),1)])]),key:"0"}:void 0]),1024),i(e(de),{show:s.value,"onUpdate:show":S[7]||(S[7]=F=>s.value=F),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),title:"存粮",closable:"",onClose:S[6]||(S[6]=F=>s.value=!1),size:"small"},{action:n(()=>[i(e(C),{justify:"end"},{default:n(()=>[i(e(A),{type:"primary",loading:e(z),disabled:e(z),onClick:v},{default:n(()=>[...S[21]||(S[21]=[g("提交",-1)])]),_:1},8,["loading","disabled"]),i(e(A),{onClick:S[5]||(S[5]=F=>s.value=!1)},{default:n(()=>[...S[22]||(S[22]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(C),{vertical:""},{default:n(()=>[S[20]||(S[20]=h("div",null,[g(" 存粮没有利息、提前开仓扣12% "),h("br"),g(" （那有什么用啊！） ")],-1)),i(e(Ee),null,{default:n(()=>[i(e(Ne),{style:{width:"5.2rem"}},{default:n(()=>[...S[16]||(S[16]=[g("存粮标签",-1)])]),_:1}),i(e(ae),{value:r.value,"onUpdate:value":S[2]||(S[2]=F=>r.value=F),placeholder:"可选"},null,8,["value"])]),_:1}),i(e(Ee),null,{default:n(()=>[i(e(Ne),{style:{width:"5.2rem"}},{default:n(()=>[...S[17]||(S[17]=[g("olo总额",-1)])]),_:1}),i(e(J),{value:f.value,"onUpdate:value":S[3]||(S[3]=F=>f.value=F),max:1e6,min:10,step:1e4,parse:e(Zt),format:e(Qt)},null,8,["value","parse","format"])]),_:1}),i(e(Ee),null,{default:n(()=>[i(e(Ne),{style:{width:"5.2rem"}},{default:n(()=>[...S[18]||(S[18]=[g("到期日期",-1)])]),_:1}),i(e(at),{"formatted-value":p.value,"onUpdate:formattedValue":S[4]||(S[4]=F=>p.value=F),"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","is-date-disabled":b},null,8,["formatted-value"])]),_:1}),i(e(y),{depth:3},{default:n(()=>[...S[19]||(S[19]=[g("存粮时间最短1天，最长1年",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}});function Fe(u){if(!navigator.clipboard){var t=document.createElement("textarea");t.value=u,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);return}navigator.clipboard.writeText(u)}const Un={key:0},jn=["src"],Rn=G({__name:"TabChara",setup(u){const t=ie(),a=ne(),d=I(null),s=I(!1),r=I(!1),f=I(!1),p=I(),o=K(()=>JSON.stringify(_.value[m.value])),m=I(0),w=K(()=>_.value.map(($,v)=>({value:v,label:$.name}))),l=[{label:"等待",varName:"wait"},{label:"参战",varName:"against"},{label:"攻击",varName:"attack"},{label:"胜利",varName:"win"},{label:"失败",varName:"lose"}],b=oe(oe({name:{required:!0,message:"请输入角色名称",trigger:"blur"}},l.reduce(($,{label:v,varName:L})=>($[`heads.${L}`]={required:!0,message:"请输入头像地址",trigger:"blur"},$),{})),Array.from({length:10},($,v)=>v).reduce(($,v)=>($[`messages.${v}`]={required:!0,validator:(L,U)=>{const S=/%rand_num/;return U===null?new Error("请输入战斗语音"):S.test(U)?!0:new Error("必须包含%rand_num（上面有使用说明）")},trigger:"blur"},$),{}));function c(){if(p.value===void 0){window.$message.error("请输入角色数据");return}try{_.value[m.value]=JSON.parse(p.value)}catch($){window.$message.error("输入数据的格式有误，请重新尝试");return}window.$message.success("已导入角色数据"),r.value=!1}function E(){Fe(o.value),window.$message.success("已复制到剪贴板")}const{loading:M,data:_,send:O}=ee($=>It($),{immediate:!1,initialData:[]});t.binggan!==null&&O({binggan:t.binggan});const{loading:T,send:z}=ee($=>Pt($),{immediate:!1});function N(){var $;($=d.value)==null||$.validate(v=>{if(v)window.$message.error("请确认信息填写完整");else{const L=oe({binggan:t.binggan,chara_id:m.value},_.value[m.value]);z(L)}})}return($,v)=>(x(),R(e(C),{vertical:""},{default:n(()=>[i(e(Y),{title:"我的角色",size:"small"},tt({default:n(()=>[!e(M)&&e(_).length>0?(x(),W(V,{key:0},[i(e(C),{size:"small",justify:"end",align:"center"},{default:n(()=>[i(e(A),{onClick:v[1]||(v[1]=L=>r.value=!0)},{default:n(()=>[...v[18]||(v[18]=[g("导入角色",-1)])]),_:1}),i(e(A),{onClick:v[2]||(v[2]=L=>f.value=!0)},{default:n(()=>[...v[19]||(v[19]=[g("导出角色",-1)])]),_:1})]),_:1}),i(e(Se),{ref_key:"formRef",ref:d,model:e(_)[m.value],"label-placement":"left","label-width":"auto",rules:b,size:e(a).isMobile?"small":"medium"},{default:n(()=>[i(e(we),{cols:"1 1000:2","x-gap":12},{default:n(()=>[i(e(re),{style:{"max-width":"500px"}},{default:n(()=>[i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...v[20]||(v[20]=[g(" 角色名 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"角色名",path:"name"},{default:n(()=>[i(e(ae),{value:e(_)[m.value].name,"onUpdate:value":v[3]||(v[3]=L=>e(_)[m.value].name=L),placeholder:"你的角色的名称"},null,8,["value"])]),_:1}),i(e(H),{label:"暂停使用",path:"not_use"},{default:n(()=>[i(e(Q),{value:e(_)[m.value].not_use,"onUpdate:value":v[4]||(v[4]=L=>e(_)[m.value].not_use=L)},null,8,["value"]),v[21]||(v[21]=h("span",{style:{"margin-left":"6px"}},"暂停使用后，大乱斗时不显示选项",-1))]),_:1}),i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...v[22]||(v[22]=[g(" 头像组 ",-1)])]),_:1})]),_:1}),(x(),W(V,null,te(l,(L,U)=>i(e(H),{label:L.label,path:`heads.${L.varName}`},{default:n(()=>[i(e(ae),{value:e(_)[m.value].heads[L.varName],"onUpdate:value":S=>e(_)[m.value].heads[L.varName]=S},null,8,["value","onUpdate:value"]),h("img",{src:e(_)[m.value].heads[L.varName],style:{"max-height":"34px"}},null,8,jn)]),_:2},1032,["label","path"])),64))]),_:1}),i(e(re),{style:{"max-width":"500px"}},{default:n(()=>[i(e(se),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem",cursor:"pointer"},onClick:v[5]||(v[5]=L=>s.value=!0)},{default:n(()=>[...v[23]||(v[23]=[g(" 战斗语音（使用说明？） ",-1)])]),_:1})]),_:1}),(x(),W(V,null,te(10,L=>i(e(H),{label:`骰子${L*10-9}~${L*10}`,path:`messages.${L-1}`},{default:n(()=>[i(e(ae),{value:e(_)[m.value].messages[L-1],"onUpdate:value":U=>e(_)[m.value].messages[L-1]=U},null,8,["value","onUpdate:value"])]),_:2},1032,["label","path"])),64))]),_:1})]),_:1})]),_:1},8,["model","size"])],64)):X("",!0)]),_:2},[!e(M)&&e(_).length>0?{name:"header-extra",fn:n(()=>[i(e(y),{depth:3,style:{"flex-shrink":"0"}},{default:n(()=>[...v[15]||(v[15]=[g(" 选择要编辑的角色 ",-1)])]),_:1}),i(e(ze),{value:m.value,"onUpdate:value":v[0]||(v[0]=L=>m.value=L),options:w.value,"consistent-menu-width":!1},null,8,["value","options"])]),key:"0"}:void 0,!e(M)&&e(_).length===0?{name:"header-extra",fn:n(()=>[i(e(y),{depth:3},{default:n(()=>[v[16]||(v[16]=g(" 你尚未拥有角色槽位，",-1)),e(a).isMobile?(x(),W("br",Un)):X("",!0),v[17]||(v[17]=g("请在“饼干升级”处购买 ",-1))]),_:1})]),key:"1"}:void 0]),1024),!e(M)&&e(_).length>0?(x(),W(V,{key:0},[i(e(C),{size:"small",justify:"end",align:"center"},{default:n(()=>[i(e(y),{depth:3},{default:n(()=>[...v[24]||(v[24]=[g(" 各个角色要分别点提交喔 ",-1)])]),_:1}),i(e(A),{type:"primary",loading:e(T),disabled:e(T),onClick:N},{default:n(()=>[...v[25]||(v[25]=[g("提交当前角色",-1)])]),_:1},8,["loading","disabled"])]),_:1}),i(e(de),{show:s.value,"onUpdate:show":v[7]||(v[7]=L=>s.value=L),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),closable:"",onClose:v[6]||(v[6]=L=>s.value=!1),size:"small",title:"战斗语音使用说明"},{default:n(()=>[...v[26]||(v[26]=[h("h4",null,"骰子语句：",-1),h("p",null,"1~10指投出1~10点时候的语句，如此类推。",-1),h("h4",null,"替换词会被自动替换为相应内容：",-1),h("p",null,[g("%rand_num —— 骰子数字（必须有） "),h("br"),g(" %name —— 本角色名字 "),h("br"),g(" %opponent —— 对手名字")],-1)])]),_:1},8,["style"])]),_:1},8,["show"]),i(e(de),{show:r.value,"onUpdate:show":v[11]||(v[11]=L=>r.value=L),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),closable:"",onClose:v[10]||(v[10]=L=>r.value=!1),size:"small",title:"导入角色数据"},{action:n(()=>[i(e(C),{justify:"end"},{default:n(()=>[i(e(A),{onClick:c,type:"primary"},{default:n(()=>[...v[28]||(v[28]=[g("导入",-1)])]),_:1}),i(e(A),{onClick:v[9]||(v[9]=L=>r.value=!1)},{default:n(()=>[...v[29]||(v[29]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(C),{vertical:""},{default:n(()=>[v[27]||(v[27]=h("span",null,"将代码填入下述框就可以导入角色数据",-1)),i(e(ye),{value:p.value,"onUpdate:value":v[8]||(v[8]=L=>p.value=L),type:"textarea",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]),i(e(de),{show:f.value,"onUpdate:show":v[14]||(v[14]=L=>f.value=L),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),closable:"",onClose:v[13]||(v[13]=L=>f.value=!1),size:"small",title:"导出角色数据"},{action:n(()=>[i(e(C),{justify:"end"},{default:n(()=>[i(e(A),{onClick:E},{default:n(()=>[...v[31]||(v[31]=[g("复制",-1)])]),_:1}),i(e(A),{onClick:v[12]||(v[12]=L=>f.value=!1)},{default:n(()=>[...v[32]||(v[32]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(C),{vertical:""},{default:n(()=>[v[30]||(v[30]=h("span",null,"可以将下面代码复制下来分享给别人",-1)),i(e(ye),{value:o.value,type:"textarea",readonly:"",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])],64)):X("",!0)]),_:1}))}}),An={key:0,style:{"line-height":"1.5rem"}},Hn=G({__name:"TabCustom",setup(u){const t=ie(),a=ne(),d=I(null),s=I({bingganApply:null,password:null,passwordRepeat:null,transferBinggan:!1}),r={bingganApply:{required:!0,validator:(w,l)=>{const b=/^[a-zA-Z0-9_]+$/;if(l===null)return new Error("请输入要定制的饼干");if(b.test(l)){if(l.length<7)return new Error("最少需要7个字符");if(l.length>16)return new Error("最多16个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},password:{required:!0,validator:(w,l)=>{const b=/^[a-zA-Z0-9_]+$/;if(l===null)return new Error("请输入密码");if(b.test(l)){if(l.length<7)return new Error("最少需要7个字符");if(l.length>20)return new Error("最多20个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},passwordRepeat:{required:!0,validator:(w,l)=>l===s.value.password,message:"密码不一致",trigger:"blur"}},{loading:f,send:p,onSuccess:o}=ee(w=>$t(w),{immediate:!1});o(()=>{if(s.value.transferBinggan){const w={title:"将退出原有饼干",closable:!1,content:"已经魂穿，原有饼干已碎。请以重新导入新饼干。",positiveText:"确定",onPositiveClick:()=>{Ut(t.binggan).then(()=>{jt(),window.location.href="/"})}};window.$dialog.warning(w)}else t.refreshUserData(),s.value.password=null,s.value.passwordRepeat=null});function m(){var w;(w=d.value)==null||w.validate(l=>{if(l)window.$message.error("请确认信息填写完整");else{const b={title:"申请定制饼干",closable:!1,content:`申请的定制饼干：${s.value.bingganApply}`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const c={binggan:t.binggan,binggan_apply:s.value.bingganApply,password:s.value.password,transfer_binggan:s.value.transferBinggan};p(c)}};window.$dialog.success(b)}})}return(w,l)=>(x(),R(e(Y),{title:"定制饼干",size:"small"},{default:n(()=>[i(e(C),{vertical:""},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...l[4]||(l[4]=[g("说明：",-1)])]),_:1}),l[5]||(l[5]=h("span",null,"可自由输入名称的定制饼干，并可选择魂穿到新饼干",-1))]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...l[6]||(l[6]=[g("价格：",-1)])]),_:1}),l[7]||(l[7]=h("span",null,"10万 olo",-1))]),i(e(Se),{ref_key:"formRef",ref:d,model:s.value,"label-placement":"left","label-width":"auto",style:{"max-width":"400px"},rules:r,size:e(a).isMobile?"small":"medium"},{default:n(()=>[i(e(H),{label:"定制饼干",path:"bingganApply"},{default:n(()=>[i(e(ae),{value:s.value.bingganApply,"onUpdate:value":l[0]||(l[0]=b=>s.value.bingganApply=b),placeholder:"7~16个字符(字母、数字、下划线)",maxlength:16,minlength:7},null,8,["value"])]),_:1}),i(e(H),{label:"密码",path:"password"},{default:n(()=>[i(e(ae),{value:s.value.password,"onUpdate:value":l[1]||(l[1]=b=>s.value.password=b),placeholder:"7~20个字符(字母、数字、下划线)",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),i(e(H),{label:"重复密码",path:"passwordRepeat"},{default:n(()=>[i(e(ae),{value:s.value.passwordRepeat,"onUpdate:value":l[2]||(l[2]=b=>s.value.passwordRepeat=b),placeholder:"再次输入密码",type:"password",maxlength:20,minlength:7,"show-password-on":"click",onKeyup:st(m,["enter"])},null,8,["value"])]),_:1}),i(e(H),{label:"魂穿新饼干",path:"transferBinggan"},{default:n(()=>[i(e(Q),{value:s.value.transferBinggan,"onUpdate:value":l[3]||(l[3]=b=>s.value.transferBinggan=b)},null,8,["value"])]),_:1}),s.value.transferBinggan?(x(),W("div",An,[i(e(y),{depth:3},{default:n(()=>[...l[8]||(l[8]=[g("魂穿说明：",-1)])]),_:1}),l[10]||(l[10]=h("span",null,"将原有饼干的所有数据都转移到定制饼干",-1)),l[11]||(l[11]=h("br",null,null,-1)),l[12]||(l[12]=h("span",null,"包括：olo、粮仓、饼干等级、表情包、屏蔽词、成就和成就进度",-1)),l[13]||(l[13]=h("br",null,null,-1)),l[14]||(l[14]=h("span",null,"不包括：回帖主题等（也就是不能操作原有饼干的回帖）",-1)),l[15]||(l[15]=h("br",null,null,-1)),i(e(y),{type:"error",style:{"font-size":"1.125rem"}},{default:n(()=>[...l[9]||(l[9]=[g("现有饼干会被碎掉",-1)])]),_:1}),l[16]||(l[16]=h("br",null,null,-1))])):X("",!0)]),_:1},8,["model","size"]),i(e(C),{size:"small",align:"center"},{default:n(()=>[i(e(A),{type:"primary",loading:e(f),disabled:e(f),onClick:m},{default:n(()=>[...l[17]||(l[17]=[g("提交",-1)])]),_:1},8,["loading","disabled"]),i(e(y),{depth:3},{default:n(()=>[...l[18]||(l[18]=[g("请务必保存好饼干和密码喔",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Fn=["data-handler-id"],Bn=["src"],Wn=G({__name:"Emoji",props:{emojiSrc:{},index:{}},emits:["deleteEmoji","moveCard"],setup(u,{emit:t}){const a=u,d=t,s=I(),[r,f]=lt({accept:"emojiImg",collect(c){return{handlerId:c.getHandlerId()}},hover(c,E){var z;if(!s.value)return;const M=c.index,_=a.index;if(M===_)return;const O=(z=s.value)==null?void 0:z.getBoundingClientRect();(O.bottom-O.top)/2,E.getClientOffset().y-O.top,d("moveCard",M,_),c.index=_}}),[p,o]=Tt({type:"emojiImg",item:()=>({index:a.index}),collect:c=>({isDragging:c.isDragging()}),end:(c,E)=>{const M=E.getDropResult();c&&(M==null?void 0:M.name)==="Dustbin"&&d("deleteEmoji",c.index)}}),{handlerId:m}=Ie(r),{isDragging:w}=Ie(p),l=K(()=>e(w)?0:1),b=c=>{s.value=o(f(c))};return(c,E)=>(x(),W("div",{ref:b,class:"emoji-box draggable",style:Z({opacity:l.value}),"data-handler-id":e(m)},[h("img",{src:c.emojiSrc,class:"emoji-in-box"},null,8,Bn)],12,Fn))}}),qn=Ae(Wn,[["__scopeId","data-v-c3f2b658"]]),Yn=G({__name:"ExportEmojiModal",setup(u,{expose:t}){const a=ne(),d=I(""),s=I(""),r=I(!1);function f(o,m){r.value=!0,d.value=o,s.value=m}t({show:f});function p(){Fe(d.value),window.$message.success("已复制到剪贴板")}return(o,m)=>(x(),R(e(de),{show:r.value,"onUpdate:show":m[2]||(m[2]=w=>r.value=w),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),title:s.value,closable:"",onClose:m[1]||(m[1]=w=>r.value=!1),size:"small"},{action:n(()=>[i(e(C),{justify:"end"},{default:n(()=>[i(e(A),{onClick:p},{default:n(()=>[...m[4]||(m[4]=[g("复制",-1)])]),_:1}),i(e(A),{onClick:m[0]||(m[0]=w=>r.value=!1)},{default:n(()=>[...m[5]||(m[5]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(C),{vertical:""},{default:n(()=>[i(e(y),null,{default:n(()=>[...m[3]||(m[3]=[g("可以用来复制给别人",-1)])]),_:1}),i(e(ye),{value:d.value,type:"textarea",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style","title"])]),_:1},8,["show"]))}}),Xn={class:"emoji-box"},Vn=["src"],Kn=G({__name:"TabEmojis",setup(u){_e(D=>({"4e867efa":e(a).textColor1}));const t=ie(),a=Te(),d=I(null),s=Ke.map(D=>D.id),r=I(s.filter(D=>!t.userData.emoji_excluded.includes(D))),f=K(()=>s.filter(D=>!r.value.includes(D))),p=I([]);function o(D){Array.isArray(D)?p.value=D.map((k,B)=>({emojiSrc:k,id:B})):p.value=[]}t.userLoginStatus===!0&&o(t.userData.my_emoji),Re(()=>t.userDataLoading,D=>{D===!1&&o(t.userData.my_emoji)});const m=(D,k)=>{const B=p.value[D];p.value.splice(D,1),p.value.splice(k,0,B)},[w,l]=lt(()=>({accept:"emojiImg",drop:()=>({name:"Dustbin"}),collect:D=>({isOver:D.isOver(),canDrop:D.canDrop()})})),{canDrop:b,isOver:c}=Ie(w),E=K(()=>e(b)&&e(c)),M=K(()=>e(E)?a.value.tagColor:a.value.cardColor);function _(D){p.value.splice(D,1)}const O=I(!1);function T(D){O.value===!0&&p.value.splice(D,1)}const z=I(!1),N=I(""),$=K(()=>{var D;return(D=N.value)==null?void 0:D.split(/[\n,，]+/).filter(k=>k!="")});function v(){z.value=!1;const D=$.value.map((k,B)=>({emojiSrc:k,id:B+p.value.length}));p.value=p.value.concat(D),N.value=""}function L(){let D=p.value.map(k=>k.emojiSrc);D=D.filter((k,B)=>D.indexOf(k)===B),p.value=D.map((k,B)=>({emojiSrc:k,id:B}))}function U(){z.value===!0&&v();const D={binggan:t.binggan,my_emoji:p.value.map(k=>k.emojiSrc),emoji_excluded:f.value};F(D)}const{loading:S,send:F,onSuccess:j}=ee(D=>Rt(D),{immediate:!1,initialData:[]});j(()=>t.refreshUserData());function P(){var D;(D=d.value)==null||D.show(p.value.map(k=>k.emojiSrc).join(`,
`),"我的表情包")}return(D,k)=>(x(),R(e(C),{vertical:""},{default:n(()=>[i(e(Y),{title:"官方表情包",size:"small"},{"header-extra":n(()=>[i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...k[5]||(k[5]=[g("可以关闭不想要的表情包",-1)])]),_:1})]),default:n(()=>[i(e(ot),{value:r.value,"onUpdate:value":k[0]||(k[0]=B=>r.value=B)},{default:n(()=>[i(e(C),{size:"small"},{default:n(()=>[(x(!0),W(V,null,te(e(Ke),B=>(x(),R(e(Dt),{value:B.id,label:B.name},null,8,["value","label"]))),256))]),_:1})]),_:1},8,["value"])]),_:1}),i(e(Y),{title:"我的表情包",size:"small"},{"header-extra":n(()=>[i(e(C),{size:"small",align:"center",wrap:!0},{default:n(()=>[i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...k[6]||(k[6]=[g("可拖拽排序",-1)])]),_:1}),i(e(A),{onClick:L},{default:n(()=>[...k[7]||(k[7]=[g("去重",-1)])]),_:1}),z.value?X("",!0):(x(),R(e(A),{key:0,type:"primary",onClick:k[1]||(k[1]=B=>z.value=!0)},{default:n(()=>[...k[8]||(k[8]=[g("追加",-1)])]),_:1}))]),_:1})]),default:n(()=>[i(e(C),{size:"small",style:{"margin-bottom":"6px"}},{default:n(()=>[i(e(Q),{value:O.value,"onUpdate:value":k[2]||(k[2]=B=>O.value=B)},null,8,["value"]),k[9]||(k[9]=h("span",null,"启用点击删除功能",-1))]),_:1}),i(e(C),{size:"small",style:{"touch-action":"none"}},{default:n(()=>[(x(!0),W(V,null,te(p.value,(B,De)=>(x(),R(qn,{key:B.id,emojiSrc:B.emojiSrc,index:De,onClick:ct=>T(De),onMoveCard:m,onDeleteEmoji:_},null,8,["emojiSrc","index","onClick"]))),128))]),_:1}),h("div",{ref:e(l),class:"emoji-trash",style:Z({backgroundColor:M.value})},[i(e(y),{depth:3},{default:n(()=>[...k[10]||(k[10]=[g("拖到这里删除",-1)])]),_:1}),i(e(rt),{size:28},{default:n(()=>[i(e(on))]),_:1})],4)]),_:1}),z.value?(x(),R(e(Y),{key:0,title:"待追加的表情包",size:"small",class:"dash-line"},{"header-extra":n(()=>[i(e(C),{size:"small"},{default:n(()=>[i(e(A),{type:"primary",onClick:v},{default:n(()=>[...k[11]||(k[11]=[g("追加",-1)])]),_:1}),i(e(A),{type:"default",onClick:k[3]||(k[3]=B=>{z.value=!1,N.value=""})},{default:n(()=>[...k[12]||(k[12]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(C),{size:"small"},{default:n(()=>[(x(!0),W(V,null,te($.value,(B,De,ct)=>(x(),W("div",Xn,[h("img",{src:B,class:"emoji-in-box"},null,8,Vn)]))),256))]),_:1}),i(e(ye),{type:"textarea",value:N.value,"onUpdate:value":k[4]||(k[4]=B=>N.value=B),placeholder:"在这里贴网址追加表情包。可以一次多个，每行一个。",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})):X("",!0),i(e(C),{align:"center",justify:"end"},{default:n(()=>[i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...k[13]||(k[13]=[g("上面所有变更都要提交后才生效喔",-1)])]),_:1}),i(e(A),{onClick:P},{default:n(()=>[...k[14]||(k[14]=[g("导出",-1)])]),_:1}),i(e(A),{onClick:U,type:"primary",loading:e(S),disabled:e(S)},{default:n(()=>[...k[15]||(k[15]=[g("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1}),i(Yn,{ref_key:"ExportEmojiModalCom",ref:d},null,512)]),_:1}))}}),Gn=Ae(Kn,[["__scopeId","data-v-7a5725ef"]]),Jn={class:"income-item"},Qn={style:{"margin-left":"auto"}},Zn={key:0,style:{"margin-top":"6px"}},ce=30,ei=G({__name:"TabIncome",setup(u){_e(j=>({f2e6aaa0:e(a).dividerColor})),ie();const t=ne();He(),$e(),Ue();const a=Te(),d=I([le.tz().valueOf(),le.tz().valueOf()]),s=I({pageSize:ce}),r=[{title:"时间",key:"created_at",resizable:!0},{title:"收支",key:"olo",resizable:!0},{title:"内容",key:"content",resizable:!0},{title:"主题",key:"thread",render:F,ellipsis:!0,resizable:!0}],f=K(()=>N.value?[{label:"加载中...",key:"loading"}]:[{label:"当月统计："+$.value.sum_month,key:"monthSum"},{label:"全年统计："+$.value.sum_year,key:"yearSum"}]),p=["default_in","default_out","battle_in","battle_out","hongbao_in","hongbao_out","reward_out","reward_in","gamble_out","gamble_in","bank_in","bank_out","post","penalty"],o=[{label:"全部",value:"all"}],m=[{label:"回帖",value:"post"},{label:"乱斗",value:"battle_in"},{label:"红包",value:"hongbao_in"},{label:"打赏",value:"reward_in"},{label:"菠菜",value:"gamble_in"},{label:"粮仓",value:"bank_in"},{label:"其他",value:"default_in"}],w=[{label:"乱斗",value:"battle_out"},{label:"红包",value:"hongbao_out"},{label:"打赏",value:"reward_out"},{label:"菠菜",value:"gamble_out"},{label:"粮仓",value:"bank_out"},{label:"罚款",value:"penalty"},{label:"其他",value:"default_out"}],l=I(["all"]);function b(j){return me(ot,{value:l.value,"onUpdate:value":P=>{const D=P.filter(B=>!l.value.includes(B)),k=l.value.filter(B=>!P.includes(B));D.includes("all")?l.value=["all"]:k.includes("all")?l.value=p:D.length!==0&&!D.includes("all")?l.value=P.filter(B=>B!=="all"):k.length!==0&&P.length===0?l.value=["all"]:l.value=P}},()=>[me(C,{style:"padding:6px 8px",vertical:!0},()=>[Array.from(j).map(P=>me(Ft,{value:P.value,label:P.label}))])])}const c=[{key:"filterOptions",type:"render",render:()=>b(o)},{label:"📈收入",key:"in",children:[{key:"filterOptionsIn",type:"render",render:()=>b(m)}]},{label:"📉支出",key:"out",children:[{key:"filterOptionsOut",type:"render",render:()=>b(w)}]}];function E(j){return le().add(1,"day").isBefore(j)||le(16409664e5).isAfter(j)}const M=I(1),_=K(()=>(M.value-1)*ce),{loading:O,data:T,send:z}=ee(j=>At(j),{immediate:!1,initialData:[]}),{loading:N,data:$,send:v}=ee(j=>Ht(j),{immediate:!1,initialData:{sum_year:0,sum_month:0}}),L=K(()=>T.value.map(j=>j.olo).reduce((j,P)=>j+P,0));Re([d,l],()=>U("day")),Et(()=>U("day"));function U(j){if(d.value===null)window.$message.error("需要选择日期");else{const P={start_ts:d.value[0],end_ts:d.value[1],type:l.value.includes("all")?null:l.value};j==="day"&&z(P),j==="sum"&&v(P)}}function S(j){return{name:"thread",params:{threadId:j.thread_id,page:j.floor===null?1:Math.ceil((j.floor+1)/200)},hash:j.floor===null?void 0:"#f_"+j.floor}}function F(j,P){return j.thread_id!==null?me(Ye,{to:S(j),target:"_blank",innerHTML:j.thread_title}):""}return(j,P)=>(x(),R(e(C),{size:"small"},{default:n(()=>[i(e(at),{value:d.value,"onUpdate:value":P[0]||(P[0]=D=>d.value=D),type:"daterange","update-value-on-close":"",size:e(t).isMobile?"small":"medium","is-date-disabled":E,style:{"max-width":"300px"}},null,8,["value","size"]),i(e(qe),{trigger:e(t).isMobile?"click":"hover",options:c,placement:"bottom-start"},{default:n(()=>[i(e(A),null,{default:n(()=>[...P[4]||(P[4]=[g("筛选",-1)])]),_:1})]),_:1},8,["trigger"]),i(e(A),{type:"primary",onClick:P[1]||(P[1]=D=>U("day")),loading:e(O)},{default:n(()=>[...P[5]||(P[5]=[g(" 查询 ",-1)])]),_:1},8,["loading"]),i(e(Y),{title:"收支记录",size:"small"},{"header-extra":n(()=>[i(e(C),{size:"small",align:"center"},{default:n(()=>[g(" 区间小计："+q(L.value)+" ",1),i(e(qe),{trigger:"click",placement:"bottom-end",options:f.value},{default:n(()=>[i(e(A),{size:"small",onClick:P[2]||(P[2]=D=>U("sum"))},{default:n(()=>[...P[6]||(P[6]=[g("月年总计",-1)])]),_:1})]),_:1},8,["options"])]),_:1})]),default:n(()=>[e(t).isMobile?X("",!0):(x(),R(e(je),{key:0,columns:r,data:e(T),pagination:s.value,bordered:!1,loading:e(O)},null,8,["data","pagination","loading"])),e(t).isMobile?(x(),W(V,{key:1},[e(T).length>0?(x(),R(e(C),{key:0,vertical:"",align:"start",size:"small"},{default:n(()=>[(x(!0),W(V,null,te(e(T).slice(_.value,_.value+ce),D=>(x(),W("div",Jn,[i(e(C),null,{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...P[7]||(P[7]=[g("时间：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(D.created_at),1)]),_:2},1024)]),h("div",Qn,[i(e(y),{depth:3},{default:n(()=>[...P[8]||(P[8]=[g("收支：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(D.olo),1)]),_:2},1024)])]),_:2},1024),i(e(C),{style:{"margin-top":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...P[9]||(P[9]=[g("内容：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[g(q(D.content),1)]),_:2},1024)])]),_:2},1024),D.thread_id!==null?(x(),W("div",Zn,[i(e(y),{depth:3},{default:n(()=>[...P[10]||(P[10]=[g("主题：",-1)])]),_:1}),i(e(Ye),{to:S(D)},{default:n(()=>[g(q(D.thread_title),1)]),_:2},1032,["to"])])):X("",!0)]))),256)),i(e(nt),{page:M.value,"onUpdate:page":P[3]||(P[3]=D=>M.value=D),"item-count":e(T).length,"page-size":ce,size:"small",style:{"margin-left":"auto"}},null,8,["page","item-count"])]),_:1})):(x(),R(e(it),{key:1}))],64)):X("",!0)]),_:1})]),_:1}))}}),ti=Ae(ei,[["__scopeId","data-v-bd174d32"]]),ni={key:0},ii={key:0,style:{"margin-left":"auto"}},ai={key:1,style:{"margin-left":"auto"}},si=G({__name:"TabLevelup",setup(u){const t=ie(),a=ne(),d=I(!1),s=I(!1),r={title_pingbici:{name:"标题屏蔽词",min:1e3,max:4e3,intervel:200,olo:4e3},content_pingbici:{name:"内容屏蔽词",min:1e3,max:4e3,intervel:200,olo:4e3},fjf_pingbici:{name:"FJF黑名单",min:1e3,max:4e3,intervel:200,olo:4e3},my_emoji:{name:"我的表情包",min:5e3,max:3e4,intervel:1e3,olo:2e4},my_battle_chara:{name:"大乱斗角色",min:0,max:3,intervel:1,olo:5e4}},f=[{title:"项目",key:"name",resizable:!0},{title:"目前容量",key:"value",resizable:!0},{title:"操作",key:"controller",render:o,resizable:!0}],p=K(()=>[{name:"标题屏蔽词",value:l.value.title_pingbici,mode:"title_pingbici"},{name:"内容屏蔽词",value:l.value.content_pingbici,mode:"content_pingbici"},{name:"FJF黑名单",value:l.value.fjf_pingbici,mode:"fjf_pingbici"},{name:"我的表情包",value:l.value.my_emoji,mode:"my_emoji"},{name:"大乱斗角色",value:l.value.my_battle_chara,mode:"my_battle_chara"}]);function o(z){return me(A,{onClick:()=>E(z.mode),size:"tiny",type:"success",innerHTML:"升级"})}const m={title_pingbici:0,content_pingbici:0,fjf_pingbici:0,my_emoji:0,my_battle_chara:0},{loading:w,data:l,send:b}=ee(z=>Bt(z),{immediate:!1,initialData:m});t.binggan!==null&&b({binggan:t.binggan});const c=I("title_pingbici");function E(z){c.value=z,s.value=!0}const{loading:M,send:_,onSuccess:O}=ee(z=>Wt(z),{immediate:!1});O(()=>{t.refreshUserData(),b({binggan:t.binggan}),s.value=!1});function T(z){const N={binggan:t.binggan,mode:z};_(N)}return(z,N)=>(x(),R(e(C),{vertical:""},{default:n(()=>[i(e(Y),{title:"升级饼干",size:"small"},{"header-extra":n(()=>[i(e(y),{depth:3},{default:n(()=>[N[8]||(N[8]=g(" 说明：可支付olo升级饼干，",-1)),e(a).isMobile?(x(),W("br",ni)):X("",!0),N[9]||(N[9]=g("增加屏蔽词、表情包等的容量。 ",-1))]),_:1})]),default:n(()=>[i(e(je),{columns:f,data:p.value,bordered:!1,loading:e(w)},null,8,["data","loading"])]),_:1}),i(e(C),{size:"small"},{default:n(()=>[i(e(A),{onClick:N[0]||(N[0]=$=>d.value=!0)},{default:n(()=>[...N[10]||(N[10]=[g("查看价格表",-1)])]),_:1})]),_:1}),i(e(de),{show:d.value,"onUpdate:show":N[3]||(N[3]=$=>d.value=$),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),title:"升级饼干价目表",closable:"",onClose:N[2]||(N[2]=$=>d.value=!1),size:"small"},{action:n(()=>[i(e(C),{justify:"end"},{default:n(()=>[i(e(A),{onClick:N[1]||(N[1]=$=>d.value=!1)},{default:n(()=>[...N[11]||(N[11]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[N[12]||(N[12]=h("img",{src:"https://wmimg.com/i/1547/2025/02/67adf151e06c9.png",style:{"max-width":"100%"}},null,-1))]),_:1},8,["style"])]),_:1},8,["show"]),i(e(de),{show:s.value,"onUpdate:show":N[7]||(N[7]=$=>s.value=$),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),title:"升级饼干",closable:"",onClose:N[6]||(N[6]=$=>s.value=!1),size:"small"},{action:n(()=>[i(e(C),{justify:"end"},{default:n(()=>[i(e(A),{type:"primary",disabled:e(l)[c.value]>=r[c.value].max||e(M),loading:e(M),onClick:N[4]||(N[4]=$=>T(c.value))},{default:n(()=>[...N[17]||(N[17]=[g("升级！",-1)])]),_:1},8,["disabled","loading"]),i(e(A),{onClick:N[5]||(N[5]=$=>s.value=!1)},{default:n(()=>[...N[18]||(N[18]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(C),{vertical:"",size:"small"},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...N[13]||(N[13]=[g("项目：",-1)])]),_:1}),h("span",null,q(r[c.value].name),1)]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...N[14]||(N[14]=[g("升级容量：",-1)])]),_:1}),h("span",null," +"+q(r[c.value].intervel)+" "+q(c.value==="my_battle_chara"?"角色槽":"字符"),1)]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...N[15]||(N[15]=[g("最大容量：",-1)])]),_:1}),h("span",null,q(r[c.value].max)+" "+q(c.value==="my_battle_chara"?"角色槽":"字符"),1)]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...N[16]||(N[16]=[g("本次消费：",-1)])]),_:1}),i(e(y),{type:"warning"},{default:n(()=>[g(q(r[c.value].olo)+" 个olo",1)]),_:1})]),e(l)[c.value]>=r[c.value].max?(x(),W("span",ii,"嗷，这个项目已经塞满了！无法继续升级。")):(x(),W("span",ai,"确定要升级这个项目吗？"))]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}}),Le={1:{name:"好的开始是成功的一半",describe:"拥有10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac56d523730.png"},2:{name:"千仓万箱",describe:"拥有50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac56d51f77b.png"},3:{name:"财富自由",describe:"拥有100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac56d525d98.png"},4:{name:"锅中首富",describe:"拥有500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac56d536c09.png"},10:{name:"你的赌技从914到419，无人不知无人不晓",describe:"获得全部大乱斗成就",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67adf165b1c74.png"},11:{name:"一鸣惊人",describe:"通过大乱斗获得5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac579910aa7.png"},12:{name:"常胜将军",describe:"通过大乱斗获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac579911fea.png"},13:{name:"赌仙在世",describe:"通过大乱斗获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5799131be.png"},14:{name:"今夜做梦也会笑",describe:"通过大乱斗获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac57994db3b.png"},15:{name:"赌场收割者",describe:"通过大乱斗获得1000w个olo",threshold:1e7,img:"https://wmimg.com/i/1547/2025/02/67ac5799460b4.png"},16:{name:"没能让大人玩得尽兴真是抱歉",describe:"通过大乱斗获得1亿个olo（哇）",threshold:1e8,img:"https://wmimg.com/i/1547/2025/02/67adf207457de.png"},21:{name:"出师不利",describe:"由于大乱斗失去5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac5807e03e7.png"},22:{name:"一败涂地",describe:"由于大乱斗失去10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5807df0a7.png"},23:{name:"家徒四壁",describe:"由于大乱斗失去50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5807e022b.png"},24:{name:"倾家荡产",describe:"由于大乱斗失去100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5807e556c.png"},25:{name:"空中飞人",describe:"由于大乱斗失去1000w个olo",threshold:1e7,img:"https://wmimg.com/i/1547/2025/02/67ac5807e89f4.png"},26:{name:"进数码缅北，割赛博腰子",describe:"由于大乱斗失去1亿个olo（嗷..）",threshold:1e8,img:"https://wmimg.com/i/1547/2025/02/67adf2074feb7.png"},31:{name:"天降横财",describe:"通过红包获得5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac58734520b.png"},32:{name:"时来运转",describe:"通过红包获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac58735a3df.png"},33:{name:"鸿运当头",describe:"通过红包获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac587353008.png"},34:{name:"天选之子",describe:"通过红包获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac587355efa.png"},35:{name:"金玉满堂",describe:"通过红包获得500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac58735bbae.png"},41:{name:"元元之民",describe:"派发红包合计5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac58f4ce626.png"},42:{name:"乐善好施",describe:"派发红包合计10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac58f4b4bf2.png"},43:{name:"行善积德",describe:"派发红包合计50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cecc4.png"},44:{name:"有钱就是任性",describe:"派发红包合计100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cf827.png"},45:{name:"普度众生",describe:"派发红包合计500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cfa4f.png"},51:{name:"无人在意",describe:"发起大乱斗没人接",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac59564c9a6.png"},61:{name:"手滑了一下",describe:"删了一个楼",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac59965e0e3.png"},81:{name:"轻轻松松",describe:"发表了1000个回帖",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac59e1364f7.png"},82:{name:"小菜一碟",describe:"发表了5000个回帖",threshold:5e3,img:"https://wmimg.com/i/1547/2025/02/67ac59d68d455.png"},83:{name:"火锅劳模",describe:"发表了1w个回帖",threshold:1e4,img:"https://wmimg.com/i/1547/2025/02/67ac59d6bf0c6.png"},84:{name:"决战紫禁之巅",describe:"发表了5w个回帖",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac59d6c9d80.png"},85:{name:"火锅有你了不起",describe:"发表了10w个回帖",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac59d6cc83e.png"},111:{name:"双赢才是最好的",describe:"大乱斗平局",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac5a1e8fe3c.png"},141:{name:"我要变强",describe:"饼干升到5级",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c3dc8.png"},142:{name:"潮到出水",describe:"饼干升到10级",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c6546.png"},143:{name:"表情包大户",describe:"饼干升到20级",threshold:20,img:"https://wmimg.com/i/1547/2025/02/67ac5a41cdaf7.png"},144:{name:"神仙饼干",describe:"饼干升到40级",threshold:40,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c2650.png"},161:{name:"得来全不费功夫",describe:"通过打赏获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a0c02.png"},162:{name:"得道多助",describe:"通过打赏获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5a79525fd.png"},163:{name:"全凭本事",describe:"通过打赏获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a227a.png"},164:{name:"嘀——全款已到账",describe:"通过打赏获得200w个olo",threshold:2e6,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a576a.png"},171:{name:"种瓜得瓜",describe:"打赏出去10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5ac11b503.png"},172:{name:"手有余香",describe:"打赏出去50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16bd3c.png"},173:{name:"春蚕蜡炬",describe:"打赏出去100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16dfd6.png"},174:{name:"羽化飞升",describe:"打赏出去200w个olo",threshold:2e6,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16d324.png"},221:{name:"喜鹊落枝头",describe:"连续赢得3次大乱斗",threshold:3,img:"https://wmimg.com/i/1547/2025/02/67ac5b384cc45.png"},222:{name:"春风得意马蹄疾",describe:"连续赢得5次大乱斗",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5b37ef849.png"},223:{name:"福无双至今日至",describe:"连续赢得8次大乱斗",threshold:8,img:"https://wmimg.com/i/1547/2025/02/67ac5b3847665.png"},224:{name:"紫气东来保你发财",describe:"连续赢得10次大乱斗",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5b384ce4b.png"},231:{name:"脚踩瓜皮",describe:"连续输掉3次大乱斗",threshold:3,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d3d36.png"},232:{name:"凉水塞牙",describe:"连续输掉5次大乱斗",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d49bf.png"},233:{name:"点背不能怨社会",describe:"连续输掉8次大乱斗",threshold:8,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d35e7.png"},234:{name:"人生不如意十有八九",describe:"连续输掉10次大乱斗",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d9b56.png"},241:{name:"日进斗金",describe:"粮仓存粮5w",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac5bb67277c.png"},242:{name:"堆金积玉",describe:"粮仓存粮10w",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6950c6.png"},243:{name:"富甲一方",describe:"粮仓存粮30w",threshold:3e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6aa9b4.png"},244:{name:"腰缠万贯",describe:"粮仓存粮50w",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6ac0f3.png"},245:{name:"富有四海",describe:"粮仓存粮100w",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6b345a.png"},271:{name:"锣鼓喧天",describe:"发布1个大喇叭",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a39eba.png"},272:{name:"鞭炮齐鸣",describe:"发布10个大喇叭",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5c5aa1b40.png"},273:{name:"红旗招展",describe:"发布50个大喇叭",threshold:50,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a48a44.png"},274:{name:"人山人海",describe:"发布100个大喇叭",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a97ca9.png"}},et={52:{name:"透明人",describe:"发起大乱斗100次没人接",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5c912c4fc.png"},62:{name:"你是五嬷吗",describe:"进行了100次删楼",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5cabe47fb.png"},71:{name:"归零！",describe:"olo归零",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5cd7564a7.png"},91:{name:"万中有一",describe:"抢到第10000楼",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5cf92298c.png"},101:{name:"元元的爱",describe:"大乱斗掷出101点",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d207d9cb.png"},112:{name:"火锅之神也被你薅秃了",describe:"大乱斗平局100次",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5d40ebea9.png"},121:{name:"小火锅的负责人是个骗子",describe:"红包抢到0个olo",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d5661e30.png"},131:{name:"个人财产+1",describe:"申请1个定制饼干",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d6a3b080.png"},151:{name:"小火锅二周年",describe:"我们要一直在一起 — 至少十年吧！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5e518512e.png"},152:{name:"国庆节快乐",describe:"伟大的祖国节日快乐",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5da089b51.png"},153:{name:"龙年快乐",describe:"2024年小火锅龙年祝福",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5dafba36d.png"},154:{name:"小火锅三周年快乐~！",describe:"3.0也同时上线喔",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5e623e456.png"},155:{name:"小火锅3.0",describe:"诶？我来测试咒岛3.0？真的假的？！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5eb407ea4.png"},156:{name:"蛇年快乐",describe:"2025年小火锅蛇年祝福",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67adf2702ea00.png"},157:{name:"小火锅四周年！",describe:"要和我们玩一辈子nmq吗？",threshold:0,img:"https://wmimg.com/i/1547/2025/04/680e1e444e060.png"},158:{name:"八十周年阅兵纪念",describe:"中华民族万岁！",threshold:0,img:"https://wmimg.com/i/1547/2025/09/68b6dec371427.png"},181:{name:"皇家御用画宗",describe:"大触快教教我画画",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ecfaa6b8.png"},182:{name:"小火锅守护者",describe:"我来组成小火锅锅底！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ecf9f4b5.png"},183:{name:"小火锅终末旅行",describe:"既有开始，必有终结",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ee87bc2d.png"},201:{name:"ac娘",describe:"\\\\ ac娘，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1e7d5d2.png"},202:{name:"鹦鹉鸡",describe:"\\\\ 鹦鹉鸡，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1eeabbc.png"},203:{name:"咪子鱼",describe:"\\\\ 咪子鱼，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1eec3a5.png"},204:{name:"小黑猫",describe:"\\\\ 小黑猫，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f47f9f.png"},205:{name:"麻将脸",describe:"\\\\ 麻将脸，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f47a4d.png"},206:{name:"小恐龙",describe:"\\\\ 小恐龙，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edf0b5.png"},207:{name:"TD猫",describe:"\\\\ TD猫，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edf3f7.png"},208:{name:"小豆泥",describe:"\\\\ 小豆泥，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee7b93.png"},209:{name:"小企鹅",describe:"\\\\ 小企鹅，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee73d1.png"},210:{name:"小黄脸",describe:"\\\\ 小黄脸，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f43b86.png"},211:{name:"FUFU",describe:"\\\\ FUFU，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edc377.png"},212:{name:"小火锅第一届表情包萌",describe:"全军出击！",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f458fb.png"},213:{name:"燃起来了！",describe:"擦出爱的火花",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f4c6d7.png"},214:{name:"为冠军的小豆泥献上喝彩",describe:"尊贵的小豆泥陛下火遍全球天下第一帝锅",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee73f1.png"},215:{name:"当你凝视深渊时",describe:"深渊喵了一声",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde4533.png"},216:{name:"药水哥",describe:"\\\\ 药水哥，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde50c6.png"},280:{name:"吉伊卡哇",describe:"\\\\ 吉伊卡哇，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/06/68482bec31bc2.png"},217:{name:"小火锅第二届表情包萌",describe:"再来一次",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde38bc.png"},218:{name:"勇夺第一！",describe:"至少不要被淘汰",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde242e.png"},219:{name:"遗憾离场",describe:"希望还能回来",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde1447.png"},281:{name:"小火锅第三届表情包萌",describe:"第三次也该老练起来了吧",threshold:100,img:"https://wmimg.com/i/1547/2025/06/6846d2b7dad3c.png"},282:{name:"雄心壮志get",describe:"在可能获胜的道路上一路狂奔",threshold:1e3,img:"https://wmimg.com/i/1547/2025/06/6846d2b7c9d00.png"},283:{name:"并非离开",describe:"我们WB再见",threshold:0,img:"https://wmimg.com/i/1547/2025/06/685823283f71c.png"},284:{name:"世界第一的公主殿下",describe:"那我的一切，就都有了意义",threshold:0,img:"https://wmimg.com/i/1547/2025/06/685807cd2008d.png"},251:{name:"今朝有米今朝吃",describe:"明日无米啃枯枝（提前开仓累计30w）",threshold:3e5,img:"https://wmimg.com/i/1547/2025/02/67ac602c39365.png"},261:{name:"小火锅第一届出道萌",describe:"出道萌投票100票",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac6078074a3.png"},262:{name:"成为大家的爱豆",describe:"出道萌投票1000票",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac6077f2162.png"},263:{name:"药药切克闹",describe:"民推之光药水哥",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac6078084ac.png"},264:{name:"小火锅第二届出道萌",describe:"出道萌投票100票",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac60deb67be.png"},265:{name:"我会回来的！",describe:"出道萌投票1000票",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac60deab3b5.png"},266:{name:"他如闪电般归来",describe:"药水哥回到他忠诚的小火锅",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac60deca4e7.png"},270:{name:"吼那么大声干嘛啦",describe:"撤回一个大喇叭",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac61081b481.png"}},li=["src"],oi=["src"],ri=["src"],di=["src"],ui=["src"],mi=G({__name:"TabMedal",setup(u){_e(_=>({"0adc9ec8":e(f)}));const t=ie(),a=ne(),d=I(!1),s=I(),r=I(!1),f=a.isMobile?"0.70rem":"0.875rem",p=K(()=>{if(!l.value)return[];const _=[];for(const O in Le){const T=l.value.includes(Number(O));(r.value||T)&&_.push(fe(oe({},Le[O]),{id:Number(O),hasMedal:T,img:T?Le[O].img:"https://wmimg.com/i/1547/2025/02/67adf16c41bd5.png"}))}return _}),o=K(()=>{if(!l.value)return[];const _=[];for(const O in et){const T=l.value.includes(Number(O));T&&_.push(fe(oe({},et[O]),{id:Number(O),hasMedal:T}))}return _});function m(_){s.value=_,d.value=!0;const O={binggan:t.binggan,medal_id:_.id};M(O)}const{loading:w,data:l,send:b}=ee(_=>qt(_),{immediate:!1,initialData:[]});t.binggan!==null&&b({binggan:t.binggan});const{loading:c,data:E,send:M}=ee(_=>Yt(_),{immediate:!1});return(_,O)=>(x(),R(e(C),{vertical:""},{default:n(()=>[i(e(Xe),{show:e(w)},{default:n(()=>[i(e(Y),{title:"成就徽章",size:"small"},{"header-extra":n(()=>[i(e(Q),{value:r.value,"onUpdate:value":O[0]||(O[0]=T=>r.value=T)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...O[3]||(O[3]=[g("显示未获得的成就 ",-1)])]),_:1})]),default:n(()=>[!e(a).isMobile&&o.value.length>0?(x(),R(e(C),{key:0,size:[4,0]},{default:n(()=>[(x(!0),W(V,null,te(o.value,T=>(x(),R(e(C),{vertical:"",align:"center",class:"medal-box",onClick:z=>m(T)},{default:n(()=>[h("img",{src:T.img,class:"medal-img"},null,8,li),i(e(y),{class:"medal-text"},{default:n(()=>[g(q(T.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0),e(a).isMobile&&o.value.length>0?(x(),R(e(we),{key:1,"x-gap":"4",cols:5},{default:n(()=>[(x(!0),W(V,null,te(o.value,T=>(x(),R(e(re),{align:"center",class:"medal-box-mobile",onClick:z=>m(T)},{default:n(()=>[h("img",{src:T.img,class:"medal-img-mobile"},null,8,oi),i(e(y),{class:"medal-text"},{default:n(()=>[g(q(T.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0),e(a).isMobile?X("",!0):(x(),R(e(C),{key:2,size:[4,0]},{default:n(()=>[(x(!0),W(V,null,te(p.value,T=>(x(),R(e(C),{vertical:"",align:"center",class:"medal-box",onClick:z=>m(T)},{default:n(()=>[h("img",{src:T.img,class:"medal-img"},null,8,ri),i(e(y),{class:"medal-text"},{default:n(()=>[g(q(T.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})),e(a).isMobile?(x(),R(e(we),{key:3,"x-gap":"4",cols:5},{default:n(()=>[(x(!0),W(V,null,te(p.value,T=>(x(),R(e(re),{align:"center",class:"medal-box-mobile",onClick:z=>m(T)},{default:n(()=>[h("img",{src:T.img,class:"medal-img-mobile"},null,8,di),i(e(y),{class:"medal-text"},{default:n(()=>[g(q(T.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0)]),_:1})]),_:1},8,["show"]),i(e(de),{show:d.value,"onUpdate:show":O[2]||(O[2]=T=>d.value=T),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Z({maxWidth:e(a).modalMaxWidth}),closable:"",onClose:O[1]||(O[1]=T=>d.value=!1),size:"small"},{default:n(()=>[i(e(C),{vertical:"",align:"center",class:"medal-box-modal"},{default:n(()=>{var T;return[h("img",{src:(T=s.value)==null?void 0:T.img,style:{"max-width":"100%"}},null,8,ui),i(e(y),{style:{"font-size":"1rem"}},{default:n(()=>{var z;return[g(q((z=s.value)==null?void 0:z.name),1)]}),_:1}),i(e(y),{style:{"font-size":"1rem"}},{default:n(()=>{var z;return[g(q((z=s.value)==null?void 0:z.describe),1)]}),_:1}),i(e(Xe),{show:e(c)},{default:n(()=>[e(E)!==void 0||!e(c)?(x(),W(V,{key:0},[e(E).medal_created_at!==null?(x(),R(e(y),{key:0,style:{"font-size":"1rem"}},{default:n(()=>[g(q(e(E).medal_created_at),1)]),_:1})):X("",!0),e(E).medal_created_at===null&&e(E).progress!==null?(x(),R(e(y),{key:1,style:{"font-size":"1rem"}},{default:n(()=>[g(q(e(E).progress)+" / "+q(e(E).threshold),1)]),_:1})):X("",!0)],64)):X("",!0)]),_:1},8,["show"])]}),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}}),gi=G({__name:"TabPassword",setup(u){const t=ie(),a=ne(),d=I(null),s=I({passwordOld:null,passwordNew:null,passwordRepeat:null}),r={passwordOld:{required:!1},passwordNew:{required:!0,validator:(w,l)=>{const b=/^[a-zA-Z0-9_]+$/;if(l===null)return new Error("请输入密码");if(b.test(l)){if(l.length<7)return new Error("最少需要7个字符");if(l.length>20)return new Error("最多20个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},passwordRepeat:{required:!0,validator:(w,l)=>l===s.value.passwordNew,message:"密码不一致",trigger:"blur"}},{loading:f,send:p,onSuccess:o}=ee(w=>Xt(w),{immediate:!1});o(()=>{s.value.passwordOld=null,s.value.passwordNew=null,s.value.passwordRepeat=null});function m(){var w;(w=d.value)==null||w.validate(l=>{if(l)window.$message.error("请确认信息填写完整");else{const b={binggan:t.binggan,old_password:s.value.passwordOld,new_password:s.value.passwordNew};p(b)}})}return(w,l)=>(x(),R(e(Y),{title:"密码设定",size:"small"},{default:n(()=>[i(e(C),{vertical:""},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...l[3]||(l[3]=[g("说明：",-1)])]),_:1}),l[4]||(l[4]=h("span",null,"新饼干无密码。建议尽快设定密码，以免饼干遗失。",-1))]),i(e(Se),{ref_key:"formRef",ref:d,model:s.value,"label-placement":"left","label-width":"auto",style:{"max-width":"400px"},rules:r,size:e(a).isMobile?"small":"medium"},{default:n(()=>[i(e(H),{label:"旧密码",path:"passwordOld"},{default:n(()=>[i(e(ae),{value:s.value.passwordOld,"onUpdate:value":l[0]||(l[0]=b=>s.value.passwordOld=b),placeholder:"(选填)如果未设定密码可以留空",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),i(e(H),{label:"密码",path:"passwordNew"},{default:n(()=>[i(e(ae),{value:s.value.passwordNew,"onUpdate:value":l[1]||(l[1]=b=>s.value.passwordNew=b),placeholder:"7~20个字符(字母、数字、下划线)",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),i(e(H),{label:"重复密码",path:"passwordRepeat"},{default:n(()=>[i(e(ae),{value:s.value.passwordRepeat,"onUpdate:value":l[2]||(l[2]=b=>s.value.passwordRepeat=b),placeholder:"再次输入密码",type:"password",maxlength:20,minlength:7,"show-password-on":"click",onKeyup:st(m,["enter"])},null,8,["value"])]),_:1})]),_:1},8,["model","size"]),i(e(C),{size:"small",align:"center"},{default:n(()=>[i(e(A),{type:"primary",loading:e(f),disabled:e(f),onClick:m},{default:n(()=>[...l[5]||(l[5]=[g("提交",-1)])]),_:1},8,["loading","disabled"]),i(e(y),{depth:3},{default:n(()=>[...l[6]||(l[6]=[g("请务必保存好新密码喔",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}}),pi=G({__name:"TabPingbici",setup(u){const t=ie(),a=ne();I(null);const d=I({content_pingbici:[],title_pingbici:[],fjf_pingbici:[]}),s=I(t.userData.binggan.use_pingbici);t.userLoginStatus===!0&&(d.value=t.userData.pingbici,s.value=t.userData.binggan.use_pingbici),Re(()=>t.userDataLoading,w=>{w===!1&&(d.value=t.userData.pingbici,s.value=t.userData.binggan.use_pingbici)});function r(w){d.value[w]=d.value[w].filter((l,b)=>d.value[w].indexOf(l)===b)}function f(){const w=oe({binggan:t.binggan,use_pingbici:s.value},d.value);o(w)}const{loading:p,send:o,onSuccess:m}=ee(w=>Vt(w),{immediate:!1,initialData:[]});return m(()=>t.refreshUserData()),(w,l)=>(x(),R(e(C),{vertical:""},{default:n(()=>[i(e(Y),{title:"标题屏蔽词",size:"small"},{"header-extra":n(()=>[i(e(A),{onClick:l[1]||(l[1]=b=>r("title_pingbici"))},{default:n(()=>[...l[9]||(l[9]=[g("去重",-1)])]),_:1})]),default:n(()=>[i(e(Ce),{value:d.value.title_pingbici,"onUpdate:value":l[0]||(l[0]=b=>d.value.title_pingbici=b),"input-props":{maxlength:20}},null,8,["value"])]),_:1}),i(e(Y),{title:"内容屏蔽词",size:"small"},{"header-extra":n(()=>[i(e(A),{onClick:l[3]||(l[3]=b=>r("content_pingbici"))},{default:n(()=>[...l[10]||(l[10]=[g("去重",-1)])]),_:1})]),default:n(()=>[i(e(Ce),{value:d.value.content_pingbici,"onUpdate:value":l[2]||(l[2]=b=>d.value.content_pingbici=b),"input-props":{maxlength:20}},null,8,["value"])]),_:1}),i(e(Y),{title:"FJF小尾巴和固马屏蔽词",size:"small"},{"header-extra":n(()=>[i(e(A),{onClick:l[5]||(l[5]=b=>r("fjf_pingbici"))},{default:n(()=>[...l[12]||(l[12]=[g("去重",-1)])]),_:1})]),default:n(()=>[i(e(Ce),{value:d.value.fjf_pingbici,"onUpdate:value":l[4]||(l[4]=b=>d.value.fjf_pingbici=b),"input-props":{maxlength:10}},null,8,["value"]),i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...l[11]||(l[11]=[g("注意：同一个饼干在不同FJF主题中，小尾巴会改变",-1)])]),_:1})]),_:1}),i(e(C),{align:"center",justify:"start"},{default:n(()=>[i(e(be),{trigger:"hover"},{trigger:n(()=>[h("div",null,[i(e(Q),{value:e(a).userCustom.hidePingbiciFloor,"onUpdate:value":l[6]||(l[6]=b=>e(a).userCustom.hidePingbiciFloor=b)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...l[13]||(l[13]=[g("完全隐藏楼层 ",-1)])]),_:1})])]),default:n(()=>[l[14]||(l[14]=h("span",null,"这个保存在本地，不用点提交",-1))]),_:1}),i(e(be),{trigger:"hover"},{trigger:n(()=>[h("div",null,[i(e(Q),{value:e(a).userCustom.pingbiciIngnoreCase,"onUpdate:value":l[7]||(l[7]=b=>e(a).userCustom.pingbiciIngnoreCase=b)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...l[15]||(l[15]=[g("忽略大小写 ",-1)])]),_:1})])]),default:n(()=>[l[16]||(l[16]=h("span",null,"这个保存在本地，不用点提交",-1))]),_:1})]),_:1}),i(e(C),{align:"center",justify:"end"},{default:n(()=>[i(e(be),{trigger:"hover"},{trigger:n(()=>[h("div",null,[i(e(Q),{value:s.value,"onUpdate:value":l[8]||(l[8]=b=>s.value=b)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...l[17]||(l[17]=[g("启用 ",-1)])]),_:1})])]),default:n(()=>[l[18]||(l[18]=h("span",null,"关闭屏蔽词功能，可以提升一点性能",-1))]),_:1}),i(e(A),{type:"primary",onClick:f,loading:e(p),disabled:e(p)},{default:n(()=>[...l[19]||(l[19]=[g("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1}))}}),fi={style:{display:"flex","align-items":"center",gap:"4px"}},vi=G({__name:"UserCard",setup(u){const t=ie(),a=ne(),d=I(!0);function s(){Fe(t.binggan),window.$message.success("已将饼干复制到粘贴板，请保存好喔！")}return t.refreshUserData(),(r,f)=>(x(),R(e(Y),{hoverable:"",size:"small"},{default:n(()=>[i(e(C),{justify:"space-around",vertical:e(a).isMobile,size:e(a).isMobile?"small":"medium"},{default:n(()=>[i(e(C),{vertical:!e(a).isMobile,align:"start"},{default:n(()=>[f[2]||(f[2]=h("img",{src:"/ui/my-binggan.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...f[1]||(f[1]=[g("我的饼干",-1)])]),_:1})]),h("div",fi,[i(e(y),{depth:2,style:Z({fontSize:e(a).isMobile?"0.875rem":"1rem",cursor:d.value?"pointer":"auto"}),onClick:f[0]||(f[0]=p=>d.value=!1)},{default:n(()=>[g(q(d.value?"*点击显示*":e(t).binggan),1)]),_:1},8,["style"]),i(e(rt),{size:e(a).isMobile?18:20},{default:n(()=>[i(e(Kt),{style:{cursor:"pointer"},onClick:s})]),_:1},8,["size"])])])]),_:1},8,["vertical"]),i(e(C),{vertical:!e(a).isMobile,align:"start"},{default:n(()=>[f[4]||(f[4]=h("img",{src:"/ui/binggan-level.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...f[3]||(f[3]=[g("饼干等级",-1)])]),_:1})]),h("div",null,[i(e(y),{depth:2,style:Z({fontSize:e(a).isMobile?"0.875rem":"1rem"})},{default:n(()=>{var p;return[g(q((p=e(t).userData)==null?void 0:p.binggan.user_lv),1)]}),_:1},8,["style"])])])]),_:1},8,["vertical"]),i(e(C),{vertical:!e(a).isMobile,align:"start"},{default:n(()=>[f[6]||(f[6]=h("img",{src:"/ui/my-olo.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...f[5]||(f[5]=[g("奥利奥",-1)])]),_:1})]),h("div",null,[i(e(y),{depth:2,style:Z({fontSize:e(a).isMobile?"0.875rem":"1rem"})},{default:n(()=>{var p;return[i(e(Ve),{from:0,to:(p=e(t).userData)==null?void 0:p.binggan.coin,"show-separator":"",duration:2e3},null,8,["to"])]}),_:1},8,["style"])])])]),_:1},8,["vertical"]),i(e(C),{vertical:!e(a).isMobile,align:"start"},{default:n(()=>[f[8]||(f[8]=h("img",{src:"/ui/bank-olo.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...f[7]||(f[7]=[g("粮仓奥利奥",-1)])]),_:1})]),h("div",null,[i(e(y),{depth:2,style:Z({fontSize:e(a).isMobile?"0.875rem":"1rem"})},{default:n(()=>{var p;return[i(e(Ve),{from:0,to:(p=e(t).userData)==null?void 0:p.binggan.coin_in_bank,"show-separator":"",duration:2e3},null,8,["to"])]}),_:1},8,["style"])])])]),_:1},8,["vertical"])]),_:1},8,["vertical","size"])]),_:1}))}}),Ci=G({__name:"UserCenter",setup(u){ie();const t=ne();He(),$e(),Ue(),Te();const a=I();document.title="个人中心";const d=[{name:"medals",tab:"我的成就",component:mi},{name:"common",tab:"一般设定",component:Ln},{name:"pingbici",tab:"屏蔽词",component:pi},{name:"emojis",tab:"表情包",component:Gn},{name:"chara",tab:"我的角色",component:Rn},{name:"bank",tab:"我的粮仓",component:$n},{name:"income",tab:"收支记录",component:ti},{name:"levelup",tab:"升级饼干",component:si},{name:"customBinggan",tab:"定制饼干",component:Hn},{name:"password",tab:"密码设定",component:gi}];return(s,r)=>(x(),R(e(C),{vertical:"",style:{"margin-top":"8px"}},{default:n(()=>[i(e(Ct),{backend:e(t).isMobile?e(On):e(xn)},{default:n(()=>[i(e(vi)),i(e(Nt),{type:"line","bar-width":e(t).isMobile?0:void 0,animated:"",size:e(t).isMobile?"small":"large",value:a.value,"onUpdate:value":r[0]||(r[0]=f=>a.value=f)},{default:n(()=>[(x(),W(V,null,te(d,f=>i(e(kt),{name:f.name,tab:f.tab,key:f.name},{default:n(()=>[(x(),R(Mt(f.component)))]),_:2},1032,["name","tab"])),64))]),_:1},8,["bar-width","size","value"])]),_:1},8,["backend"]),r[1]||(r[1]=h("div",{style:{height:"50px"}},null,-1))]),_:1}))}});export{Ci as default};
