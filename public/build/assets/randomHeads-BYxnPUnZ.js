function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/PostItem-rkW0B-q3.js","assets/PostItem.vue_vue_type_script_setup_true_lang-BbcRI2zs.js","assets/app-DNiDbruX.js","assets/app-DqsZtnln.css","assets/showDialog-DBfLHW48.js","assets/Delete-M6mnBfOm.js","assets/FInput.vue_vue_type_script_setup_true_lang-OWp00g7X.js","assets/Input-DPs_spKr.js","assets/use-locale-Dk0lH-2-.js","assets/FInputGroupLabel.vue_vue_type_script_setup_true_lang-CMwA__F-.js","assets/InputGroup-BlYpm-qC.js","assets/InputNumber-By7yrBrH.js","assets/Add-DttGtZWj.js","assets/index-Crq6HWd9.js","assets/_commonjsHelpers-BosuxZz1.js","assets/inputNumberFormat-DaYmlx6U.js","assets/Select-DJR65rQm.js","assets/Tag-CfXSXn3u.js","assets/Grid-DTtFTao5.js","assets/ColorPicker-DsJFaJLM.js","assets/_createCompounder-CK7oMxPb.js","assets/Ellipsis-Da1-F3JE.js","assets/download-sglA049O.js","assets/emojiData-nGA-8XBz.js","assets/Tabs-DtelSl-j.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{aG as Pe,S as a,w as V,aH as Bt,a9 as He,K as wt,aI as tn,am as nn,aJ as on,a2 as le,a0 as $,aK as Ct,aL as an,aM as ln,a6 as ie,$ as k,r as ot,ai as lt,ak as Ke,Z as Dt,L as De,d as F,T as Ze,aa as bt,aN as rn,aO as sn,ae as tt,aP as un,ag as rt,C as Me,aQ as se,af as gt,n as _e,aR as dn,aS as pt,V as xt,aT as cn,e as nt,a7 as ft,a3 as oe,aU as Ae,aV as At,aW as Ot,aX as jt,aY as Ht,aZ as hn,an as _t,P as at,a_ as gn,a$ as Nt,b0 as pn,aE as je,b1 as fn,b2 as vn,b3 as kt,a1 as Ce,b4 as mn,b5 as wn,a5 as bn,B as xn,b6 as yn,b7 as zt,aj as Cn,A as q,F as ge,j as J,b8 as Ut,b9 as me,b as Ie,p as Re,c as it,M as he,f as h,H as d,a as n,k as ce,o as pe,z as T,h as ke,s as Le,i as Ne,ar as Ue,y as We,ba as vt,aC as Rt,Q as Ve,N as Se,aF as _n,m as kn,bb as zn,q as Rn,ax as St,G as Oe,x as Pt,ay as Be,D as Je,az as Sn,aA as Pn}from"./app-DNiDbruX.js";import{s as In}from"./showDialog-DBfLHW48.js";import{_ as ze}from"./FInput.vue_vue_type_script_setup_true_lang-OWp00g7X.js";import{_ as ue}from"./FInputGroupLabel.vue_vue_type_script_setup_true_lang-CMwA__F-.js";import{N as de}from"./InputGroup-BlYpm-qC.js";import{N as Xe}from"./InputNumber-By7yrBrH.js";import{c as $n}from"./index-Crq6HWd9.js";import{i as Et,a as Ft}from"./inputNumberFormat-DaYmlx6U.js";import{N as Ge}from"./Select-DJR65rQm.js";import{b as Tn,N as st,a as Ln}from"./Grid-DTtFTao5.js";import{N as Mn}from"./ColorPicker-DsJFaJLM.js";import{A as Bn}from"./Add-DttGtZWj.js";import{u as Dn}from"./use-locale-Dk0lH-2-.js";import{c as An}from"./_createCompounder-CK7oMxPb.js";import{a as On}from"./Ellipsis-Da1-F3JE.js";import{d as qt}from"./download-sglA049O.js";import{E as jn,N as Hn}from"./Input-DPs_spKr.js";import{e as Nn}from"./emojiData-nGA-8XBz.js";import{N as It,a as Un}from"./Tabs-DtelSl-j.js";var En=An(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()});const Fn=Pe("attach",a("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a("g",{fill:"currentColor","fill-rule":"nonzero"},a("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),qn=Pe("trash",a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),a("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),a("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),a("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Wn=Pe("download",a("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a("g",{fill:"currentColor","fill-rule":"nonzero"},a("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Vn=Pe("cancel",a("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},a("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},a("g",{fill:"currentColor","fill-rule":"nonzero"},a("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Xn=Pe("retry",a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},a("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),a("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Gn=Pe("rotateClockwise",a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),a("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Yn=Pe("rotateClockwise",a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),a("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Zn=Pe("zoomIn",a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),a("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Kn=Pe("zoomOut",a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),a("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Jn=V({name:"ResizeSmall",render(){return a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a("g",{fill:"none"},a("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Qn=Bt&&"loading"in document.createElement("img"),eo=(e={})=>{var t;const{root:i=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof i=="string"?document.querySelector(i):i)||document.documentElement})}},ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,to=(e,t,i)=>{if(!e)return()=>{};const s=eo(t),{root:l}=s.options;let r;const f=ut.get(l);f?r=f:(r=new Map,ut.set(l,r));let v,u;r.has(s.hash)?(u=r.get(s.hash),u[1].has(e)||(v=u[0],u[1].add(e),v.observe(e))):(v=new IntersectionObserver(g=>{g.forEach(C=>{if(C.isIntersecting){const p=dt.get(C.target),m=ct.get(C.target);p&&p(),m&&(m.value=!0)}})},s.options),v.observe(e),u=[v,new Set([e])],r.set(s.hash,u));let o=!1;const c=()=>{o||(dt.delete(e),ct.delete(e),o=!0,u[1].has(e)&&(u[0].unobserve(e),u[1].delete(e)),u[1].size<=0&&r.delete(s.hash),r.size||ut.delete(l))};return dt.set(e,c),ct.set(e,i),c},yt=Object.assign(Object.assign({},He.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Wt=wt("n-image");function no(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const oo=tn({name:"Image",common:nn,peers:{Tooltip:on},self:no}),ao=a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),io=a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),lo=a("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),ro=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},a("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),so=le([le("body >",[$("image-container","position: fixed;")]),$("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),$("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Ct()]),$("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[$("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Ct()]),$("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[an()]),$("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),$("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[ln("preview-disabled",`
 cursor: pointer;
 `),le("img",`
 border-radius: inherit;
 `)])]),Qe=32,Vt=V({name:"ImagePreview",props:Object.assign(Object.assign({},yt),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=He("Image","-image",so,oo,e,ie(e,"clsPrefix"));let i=null;const s=k(null),l=k(null),r=k(void 0),f=k(!1),v=k(!1),{localeRef:u}=Dn("Image");function o(){const{value:R}=l;if(!i||!R)return;const{style:U}=R,I=i.getBoundingClientRect(),te=I.left+I.width/2,ne=I.top+I.height/2;U.transformOrigin=`${te}px ${ne}px`}function c(R){var U,I;switch(R.key){case" ":R.preventDefault();break;case"ArrowLeft":(U=e.onPrev)===null||U===void 0||U.call(e);break;case"ArrowRight":(I=e.onNext)===null||I===void 0||I.call(e);break;case"Escape":Y();break}}ot(f,R=>{R?lt("keydown",document,c):Ke("keydown",document,c)}),Dt(()=>{Ke("keydown",document,c)});let g=0,C=0,p=0,m=0,w=0,L=0,A=0,y=0,_=!1;function b(R){const{clientX:U,clientY:I}=R;p=U-g,m=I-C,dn(M)}function x(R){const{mouseUpClientX:U,mouseUpClientY:I,mouseDownClientX:te,mouseDownClientY:ne}=R,ve=te-U,be=ne-I,ye=`vertical${be>0?"Top":"Bottom"}`,Te=`horizontal${ve>0?"Left":"Right"}`;return{moveVerticalDirection:ye,moveHorizontalDirection:Te,deltaHorizontal:ve,deltaVertical:be}}function B(R){const{value:U}=s;if(!U)return{offsetX:0,offsetY:0};const I=U.getBoundingClientRect(),{moveVerticalDirection:te,moveHorizontalDirection:ne,deltaHorizontal:ve,deltaVertical:be}=R||{};let ye=0,Te=0;return I.width<=window.innerWidth?ye=0:I.left>0?ye=(I.width-window.innerWidth)/2:I.right<window.innerWidth?ye=-(I.width-window.innerWidth)/2:ne==="horizontalRight"?ye=Math.min((I.width-window.innerWidth)/2,w-(ve??0)):ye=Math.max(-((I.width-window.innerWidth)/2),w-(ve??0)),I.height<=window.innerHeight?Te=0:I.top>0?Te=(I.height-window.innerHeight)/2:I.bottom<window.innerHeight?Te=-(I.height-window.innerHeight)/2:te==="verticalBottom"?Te=Math.min((I.height-window.innerHeight)/2,L-(be??0)):Te=Math.max(-((I.height-window.innerHeight)/2),L-(be??0)),{offsetX:ye,offsetY:Te}}function E(R){Ke("mousemove",document,b),Ke("mouseup",document,E);const{clientX:U,clientY:I}=R;_=!1;const te=x({mouseUpClientX:U,mouseUpClientY:I,mouseDownClientX:A,mouseDownClientY:y}),ne=B(te);p=ne.offsetX,m=ne.offsetY,M()}const G=De(Wt,null);function z(R){var U,I;if((I=(U=G==null?void 0:G.previewedImgPropsRef.value)===null||U===void 0?void 0:U.onMousedown)===null||I===void 0||I.call(U,R),R.button!==0)return;const{clientX:te,clientY:ne}=R;_=!0,g=te-p,C=ne-m,w=p,L=m,A=te,y=ne,M(),lt("mousemove",document,b),lt("mouseup",document,E)}function O(R){var U,I;(I=(U=G==null?void 0:G.previewedImgPropsRef.value)===null||U===void 0?void 0:U.onDblclick)===null||I===void 0||I.call(U,R);const te=$e();X=X===te?1:te,M()}const j=1.5;let ee=0,X=1,Q=0;function Z(){X=1,ee=0}function K(){var R;Z(),Q=0,(R=e.onPrev)===null||R===void 0||R.call(e)}function fe(){var R;Z(),Q=0,(R=e.onNext)===null||R===void 0||R.call(e)}function re(){Q-=90,M()}function xe(){Q+=90,M()}function we(){const{value:R}=s;if(!R)return 1;const{innerWidth:U,innerHeight:I}=window,te=Math.max(1,R.naturalHeight/(I-Qe)),ne=Math.max(1,R.naturalWidth/(U-Qe));return Math.max(3,te*2,ne*2)}function $e(){const{value:R}=s;if(!R)return 1;const{innerWidth:U,innerHeight:I}=window,te=R.naturalHeight/(I-Qe),ne=R.naturalWidth/(U-Qe);return te<1&&ne<1?1:Math.max(te,ne)}function S(){const R=we();X<R&&(ee+=1,X=Math.min(R,Math.pow(j,ee)),M())}function P(){if(X>.5){const R=X;ee-=1,X=Math.max(.5,Math.pow(j,ee));const U=R-X;M(!1);const I=B();X+=U,M(!1),X-=U,p=I.offsetX,m=I.offsetY,M()}}function H(){const R=r.value;R&&qt(R,void 0)}function M(R=!0){var U;const{value:I}=s;if(!I)return;const{style:te}=I,ne=_e((U=G==null?void 0:G.previewedImgPropsRef.value)===null||U===void 0?void 0:U.style);let ve="";if(typeof ne=="string")ve=ne+";";else for(const ye in ne)ve+=`${En(ye)}: ${ne[ye]};`;const be=`transform-origin: center; transform: translateX(${p}px) translateY(${m}px) rotate(${Q}deg) scale(${X});`;_?te.cssText=ve+"cursor: grabbing; transition: none;"+be:te.cssText=ve+"cursor: grab;"+be+(R?"":"transition: none;"),R||I.offsetHeight}function Y(){f.value=!f.value,v.value=!0}function Fe(){X=$e(),ee=Math.ceil(Math.log(X)/Math.log(j)),p=0,m=0,M()}const qe={setPreviewSrc:R=>{r.value=R},setThumbnailEl:R=>{i=R},toggleShow:Y};function N(R,U){if(e.showToolbarTooltip){const{value:I}=t;return a(On,{to:!1,theme:I.peers.Tooltip,themeOverrides:I.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>u.value[U],trigger:()=>R})}else return R}const D=F(()=>{const{common:{cubicBezierEaseInOut:R},self:{toolbarIconColor:U,toolbarBorderRadius:I,toolbarBoxShadow:te,toolbarColor:ne}}=t.value;return{"--n-bezier":R,"--n-toolbar-icon-color":U,"--n-toolbar-color":ne,"--n-toolbar-border-radius":I,"--n-toolbar-box-shadow":te}}),{inlineThemeDisabled:W}=Ze(),ae=W?bt("image-preview",void 0,D,e):void 0;return Object.assign({previewRef:s,previewWrapperRef:l,previewSrc:r,show:f,appear:rn(),displayed:v,previewedImgProps:G==null?void 0:G.previewedImgPropsRef,handleWheel(R){R.preventDefault()},handlePreviewMousedown:z,handlePreviewDblclick:O,syncTransformOrigin:o,handleAfterLeave:()=>{Z(),Q=0,v.value=!1},handleDragStart:R=>{var U,I;(I=(U=G==null?void 0:G.previewedImgPropsRef.value)===null||U===void 0?void 0:U.onDragstart)===null||I===void 0||I.call(U,R),R.preventDefault()},zoomIn:S,zoomOut:P,handleDownloadClick:H,rotateCounterclockwise:re,rotateClockwise:xe,handleSwitchPrev:K,handleSwitchNext:fe,withTooltip:N,resizeToOrignalImageSize:Fe,cssVars:W?void 0:D,themeClass:ae==null?void 0:ae.themeClass,onRender:ae==null?void 0:ae.onRender},qe)},render(){var e,t;const{clsPrefix:i}=this;return a(Me,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),a(sn,{show:this.show},{default:()=>{var s;return this.show||this.displayed?((s=this.onRender)===null||s===void 0||s.call(this),tt(a("div",{class:[`${i}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},a(rt,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?a("div",{class:`${i}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?a(rt,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:l}=this;return a("div",{class:`${i}-image-preview-toolbar`},this.onPrev?a(Me,null,l(a(se,{clsPrefix:i,onClick:this.handleSwitchPrev},{default:()=>ao}),"tipPrevious"),l(a(se,{clsPrefix:i,onClick:this.handleSwitchNext},{default:()=>io}),"tipNext")):null,l(a(se,{clsPrefix:i,onClick:this.rotateCounterclockwise},{default:()=>a(Yn,null)}),"tipCounterclockwise"),l(a(se,{clsPrefix:i,onClick:this.rotateClockwise},{default:()=>a(Gn,null)}),"tipClockwise"),l(a(se,{clsPrefix:i,onClick:this.resizeToOrignalImageSize},{default:()=>a(Jn,null)}),"tipOriginalSize"),l(a(se,{clsPrefix:i,onClick:this.zoomOut},{default:()=>a(Kn,null)}),"tipZoomOut"),l(a(se,{clsPrefix:i,onClick:this.zoomIn},{default:()=>a(Zn,null)}),"tipZoomIn"),l(a(se,{clsPrefix:i,onClick:this.handleDownloadClick},{default:()=>ro}),"tipDownload"),l(a(se,{clsPrefix:i,onClick:this.toggleShow},{default:()=>lo}),"tipClose"))}}):null,a(rt,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:l={}}=this;return tt(a("div",{class:`${i}-image-preview-wrapper`,ref:"previewWrapperRef"},a("img",Object.assign({},l,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${i}-image-preview`,l.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[gt,this.show]])}})),[[un,{enabled:this.show}]])):null}}))}}),Xt=wt("n-image-group"),uo=yt,co=V({name:"ImageGroup",props:uo,setup(e){let t;const{mergedClsPrefixRef:i}=Ze(e),s=`c${pt()}`,l=cn(),r=u=>{var o;t=u,(o=v.value)===null||o===void 0||o.setPreviewSrc(u)};function f(u){var o,c;if(!(l!=null&&l.proxy))return;const C=l.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${s}]:not([data-error=true])`);if(!C.length)return;const p=Array.from(C).findIndex(m=>m.dataset.previewSrc===t);~p?r(C[(p+u+C.length)%C.length].dataset.previewSrc):r(C[0].dataset.previewSrc),u===1?(o=e.onPreviewNext)===null||o===void 0||o.call(e):(c=e.onPreviewPrev)===null||c===void 0||c.call(e)}xt(Xt,{mergedClsPrefixRef:i,setPreviewSrc:r,setThumbnailEl:u=>{var o;(o=v.value)===null||o===void 0||o.setThumbnailEl(u)},toggleShow:()=>{var u;(u=v.value)===null||u===void 0||u.toggleShow()},groupId:s});const v=k(null);return{mergedClsPrefix:i,previewInstRef:v,next:()=>{f(1)},prev:()=>{f(-1)}}},render(){return a(Vt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),ho=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},yt),go=V({name:"Image",props:ho,inheritAttrs:!1,setup(e){const t=k(null),i=k(!1),s=k(null),l=De(Xt,null),{mergedClsPrefixRef:r}=l||Ze(e),f={click:()=>{if(e.previewDisabled||i.value)return;const o=e.previewSrc||e.src;if(l){l.setPreviewSrc(o),l.setThumbnailEl(t.value),l.toggleShow();return}const{value:c}=s;c&&(c.setPreviewSrc(o),c.setThumbnailEl(t.value),c.toggleShow())}},v=k(!e.lazy);nt(()=>{var o;(o=t.value)===null||o===void 0||o.setAttribute("data-group-id",(l==null?void 0:l.groupId)||"")}),nt(()=>{if(e.lazy&&e.intersectionObserverOptions){let o;const c=ft(()=>{o==null||o(),o=void 0,o=to(t.value,e.intersectionObserverOptions,v)});Dt(()=>{c(),o==null||o()})}}),ft(()=>{var o;e.src||((o=e.imgProps)===null||o===void 0||o.src),i.value=!1});const u=k(!1);return xt(Wt,{previewedImgPropsRef:ie(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:r,groupId:l==null?void 0:l.groupId,previewInstRef:s,imageRef:t,showError:i,shouldStartLoading:v,loaded:u,mergedOnClick:o=>{var c,g;f.click(),(g=(c=e.imgProps)===null||c===void 0?void 0:c.onClick)===null||g===void 0||g.call(c,o)},mergedOnError:o=>{if(!v.value)return;i.value=!0;const{onError:c,imgProps:{onError:g}={}}=e;c==null||c(o),g==null||g(o)},mergedOnLoad:o=>{const{onLoad:c,imgProps:{onLoad:g}={}}=e;c==null||c(o),g==null||g(o),u.value=!0}},f)},render(){var e,t;const{mergedClsPrefix:i,imgProps:s={},loaded:l,$attrs:r,lazy:f}=this,v=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),u=this.src||s.src,o=a("img",Object.assign(Object.assign({},s),{ref:"imageRef",width:this.width||s.width,height:this.height||s.height,src:this.showError?this.fallbackSrc:f&&this.intersectionObserverOptions?this.shouldStartLoading?u:void 0:u,alt:this.alt||s.alt,"aria-label":this.alt||s.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Qn&&f&&!this.intersectionObserverOptions?"lazy":"eager",style:[s.style||"",v&&!l?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return a("div",Object.assign({},r,{role:"none",class:[r.class,`${i}-image`,(this.previewDisabled||this.showError)&&`${i}-image--preview-disabled`]}),this.groupId?o:a(Vt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:i,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>o}),!l&&v)}}),po=le([$("progress",{display:"inline-block"},[$("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),oe("line",`
 width: 100%;
 display: block;
 `,[$("progress-content",`
 display: flex;
 align-items: center;
 `,[$("progress-graph",{flex:1})]),$("progress-custom-content",{marginLeft:"14px"}),$("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[oe("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),oe("circle, dashboard",{width:"120px"},[$("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),$("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),$("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),oe("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[$("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),$("progress-content",{position:"relative"}),$("progress-graph",{position:"relative"},[$("progress-graph-circle",[le("svg",{verticalAlign:"bottom"}),$("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[oe("empty",{opacity:0})]),$("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),$("progress-graph-line",[oe("indicator-inside",[$("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[$("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),$("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),oe("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[$("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),$("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),$("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[$("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[oe("processing",[le("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),le("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),fo={success:a(At,null),error:a(Ot,null),warning:a(jt,null),info:a(Ht,null)},vo=V({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const i=F(()=>Ae(e.height)),s=F(()=>e.railBorderRadius!==void 0?Ae(e.railBorderRadius):e.height!==void 0?Ae(e.height,{c:.5}):""),l=F(()=>e.fillBorderRadius!==void 0?Ae(e.fillBorderRadius):e.railBorderRadius!==void 0?Ae(e.railBorderRadius):e.height!==void 0?Ae(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:r,railColor:f,railStyle:v,percentage:u,unit:o,indicatorTextColor:c,status:g,showIndicator:C,fillColor:p,processing:m,clsPrefix:w}=e;return a("div",{class:`${w}-progress-content`,role:"none"},a("div",{class:`${w}-progress-graph`,"aria-hidden":!0},a("div",{class:[`${w}-progress-graph-line`,{[`${w}-progress-graph-line--indicator-${r}`]:!0}]},a("div",{class:`${w}-progress-graph-line-rail`,style:[{backgroundColor:f,height:i.value,borderRadius:s.value},v]},a("div",{class:[`${w}-progress-graph-line-fill`,m&&`${w}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:p,height:i.value,lineHeight:i.value,borderRadius:l.value}},r==="inside"?a("div",{class:`${w}-progress-graph-line-indicator`,style:{color:c}},t.default?t.default():`${u}${o}`):null)))),C&&r==="outside"?a("div",null,t.default?a("div",{class:`${w}-progress-custom-content`,style:{color:c},role:"none"},t.default()):g==="default"?a("div",{role:"none",class:`${w}-progress-icon ${w}-progress-icon--as-text`,style:{color:c}},u,o):a("div",{class:`${w}-progress-icon`,"aria-hidden":!0},a(se,{clsPrefix:w},{default:()=>fo[g]}))):null)}}}),mo={success:a(At,null),error:a(Ot,null),warning:a(jt,null),info:a(Ht,null)},wo=V({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function i(s,l,r){const{gapDegree:f,viewBoxWidth:v,strokeWidth:u}=e,o=50,c=0,g=o,C=0,p=2*o,m=50+u/2,w=`M ${m},${m} m ${c},${g}
      a ${o},${o} 0 1 1 ${C},${-p}
      a ${o},${o} 0 1 1 ${-C},${p}`,L=Math.PI*2*o,A={stroke:r,strokeDasharray:`${s/100*(L-f)}px ${v*8}px`,strokeDashoffset:`-${f/2}px`,transformOrigin:l?"center":void 0,transform:l?`rotate(${l}deg)`:void 0};return{pathString:w,pathStyle:A}}return()=>{const{fillColor:s,railColor:l,strokeWidth:r,offsetDegree:f,status:v,percentage:u,showIndicator:o,indicatorTextColor:c,unit:g,gapOffsetDegree:C,clsPrefix:p}=e,{pathString:m,pathStyle:w}=i(100,0,l),{pathString:L,pathStyle:A}=i(u,f,s),y=100+r;return a("div",{class:`${p}-progress-content`,role:"none"},a("div",{class:`${p}-progress-graph`,"aria-hidden":!0},a("div",{class:`${p}-progress-graph-circle`,style:{transform:C?`rotate(${C}deg)`:void 0}},a("svg",{viewBox:`0 0 ${y} ${y}`},a("g",null,a("path",{class:`${p}-progress-graph-circle-rail`,d:m,"stroke-width":r,"stroke-linecap":"round",fill:"none",style:w})),a("g",null,a("path",{class:[`${p}-progress-graph-circle-fill`,u===0&&`${p}-progress-graph-circle-fill--empty`],d:L,"stroke-width":r,"stroke-linecap":"round",fill:"none",style:A}))))),o?a("div",null,t.default?a("div",{class:`${p}-progress-custom-content`,role:"none"},t.default()):v!=="default"?a("div",{class:`${p}-progress-icon`,"aria-hidden":!0},a(se,{clsPrefix:p},{default:()=>mo[v]})):a("div",{class:`${p}-progress-text`,style:{color:c},role:"none"},a("span",{class:`${p}-progress-text__percentage`},u),a("span",{class:`${p}-progress-text__unit`},g))):null)}}});function $t(e,t,i=100){return`m ${i/2} ${i/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const bo=V({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const i=F(()=>e.percentage.map((l,r)=>`${Math.PI*l/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*r)-e.circleGap*r)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:s,strokeWidth:l,circleGap:r,showIndicator:f,fillColor:v,railColor:u,railStyle:o,percentage:c,clsPrefix:g}=e;return a("div",{class:`${g}-progress-content`,role:"none"},a("div",{class:`${g}-progress-graph`,"aria-hidden":!0},a("div",{class:`${g}-progress-graph-circle`},a("svg",{viewBox:`0 0 ${s} ${s}`},c.map((C,p)=>a("g",{key:p},a("path",{class:`${g}-progress-graph-circle-rail`,d:$t(s/2-l/2*(1+2*p)-r*p,l,s),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:u[p]},o[p]]}),a("path",{class:[`${g}-progress-graph-circle-fill`,C===0&&`${g}-progress-graph-circle-fill--empty`],d:$t(s/2-l/2*(1+2*p)-r*p,l,s),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:i.value[p],strokeDashoffset:0,stroke:v[p]}})))))),f&&t.default?a("div",null,a("div",{class:`${g}-progress-text`},t.default())):null)}}}),xo=Object.assign(Object.assign({},He.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),yo=V({name:"Progress",props:xo,setup(e){const t=F(()=>e.indicatorPlacement||e.indicatorPosition),i=F(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:s,inlineThemeDisabled:l}=Ze(e),r=He("Progress","-progress",po,hn,e,s),f=F(()=>{const{status:u}=e,{common:{cubicBezierEaseInOut:o},self:{fontSize:c,fontSizeCircle:g,railColor:C,railHeight:p,iconSizeCircle:m,iconSizeLine:w,textColorCircle:L,textColorLineInner:A,textColorLineOuter:y,lineBgProcessing:_,fontWeightCircle:b,[_t("iconColor",u)]:x,[_t("fillColor",u)]:B}}=r.value;return{"--n-bezier":o,"--n-fill-color":B,"--n-font-size":c,"--n-font-size-circle":g,"--n-font-weight-circle":b,"--n-icon-color":x,"--n-icon-size-circle":m,"--n-icon-size-line":w,"--n-line-bg-processing":_,"--n-rail-color":C,"--n-rail-height":p,"--n-text-color-circle":L,"--n-text-color-line-inner":A,"--n-text-color-line-outer":y}}),v=l?bt("progress",F(()=>e.status[0]),f,e):void 0;return{mergedClsPrefix:s,mergedIndicatorPlacement:t,gapDeg:i,cssVars:l?void 0:f,themeClass:v==null?void 0:v.themeClass,onRender:v==null?void 0:v.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:i,showIndicator:s,status:l,railColor:r,railStyle:f,color:v,percentage:u,viewBoxWidth:o,strokeWidth:c,mergedIndicatorPlacement:g,unit:C,borderRadius:p,fillBorderRadius:m,height:w,processing:L,circleGap:A,mergedClsPrefix:y,gapDeg:_,gapOffsetDegree:b,themeClass:x,$slots:B,onRender:E}=this;return E==null||E(),a("div",{class:[x,`${y}-progress`,`${y}-progress--${e}`,`${y}-progress--${l}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":u,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?a(wo,{clsPrefix:y,status:l,showIndicator:s,indicatorTextColor:i,railColor:r,fillColor:v,railStyle:f,offsetDegree:this.offsetDegree,percentage:u,viewBoxWidth:o,strokeWidth:c,gapDegree:_===void 0?e==="dashboard"?75:0:_,gapOffsetDegree:b,unit:C},B):e==="line"?a(vo,{clsPrefix:y,status:l,showIndicator:s,indicatorTextColor:i,railColor:r,fillColor:v,railStyle:f,percentage:u,processing:L,indicatorPlacement:g,unit:C,fillBorderRadius:m,railBorderRadius:p,height:w},B):e==="multiple-circle"?a(bo,{clsPrefix:y,strokeWidth:c,railColor:r,fillColor:v,railStyle:f,viewBoxWidth:o,percentage:u,showIndicator:s,circleGap:A},B):null)}}),Ee=wt("n-upload"),Gt="__UPLOAD_DRAGGER__",Co=V({name:"UploadDragger",[Gt]:!0,setup(e,{slots:t}){const i=De(Ee,null);return i||at("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:s},mergedDisabledRef:{value:l},maxReachedRef:{value:r}}=i;return a("div",{class:[`${s}-upload-dragger`,(l||r)&&`${s}-upload-dragger--disabled`]},t)}}});var mt=function(e,t,i,s){function l(r){return r instanceof i?r:new i(function(f){f(r)})}return new(i||(i=Promise))(function(r,f){function v(c){try{o(s.next(c))}catch(g){f(g)}}function u(c){try{o(s.throw(c))}catch(g){f(g)}}function o(c){c.done?r(c.value):l(c.value).then(v,u)}o((s=s.apply(e,t||[])).next())})};const Yt=e=>e.includes("image/"),Tt=(e="")=>{const t=e.split("/"),s=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(s)||[""])[0]},Lt=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Zt=e=>{if(e.type)return Yt(e.type);const t=Tt(e.name||"");if(Lt.test(t))return!0;const i=e.thumbnailUrl||e.url||"",s=Tt(i);return!!(/^data:image\//.test(i)||Lt.test(s))};function _o(e){return mt(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Yt(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const ko=Bt&&window.FileReader&&window.File;function zo(e){return e.isDirectory}function Ro(e){return e.isFile}function So(e,t){return mt(this,void 0,void 0,function*(){const i=[];function s(l){return mt(this,void 0,void 0,function*(){for(const r of l)if(r){if(t&&zo(r)){const f=r.createReader();try{const v=yield new Promise((u,o)=>{f.readEntries(u,o)});yield s(v)}catch{}}else if(Ro(r))try{const f=yield new Promise((v,u)=>{r.file(v,u)});i.push({file:f,entry:r,source:"dnd"})}catch{}}})}return yield s(e),i})}function Ye(e){const{id:t,name:i,percentage:s,status:l,url:r,file:f,thumbnailUrl:v,type:u,fullPath:o,batchId:c}=e;return{id:t,name:i,percentage:s??null,status:l,url:r??null,file:f??null,thumbnailUrl:v??null,type:u??null,fullPath:o??null,batchId:c??null}}function Po(e,t,i){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),i=i.toLocaleLowerCase(),i.split(",").map(l=>l.trim()).filter(Boolean).some(l=>{if(l.startsWith(".")){if(e.endsWith(l))return!0}else if(l.includes("/")){const[r,f]=t.split("/"),[v,u]=l.split("/");if((v==="*"||r&&v&&v===r)&&(u==="*"||f&&u&&u===f))return!0}else return!0;return!1})}const Kt=V({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const i=De(Ee,null);i||at("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:s,mergedDisabledRef:l,maxReachedRef:r,listTypeRef:f,dragOverRef:v,openOpenFileDialog:u,draggerInsideRef:o,handleFileAddition:c,mergedDirectoryDndRef:g,triggerClassRef:C,triggerStyleRef:p}=i,m=F(()=>f.value==="image-card");function w(){l.value||r.value||u()}function L(b){b.preventDefault(),v.value=!0}function A(b){b.preventDefault(),v.value=!0}function y(b){b.preventDefault(),v.value=!1}function _(b){var x;if(b.preventDefault(),!o.value||l.value||r.value){v.value=!1;return}const B=(x=b.dataTransfer)===null||x===void 0?void 0:x.items;B!=null&&B.length?So(Array.from(B).map(E=>E.webkitGetAsEntry()),g.value).then(E=>{c(E)}).finally(()=>{v.value=!1}):v.value=!1}return()=>{var b;const{value:x}=s;return e.abstract?(b=t.default)===null||b===void 0?void 0:b.call(t,{handleClick:w,handleDrop:_,handleDragOver:L,handleDragEnter:A,handleDragLeave:y}):a("div",{class:[`${x}-upload-trigger`,(l.value||r.value)&&`${x}-upload-trigger--disabled`,m.value&&`${x}-upload-trigger--image-card`,C.value],style:p.value,onClick:w,onDrop:_,onDragover:L,onDragenter:A,onDragleave:y},m.value?a(Co,null,{default:()=>gn(t.default,()=>[a(se,{clsPrefix:x},{default:()=>a(Bn,null)})])}):t)}}}),Io=V({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:De(Ee).mergedThemeRef}},render(){return a(Nt,null,{default:()=>this.show?a(yo,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),$o=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},a("g",{fill:"none"},a("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),To=a("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},a("g",{fill:"none"},a("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var Lo=function(e,t,i,s){function l(r){return r instanceof i?r:new i(function(f){f(r)})}return new(i||(i=Promise))(function(r,f){function v(c){try{o(s.next(c))}catch(g){f(g)}}function u(c){try{o(s.throw(c))}catch(g){f(g)}}function o(c){c.done?r(c.value):l(c.value).then(v,u)}o((s=s.apply(e,t||[])).next())})};const et={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Mo=V({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=De(Ee),i=k(null),s=k(""),l=F(()=>{const{file:x}=e;return x.status==="finished"?"success":x.status==="error"?"error":"info"}),r=F(()=>{const{file:x}=e;if(x.status==="error")return"error"}),f=F(()=>{const{file:x}=e;return x.status==="uploading"}),v=F(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:x}=e;return["uploading","pending","error"].includes(x.status)}),u=F(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:x}=e;return["finished"].includes(x.status)}),o=F(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:x}=e;return["finished"].includes(x.status)}),c=F(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:x}=e;return["error"].includes(x.status)}),g=pn(()=>s.value||e.file.thumbnailUrl||e.file.url),C=F(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:x},listType:B}=e;return["finished"].includes(x)&&g.value&&B==="image-card"});function p(){t.submit(e.file.id)}function m(x){x.preventDefault();const{file:B}=e;["finished","pending","error"].includes(B.status)?L(B):["uploading"].includes(B.status)?y(B):vn("upload","The button clicked type is unknown.")}function w(x){x.preventDefault(),A(e.file)}function L(x){const{xhrMap:B,doChange:E,onRemoveRef:{value:G},mergedFileListRef:{value:z}}=t;Promise.resolve(G?G({file:Object.assign({},x),fileList:z}):!0).then(O=>{if(O===!1)return;const j=Object.assign({},x,{status:"removed"});B.delete(x.id),E(j,void 0,{remove:!0})})}function A(x){const{onDownloadRef:{value:B}}=t;Promise.resolve(B?B(Object.assign({},x)):!0).then(E=>{E!==!1&&qt(x.url,x.name)})}function y(x){const{xhrMap:B}=t,E=B.get(x.id);E==null||E.abort(),L(Object.assign({},x))}function _(){const{onPreviewRef:{value:x}}=t;if(x)x(e.file);else if(e.listType==="image-card"){const{value:B}=i;if(!B)return;B.click()}}const b=()=>Lo(this,void 0,void 0,function*(){const{listType:x}=e;x!=="image"&&x!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(s.value=yield t.getFileThumbnailUrlResolver(e.file))});return ft(()=>{b()}),{mergedTheme:t.mergedThemeRef,progressStatus:l,buttonType:r,showProgress:f,disabled:t.mergedDisabledRef,showCancelButton:v,showRemoveButton:u,showDownloadButton:o,showRetryButton:c,showPreviewButton:C,mergedThumbnailUrl:g,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:i,handleRemoveOrCancelClick:m,handleDownloadClick:w,handleRetryClick:p,handlePreviewClick:_}},render(){const{clsPrefix:e,mergedTheme:t,listType:i,file:s,renderIcon:l}=this;let r;const f=i==="image";f||i==="image-card"?r=!this.shouldUseThumbnailUrl(s)||!this.mergedThumbnailUrl?a("span",{class:`${e}-upload-file-info__thumbnail`},l?l(s):Zt(s)?a(se,{clsPrefix:e},{default:()=>$o}):a(se,{clsPrefix:e},{default:()=>To})):a("a",{rel:"noopener noreferer",target:"_blank",href:s.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},i==="image-card"?a(go,{src:this.mergedThumbnailUrl||void 0,previewSrc:s.url||void 0,alt:s.name,ref:"imageRef"}):a("img",{src:this.mergedThumbnailUrl||void 0,alt:s.name})):r=a("span",{class:`${e}-upload-file-info__thumbnail`},l?l(s):a(se,{clsPrefix:e},{default:()=>a(Fn,null)}));const u=a(Io,{show:this.showProgress,percentage:s.percentage||0,status:this.progressStatus}),o=i==="text"||i==="image";return a("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,s.url&&s.status!=="error"&&i!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${i}-type`]},a("div",{class:`${e}-upload-file-info`},r,a("div",{class:`${e}-upload-file-info__name`},o&&(s.url&&s.status!=="error"?a("a",{rel:"noopener noreferer",target:"_blank",href:s.url||void 0,onClick:this.handlePreviewClick},s.name):a("span",{onClick:this.handlePreviewClick},s.name)),f&&u),a("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${i}-type`]},this.showPreviewButton?a(je,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:et},{icon:()=>a(se,{clsPrefix:e},{default:()=>a(jn,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&a(je,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:et,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>a(fn,null,{default:()=>this.showRemoveButton?a(se,{clsPrefix:e,key:"trash"},{default:()=>a(qn,null)}):a(se,{clsPrefix:e,key:"cancel"},{default:()=>a(Vn,null)})})}),this.showRetryButton&&!this.disabled&&a(je,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:et},{icon:()=>a(se,{clsPrefix:e},{default:()=>a(Xn,null)})}),this.showDownloadButton?a(je,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:et},{icon:()=>a(se,{clsPrefix:e},{default:()=>a(Wn,null)})}):null)),!f&&u)}}),Bo=V({name:"UploadFileList",setup(e,{slots:t}){const i=De(Ee,null);i||at("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:s,mergedClsPrefixRef:l,listTypeRef:r,mergedFileListRef:f,fileListClassRef:v,fileListStyleRef:u,cssVarsRef:o,themeClassRef:c,maxReachedRef:g,showTriggerRef:C,imageGroupPropsRef:p}=i,m=F(()=>r.value==="image-card"),w=()=>f.value.map(A=>a(Mo,{clsPrefix:l.value,key:A.id,file:A,listType:r.value})),L=()=>m.value?a(co,Object.assign({},p.value),{default:w}):a(Nt,{group:!0},{default:w});return()=>{const{value:A}=l,{value:y}=s;return a("div",{class:[`${A}-upload-file-list`,m.value&&`${A}-upload-file-list--grid`,y?c==null?void 0:c.value:void 0,v.value],style:[y&&o?o.value:"",u.value]},L(),C.value&&!g.value&&m.value&&a(Kt,null,t))}}}),Do=le([$("upload","width: 100%;",[oe("dragger-inside",[$("upload-trigger",`
 display: block;
 `)]),oe("drag-over",[$("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),$("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[le("&:hover",`
 border: var(--n-dragger-border-hover);
 `),oe("disabled",`
 cursor: not-allowed;
 `)]),$("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[le("+",[$("upload-file-list","margin-top: 8px;")]),oe("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),oe("image-card",`
 width: 96px;
 height: 96px;
 `,[$("base-icon",`
 font-size: 24px;
 `),$("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),$("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[le("a, img","outline: none;"),oe("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[$("upload-file","cursor: not-allowed;")]),oe("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),$("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[kt(),$("progress",[kt({foldPadding:!0})]),le("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[$("upload-file-info",[Ce("action",`
 opacity: 1;
 `)])]),oe("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[$("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[$("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Ce("name",`
 padding: 0 8px;
 `),Ce("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[le("img",`
 width: 100%;
 `)])])]),oe("text-type",[$("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),oe("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[$("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),$("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Ce("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[le("img",`
 width: 100%;
 `)])]),le("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),le("&:hover",[le("&::before","opacity: 1;"),$("upload-file-info",[Ce("thumbnail","opacity: .12;")])])]),oe("error-status",[le("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),$("upload-file-info",[Ce("name","color: var(--n-item-text-color-error);"),Ce("thumbnail","color: var(--n-item-text-color-error);")]),oe("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),oe("with-url",`
 cursor: pointer;
 `,[$("upload-file-info",[Ce("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[le("a",`
 text-decoration: underline;
 `)])])]),$("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Ce("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[$("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Ce("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[$("button",[le("&:not(:last-child)",{marginRight:"4px"}),$("base-icon",[le("svg",[mn()])])]),oe("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),oe("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Ce("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[le("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),$("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var Mt=function(e,t,i,s){function l(r){return r instanceof i?r:new i(function(f){f(r)})}return new(i||(i=Promise))(function(r,f){function v(c){try{o(s.next(c))}catch(g){f(g)}}function u(c){try{o(s.throw(c))}catch(g){f(g)}}function o(c){c.done?r(c.value):l(c.value).then(v,u)}o((s=s.apply(e,t||[])).next())})};function Ao(e,t,i){const{doChange:s,xhrMap:l}=e;let r=0;function f(u){var o;let c=Object.assign({},t,{status:"error",percentage:r});l.delete(t.id),c=Ye(((o=e.onError)===null||o===void 0?void 0:o.call(e,{file:c,event:u}))||c),s(c,u)}function v(u){var o;if(e.isErrorState){if(e.isErrorState(i)){f(u);return}}else if(i.status<200||i.status>=300){f(u);return}let c=Object.assign({},t,{status:"finished",percentage:r});l.delete(t.id),c=Ye(((o=e.onFinish)===null||o===void 0?void 0:o.call(e,{file:c,event:u}))||c),s(c,u)}return{handleXHRLoad:v,handleXHRError:f,handleXHRAbort(u){const o=Object.assign({},t,{status:"removed",file:null,percentage:r});l.delete(t.id),s(o,u)},handleXHRProgress(u){const o=Object.assign({},t,{status:"uploading"});if(u.lengthComputable){const c=Math.ceil(u.loaded/u.total*100);o.percentage=c,r=c}s(o,u)}}}function Oo(e){const{inst:t,file:i,data:s,headers:l,withCredentials:r,action:f,customRequest:v}=e,{doChange:u}=e.inst;let o=0;v({file:i,data:s,headers:l,withCredentials:r,action:f,onProgress(c){const g=Object.assign({},i,{status:"uploading"}),C=c.percent;g.percentage=C,o=C,u(g)},onFinish(){var c;let g=Object.assign({},i,{status:"finished",percentage:o});g=Ye(((c=t.onFinish)===null||c===void 0?void 0:c.call(t,{file:g}))||g),u(g)},onError(){var c;let g=Object.assign({},i,{status:"error",percentage:o});g=Ye(((c=t.onError)===null||c===void 0?void 0:c.call(t,{file:g}))||g),u(g)}})}function jo(e,t,i){const s=Ao(e,t,i);i.onabort=s.handleXHRAbort,i.onerror=s.handleXHRError,i.onload=s.handleXHRLoad,i.upload&&(i.upload.onprogress=s.handleXHRProgress)}function Jt(e,t){return typeof e=="function"?e({file:t}):e||{}}function Ho(e,t,i){const s=Jt(t,i);s&&Object.keys(s).forEach(l=>{e.setRequestHeader(l,s[l])})}function No(e,t,i){const s=Jt(t,i);s&&Object.keys(s).forEach(l=>{e.append(l,s[l])})}function Uo(e,t,i,{method:s,action:l,withCredentials:r,responseType:f,headers:v,data:u}){const o=new XMLHttpRequest;o.responseType=f,e.xhrMap.set(i.id,o),o.withCredentials=r;const c=new FormData;if(No(c,u,i),i.file!==null&&c.append(t,i.file),jo(e,i,o),l!==void 0){o.open(s.toUpperCase(),l),Ho(o,v,i),o.send(c);const g=Object.assign({},i,{status:"uploading"});e.doChange(g)}}const Eo=Object.assign(Object.assign({},He.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>ko?Zt(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Qt=V({name:"Upload",props:Eo,setup(e){e.abstract&&e.listType==="image-card"&&at("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:i}=Ze(e),s=He("Upload","-upload",Do,yn,e,t),l=wn(e),r=F(()=>{const{max:z}=e;return z!==void 0?p.value.length>=z:!1}),f=k(e.defaultFileList),v=ie(e,"fileList"),u=k(null),o={value:!1},c=k(!1),g=new Map,C=bn(v,f),p=F(()=>C.value.map(Ye));function m(){var z;(z=u.value)===null||z===void 0||z.click()}function w(z){const O=z.target;y(O.files?Array.from(O.files).map(j=>({file:j,entry:null,source:"input"})):null,z),O.value=""}function L(z){const{"onUpdate:fileList":O,onUpdateFileList:j}=e;O&&zt(O,z),j&&zt(j,z),f.value=z}const A=F(()=>e.multiple||e.directory);function y(z,O){if(!z||z.length===0)return;const{onBeforeUpload:j}=e;z=A.value?z:[z[0]];const{max:ee,accept:X}=e;z=z.filter(({file:Z,source:K})=>K==="dnd"&&(X!=null&&X.trim())?Po(Z.name,Z.type,X):!0),ee&&(z=z.slice(0,ee-p.value.length));const Q=pt();Promise.all(z.map(({file:Z,entry:K})=>Mt(this,void 0,void 0,function*(){var fe;const re={id:pt(),batchId:Q,name:Z.name,status:"pending",percentage:0,file:Z,url:null,type:Z.type,thumbnailUrl:null,fullPath:(fe=K==null?void 0:K.fullPath)!==null&&fe!==void 0?fe:`/${Z.webkitRelativePath||Z.name}`};return!j||(yield j({file:re,fileList:p.value}))!==!1?re:null}))).then(Z=>Mt(this,void 0,void 0,function*(){let K=Promise.resolve();Z.forEach(fe=>{K=K.then(Cn).then(()=>{fe&&b(fe,O,{append:!0})})}),yield K})).then(()=>{e.defaultUpload&&_()})}function _(z){const{method:O,action:j,withCredentials:ee,headers:X,data:Q,name:Z}=e,K=z!==void 0?p.value.filter(re=>re.id===z):p.value,fe=z!==void 0;K.forEach(re=>{const{status:xe}=re;(xe==="pending"||xe==="error"&&fe)&&(e.customRequest?Oo({inst:{doChange:b,xhrMap:g,onFinish:e.onFinish,onError:e.onError},file:re,action:j,withCredentials:ee,headers:X,data:Q,customRequest:e.customRequest}):Uo({doChange:b,xhrMap:g,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},Z,re,{method:O,action:j,withCredentials:ee,responseType:e.responseType,headers:X,data:Q}))})}const b=(z,O,j={append:!1,remove:!1})=>{const{append:ee,remove:X}=j,Q=Array.from(p.value),Z=Q.findIndex(K=>K.id===z.id);if(ee||X||~Z){ee?Q.push(z):X?Q.splice(Z,1):Q.splice(Z,1,z);const{onChange:K}=e;K&&K({file:z,fileList:Q,event:O}),L(Q)}};function x(z){var O;if(z.thumbnailUrl)return z.thumbnailUrl;const{createThumbnailUrl:j}=e;return j?(O=j(z.file,z))!==null&&O!==void 0?O:z.url||"":z.url?z.url:z.file?_o(z.file):""}const B=F(()=>{const{common:{cubicBezierEaseInOut:z},self:{draggerColor:O,draggerBorder:j,draggerBorderHover:ee,itemColorHover:X,itemColorHoverError:Q,itemTextColorError:Z,itemTextColorSuccess:K,itemTextColor:fe,itemIconColor:re,itemDisabledOpacity:xe,lineHeight:we,borderRadius:$e,fontSize:S,itemBorderImageCardError:P,itemBorderImageCard:H}}=s.value;return{"--n-bezier":z,"--n-border-radius":$e,"--n-dragger-border":j,"--n-dragger-border-hover":ee,"--n-dragger-color":O,"--n-font-size":S,"--n-item-color-hover":X,"--n-item-color-hover-error":Q,"--n-item-disabled-opacity":xe,"--n-item-icon-color":re,"--n-item-text-color":fe,"--n-item-text-color-error":Z,"--n-item-text-color-success":K,"--n-line-height":we,"--n-item-border-image-card-error":P,"--n-item-border-image-card":H}}),E=i?bt("upload",void 0,B,e):void 0;xt(Ee,{mergedClsPrefixRef:t,mergedThemeRef:s,showCancelButtonRef:ie(e,"showCancelButton"),showDownloadButtonRef:ie(e,"showDownloadButton"),showRemoveButtonRef:ie(e,"showRemoveButton"),showRetryButtonRef:ie(e,"showRetryButton"),onRemoveRef:ie(e,"onRemove"),onDownloadRef:ie(e,"onDownload"),mergedFileListRef:p,triggerClassRef:ie(e,"triggerClass"),triggerStyleRef:ie(e,"triggerStyle"),shouldUseThumbnailUrlRef:ie(e,"shouldUseThumbnailUrl"),renderIconRef:ie(e,"renderIcon"),xhrMap:g,submit:_,doChange:b,showPreviewButtonRef:ie(e,"showPreviewButton"),onPreviewRef:ie(e,"onPreview"),getFileThumbnailUrlResolver:x,listTypeRef:ie(e,"listType"),dragOverRef:c,openOpenFileDialog:m,draggerInsideRef:o,handleFileAddition:y,mergedDisabledRef:l.mergedDisabledRef,maxReachedRef:r,fileListClassRef:ie(e,"fileListClass"),fileListStyleRef:ie(e,"fileListStyle"),abstractRef:ie(e,"abstract"),acceptRef:ie(e,"accept"),cssVarsRef:i?void 0:B,themeClassRef:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender,showTriggerRef:ie(e,"showTrigger"),imageGroupPropsRef:ie(e,"imageGroupProps"),mergedDirectoryDndRef:F(()=>{var z;return(z=e.directoryDnd)!==null&&z!==void 0?z:e.directory})});const G={clear:()=>{f.value=[]},submit:_,openOpenFileDialog:m};return Object.assign({mergedClsPrefix:t,draggerInsideRef:o,inputElRef:u,mergedTheme:s,dragOver:c,mergedMultiple:A,cssVars:i?void 0:B,themeClass:E==null?void 0:E.themeClass,onRender:E==null?void 0:E.onRender,handleFileInputChange:w},G)},render(){var e,t;const{draggerInsideRef:i,mergedClsPrefix:s,$slots:l,directory:r,onRender:f}=this;if(l.default&&!this.abstract){const u=l.default()[0];!((e=u==null?void 0:u.type)===null||e===void 0)&&e[Gt]&&(i.value=!0)}const v=a("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${s}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:r||void 0,directory:r||void 0}));return this.abstract?a(Me,null,(t=l.default)===null||t===void 0?void 0:t.call(l),a(xn,{to:"body"},v)):(f==null||f(),a("div",{class:[`${s}-upload`,i.value&&`${s}-upload--dragger-inside`,this.dragOver&&`${s}-upload--drag-over`,this.themeClass],style:this.cssVars},v,this.showTrigger&&this.listType!=="image-card"&&a(Kt,null,l),this.showFileList&&a(Bo,null,l)))}}),Fo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},qo=J("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Wo=[qo],Vo=V({name:"Minus",render:function(t,i){return q(),ge("svg",Fo,Wo)}}),Xo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Go=J("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Yo=[Go],Zo=V({name:"Plus",render:function(t,i){return q(),ge("svg",Xo,Yo)}}),Ko={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Jo=J("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Qo=[Jo],ea=V({name:"ArrowUndoOutline",render:function(t,i){return q(),ge("svg",Ko,Qo)}}),ta={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},na=Ut('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),oa=[na],aa=V({name:"DiceOutline",render:function(t,i){return q(),ge("svg",ta,oa)}}),ia={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},la=J("circle",{cx:"256",cy:"256",r:"48",fill:"currentColor"},null,-1),ra=J("circle",{cx:"416",cy:"256",r:"48",fill:"currentColor"},null,-1),sa=J("circle",{cx:"96",cy:"256",r:"48",fill:"currentColor"},null,-1),ua=[la,ra,sa],da=V({name:"EllipsisHorizontal",render:function(t,i){return q(),ge("svg",ia,ua)}}),ca={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ha=Ut('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),ga=[ha],pa=V({name:"GameControllerOutline",render:function(t,i){return q(),ge("svg",ca,ga)}}),fa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},va=J("g",{fill:"none"},[J("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),ma=[va],wa=V({name:"Code24Regular",render:function(t,i){return q(),ge("svg",fa,ma)}}),ba={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},xa=J("g",{fill:"none"},[J("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),ya=[xa],Ca=V({name:"DrawShape24Regular",render:function(t,i){return q(),ge("svg",ba,ya)}}),_a={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},ka=J("g",{fill:"none"},[J("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),za=[ka],Ra=V({name:"Eraser24Regular",render:function(t,i){return q(),ge("svg",_a,za)}}),Ri=e=>{const t=me.Post("api/posts/create",e,{name:"newPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Si=e=>{const t=me.Get("api/posts/"+e.post_id,{name:"postGetter",params:{binggan:e.binggan,thread_id:e.thread_id},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Pi=e=>{const t=me.Delete("api/posts/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"deletePostDeleter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ii=e=>{const t=me.Put("api/posts/recover/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"recoverPostPutter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Sa=e=>{const t=me.Post("api/posts/create_roll",e,{name:"rollPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t};function Pa(e,t,i){const s=new Date().getTime(),l=$n.MD5(t+i+s+e).toString();return{timestamp:s,newPostKey:l}}const Ia=V({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:i}){const s=Ie(),l=Re(),r=e,f=F(()=>{let y=[];if(o.value>0&&c.value>0){for(var _=0;_<o.value;_++)y[_]=Math.floor(Math.random()*c.value)+1;return y.join()}else return null}),v=k(),u=k(),o=k(1),c=k(100),g=k(!1);function C(){g.value=!0}t({show:C});const p=i,{loading:m,send:w,onSuccess:L}=it(y=>Sa(y),{immediate:!1});function A(){if(!o.value){window.$message.error("请填写骰子数量");return}if(!c.value){window.$message.error("请填写骰子数量");return}const y={binggan:l.binggan,thread_id:r.threadId,forum_id:r.forumId,roll_name:v.value,roll_event:u.value,roll_num:o.value,roll_range:c.value};w(y)}return L(()=>{p("refreshPostsList"),g.value=!1}),(y,_)=>(q(),he(n(Ue),{show:g.value,"onUpdate:show":_[6]||(_[6]=b=>g.value=b),"display-directive":"if"},{default:h(()=>[d(n(Ne),{style:_e({maxWidth:n(s).modalMaxWidth}),title:"Roll点",closable:"",onClose:_[5]||(_[5]=b=>g.value=!1),size:"small"},{action:h(()=>[d(n(ce),{justify:"end"},{default:h(()=>[d(n(pe),{type:"primary",onClick:A,disabled:n(m)},{default:h(()=>[T("Roll it!")]),_:1},8,["disabled"]),d(n(pe),{onClick:_[4]||(_[4]=b=>g.value=!1)},{default:h(()=>[T("关闭")]),_:1})]),_:1})]),default:h(()=>[d(n(ce),{vertical:""},{default:h(()=>[d(n(ke),null,{default:h(()=>[T(" 输出参考： ")]),_:1}),d(n(ke),null,{default:h(()=>[T(Le(v.value?`「${v.value}」，`:"")+" "+Le(u.value?`「${u.value}」的结果：`:"")+" "+Le(`${o.value} d ${c.value} = 「${f.value}」`),1)]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[T("Roll点昵称")]),_:1}),d(n(ze),{placeholder:"可留空",maxlength:100,value:v.value,"onUpdate:value":_[0]||(_[0]=b=>v.value=b)},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[T("Roll点事件")]),_:1}),d(n(ze),{placeholder:"可留空",maxlength:100,value:u.value,"onUpdate:value":_[1]||(_[1]=b=>u.value=b)},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[T("骰子数量")]),_:1}),d(n(Xe),{max:100,min:1,placeholder:"必须填写",value:o.value,"onUpdate:value":_[2]||(_[2]=b=>o.value=b)},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[T("骰子大小")]),_:1}),d(n(Xe),{max:1e4,min:1,placeholder:"必须填写",value:c.value,"onUpdate:value":_[3]||(_[3]=b=>c.value=b)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),$a={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Ta=J("defs",null,null,-1),La=J("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),Ma=J("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),Ba=[Ta,La,Ma],Da=V({name:"AudioMutedOutlined",render:function(t,i){return q(),ge("svg",$a,Ba)}}),Aa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Oa=J("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),ja=[Oa],Ha=V({name:"MoneyCollectOutlined",render:function(t,i){return q(),ge("svg",Aa,ja)}}),Na=Re(),$i=e=>{const t=me.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:Na.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return t.meta={shouldRemind:!1},t},Ua=e=>{const t=me.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ti=e=>{const t=me.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ht=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],Ea=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}],Fa=V({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:i}){const s=Ie(),l=Re(),r=e,f=F(()=>{const y=[{value:1,label:"共通",available:!0}];return Ea.forEach(_=>{_.value===r.randomHeadsGroup&&y.push(_)}),y}),v=F(()=>{const y=ht[o.value-1];if(o.value===1){const _=l.userData.my_battle_chara.filter(b=>!b.not_use).map((b,x)=>({value:x+240,label:b.name}));return y.concat(_)}else return y}),u=k(1),o=k(r.randomHeadsGroup),c=k(100);ot(o,y=>{y===1?u.value=ht[y-1][8].value:u.value=ht[y-1][0].value},{immediate:!0});const{loading:g,send:C,onSuccess:p}=it(y=>Ua(y),{immediate:!1});function m(y){const{timestamp:_,newPostKey:b}=Pa(y.isTrusted,r.threadId,l.binggan),x={binggan:l.binggan,forum_id:r.forumId,thread_id:r.threadId,battle_olo:c.value,chara_id:u.value>=240?u.value-240:u.value,is_custom_chara:u.value>=240,chara_group:o.value-1,new_post_key:b,timestamp:_};C(x)}p(()=>{A("refreshPostsList"),w.value=!1});const w=k(!1);function L(){w.value=!0}t({show:L});const A=i;return(y,_)=>(q(),he(n(Ue),{show:w.value,"onUpdate:show":_[5]||(_[5]=b=>w.value=b),"display-directive":"if"},{default:h(()=>[d(n(Ne),{style:_e({maxWidth:n(s).modalMaxWidth}),title:"表情包大乱斗！",closable:"",onClose:_[4]||(_[4]=b=>w.value=!1),size:"small"},{action:h(()=>[d(n(ce),{justify:"end"},{default:h(()=>[d(n(pe),{type:"primary",onClick:m,loading:n(g)},{default:h(()=>[T("提交")]),_:1},8,["loading"]),d(n(pe),{onClick:_[3]||(_[3]=b=>w.value=!1)},{default:h(()=>[T("关闭")]),_:1})]),_:1})]),default:h(()=>[d(n(ce),{vertical:""},{default:h(()=>[d(n(ke),null,{default:h(()=>[T("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"3.2rem"}},{default:h(()=>[T("主题")]),_:1}),d(n(Ge),{value:o.value,"onUpdate:value":_[0]||(_[0]=b=>o.value=b),options:f.value},null,8,["value","options"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"3.2rem"}},{default:h(()=>[T("角色")]),_:1}),d(n(Ge),{value:u.value,"onUpdate:value":_[1]||(_[1]=b=>u.value=b),options:v.value},null,8,["value","options"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"3.2rem"}},{default:h(()=>[T("下注")]),_:1}),d(n(Xe),{value:c.value,"onUpdate:value":_[2]||(_[2]=b=>c.value=b),max:1e6,min:1,step:100,parse:n(Et),format:n(Ft),onKeyup:We(m,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),qa=V({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:t,emit:i}){const s=Ie(),l=k(0),r=k(),f=k(),v=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],u=F(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${r.value}</summary>${f.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${f.value}">${r.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${r.value}">`}]);ot(l,()=>{r.value=u.value[l.value].inputDefault_1,f.value=u.value[l.value].inputDefault_2},{immediate:!0});function o(){C("insertCode",u.value[l.value].insertText),r.value=u.value[l.value].inputDefault_1,f.value=u.value[l.value].inputDefault_2,c.value=!1}const c=k(!1);function g(){c.value=!0}t({show:g});const C=i;return(p,m)=>(q(),he(n(Ue),{show:c.value,"onUpdate:show":m[5]||(m[5]=w=>c.value=w),"display-directive":"if"},{default:h(()=>[d(n(Ne),{style:_e({maxWidth:n(s).modalMaxWidth}),title:"快捷代码",closable:"",onClose:m[4]||(m[4]=w=>c.value=!1),size:"small"},{action:h(()=>[d(n(ce),{justify:"end"},{default:h(()=>[d(n(pe),{type:"primary",onClick:o},{default:h(()=>[T("插入")]),_:1}),d(n(pe),{onClick:m[3]||(m[3]=w=>c.value=!1)},{default:h(()=>[T("关闭")]),_:1})]),_:1})]),default:h(()=>[d(n(ce),{vertical:""},{default:h(()=>[d(n(ke),null,{default:h(()=>[T("代码预览：")]),_:1}),d(n(ke),null,{default:h(()=>[T(Le(u.value[l.value].insertText),1)]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("代码内容")]),_:1}),d(n(Ge),{value:l.value,"onUpdate:value":m[0]||(m[0]=w=>l.value=w),options:v},null,8,["value"])]),_:1}),tt(d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T(Le(u.value[l.value].prepend_1),1)]),_:1}),d(n(ze),{value:r.value,"onUpdate:value":m[1]||(m[1]=w=>r.value=w),onKeyup:We(o,["enter"])},null,8,["value"])]),_:1},512),[[gt,u.value[l.value].inputEnable_1]]),tt(d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T(Le(u.value[l.value].prepend_2),1)]),_:1}),d(n(ze),{value:f.value,"onUpdate:value":m[2]||(m[2]=w=>f.value=w),onKeyup:We(o,["enter"])},null,8,["value"])]),_:1},512),[[gt,u.value[l.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Li=()=>{const e=me.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},en=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const i=me.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return i.meta={shouldRemind:!0},i},Wa=["width","height"],Va=["width","height"],Xa=J("div",null,"颜色",-1),Ga=J("div",null,"画笔",-1),Ya=["onClick"],Za=J("div",null,"操作",-1),Ka=["title","innerHTML","onClick"],Ja=V({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:t,emit:i}){const s=Re();Ie();const l=e,r=k(!1);function f(){r.value=!0}t({show:f});const v=i,u=k(),o=F(()=>{var S;return(S=u.value)==null?void 0:S.getContext("2d")}),c=k(),g=F(()=>{var S;return(S=c.value)==null?void 0:S.getContext("2d")}),C=new Image;let p=!1;const m={x:0,y:0,width:0,height:0},w=k([]),L=k([]),A=k([]),y=k({lineWidth:3,lineColor:"#111111",shadowBlur:1}),_=k(!1),b=k(!1);let x=0,B=0;const E=F(()=>window.innerWidth>836?796:window.innerWidth-36),G=F(()=>window.innerHeight>580?400:window.innerHeight-212),z=F(()=>[{title:"上一步",action:"prev",className:w.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:L.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:w.value.length||L.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:w.value.length||L.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:b.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),O=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function j(){const S=new ImageData(E.value,G.value);A.value.push(S)}nt(()=>{j()});function ee(){o.value.lineWidth=y.value.lineWidth,o.value.shadowBlur=y.value.shadowBlur,o.value.shadowColor=y.value.lineColor,o.value.strokeStyle=y.value.lineColor,o.value.lineCap="round",o.value.lineJoin="round"}function X(S){if(p)if(b.value){const P=S.target;let H,M;S instanceof MouseEvent?(H=S.clientX-P.getBoundingClientRect().x,M=S.clientY-P.getBoundingClientRect().y):(H=S.changedTouches[0].clientX-P.getBoundingClientRect().x,M=S.changedTouches[0].clientY-P.getBoundingClientRect().y),c.value.height=c.value.height;let Y={x:m.x+(H-x),y:m.y+(M-B),width:m.width,height:m.height};xe(C,Y)}else{o.value.beginPath(),o.value.moveTo(x,B);const P=S.target;let H,M;S instanceof MouseEvent?(H=S.clientX-P.getBoundingClientRect().x,M=S.clientY-P.getBoundingClientRect().y):(H=S.changedTouches[0].clientX-P.getBoundingClientRect().x,M=S.changedTouches[0].clientY-P.getBoundingClientRect().y),o.value.globalCompositeOperation=_.value?"destination-out":"source-over",o.value.lineTo(H,M),[x,B]=[H,M],o.value.stroke()}}function Q(S){if(b.value){const P=S.target;let H,M;S instanceof MouseEvent?(H=S.clientX-P.getBoundingClientRect().x,M=S.clientY-P.getBoundingClientRect().y):(H=S.changedTouches[0].clientX-P.getBoundingClientRect().x,M=S.changedTouches[0].clientY-P.getBoundingClientRect().y),m.x+=H-x,m.y+=M-B,p=!1}else{const P=o.value.getImageData(0,0,u.value.width,u.value.height);L.value.length?(A.value=[],A.value=A.value.concat(w.value),A.value.push(P),L.value=[]):A.value.push(P),p=!1}}function Z(S){if(b.value){const P=S.target;let H,M;S instanceof MouseEvent?(H=S.clientX-P.getBoundingClientRect().x,M=S.clientY-P.getBoundingClientRect().y):(H=S.changedTouches[0].clientX-P.getBoundingClientRect().x,M=S.changedTouches[0].clientY-P.getBoundingClientRect().y),x=H,B=M,p=!0}else{p=!0;const P=S.target;let H,M;S instanceof MouseEvent?(H=S.clientX-P.getBoundingClientRect().x,M=S.clientY-P.getBoundingClientRect().y):(H=S.changedTouches[0].clientX-P.getBoundingClientRect().x,M=S.changedTouches[0].clientY-P.getBoundingClientRect().y),ee(),x=H,B=M;const Y=o.value.getImageData(0,0,u.value.width,u.value.height);w.value.push(Y)}}function K(S){y.value.lineWidth=S,_.value=!1,b.value=!1}function fe(S){switch(S){case"prev":if(w.value.length){const P=w.value.pop(),H=A.value[w.value.length+1];L.value.push(H),o.value.putImageData(P,0,0)}break;case"next":if(L.value.length){const P=L.value.pop(),H=A.value[A.value.length-L.value.length-2];w.value.push(H),o.value.putImageData(P,0,0)}break;case"clear":o.value.clearRect(0,0,u.value.width,u.value.height),w.value=[],L.value=[],A.value=[A.value[0]];break;case"eraser":_.value=!0;break;case"drag":b.value=!0;break}}function re(S){if(S.file.file){var P=new FileReader;P.readAsDataURL(S.file.file),P.onload=H=>{C.src=H.target.result,C.onload=function(){var M=c,Y=C;m.width=Y.width,m.height=Y.height,Y.width/Y.height>=M.value.width/M.value.height?Y.width>M.value.width&&(m.width=M.value.width,m.height=Y.height*M.value.width/Y.width):Y.height>M.value.height&&(m.width=Y.width*M.value.height/Y.height,m.height=M.value.height),xe(Y,m)}}}}function xe(S,P){g.value.drawImage(S,P.x,P.y,P.width,P.height)}const we=k(!1);function $e(){let S=new Image;S.src=u.value.toDataURL("image/png"),S.onload=()=>{g.value.drawImage(S,0,0),P(c.value)};function P(M){M.toBlob(Y=>{Y&&H(Y)},"image/png")}function H(M){const Y={binggan:s.binggan,file:M,mode:"img",thread_id:l.threadId,forum_id:l.forumId};we.value=!0,en(Y).then(Fe=>{v("insertImage",Fe.file_url),we.value=!1,r.value=!1}).catch(()=>{we.value=!1})}}return(S,P)=>(q(),he(n(Ue),{show:r.value,"onUpdate:show":P[5]||(P[5]=H=>r.value=H),"display-directive":"show"},{default:h(()=>[d(n(Ne),{style:_e({maxWidth:E.value+4+"px"}),title:"涂鸦板",closable:"",onClose:P[4]||(P[4]=H=>r.value=!1),size:"small","content-style":{padding:"0px"}},{default:h(()=>[J("div",{id:"canvas-container",style:_e({width:E.value+"px",height:G.value+"px"})},[J("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:c,width:E.value,height:G.value,onTouchmove:P[0]||(P[0]=vt(()=>{},["prevent"]))},null,40,Wa),J("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:u,class:Rt({painting:!b.value,dragging:b.value}),width:E.value,height:G.value,onTouchmove:[P[1]||(P[1]=vt(()=>{},["prevent"])),X],onMousedown:Z,onMouseup:Q,onMousemove:X,onTouchstart:Z,onTouchend:Q},null,42,Va)],4),d(n(Tn),{"x-gap":"6",cols:4},{default:h(()=>[d(n(st),{span:"1"},{default:h(()=>[Xa,d(n(Mn),{value:y.value.lineColor,"onUpdate:value":P[2]||(P[2]=H=>y.value.lineColor=H),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),d(n(st),{span:"1"},{default:h(()=>[Ga,d(n(ce),{id:"canvas-brush",size:"small",align:"center"},{default:h(()=>[(q(),ge(Me,null,Ve(O,(H,M)=>J("span",{key:M,style:_e({fontSize:H.font_size+"px"}),onClick:Y=>K(H.lineWidth)},Le(H.innerHTML),13,Ya)),64))]),_:1})]),_:1}),d(n(st),{span:"2"},{default:h(()=>[Za,d(n(ce),{id:"canvas-control",size:"small"},{default:h(()=>[(q(!0),ge(Me,null,Ve(z.value,(H,M)=>(q(),ge("span",{key:M,title:H.title,class:Rt([H.className]),innerHTML:H.innerHTML,onClick:Y=>fe(H.action)},null,10,Ka))),128))]),_:1})]),_:1})]),_:1})]),action:h(()=>[d(n(ce),{justify:"end"},{default:h(()=>[d(n(Qt),{"default-upload":!1,onChange:re,"show-file-list":!1},{default:h(()=>[d(n(pe),null,{default:h(()=>[T("加载图片")]),_:1})]),_:1}),d(n(pe),{type:"primary",onClick:$e,disabled:S.userIsLocked,loading:we.value},{default:h(()=>[T("上传")]),_:1},8,["disabled","loading"]),d(n(pe),{onClick:P[3]||(P[3]=H=>r.value=!1)},{default:h(()=>[T("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Qa=["onClick"],ei=["src"],ti=V({__name:"EmojiTab",props:{randomHeadsGroup:{default:1},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:t}){const i=Re(),s=Ie(),l=e,r=k(),f=F(()=>{const p=Nn.filter(m=>!i.userData.emoji_excluded.includes(m.id)&&(m.headsId===0||m.headsId===l.randomHeadsGroup));return i.userData.my_emoji&&p.unshift({id:0,headsId:0,name:"自定义",emojis:i.userData.my_emoji}),p}),v=t;function u(p,m){v("appendEmoji",p,m==="自定义"),l.autoHide&&(r.value=-1)}let o=!1;function c(p,m){return a("span",{onClick:()=>g(m),innerHTML:p})}function g(p){p===r.value&&(o=!0,r.value=-1)}function C(p,m){return o?(o=!1,!1):!0}return(p,m)=>(q(),he(n(Un),{type:"line","bar-width":0,animated:"",onBeforeLeave:C,size:n(s).isMobile?"small":"medium","default-value":-1,value:r.value,"onUpdate:value":m[0]||(m[0]=w=>r.value=w)},{default:h(()=>[(q(!0),ge(Me,null,Ve(f.value,(w,L,A)=>(q(),he(n(It),{name:w.id,tab:c(w.name,w.id)},{default:h(()=>[d(n(ce),{size:"small",class:"emoji-container"},{default:h(()=>[(q(!0),ge(Me,null,Ve(w.emojis,(y,_,b)=>(q(),ge("div",{class:"emoji-box",onClick:x=>u(y,w.name)},[J("img",{src:y,class:"emoji-in-box"},null,8,ei)],8,Qa))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),d(n(It),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),ni=Re(),oi=e=>{const t=me.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Mi=e=>{const t=me.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Bi=e=>{const t=me.Get("api/hongbao/"+e,{name:"hongbaoDataGetter-"+e,params:{binggan:ni.binggan},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Di=e=>{const t=me.Post("api/hongbao/store",e,{name:"hongbaoStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ai=V({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:i}){const s=Ie(),l=Re(),r=e,f=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],v=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],u=k(3e3),o=k(10),c=k(1),g=k(1),C=k(),p=k(),m=k([]),w=k(!1),L=k(1);function A(z){z===1&&L.value<5&&(L.value+=1),z===-1&&L.value>1&&(m.value.splice(L.value-1,1),L.value-=1)}const{loading:y,send:_,onSuccess:b}=it(z=>oi(z),{immediate:!1});function x(){if(C.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(p.value===void 0&&[2,3].includes(g.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(c.value===2&&u.value%o.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const z={binggan:l.binggan,forum_id:r.forumId,thread_id:r.threadId,hongbao_olo:u.value,hongbao_num:o.value,type:c.value,key_word_type:g.value,hongbao_key_word:C.value,hongbao_question:p.value,hongbao_message_json:m.value,hongbao_olo_hide:w.value};_(z)}b(()=>{G("refreshPostsList"),B.value=!1});const B=k(!1);function E(){B.value=!0}t({show:E});const G=i;return(z,O)=>(q(),he(n(Ue),{show:B.value,"onUpdate:show":O[11]||(O[11]=j=>B.value=j),"display-directive":"if"},{default:h(()=>[d(n(Ne),{style:_e({maxWidth:n(s).modalMaxWidth}),title:"发起红包",closable:"",onClose:O[10]||(O[10]=j=>B.value=!1),size:"small"},{action:h(()=>[d(n(ce),{justify:"end"},{default:h(()=>[d(n(pe),{type:"primary",onClick:x,loading:n(y)},{default:h(()=>[T("提交")]),_:1},8,["loading"]),d(n(pe),{onClick:O[9]||(O[9]=j=>B.value=!1)},{default:h(()=>[T("关闭")]),_:1})]),_:1})]),default:h(()=>[d(n(ce),{vertical:""},{default:h(()=>[J("div",null,[d(n(ke),{depth:3},{default:h(()=>[T("温馨提示：")]),_:1}),T("在红包总额以外，会追加扣除7%手续费。 ")]),J("div",null,[d(n(ke),{depth:3},{default:h(()=>[T("总共扣除：")]),_:1}),d(n(ke),{type:"warning"},{default:h(()=>[T(Le(Math.ceil(u.value*(n(s).isDouble11?1.02:1.07))),1)]),_:1}),T("个奥利奥 ")]),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("红包类型")]),_:1}),d(n(Ge),{value:g.value,"onUpdate:value":O[0]||(O[0]=j=>g.value=j),options:f},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("olo类型")]),_:1}),d(n(Ge),{value:c.value,"onUpdate:value":O[1]||(O[1]=j=>c.value=j),options:v},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("红包个数")]),_:1}),d(n(Xe),{value:o.value,"onUpdate:value":O[2]||(O[2]=j=>o.value=j),max:50,min:5,step:5},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("olo总额")]),_:1}),d(n(Xe),{value:u.value,"onUpdate:value":O[3]||(O[3]=j=>u.value=j),max:1e6,min:3e3,step:1e3,parse:n(Et),format:n(Ft)},null,8,["value","parse","format"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("红包口令")]),_:1}),d(n(ze),{value:C.value,"onUpdate:value":O[4]||(O[4]=j=>C.value=j),placeholder:"必填"},null,8,["value"])]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("口令提示")]),_:1}),d(n(ze),{value:p.value,"onUpdate:value":O[5]||(O[5]=j=>p.value=j),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(q(!0),ge(Me,null,Ve(L.value,j=>(q(),he(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"5.2rem"}},{default:h(()=>[T("回复留言")]),_:1}),d(n(ze),{value:m.value[j-1],"onUpdate:value":ee=>m.value[j-1]=ee,placeholder:`#${j}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),d(n(ce),{size:"small",align:"center"},{default:h(()=>[d(n(ke),{depth:3},{default:h(()=>[T("留言数量")]),_:1}),d(n(je),{size:"tiny",circle:"",disabled:L.value===5,onClick:O[6]||(O[6]=j=>A(1))},{icon:h(()=>[d(n(Se),null,{default:h(()=>[d(n(Zo))]),_:1})]),_:1},8,["disabled"]),d(n(je),{size:"tiny",circle:"",disabled:L.value===1,onClick:O[7]||(O[7]=j=>{A(-1)})},{icon:h(()=>[d(n(Se),null,{default:h(()=>[d(n(Vo))]),_:1})]),_:1},8,["disabled"]),d(n(_n),{checked:w.value,"onUpdate:checked":O[8]||(O[8]=j=>w.value=j),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ii=V({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:t}){const i=Ie(),s=Re(),l=k(null),r=e,f=t;function v(g){var C=document.getElementsByTagName("body")[0],p=document.createElement("script");p.setAttribute("id","image-upload-js");var m=document.getElementById("upload-button");g=="mjj"&&(p.setAttribute("async","true"),p.setAttribute("data-mode","manual"),p.setAttribute("src","https://mjj.today/sdk/pup.js"),p.setAttribute("data-url","https://mjj.today/upload"),p.setAttribute("data-auto-insert","html-embed"),m==null||m.setAttribute("data-chevereto-pup-trigger","")),g=="imgbb"&&(p.setAttribute("async","true"),p.setAttribute("data-mode","manual"),p.setAttribute("src","https://imgbb.com/upload.js"),p.setAttribute("data-url","https://imgbb.com/upload"),p.setAttribute("data-auto-insert","html-embed-medium"),m==null||m.setAttribute("data-imgbb-trigger","")),g=="freeimage"&&(p.setAttribute("async","true"),p.setAttribute("data-mode","manual"),p.setAttribute("src","https://freeimage.host/sdk/pup.js"),p.setAttribute("data-url","https://freeimage.host/upload"),p.setAttribute("data-auto-insert","html-embed-medium"),m==null||m.setAttribute("data-chevereto-pup-trigger","")),C.appendChild(p)}function u(){const g=document.getElementById("image-upload-js");g==null||g.remove()}nt(()=>{v(i.userCustom.imgHost)}),kn(()=>{u()});const o=k(!1),c=({file:g,data:C,headers:p,withCredentials:m,action:w,onFinish:L,onError:A,onProgress:y})=>{var _;if(g.file!==null){if(g.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(_=l.value)==null||_.clear();return}const b={binggan:s.binggan,file:g.file,mode:"img",thread_id:r.threadId,forum_id:r.forumId};o.value=!0,en(b).then(x=>{var B;f("insertImage",x.file_url),(B=l.value)==null||B.clear(),o.value=!1}).catch(()=>{var x;(x=l.value)==null||x.clear(),o.value=!1})}};return(g,C)=>g.forumId===419?(q(),he(n(Qt),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":c,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:l},{default:h(()=>[d(n(pe),{style:{"margin-right":"auto"},disabled:g.userIsLocked,loading:o.value},{default:h(()=>[T("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(q(),he(n(pe),{key:1,style:{"margin-right":"auto"},disabled:g.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:h(()=>[T("上传图片")]),_:1},8,["disabled"]))}}),li=V({__name:"PingbiciModal",setup(e,{expose:t}){const i=Ie(),s=Re(),l=k(),{loading:r,send:f,onSuccess:v}=it(g=>zn(g),{immediate:!1});function u(){if(!l.value){window.$message.error("请填写屏蔽词");return}const g={binggan:s.binggan,content_pingbici:l.value};f(g)}v(()=>{s.refreshUserData(),o.value=!1});const o=k(!1);function c(){o.value=!0}return t({show:c}),(g,C)=>(q(),he(n(Ue),{show:o.value,"onUpdate:show":C[3]||(C[3]=p=>o.value=p),"display-directive":"if"},{default:h(()=>[d(n(Ne),{style:_e({maxWidth:n(i).modalMaxWidth}),title:"追加屏蔽词",closable:"",onClose:C[2]||(C[2]=p=>o.value=!1),size:"small"},{action:h(()=>[d(n(ce),{justify:"end"},{default:h(()=>[d(n(pe),{type:"primary",onClick:u,loading:n(r),disabled:!l.value},{default:h(()=>[T("提交")]),_:1},8,["loading","disabled"]),d(n(pe),{onClick:C[1]||(C[1]=p=>o.value=!1)},{default:h(()=>[T("关闭")]),_:1})]),_:1})]),default:h(()=>[d(n(ce),{vertical:""},{default:h(()=>[d(n(ke),null,{default:h(()=>[T("暂时只做了“内容屏蔽词”的追加")]),_:1}),d(n(de),null,{default:h(()=>[d(n(ue),{style:{width:"4.2rem"}},{default:h(()=>[T("屏蔽词")]),_:1}),d(n(ze),{value:l.value,"onUpdate:value":C[0]||(C[0]=p=>l.value=p),max:255,onKeyup:We(u,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ai=V({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:t,emit:i}){const s=Sn(()=>Pn(()=>import("./PostItem-rkW0B-q3.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]))),l=Re(),r=Ie(),f=k(null),v=k(null),u=k(null),o=k(null),c=k(null),g=k(null),C=k(null),p=e,m=F(()=>l.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(l.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),w=F(()=>l.userData.binggan.locked_ttl>0),L=k(l.userData.binggan.nickname||"= ="),A=k(""),y=k(""),_=k(!1),b=k(!1);function x(){L.value=l.userData.binggan.nickname||"= =",A.value="",y.value="",_.value=!1,b.value=!1}const B=F(()=>({id:0,created_at:"预览模式",is_deleted:0,thread_id:0,battle_id:null,hongbao_id:null,floor:0,random_head:1,created_by_admin:0,content:y.value,nickname:L.value,is_your_post:!0,hongbao_data:null})),E=F(()=>({class:{"nickname-input":!0,admin:b.value}})),G=k(!1),z=Rn("emoji_auto_hide",!1);function O(){let N=[a(Je,{checked:G.value,"onUpdate:checked":D=>G.value=D,label:"实时预览"}),a(Je,{checked:z.value,"onUpdate:checked":D=>z.value=D,label:"表情包自动收起"})];return l.userData.binggan.admin!==0&&l.checkAdminForums(p.forumId)&&N.push(a(Je,{checked:b.value,"onUpdate:checked":D=>b.value=D,label:"管理员"})),a(ce,{style:"padding:6px 8px",vertical:!0},()=>N)}const j=[{key:"funcOption",type:"render",render:O}],ee=[{label:"涂鸦板",key:"draw",icon:St(Ca,{size:"1.5rem"})},{label:"屏蔽词",key:"mute",icon:St(Da,{size:"1.5rem"})}];function X(N){var D,W;switch(N){case"mute":(D=c.value)==null||D.show();break;case"draw":(W=C.value)==null||W.show();break}}ot(b,N=>L.value=N?"管理员":"= =");function Q(N){return N.selectionStart!=null?N.selectionStart:0}function Z(N,D){const W=Q(N),ae=N.value,R=ae.substring(0,W)+D+ae.substring(W);y.value=R}function K(N){const D=document.getElementById("content-input");Z(D,N),we(),D.focus()}function fe(){In({title:"要清空内容吗？",onPositiveClick:()=>y.value=""})}const re=k([""]);function xe(){re.value.length>1&&(re.value.pop(),y.value=re.value.slice(-1)[0])}function we(){re.value.push(y.value??""),re.value.length>20&&re.value.shift()}function $e(N,D){K(`<img src='${N}' class='${D?"custom-emoji-img":"emoji-img"}'>`)}function S(N){K(N)}function P(N){K(`<img src='${N}' />`)}function H(N){var D;y.value=N,we(),(D=f.value)==null||D.focus()}const M=i;function Y(N){if(!N.isTrusted){const W={title:"错误",closable:!1,content:"请不要用脚本回复喔，可能会被系统判断为脚本并碎饼干。",positiveText:"确定"};window.$dialog.warning(W);return}new Promise(function(W,ae){M("contentCommit",{contentInput:y.value,nicknameInput:L.value,postWithAdmin:b.value,titleInput:A.value,isDelay:_.value,ist:N.isTrusted},W)}).then(Fe)}function Fe(){A.value="",y.value="",_.value=!1}const qe=k(!1);return t({quoteHandle:H,isTyping:qe,resetInput:x}),(N,D)=>(q(),he(n(ce),{vertical:""},{default:h(()=>[G.value?(q(),he(n(s),{key:0,"post-data":B.value,"forum-id":0,"preview-mode":!0},null,8,["post-data"])):Oe("",!0),d(n(ce),{size:"small",wrap:!1,align:"center",style:_e({paddingRight:n(r).isMobile?"24px":"0px"})},{default:h(()=>[d(n(de),{style:{"max-width":"300px"}},{default:h(()=>[d(n(ue),{style:{width:"3.2rem"}},{default:h(()=>[T("昵称")]),_:1}),d(n(ze),{maxlength:30,value:L.value,"onUpdate:value":D[0]||(D[0]=W=>L.value=W),"show-count":"","input-props":E.value},null,8,["value","input-props"])]),_:1}),d(n(Pt),{trigger:n(r).isMobile?"click":"hover",options:j,placement:"bottom-start"},{default:h(()=>[d(n(pe),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:h(()=>[T("功能")]),_:1})]),_:1},8,["trigger"])]),_:1},8,["style"]),N.mode==="thread"?(q(),he(n(de),{key:1},{default:h(()=>[d(n(ue),{style:{width:"3.2rem"}},{default:h(()=>[T("标题")]),_:1}),d(n(ze),{maxlength:100,value:A.value,"onUpdate:value":D[1]||(D[1]=W=>A.value=W),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):Oe("",!0),d(ti,{"auto-hide":n(z),"random-heads-group":N.randomHeadsGroup,onAppendEmoji:$e},null,8,["auto-hide","random-heads-group"]),d(n(ce),{size:n(r).isMobile?"small":"medium",justify:"end",align:"center",style:_e({paddingRight:n(r).isMobile?"24px":"0px"})},{default:h(()=>[d(n(Pt),{trigger:"click",options:ee,onSelect:X,size:n(r).isMobile?"medium":"large"},{default:h(()=>[d(n(Se),{size:n(r).isMobile?20:24,style:{cursor:"pointer"}},{default:h(()=>[d(n(da))]),_:1},8,["size"])]),_:1},8,["size"]),N.mode==="post"?(q(),he(n(Be),{key:0,placement:"bottom-start",trigger:n(r).isMobile?"click":"hover"},{trigger:h(()=>[d(n(Se),{size:n(r).isMobile?28:32},{default:h(()=>[d(n(Ha),{style:{cursor:"pointer"},onClick:D[2]||(D[2]=W=>{var ae;return(ae=v.value)==null?void 0:ae.show()})})]),_:1},8,["size"])]),default:h(()=>[T(" 发红包 ")]),_:1},8,["trigger"])):Oe("",!0),N.mode==="post"?(q(),he(n(Be),{key:1,placement:"bottom-start",trigger:n(r).isMobile?"click":"hover"},{trigger:h(()=>[d(n(Se),{size:n(r).isMobile?28:32},{default:h(()=>[d(n(pa),{style:{cursor:"pointer"},onClick:D[3]||(D[3]=W=>{var ae;return(ae=u.value)==null?void 0:ae.show()})})]),_:1},8,["size"])]),default:h(()=>[T(" 大乱斗 ")]),_:1},8,["trigger"])):Oe("",!0),N.mode==="post"?(q(),he(n(Be),{key:2,placement:"bottom-start",trigger:n(r).isMobile?"click":"hover"},{trigger:h(()=>[d(n(Se),{size:n(r).isMobile?28:32},{default:h(()=>[d(n(aa),{style:{cursor:"pointer"},onClick:D[4]||(D[4]=W=>{var ae;return(ae=o.value)==null?void 0:ae.show()})})]),_:1},8,["size"])]),default:h(()=>[T(" Roll点 ")]),_:1},8,["trigger"])):Oe("",!0),d(n(Be),{placement:"bottom-start",trigger:n(r).isMobile?"click":"hover"},{trigger:h(()=>[d(n(Se),{size:n(r).isMobile?28:32},{default:h(()=>[d(n(wa),{style:{cursor:"pointer"},onClick:D[5]||(D[5]=W=>{var ae;return(ae=g.value)==null?void 0:ae.show()})})]),_:1},8,["size"])]),default:h(()=>[T(" 快捷代码 ")]),_:1},8,["trigger"]),d(n(Ln),{vertical:""}),d(n(Be),{placement:"bottom-start",trigger:n(r).isMobile?"click":"hover"},{trigger:h(()=>[d(n(Se),{size:n(r).isMobile?28:32},{default:h(()=>[d(n(ea),{style:{cursor:"pointer"},onClick:xe})]),_:1},8,["size"])]),default:h(()=>[T(" 撤销 ")]),_:1},8,["trigger"]),d(n(Be),{placement:"bottom-start",trigger:n(r).isMobile?"click":"hover"},{trigger:h(()=>[d(n(Se),{size:n(r).isMobile?28:32},{default:h(()=>[d(n(Ra),{style:{cursor:"pointer"},onClick:fe})]),_:1},8,["size"])]),default:h(()=>[T(" 清空 ")]),_:1},8,["trigger"])]),_:1},8,["size","style"]),d(n(Hn),{value:y.value,"onUpdate:value":D[6]||(D[6]=W=>y.value=W),type:"textarea",placeholder:m.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:f,style:{"border-radius":"10px","font-size":"1.0rem"},"input-props":{id:"content-input"},disabled:w.value,onChange:we,onKeyup:D[7]||(D[7]=We(vt(W=>Y(W),["ctrl"]),["enter"])),onBlur:D[8]||(D[8]=W=>qe.value=!1),onFocus:D[9]||(D[9]=W=>qe.value=!0)},null,8,["value","placeholder","disabled"]),d(n(ce),{justify:"end",align:"center"},{default:h(()=>[d(ii,{"user-is-locked":w.value,"forum-id":N.forumId,"thread-id":N.threadId,onInsertImage:P},null,8,["user-is-locked","forum-id","thread-id"]),N.mode==="thread"?(q(),he(n(Je),{key:0,checked:_.value,"onUpdate:checked":D[10]||(D[10]=W=>_.value=W)},{default:h(()=>[T("延时发送")]),_:1},8,["checked"])):Oe("",!0),d(n(Be),{placement:"bottom-start",trigger:"hover",disabled:n(r).isMobile},{trigger:h(()=>[d(n(pe),{type:"primary",onClick:D[11]||(D[11]=W=>Y(W)),loading:N.handling,disabled:w.value},{default:h(()=>[T("提交")]),_:1},8,["loading","disabled"])]),default:h(()=>[T(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),d(ai,{ref_key:"HongbaoModalCom",ref:v,"thread-id":N.threadId,"forum-id":N.forumId,onRefreshPostsList:D[12]||(D[12]=W=>M("refreshPostsList"))},null,8,["thread-id","forum-id"]),d(Fa,{ref_key:"BattleModalCom",ref:u,"thread-id":N.threadId,"forum-id":N.forumId,"random-heads-group":N.randomHeadsGroup,onRefreshPostsList:D[13]||(D[13]=W=>M("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),d(Ia,{ref_key:"RollModalCom",ref:o,"thread-id":N.threadId,"forum-id":N.forumId,onRefreshPostsList:D[14]||(D[14]=W=>M("refreshPostsList"))},null,8,["thread-id","forum-id"]),d(li,{ref_key:"PingbiciModalCom",ref:c},null,512),d(qa,{ref_key:"CodeModalCom",ref:g,onInsertCode:S},null,512),d(Ja,{ref_key:"DrawerModalCom",ref:C,onInsertImage:P,"user-is-locked":w.value,"forum-id":N.forumId,"thread-id":N.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}}),Oi=[{id:1,name:"默认",random_heads:["https://z3.ax1x.com/2021/08/01/fSAAIg.png","https://z3.ax1x.com/2021/08/01/fSAeRs.png","https://z3.ax1x.com/2021/08/01/fSAViQ.png","https://z3.ax1x.com/2021/08/01/fSAZGj.png","https://z3.ax1x.com/2021/08/01/fSAkdS.png","https://z3.ax1x.com/2021/08/01/fSAmzn.png","https://z3.ax1x.com/2021/08/01/fSAuMq.png","https://z3.ax1x.com/2021/08/01/fSAKs0.png","https://z3.ax1x.com/2021/08/01/fSAMLV.png","https://z3.ax1x.com/2021/08/01/fSAlZT.png","https://z3.ax1x.com/2021/08/01/fSA1dU.png","https://z3.ax1x.com/2021/08/01/fSA3oF.png","https://z3.ax1x.com/2021/08/01/fSAGi4.png","https://z3.ax1x.com/2021/08/01/fSAYW9.png","https://z3.ax1x.com/2021/08/01/fSAJJJ.png","https://z3.ax1x.com/2021/08/01/fSAtzR.png","https://z3.ax1x.com/2021/08/01/fSAUQ1.png","https://z3.ax1x.com/2021/08/01/fSAsFe.png","https://z3.ax1x.com/2021/08/01/fSABdO.png","https://z3.ax1x.com/2021/08/01/fSADoD.png","https://z3.ax1x.com/2021/08/01/fSA0eK.png","https://z3.ax1x.com/2021/08/01/fSAyJH.png","https://z3.ax1x.com/2021/08/01/fSA6Wd.png","https://z3.ax1x.com/2021/08/01/fSAgSA.png","https://z3.ax1x.com/2021/08/01/fSA2QI.png","https://z3.ax1x.com/2021/08/01/fSARyt.png","https://z3.ax1x.com/2021/08/01/fSAWOP.png","https://z3.ax1x.com/2021/08/01/fSAhef.png","https://z3.ax1x.com/2021/08/01/fSA4w8.png","https://z3.ax1x.com/2021/08/01/fSA5TS.png","https://z3.ax1x.com/2021/08/01/fSAoFg.png","https://z3.ax1x.com/2021/08/01/fSATYQ.png","https://z3.ax1x.com/2021/08/01/fSA7Wj.png","https://z3.ax1x.com/2021/08/01/fSAbSs.png","https://z3.ax1x.com/2021/08/01/fSAqln.png","https://z3.ax1x.com/2021/08/01/fSALyq.png","https://z3.ax1x.com/2021/08/01/fSAOO0.png","https://z3.ax1x.com/2021/08/01/fSAjmV.png","https://z3.ax1x.com/2021/08/01/fSAvwT.png","https://z3.ax1x.com/2021/08/01/fSAxTU.png"]},{id:2,name:"咒岛",random_heads:["https://www.z4a.net/images/2021/04/28/1ec2f3b016cc3993d.png","https://www.z4a.net/images/2021/04/28/2c9d9c4cfced955f1.png","https://www.z4a.net/images/2021/04/28/3a72868d2ed97544e.png","https://www.z4a.net/images/2021/04/28/4a530a7008124f895.png","https://www.z4a.net/images/2021/04/28/16.png","https://www.z4a.net/images/2021/04/28/5c3d0f8f7e94c0f87.png","https://www.z4a.net/images/2021/04/28/6.png","https://www.z4a.net/images/2021/04/28/7.png","https://www.z4a.net/images/2021/04/28/8.png","https://www.z4a.net/images/2021/04/28/9.png","https://www.z4a.net/images/2021/04/28/17.png","https://www.z4a.net/images/2021/04/28/10a78173cca4d2b9e4.png","https://www.z4a.net/images/2021/04/28/116817e6f9946a883b.png","https://www.z4a.net/images/2021/04/28/12d6faaf27dd411273.png","https://www.z4a.net/images/2021/04/28/13cd6b9af2dee496c2.png","https://www.z4a.net/images/2021/04/28/158cb6d1c543151992.png","https://www.z4a.net/images/2021/04/28/191dbde0611454f9c4.png","https://www.z4a.net/images/2021/04/28/149dd44da8e8badd09.png","https://www.z4a.net/images/2021/04/28/189f30c4bbf3eb9015.png","https://www.z4a.net/images/2021/04/28/201161035e7d5b8c56.png","https://www.z4a.net/images/2021/04/28/21.png","https://www.z4a.net/images/2021/04/28/222dc14b16d6f5e3ad.png","https://www.z4a.net/images/2021/04/28/23.png","https://www.z4a.net/images/2021/04/28/24.png","https://www.z4a.net/images/2021/04/28/25.png","https://www.z4a.net/images/2021/04/28/26.png","https://www.z4a.net/images/2021/04/28/27.png","https://www.z4a.net/images/2021/04/28/28.png","https://www.z4a.net/images/2021/04/28/29.png","https://www.z4a.net/images/2021/04/28/30.png","https://www.z4a.net/images/2021/04/28/31.png","https://www.z4a.net/images/2021/04/28/32.png","https://www.z4a.net/images/2021/04/28/333753a209916c1bac.png","https://www.z4a.net/images/2021/04/28/34.png","https://www.z4a.net/images/2021/04/28/35.png","https://www.z4a.net/images/2021/04/28/36.png","https://www.z4a.net/images/2021/04/28/37.png","https://www.z4a.net/images/2021/04/28/38.png","https://www.z4a.net/images/2021/04/28/39.png","https://www.z4a.net/images/2021/04/28/40.png"]},{id:3,name:"国配",random_heads:["https://s2.ax1x.com/2020/03/04/3oNmCT.jpg","https://s2.ax1x.com/2020/03/04/3oNZ5V.jpg","https://s2.ax1x.com/2020/03/04/3oNVU0.jpg","https://s2.ax1x.com/2020/03/04/3oNEEq.jpg","https://s2.ax1x.com/2020/03/04/3oNkbn.jpg","https://s2.ax1x.com/2020/03/04/3oNFDs.jpg","https://s2.ax1x.com/2020/03/04/3oNiuj.jpg","https://s2.ax1x.com/2020/03/04/3oNCvQ.jpg","https://s2.ax1x.com/2020/03/04/3oN9gg.jpg","https://s2.ax1x.com/2020/03/04/3otx4f.jpg","https://s2.ax1x.com/2020/03/04/3otvUP.jpg","https://s2.ax1x.com/2020/03/04/3otjEt.jpg","https://s2.ax1x.com/2020/03/04/3otOHI.jpg","https://s2.ax1x.com/2020/03/04/3otLDA.jpg","https://s2.ax1x.com/2020/03/04/3otqud.jpg","https://s2.ax1x.com/2020/03/04/3otHjH.jpg","https://s2.ax1x.com/2020/03/04/3ot54K.jpg","https://s2.ax1x.com/2020/03/04/3ot4N6.jpg","https://s2.ax1x.com/2020/03/04/3ot6c4.jpg","https://s2.ax1x.com/2020/03/04/3otcjJ.jpg","https://i.loli.net/2020/05/12/fjzJG2tOKS9x75i.png","https://s2.ax1x.com/2020/03/04/3othAx.jpg","https://s2.ax1x.com/2020/03/04/3otWH1.jpg","https://i.loli.net/2020/05/12/RJkuylMqTDbhFYK.png","https://s2.ax1x.com/2020/03/04/3oaHvF.jpg","https://i.loli.net/2020/05/12/JniT3y5EjlHveCa.png","https://i.loli.net/2020/05/12/uLf37Dh4moSNWHl.png","https://i.loli.net/2020/05/12/4PDlehfWOJZoEcj.png","https://i.loli.net/2020/05/12/UznI9POMuTN5CdF.png","https://i.loli.net/2020/05/12/Ku24JNkQp6sedEb.png","https://i.loli.net/2020/05/12/zPiTZRcU2WxC65D.png","https://i.loli.net/2020/05/12/6JeYhNKMLsBQlFO.png","https://i.loli.net/2020/05/12/gIqU1VEXHAQ2ShG.png","https://i.loli.net/2020/05/12/RJOoTxZKvQtLNrA.png","https://i.loli.net/2020/05/12/WHtM9RFxsaCXUYp.png","https://i.loli.net/2020/05/12/KtVvfRUPzA4CDFi.png","https://i.loli.net/2020/05/12/XQWotbfrYi7dBp6.png","https://i.loli.net/2020/05/12/f4h65rGU7cRYwZ8.png","https://i.loli.net/2020/05/12/1HWeg4xdsX85kZT.png","https://i.loli.net/2020/05/12/J8uH6ClX4EGLifc.png"]},{id:4,name:"兵兵球",random_heads:["https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-01.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-02.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-03.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-04.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-05.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-06.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-07.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-08.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-09.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-10.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-11.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-12.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-13.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-14.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-15.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-16.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-17.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-18.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-19.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-20.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-21.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-22.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-23.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-24.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-25.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-26.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-27.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-28.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-29.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-30.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-31.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-32.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-33.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-34.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-35.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-36.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-37.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-38.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-39.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-40.gif"]}];export{da as D,Vo as M,yo as N,Zo as P,Ai as _,Di as a,Ii as b,Li as c,Pi as d,ht as e,$i as f,Pa as g,Bi as h,Ti as i,Mi as j,Ri as n,Si as p,Oi as r};
