import{x as G,z as W,A as x,V as h,aT as ft,F as U,t as e,U as T,K as n,R as i,au as ye,a1 as y,X as m,aM as ce,aJ as oe,aK as ae,av as H,aL as Oe,aw as Z,at as J,a0 as he,S as Y,a3 as xe,a6 as Ie,a5 as Pe,a4 as Se,b as z,q as K,w as ee,I as Je,_ as q,W as X,aD as $e,$ as V,J as te,aU as Ze,aV as Qe,T as Q,Y as De,aN as et,Q as re,C as ue,M as be,Z as tt,aW as nt,aX as vt,i as Ue,aq as it,N as st,P as ht,r as ct,a9 as He,aY as Fe,aB as Be,aZ as Te,a_ as We,a$ as bt,aO as wt,aP as yt,ag as xt}from"./vendor-DamaS_bj.js";import{u as ne,c as R,b as ie,i as le,n as St,o as _t,f as Ee,d as se,q as Dt,s as Tt,t as Et,v as Ct,x as Nt,y as kt,z as Le,_ as je,A as Mt,B as Ot,C as Lt,e as zt,D as It,E as Pt,F as $t,G as Ut,H as jt,I as Rt}from"./app-CRZ7Digb.js";import{u as Re}from"./forums-DgGzAUO0.js";import{T as At}from"./ThreadList-Bo6iCZru.js";import{_ as Ht,f as qe}from"./emojiData-BZl9PvKN.js";import{i as Ft,a as Bt}from"./inputNumberFormat-BPxWRFt_.js";import"./showDialog-DfAZGtWi.js";import"./browseLogger-C2_cwgCY.js";import"./Delete-BfEHc_M2.js";const Wt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},qt=h("rect",{x:"128",y:"128",width:"336",height:"336",rx:"57",ry:"57",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Yt=h("path",{d:"M383.5 128l.5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),Xt=[qt,Yt],Vt=G({name:"CopyOutline",render:function(t,s){return x(),W("svg",Wt,Xt)}}),Kt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},Gt=h("path",{d:"M12 12h2v12h-2z",fill:"currentColor"},null,-1),Jt=h("path",{d:"M18 12h2v12h-2z",fill:"currentColor"},null,-1),Zt=h("path",{d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20z",fill:"currentColor"},null,-1),Qt=h("path",{d:"M12 2h8v2h-8z",fill:"currentColor"},null,-1),en=[Gt,Jt,Zt,Qt],tn=G({name:"TrashCan",render:function(t,s){return x(),W("svg",Kt,en)}});function at(g){let t=null;return()=>(t==null&&(t=g()),t)}function nn(g,t){return g.filter(s=>s!==t)}function sn(g,t){const s=new Set,d=r=>s.add(r);g.forEach(d),t.forEach(d);const a=[];return s.forEach(r=>a.push(r)),a}class an{enter(t){const s=this.entered.length,d=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(t));return this.entered=sn(this.entered.filter(d),[t]),s===0&&this.entered.length>0}leave(t){const s=this.entered.length;return this.entered=nn(this.entered.filter(this.isNodeInDocument),t),s>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class ln{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const s={};Object.keys(this.config.exposeProperties).forEach(d=>{const a=this.config.exposeProperties[d];a!=null&&(s[d]={value:a(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,s)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,s){return s===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const lt="__NATIVE_FILE__",ot="__NATIVE_URL__",rt="__NATIVE_TEXT__",dt="__NATIVE_HTML__",Ye=Object.freeze(Object.defineProperty({__proto__:null,FILE:lt,HTML:dt,TEXT:rt,URL:ot},Symbol.toStringTag,{value:"Module"}));function Ce(g,t,s){const d=t.reduce((a,r)=>a||g.getData(r),"");return d??s}const ze={[lt]:{exposeProperties:{files:g=>Array.prototype.slice.call(g.files),items:g=>g.items,dataTransfer:g=>g},matchesTypes:["Files"]},[dt]:{exposeProperties:{html:(g,t)=>Ce(g,t,""),dataTransfer:g=>g},matchesTypes:["Html","text/html"]},[ot]:{exposeProperties:{urls:(g,t)=>Ce(g,t,"").split(`
`),dataTransfer:g=>g},matchesTypes:["Url","text/uri-list"]},[rt]:{exposeProperties:{text:(g,t)=>Ce(g,t,""),dataTransfer:g=>g},matchesTypes:["Text","text/plain"]}};function on(g,t){const s=ze[g];if(!s)throw new Error(`native type ${g} has no configuration`);const d=new ln(s);return d.loadDataTransfer(t),d}function Ne(g){if(!g)return null;const t=Array.prototype.slice.call(g.types||[]);return Object.keys(ze).filter(s=>{const d=ze[s];return d?.matchesTypes?d.matchesTypes.some(a=>t.indexOf(a)>-1):!1})[0]||null}const rn=at(()=>/firefox/i.test(navigator.userAgent)),ut=at(()=>!!window.safari);class Xe{interpolate(t){const{xs:s,ys:d,c1s:a,c2s:r,c3s:p}=this;let f=s.length-1;if(t===s[f])return d[f];let o=0,u=p.length-1,w;for(;o<=u;){w=Math.floor(.5*(o+u));const c=s[w];if(c<t)o=w+1;else if(c>t)u=w-1;else return d[w]}f=Math.max(0,u);const l=t-s[f],b=l*l;return d[f]+a[f]*l+r[f]*b+p[f]*l*b}constructor(t,s){const{length:d}=t,a=[];for(let c=0;c<d;c++)a.push(c);a.sort((c,D)=>t[c]<t[D]?-1:1);const r=[],p=[];let f,o;for(let c=0;c<d-1;c++)f=t[c+1]-t[c],o=s[c+1]-s[c],r.push(f),p.push(o/f);const u=[p[0]];for(let c=0;c<r.length-1;c++){const D=p[c],M=p[c+1];if(D*M<=0)u.push(0);else{f=r[c];const _=r[c+1],O=f+_;u.push(3*O/((O+_)/D+(O+f)/M))}}u.push(p[p.length-1]);const w=[],l=[];let b;for(let c=0;c<u.length-1;c++){b=p[c];const D=u[c],M=1/r[c],_=D+u[c+1]-b-b;w.push((b-D-_)*M),l.push(_*M*M)}this.xs=t,this.ys=s,this.c1s=u,this.c2s=w,this.c3s=l}}const dn=1;function mt(g){const t=g.nodeType===dn?g:g.parentElement;if(!t)return null;const{top:s,left:d}=t.getBoundingClientRect();return{x:d,y:s}}function pe(g){return{x:g.clientX,y:g.clientY}}function un(g){var t;return g.nodeName==="IMG"&&(rn()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(g)))}function mn(g,t,s,d){let a=g?t.width:s,r=g?t.height:d;return ut()&&g&&(r/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:r}}function gn(g,t,s,d,a){const r=un(t),f=mt(r?g:t),o={x:s.x-f.x,y:s.y-f.y},{offsetWidth:u,offsetHeight:w}=g,{anchorX:l,anchorY:b}=d,{dragPreviewWidth:c,dragPreviewHeight:D}=mn(r,t,u,w),M=()=>{let v=new Xe([0,.5,1],[o.y,o.y/w*D,o.y+D-w]).interpolate(b);return ut()&&r&&(v+=(window.devicePixelRatio-1)*D),v},_=()=>new Xe([0,.5,1],[o.x,o.x/u*c,o.x+c-u]).interpolate(l),{offsetX:O,offsetY:N}=a,A=O===0||O,E=N===0||N;return{x:A?O:_(),y:E?N:M()}}let pn=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,s){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=s}};function fn(g,t,s){return t in g?Object.defineProperty(g,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):g[t]=s,g}function Ve(g){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{},d=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(s).filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable}))),d.forEach(function(a){fn(g,a,s[a])})}return g}class vn{profile(){var t,s;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((s=this.dragOverTargetIds)===null||s===void 0?void 0:s.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var s;(s=this.window)===null||s===void 0||s.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,s,d){return this.sourcePreviewNodeOptions.set(t,d),this.sourcePreviewNodes.set(t,s),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,s,d){this.sourceNodes.set(t,s),this.sourceNodeOptions.set(t,d);const a=p=>this.handleDragStart(p,t),r=p=>this.handleSelectStart(p);return s.setAttribute("draggable","true"),s.addEventListener("dragstart",a),s.addEventListener("selectstart",r),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),s.removeEventListener("dragstart",a),s.removeEventListener("selectstart",r),s.setAttribute("draggable","false")}}connectDropTarget(t,s){const d=p=>this.handleDragEnter(p,t),a=p=>this.handleDragOver(p,t),r=p=>this.handleDrop(p,t);return s.addEventListener("dragenter",d),s.addEventListener("dragover",a),s.addEventListener("drop",r),()=>{s.removeEventListener("dragenter",d),s.removeEventListener("dragover",a),s.removeEventListener("drop",r)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),s=this.sourceNodeOptions.get(t);return Ve({dropEffect:this.altKeyPressed?"copy":"move"},s||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),s=this.sourcePreviewNodeOptions.get(t);return Ve({anchorX:.5,anchorY:.5,captureDraggingState:!1},s||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Ye).some(s=>Ye[s]===t)}beginDragNativeItem(t,s){this.clearCurrentDragSourceNode(),this.currentNativeSource=on(t,s),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const s=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var d;return(d=this.rootElement)===null||d===void 0?void 0:d.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},s)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,s){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(s))}handleDragEnter(t,s){this.dragEnterTargetIds.unshift(s)}handleDragOver(t,s){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(s)}handleDrop(t,s){this.dropTargetIds.unshift(s)}constructor(t,s,d){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const r=this.sourceNodes.get(a);return r&&mt(r)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:r}=this;this.dragStartSourceIds=null;const p=pe(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(r||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:p});const{dataTransfer:f}=a,o=Ne(f);if(this.monitor.isDragging()){if(f&&typeof f.setDragImage=="function"){const w=this.monitor.getSourceId(),l=this.sourceNodes.get(w),b=this.sourcePreviewNodes.get(w)||l;if(b){const{anchorX:c,anchorY:D,offsetX:M,offsetY:_}=this.getCurrentSourcePreviewNodeOptions(),A=gn(l,b,p,{anchorX:c,anchorY:D},{offsetX:M,offsetY:_});f.setDragImage(b,A.x,A.y)}}try{f?.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(o)this.beginDragNativeItem(o);else{if(f&&!f.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var r;(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:f}=a,o=Ne(f);o&&this.beginDragNativeItem(o,f)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:r}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,r.length>0&&this.actions.hover(r,{clientOffset:pe(a)}),r.some(f=>this.monitor.canDropOnTarget(f))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var r;(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:r}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=pe(a),this.scheduleHover(r),(r||[]).some(f=>this.monitor.canDropOnTarget(f))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var r;a.preventDefault(),(r=this.currentNativeSource)===null||r===void 0||r.loadDataTransfer(a.dataTransfer)}else Ne(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:r}=this;this.dropTargetIds=[],this.actions.hover(r,{clientOffset:pe(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const r=a.target;typeof r.dragDrop=="function"&&(r.tagName==="INPUT"||r.tagName==="SELECT"||r.tagName==="TEXTAREA"||r.isContentEditable||(a.preventDefault(),r.dragDrop()))},this.options=new pn(s,d),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new an(this.isNodeInDocument)}}const hn=function(t,s,d){return new vn(t,s,d)};var de;(function(g){g.mouse="mouse",g.touch="touch",g.keyboard="keyboard"})(de||(de={}));class cn{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,s,d,a;return(a=(d=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&d!==void 0?d:(s=this.args)===null||s===void 0?void 0:s.delay)!==null&&a!==void 0?a:0}get delayMouseStart(){var t,s,d,a;return(a=(d=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&d!==void 0?d:(s=this.args)===null||s===void 0?void 0:s.delay)!==null&&a!==void 0?a:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,s){this.args=t,this.context=s}}function bn(g,t,s,d){return Math.sqrt(Math.pow(Math.abs(s-g),2)+Math.pow(Math.abs(d-t),2))}function wn(g,t,s,d,a){if(!a)return!1;const r=Math.atan2(d-t,s-g)*180/Math.PI+180;for(let p=0;p<a.length;++p){const f=a[p];if(f&&(f.start==null||r>=f.start)&&(f.end==null||r<=f.end))return!0}return!1}const yn={Left:1},xn={Left:0};function ke(g){return g.button===void 0||g.button===xn.Left}function Sn(g){return g.buttons===void 0||(g.buttons&yn.Left)===0}function gt(g){return!!g.targetTouches}const _n=1;function Dn(g){const t=g.nodeType===_n?g:g.parentElement;if(!t)return;const{top:s,left:d}=t.getBoundingClientRect();return{x:d,y:s}}function Tn(g,t){if(g.targetTouches.length===1)return we(g.targetTouches[0]);if(t&&g.touches.length===1&&g.touches[0].target===t.target)return we(g.touches[0])}function we(g,t){return gt(g)?Tn(g,t):{x:g.clientX,y:g.clientY}}const Ke=(()=>{let g=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return g=!0,!0}}))}catch{}return g})(),me={[de.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[de.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[de.keyboard]:{keydown:"keydown"}};class ge{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(ft(!ge.isSetUp,"Cannot have two Touch backends at the same time."),ge.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(ge.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,s,d,a=!1){const r=Ke?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(p){const f=me[p][s];f&&t.addEventListener(f,d,r)})}removeEventListener(t,s,d,a=!1){const r=Ke?{capture:a,passive:!1}:a;this.listenerTypes.forEach(function(p){const f=me[p][s];f&&t.removeEventListener(f,d,r)})}connectDragSource(t,s){const d=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,s),this.addEventListener(s,"start",d),()=>{this.sourceNodes.delete(t),this.removeEventListener(s,"start",d)}}connectDragPreview(t,s,d){return this.sourcePreviewNodeOptions.set(t,d),this.sourcePreviewNodes.set(t,s),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,s){const d=this.options.rootElement;if(!this.document||!d)return()=>{};const a=r=>{if(!this.document||!d||!this.monitor.isDragging())return;let p;switch(r.type){case me.mouse.move:p={x:r.clientX,y:r.clientY};break;case me.touch.move:var f,o;p={x:((f=r.touches[0])===null||f===void 0?void 0:f.clientX)||0,y:((o=r.touches[0])===null||o===void 0?void 0:o.clientY)||0};break}const u=p!=null?this.document.elementFromPoint(p.x,p.y):void 0,w=u&&s.contains(u);if(u===s||w)return this.handleMove(r,t)};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(t,s),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",a))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,s,d){this.getSourceClientOffset=a=>{const r=this.sourceNodes.get(a);return r&&Dn(r)},this.handleTopMoveStartCapture=a=>{ke(a)&&(this.moveStartSourceIds=[])},this.handleMoveStart=a=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(a)},this.handleTopMoveStart=a=>{if(!ke(a))return;const r=we(a);r&&(gt(a)&&(this.lastTargetTouchFallback=a.targetTouches[0]),this._mouseClientOffset=r),this.waitingForDelay=!1},this.handleTopMoveStartDelay=a=>{if(!ke(a))return;const r=a.type===me.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,a),r),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(a,r)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(r)},this.handleTopMove=a=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:r,dragOverTargetIds:p}=this,f=this.options.enableHoverOutsideTarget,o=we(a,this.lastTargetTouchFallback);if(!o)return;if(this._isScrolling||!this.monitor.isDragging()&&wn(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&r&&bn(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,o.x,o.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(r,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),a.cancelable&&a.preventDefault();const w=(p||[]).map(D=>this.targetNodes.get(D)).filter(D=>!!D),l=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(o.x,o.y,w):this.document.elementsFromPoint(o.x,o.y),b=[];for(const D in l){if(!l.hasOwnProperty(D))continue;let M=l[D];for(M!=null&&b.push(M);M;)M=M.parentElement,M&&b.indexOf(M)===-1&&b.push(M)}const c=b.filter(D=>w.indexOf(D)>-1).map(D=>this._getDropTargetId(D)).filter(D=>!!D).filter((D,M,_)=>_.indexOf(D)===M);if(f)for(const D in this.targetNodes){const M=this.targetNodes.get(D);if(u&&M&&M.contains(u)&&c.indexOf(D)===-1){c.unshift(D);break}}c.reverse(),this.actions.hover(c,{clientOffset:o})},this._getDropTargetId=a=>{const r=this.targetNodes.keys();let p=r.next();for(;p.done===!1;){const f=p.value;if(a===this.targetNodes.get(f))return f;p=r.next()}},this.handleTopMoveEndCapture=a=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Sn(a)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}a.cancelable&&a.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=a=>{a.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new cn(d,s),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(de.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(de.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(de.keyboard)}}const En=function(t,s={},d={}){return new ge(t,s,d)},Cn=G({__name:"TabCommon",setup(g){const t=ne(),s=t.userCustom,d=[{value:"top",label:"放在顶部"},{value:"center",label:"放在中间"},{value:"bottom",label:"放在底部"}],a=[{value:"imgbb",label:"(推荐)imgbb"},{value:"freeimage",label:"freeimage"},{value:"imgimg",label:"imgimg"},{value:"helloimg",label:"helloimg"},{value:"picui",label:"picui"},{value:"imgwang",label:"ImgWang"},{value:"picgo",label:"(要注册)picgo"}],r={id:0,created_at:"2021-04-28 00:44:23",is_deleted:0,thread_id:0,battle_id:null,hongbao_id:null,floor:0,random_head:1,created_by_admin:0,content:"<span class='quote-content'>这是引用内容 <br>@№0 = = 2021-04-28 00:44:23</span><br>这是预览模式，可以确认上面设定的式样是否满意。<br>这是第二行。<br>这是第三行。",nickname:"= =",is_your_post:!0,hongbao_data:null},p=[{id:0,sub_id:0,forum_id:1,vote_question_id:null,gamble_question_id:null,crowd_id:null,hongbao_id:null,nickname:"= =",title:"这是预览模式，可以确认上面设定的式样是否满意。",sub_title:"[预览]",random_heads_group:1,posts_num:100,title_color:null,anti_jingfen:!1,nissin_date:null,has_nissined:!1,can_battle:!1,is_delay:!1,locked_by_coin:0,is_private:!1,created_at:null,updated_at:null}];return(f,o)=>(x(),U(e(T),{vertical:"",size:"small"},{default:n(()=>[i(e(Y),{title:"一般设定",size:"small"},{"header-extra":n(()=>[i(e(R),{onClick:e(t).userCustomReset},{default:n(()=>[...o[22]||(o[22]=[m("恢复默认",-1)])]),_:1},8,["onClick"])]),default:n(()=>[i(e(ye),{ref:"formRef",model:e(s),"label-placement":"left","label-width":"auto",size:e(t).isMobile?"small":"medium",style:{"max-height":"655px","overflow-y":"auto"}},{default:n(()=>[i(e(y),{depth:3},{default:n(()=>[...o[23]||(o[23]=[m("这些设定保存在本设备，不跟随饼干",-1)])]),_:1}),i(e(ce),{cols:"1 600:2","x-gap":12},{default:n(()=>[i(e(oe),{style:{"max-width":"280px"}},{default:n(()=>[i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[24]||(o[24]=[m("功能选项 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"图床选择",path:"loudspeakerPosition"},{default:n(()=>[i(e(Oe),{value:e(s).imgHost,"onUpdate:value":o[0]||(o[0]=u=>e(s).imgHost=u),options:a,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),i(e(H),{label:"自动涮锅时遇红包停止",path:"hongbaoThenStop"},{default:n(()=>[i(e(Z),{value:e(s).hongbaoThenStop,"onUpdate:value":o[1]||(o[1]=u=>e(s).hongbaoThenStop=u)},null,8,["value"])]),_:1}),i(e(H),{label:"自动涮锅时页面不动",path:"holdPageWhenListening"},{default:n(()=>[i(e(Z),{value:e(s).holdPageWhenListening,"onUpdate:value":o[2]||(o[2]=u=>e(s).holdPageWhenListening=u)},null,8,["value"])]),_:1}),i(e(H),{label:"减少弹出提示",path:"lessToast"},{default:n(()=>[i(e(Z),{value:e(s).lessToast,"onUpdate:value":o[3]||(o[3]=u=>e(s).lessToast=u)},null,8,["value"])]),_:1})]),_:1}),i(e(oe),{style:{"max-width":"280px"}},{default:n(()=>[i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[25]||(o[25]=[m("基本外观 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"传统式回复框",path:"postLegacyMode"},{default:n(()=>[i(e(Z),{value:e(s).postLegacyMode,"onUpdate:value":o[4]||(o[4]=u=>e(s).postLegacyMode=u)},null,8,["value"])]),_:1}),i(e(H),{label:"大喇叭和标题单色",path:"monochromeMode"},{default:n(()=>[i(e(Z),{value:e(s).monochromeMode,"onUpdate:value":o[5]||(o[5]=u=>e(s).monochromeMode=u)},null,8,["value"])]),_:1}),i(e(H),{label:"侧边栏放左边",path:"sidebarLeft"},{default:n(()=>[i(e(Z),{value:e(s).sidebarLeft,"onUpdate:value":o[6]||(o[6]=u=>e(s).sidebarLeft=u)},null,8,["value"])]),_:1}),i(e(H),{label:"大喇叭位置",path:"loudspeakerPosition"},{default:n(()=>[i(e(Oe),{value:e(s).loudspeakerPosition,"onUpdate:value":o[7]||(o[7]=u=>e(s).loudspeakerPosition=u),options:d,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),i(e(H),{label:"最大引用层数",path:"quoteMax"},{default:n(()=>[i(e(J),{value:e(s).quoteMax,"onUpdate:value":o[8]||(o[8]=u=>e(s).quoteMax=u),max:6,min:1,step:1},{suffix:n(()=>[...o[26]||(o[26]=[m(" 层 ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复行数限高",path:"foldMaxLine"},{default:n(()=>[i(e(J),{value:e(s).foldMaxLine,"onUpdate:value":o[9]||(o[9]=u=>e(s).foldMaxLine=u),max:99,min:6,step:1},{suffix:n(()=>[...o[27]||(o[27]=[m(" 行 ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"表情包白色背景",path:"emojiWhiteBack"},{default:n(()=>[i(e(he),{trigger:"hover"},{trigger:n(()=>[i(e(Z),{value:e(s).emojiWhiteBack,"onUpdate:value":o[10]||(o[10]=u=>e(s).emojiWhiteBack=u)},null,8,["value"])]),default:n(()=>[o[28]||(o[28]=h("span",null,"可以解决AC娘在芝麻锅中看不清的问题",-1))]),_:1})]),_:1})]),_:1}),i(e(oe),{style:{"max-width":"280px"}},{default:n(()=>[i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[29]||(o[29]=[m("字体大小 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"回复内容",path:"fontSizePost"},{default:n(()=>[i(e(J),{value:e(s).fontSizePost,"onUpdate:value":o[11]||(o[11]=u=>e(s).fontSizePost=u),max:24,min:10,step:.5},{suffix:n(()=>[...o[30]||(o[30]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"引用内容",path:"fontSizeQuote"},{default:n(()=>[i(e(J),{value:e(s).fontSizeQuote,"onUpdate:value":o[12]||(o[12]=u=>e(s).fontSizeQuote=u),max:24,min:10,step:.5},{suffix:n(()=>[...o[31]||(o[31]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复脚注",path:"fontSizeFooter"},{default:n(()=>[i(e(J),{value:e(s).fontSizeFooter,"onUpdate:value":o[13]||(o[13]=u=>e(s).fontSizeFooter=u),max:22,min:8,step:.5},{suffix:n(()=>[...o[32]||(o[32]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题列表",path:"fontSizeThreadList"},{default:n(()=>[i(e(J),{value:e(s).fontSizeThreadList,"onUpdate:value":o[14]||(o[14]=u=>e(s).fontSizeThreadList=u),max:24,min:10,step:.5},{suffix:n(()=>[...o[33]||(o[33]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题列表脚注",path:"fontSizeThreadListFooter"},{default:n(()=>[i(e(J),{value:e(s).fontSizeThreadListFooter,"onUpdate:value":o[15]||(o[15]=u=>e(s).fontSizeThreadListFooter=u),max:22,min:8,step:.5},{suffix:n(()=>[...o[34]||(o[34]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"输入框",path:"fontSizeInput"},{default:n(()=>[i(e(J),{value:e(s).fontSizeInput,"onUpdate:value":o[16]||(o[16]=u=>e(s).fontSizeInput=u),max:24,min:10,step:.5},{suffix:n(()=>[...o[35]||(o[35]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1})]),_:1}),i(e(oe),{style:{"max-width":"280px"}},{default:n(()=>[i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...o[36]||(o[36]=[m("间距相关 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"回复内容行距",path:"lineHeightPost"},{default:n(()=>[i(e(J),{value:e(s).lineHeightPost,"onUpdate:value":o[17]||(o[17]=u=>e(s).lineHeightPost=u),max:40,min:16,step:2},{suffix:n(()=>[...o[37]||(o[37]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复内容上下间距",path:"postInnerMargin"},{default:n(()=>[i(e(J),{value:e(s).postInnerMargin,"onUpdate:value":o[18]||(o[18]=u=>e(s).postInnerMargin=u),max:30,min:0,step:1},{suffix:n(()=>[...o[38]||(o[38]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"回复卡片四周空白",path:"postCardPadding"},{default:n(()=>[i(e(J),{value:e(s).postCardPadding,"onUpdate:value":o[19]||(o[19]=u=>e(s).postCardPadding=u),max:20,min:4,step:1},{suffix:n(()=>[...o[39]||(o[39]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题内容上下间距",path:"threadListInnerMargin"},{default:n(()=>[i(e(J),{value:e(s).threadListInnerMargin,"onUpdate:value":o[20]||(o[20]=u=>e(s).threadListInnerMargin=u),max:30,min:0,step:1},{suffix:n(()=>[...o[40]||(o[40]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1}),i(e(H),{label:"主题卡片四周空白",path:"threadListCardPadding"},{default:n(()=>[i(e(J),{value:e(s).threadListCardPadding,"onUpdate:value":o[21]||(o[21]=u=>e(s).threadListCardPadding=u),max:20,min:4,step:1},{suffix:n(()=>[...o[41]||(o[41]=[m(" px ",-1)])]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","size"])]),_:1}),i(e(ae),{style:{"margin-top":"2px","margin-bottom":"2px"}}),i(Ht,{"post-data":r,"forum-id":0,"preview-mode":!0}),i(e(ae),{style:{"margin-top":"2px","margin-bottom":"2px"}}),i(At,{"threads-list-data":p,"show-this":!0})]),_:1}))}}),Nn={class:"bank-item"},kn={style:{"margin-left":"auto"}},Mn={style:{"margin-left":"auto"}},fe=10,On=G({__name:"TabBank",setup(g){xe(P=>({bcc33106:e(d).dividerColor}));const t=ie(),s=ne();Re(),Ie(),Pe();const d=Se(),a=z(!1),r=z(),p=z(1e4),f=z(le.tz().add(2,"day").format("YYYY-MM-DD 00:00:00")),o=z({pageSize:fe}),u=[{title:"存入时间",key:"created_at",resizable:!0},{title:"存粮",key:"olo",resizable:!0},{title:"标签",key:"description",resizable:!0},{title:"到期时间",key:"expire_date",resizable:!0},{title:"操作",key:"controller",render:D,resizable:!0}],w=z(1),l=K(()=>(w.value-1)*fe);function b(P){return le().subtract(1,"day").isAfter(P)||le().add(1,"year").isBefore(le(P))}const c=K(()=>N.value.map(P=>P.olo).reduce((P,S)=>P+S,0));function D(P,S){return ue(R,{onClick:()=>L(P.id,P.isExpired),size:"tiny",type:P.isExpired?"success":"warning",innerHTML:P.isExpired?"到期开仓":"提前开仓"})}const{loading:M,data:_,send:O}=ee(P=>St(P),{immediate:!1,initialData:[]});t.binggan!==null&&O({binggan:t.binggan});const N=K(()=>_.value.map(P=>({...P,isExpired:le().isAfter(P.expire_date)}))),{loading:A,send:E,onSuccess:j}=ee(P=>_t(P),{immediate:!1});j(()=>{t.refreshUserData(),O({binggan:t.binggan}),a.value=!1});function v(){if(p.value===null){window.$message.error("请输入要存入的olo");return}const P={title:"存入粮仓",closable:!1,content:"要往粮仓存入olo吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const S={binggan:t.binggan,olo:p.value,description:r.value,expire_date:f.value};E(S)}};window.$dialog.success(P)}function L(P,S){function F(){const $={binggan:t.binggan,deposit_id:P,confirm_penalty:!S};Dt($).then(()=>{t.refreshUserData(),O({binggan:t.binggan})})}if(S){const $={title:"取出到期的存粮",closable:!1,content:"要取出存粮吗？因为已经到期，不收取手续费。",positiveText:"确定",negativeText:"取消",onPositiveClick:F};window.$dialog.success($)}else{const $={title:"提前取出存粮",closable:!1,content:"确定要提前取出存粮吗？将会扣除12%的奥利奥喔",positiveText:"确定",negativeText:"取消",onPositiveClick:F};window.$dialog.warning($)}}return(P,S)=>(x(),U(e(T),{align:"center"},{default:n(()=>[i(e(R),{type:"primary",onClick:S[0]||(S[0]=F=>a.value=!0)},{default:n(()=>[...S[8]||(S[8]=[m("我要存粮",-1)])]),_:1}),i(e(Y),{title:"我的粮仓",size:"small"},Je({default:n(()=>[e(s).isMobile?X("",!0):(x(),U(e($e),{key:0,columns:u,data:N.value,pagination:o.value,loading:e(M),bordered:!1},null,8,["data","pagination","loading"])),e(s).isMobile?(x(),W(V,{key:1},[N.value.length>0?(x(),U(e(T),{key:0,vertical:"",align:"start",size:"small"},{default:n(()=>[(x(!0),W(V,null,te(N.value.slice(l.value,l.value+fe),F=>(x(),W("div",Nn,[F.description?(x(),U(e(T),{key:0,style:{"margin-bottom":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[10]||(S[10]=[m("存粮标签：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(F.description),1)]),_:2},1024)])]),_:2},1024)):X("",!0),i(e(T),{style:{"margin-bottom":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[11]||(S[11]=[m("存入时间：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(F.created_at),1)]),_:2},1024)]),h("div",kn,[i(e(y),{depth:3},{default:n(()=>[...S[12]||(S[12]=[m("存粮：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(F.olo),1)]),_:2},1024)])]),_:2},1024),i(e(T),{style:{"margin-bottom":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[13]||(S[13]=[m("到期时间：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(F.expire_date),1)]),_:2},1024)]),h("div",Mn,[F.isExpired?X("",!0):(x(),U(e(R),{key:0,size:"tiny",type:"warning",onClick:$=>L(F.id,F.isExpired)},{default:n(()=>[...S[14]||(S[14]=[m("提前开仓",-1)])]),_:1},8,["onClick"])),F.isExpired?(x(),U(e(R),{key:1,size:"tiny",type:"success",onClick:$=>L(F.id,F.isExpired)},{default:n(()=>[...S[15]||(S[15]=[m("到期开仓",-1)])]),_:1},8,["onClick"])):X("",!0)])]),_:2},1024)]))),256)),i(e(Ze),{page:w.value,"onUpdate:page":S[1]||(S[1]=F=>w.value=F),"item-count":N.value.length,"page-size":fe,size:"small",style:{"margin-left":"auto"}},null,8,["page","item-count"])]),_:1})):(x(),U(e(Qe),{key:1}))],64)):X("",!0)]),_:2},[N.value.length>0?{name:"header-extra",fn:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...S[9]||(S[9]=[m("粮仓总计：",-1)])]),_:1}),h("span",null,q(c.value),1)])]),key:"0"}:void 0]),1024),i(e(re),{show:a.value,"onUpdate:show":S[7]||(S[7]=F=>a.value=F),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),title:"存粮",closable:"",onClose:S[6]||(S[6]=F=>a.value=!1),size:"small"},{action:n(()=>[i(e(T),{justify:"end"},{default:n(()=>[i(e(R),{type:"primary",loading:e(A),disabled:e(A),onClick:v},{default:n(()=>[...S[21]||(S[21]=[m("提交",-1)])]),_:1},8,["loading","disabled"]),i(e(R),{onClick:S[5]||(S[5]=F=>a.value=!1)},{default:n(()=>[...S[22]||(S[22]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(T),{vertical:""},{default:n(()=>[S[20]||(S[20]=h("div",null,[m(" 存粮没有利息、提前开仓扣12% "),h("br"),m(" （那有什么用啊！） ")],-1)),i(e(De),null,{default:n(()=>[i(e(Ee),{style:{width:"5.2rem"}},{default:n(()=>[...S[16]||(S[16]=[m("存粮标签",-1)])]),_:1}),i(e(se),{value:r.value,"onUpdate:value":S[2]||(S[2]=F=>r.value=F),placeholder:"可选"},null,8,["value"])]),_:1}),i(e(De),null,{default:n(()=>[i(e(Ee),{style:{width:"5.2rem"}},{default:n(()=>[...S[17]||(S[17]=[m("olo总额",-1)])]),_:1}),i(e(J),{value:p.value,"onUpdate:value":S[3]||(S[3]=F=>p.value=F),max:1e6,min:10,step:1e4,parse:e(Bt),format:e(Ft)},null,8,["value","parse","format"])]),_:1}),i(e(De),null,{default:n(()=>[i(e(Ee),{style:{width:"5.2rem"}},{default:n(()=>[...S[18]||(S[18]=[m("到期日期",-1)])]),_:1}),i(e(et),{"formatted-value":f.value,"onUpdate:formattedValue":S[4]||(S[4]=F=>f.value=F),"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","is-date-disabled":b},null,8,["formatted-value"])]),_:1}),i(e(y),{depth:3},{default:n(()=>[...S[19]||(S[19]=[m("存粮时间最短1天，最长1年",-1)])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}});function Ae(g){if(!navigator.clipboard){var t=document.createElement("textarea");t.value=g,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);return}navigator.clipboard.writeText(g)}const Ln={key:0},zn=["src"],In=G({__name:"TabChara",setup(g){const t=ie(),s=ne(),d=z(null),a=z(!1),r=z(!1),p=z(!1),f=z(),o=K(()=>JSON.stringify(_.value[u.value])),u=z(0),w=K(()=>_.value.map((j,v)=>({value:v,label:j.name}))),l=[{label:"等待",varName:"wait"},{label:"参战",varName:"against"},{label:"攻击",varName:"attack"},{label:"胜利",varName:"win"},{label:"失败",varName:"lose"}],b={name:{required:!0,message:"请输入角色名称",trigger:"blur"},...l.reduce((j,{label:v,varName:L})=>(j[`heads.${L}`]={required:!0,message:"请输入头像地址",trigger:"blur"},j),{}),...Array.from({length:10},(j,v)=>v).reduce((j,v)=>(j[`messages.${v}`]={required:!0,validator:(L,P)=>{const S=/%rand_num/;return P===null?new Error("请输入战斗语音"):S.test(P)?!0:new Error("必须包含%rand_num（上面有使用说明）")},trigger:"blur"},j),{})};function c(){if(f.value===void 0){window.$message.error("请输入角色数据");return}try{_.value[u.value]=JSON.parse(f.value)}catch{window.$message.error("输入数据的格式有误，请重新尝试");return}window.$message.success("已导入角色数据"),r.value=!1}function D(){Ae(o.value),window.$message.success("已复制到剪贴板")}const{loading:M,data:_,send:O}=ee(j=>Tt(j),{immediate:!1,initialData:[]});t.binggan!==null&&O({binggan:t.binggan});const{loading:N,send:A}=ee(j=>Et(j),{immediate:!1});function E(){d.value?.validate(j=>{if(j)window.$message.error("请确认信息填写完整");else{const v={binggan:t.binggan,chara_id:u.value,..._.value[u.value]};A(v)}})}return(j,v)=>(x(),U(e(T),{vertical:""},{default:n(()=>[i(e(Y),{title:"我的角色",size:"small"},Je({default:n(()=>[!e(M)&&e(_).length>0?(x(),W(V,{key:0},[i(e(T),{size:"small",justify:"end",align:"center"},{default:n(()=>[i(e(R),{onClick:v[1]||(v[1]=L=>r.value=!0)},{default:n(()=>[...v[18]||(v[18]=[m("导入角色",-1)])]),_:1}),i(e(R),{onClick:v[2]||(v[2]=L=>p.value=!0)},{default:n(()=>[...v[19]||(v[19]=[m("导出角色",-1)])]),_:1})]),_:1}),i(e(ye),{ref_key:"formRef",ref:d,model:e(_)[u.value],"label-placement":"left","label-width":"auto",rules:b,size:e(s).isMobile?"small":"medium"},{default:n(()=>[i(e(ce),{cols:"1 1000:2","x-gap":12},{default:n(()=>[i(e(oe),{style:{"max-width":"500px"}},{default:n(()=>[i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...v[20]||(v[20]=[m(" 角色名 ",-1)])]),_:1})]),_:1}),i(e(H),{label:"角色名",path:"name"},{default:n(()=>[i(e(se),{value:e(_)[u.value].name,"onUpdate:value":v[3]||(v[3]=L=>e(_)[u.value].name=L),placeholder:"你的角色的名称"},null,8,["value"])]),_:1}),i(e(H),{label:"暂停使用",path:"not_use"},{default:n(()=>[i(e(Z),{value:e(_)[u.value].not_use,"onUpdate:value":v[4]||(v[4]=L=>e(_)[u.value].not_use=L)},null,8,["value"]),v[21]||(v[21]=h("span",{style:{"margin-left":"6px"}},"暂停使用后，大乱斗时不显示选项",-1))]),_:1}),i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:n(()=>[...v[22]||(v[22]=[m(" 头像组 ",-1)])]),_:1})]),_:1}),(x(),W(V,null,te(l,(L,P)=>i(e(H),{label:L.label,path:`heads.${L.varName}`},{default:n(()=>[i(e(se),{value:e(_)[u.value].heads[L.varName],"onUpdate:value":S=>e(_)[u.value].heads[L.varName]=S},null,8,["value","onUpdate:value"]),h("img",{src:e(_)[u.value].heads[L.varName],style:{"max-height":"34px"}},null,8,zn)]),_:2},1032,["label","path"])),64))]),_:1}),i(e(oe),{style:{"max-width":"500px"}},{default:n(()=>[i(e(ae),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:n(()=>[i(e(y),{depth:"3",style:{"font-size":"0.875rem",cursor:"pointer"},onClick:v[5]||(v[5]=L=>a.value=!0)},{default:n(()=>[...v[23]||(v[23]=[m(" 战斗语音（使用说明？） ",-1)])]),_:1})]),_:1}),(x(),W(V,null,te(10,L=>i(e(H),{label:`骰子${L*10-9}~${L*10}`,path:`messages.${L-1}`},{default:n(()=>[i(e(se),{value:e(_)[u.value].messages[L-1],"onUpdate:value":P=>e(_)[u.value].messages[L-1]=P},null,8,["value","onUpdate:value"])]),_:2},1032,["label","path"])),64))]),_:1})]),_:1})]),_:1},8,["model","size"])],64)):X("",!0)]),_:2},[!e(M)&&e(_).length>0?{name:"header-extra",fn:n(()=>[i(e(y),{depth:3,style:{"flex-shrink":"0"}},{default:n(()=>[...v[15]||(v[15]=[m(" 选择要编辑的角色 ",-1)])]),_:1}),i(e(Oe),{value:u.value,"onUpdate:value":v[0]||(v[0]=L=>u.value=L),options:w.value,"consistent-menu-width":!1},null,8,["value","options"])]),key:"0"}:void 0,!e(M)&&e(_).length===0?{name:"header-extra",fn:n(()=>[i(e(y),{depth:3},{default:n(()=>[v[16]||(v[16]=m(" 你尚未拥有角色槽位，",-1)),e(s).isMobile?(x(),W("br",Ln)):X("",!0),v[17]||(v[17]=m("请在“饼干升级”处购买 ",-1))]),_:1})]),key:"1"}:void 0]),1024),!e(M)&&e(_).length>0?(x(),W(V,{key:0},[i(e(T),{size:"small",justify:"end",align:"center"},{default:n(()=>[i(e(y),{depth:3},{default:n(()=>[...v[24]||(v[24]=[m(" 各个角色要分别点提交喔 ",-1)])]),_:1}),i(e(R),{type:"primary",loading:e(N),disabled:e(N),onClick:E},{default:n(()=>[...v[25]||(v[25]=[m("提交当前角色",-1)])]),_:1},8,["loading","disabled"])]),_:1}),i(e(re),{show:a.value,"onUpdate:show":v[7]||(v[7]=L=>a.value=L),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),closable:"",onClose:v[6]||(v[6]=L=>a.value=!1),size:"small",title:"战斗语音使用说明"},{default:n(()=>[...v[26]||(v[26]=[h("h4",null,"骰子语句：",-1),h("p",null,"1~10指投出1~10点时候的语句，如此类推。",-1),h("h4",null,"替换词会被自动替换为相应内容：",-1),h("p",null,[m("%rand_num —— 骰子数字（必须有） "),h("br"),m(" %name —— 本角色名字 "),h("br"),m(" %opponent —— 对手名字")],-1)])]),_:1},8,["style"])]),_:1},8,["show"]),i(e(re),{show:r.value,"onUpdate:show":v[11]||(v[11]=L=>r.value=L),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),closable:"",onClose:v[10]||(v[10]=L=>r.value=!1),size:"small",title:"导入角色数据"},{action:n(()=>[i(e(T),{justify:"end"},{default:n(()=>[i(e(R),{onClick:c,type:"primary"},{default:n(()=>[...v[28]||(v[28]=[m("导入",-1)])]),_:1}),i(e(R),{onClick:v[9]||(v[9]=L=>r.value=!1)},{default:n(()=>[...v[29]||(v[29]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(T),{vertical:""},{default:n(()=>[v[27]||(v[27]=h("span",null,"将代码填入下述框就可以导入角色数据",-1)),i(e(be),{value:f.value,"onUpdate:value":v[8]||(v[8]=L=>f.value=L),type:"textarea",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]),i(e(re),{show:p.value,"onUpdate:show":v[14]||(v[14]=L=>p.value=L),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),closable:"",onClose:v[13]||(v[13]=L=>p.value=!1),size:"small",title:"导出角色数据"},{action:n(()=>[i(e(T),{justify:"end"},{default:n(()=>[i(e(R),{onClick:D},{default:n(()=>[...v[31]||(v[31]=[m("复制",-1)])]),_:1}),i(e(R),{onClick:v[12]||(v[12]=L=>p.value=!1)},{default:n(()=>[...v[32]||(v[32]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(T),{vertical:""},{default:n(()=>[v[30]||(v[30]=h("span",null,"可以将下面代码复制下来分享给别人",-1)),i(e(be),{value:o.value,type:"textarea",readonly:"",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])],64)):X("",!0)]),_:1}))}}),Pn={key:0,style:{"line-height":"1.5rem"}},$n=G({__name:"TabCustom",setup(g){const t=ie(),s=ne(),d=z(null),a=z({bingganApply:null,password:null,passwordRepeat:null,transferBinggan:!1}),r={bingganApply:{required:!0,validator:(w,l)=>{const b=/^[a-zA-Z0-9_]+$/;if(l===null)return new Error("请输入要定制的饼干");if(b.test(l)){if(l.length<7)return new Error("最少需要7个字符");if(l.length>16)return new Error("最多16个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},password:{required:!0,validator:(w,l)=>{const b=/^[a-zA-Z0-9_]+$/;if(l===null)return new Error("请输入密码");if(b.test(l)){if(l.length<7)return new Error("最少需要7个字符");if(l.length>20)return new Error("最多20个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},passwordRepeat:{required:!0,validator:(w,l)=>l===a.value.password,message:"密码不一致",trigger:"blur"}},{loading:p,send:f,onSuccess:o}=ee(w=>Ct(w),{immediate:!1});o(()=>{if(a.value.transferBinggan){const w={title:"将退出原有饼干",closable:!1,content:"已经魂穿，原有饼干已碎。请以重新导入新饼干。",positiveText:"确定",onPositiveClick:()=>{Nt(t.binggan).then(()=>{kt(),window.location.href="/"})}};window.$dialog.warning(w)}else t.refreshUserData(),a.value.password=null,a.value.passwordRepeat=null});function u(){d.value?.validate(w=>{if(w)window.$message.error("请确认信息填写完整");else{const l={title:"申请定制饼干",closable:!1,content:`申请的定制饼干：${a.value.bingganApply}`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const b={binggan:t.binggan,binggan_apply:a.value.bingganApply,password:a.value.password,transfer_binggan:a.value.transferBinggan};f(b)}};window.$dialog.success(l)}})}return(w,l)=>(x(),U(e(Y),{title:"定制饼干",size:"small"},{default:n(()=>[i(e(T),{vertical:""},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...l[4]||(l[4]=[m("说明：",-1)])]),_:1}),l[5]||(l[5]=h("span",null,"可自由输入名称的定制饼干，并可选择魂穿到新饼干",-1))]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...l[6]||(l[6]=[m("价格：",-1)])]),_:1}),l[7]||(l[7]=h("span",null,"10万 olo",-1))]),i(e(ye),{ref_key:"formRef",ref:d,model:a.value,"label-placement":"left","label-width":"auto",style:{"max-width":"400px"},rules:r,size:e(s).isMobile?"small":"medium"},{default:n(()=>[i(e(H),{label:"定制饼干",path:"bingganApply"},{default:n(()=>[i(e(se),{value:a.value.bingganApply,"onUpdate:value":l[0]||(l[0]=b=>a.value.bingganApply=b),placeholder:"7~16个字符(字母、数字、下划线)",maxlength:16,minlength:7},null,8,["value"])]),_:1}),i(e(H),{label:"密码",path:"password"},{default:n(()=>[i(e(se),{value:a.value.password,"onUpdate:value":l[1]||(l[1]=b=>a.value.password=b),placeholder:"7~20个字符(字母、数字、下划线)",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),i(e(H),{label:"重复密码",path:"passwordRepeat"},{default:n(()=>[i(e(se),{value:a.value.passwordRepeat,"onUpdate:value":l[2]||(l[2]=b=>a.value.passwordRepeat=b),placeholder:"再次输入密码",type:"password",maxlength:20,minlength:7,"show-password-on":"click",onKeyup:tt(u,["enter"])},null,8,["value"])]),_:1}),i(e(H),{label:"魂穿新饼干",path:"transferBinggan"},{default:n(()=>[i(e(Z),{value:a.value.transferBinggan,"onUpdate:value":l[3]||(l[3]=b=>a.value.transferBinggan=b)},null,8,["value"])]),_:1}),a.value.transferBinggan?(x(),W("div",Pn,[i(e(y),{depth:3},{default:n(()=>[...l[8]||(l[8]=[m("魂穿说明：",-1)])]),_:1}),l[10]||(l[10]=h("span",null,"将原有饼干的所有数据都转移到定制饼干",-1)),l[11]||(l[11]=h("br",null,null,-1)),l[12]||(l[12]=h("span",null,"包括：olo、粮仓、饼干等级、表情包、屏蔽词、成就和成就进度",-1)),l[13]||(l[13]=h("br",null,null,-1)),l[14]||(l[14]=h("span",null,"不包括：回帖主题等（也就是不能操作原有饼干的回帖）",-1)),l[15]||(l[15]=h("br",null,null,-1)),i(e(y),{type:"error",style:{"font-size":"1.125rem"}},{default:n(()=>[...l[9]||(l[9]=[m("现有饼干会被碎掉",-1)])]),_:1}),l[16]||(l[16]=h("br",null,null,-1))])):X("",!0)]),_:1},8,["model","size"]),i(e(T),{size:"small",align:"center"},{default:n(()=>[i(e(R),{type:"primary",loading:e(p),disabled:e(p),onClick:u},{default:n(()=>[...l[17]||(l[17]=[m("提交",-1)])]),_:1},8,["loading","disabled"]),i(e(y),{depth:3},{default:n(()=>[...l[18]||(l[18]=[m("请务必保存好饼干和密码喔",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Un=["data-handler-id"],jn=["src"],Rn=G({__name:"Emoji",props:{emojiSrc:{},index:{}},emits:["deleteEmoji","moveCard"],setup(g,{emit:t}){const s=g,d=t,a=z(),[r,p]=nt({accept:"emojiImg",collect(c){return{handlerId:c.getHandlerId()}},hover(c,D){if(!a.value)return;const M=c.index,_=s.index;if(M===_)return;const O=a.value?.getBoundingClientRect();(O.bottom-O.top)/2,D.getClientOffset().y-O.top,d("moveCard",M,_),c.index=_}}),[f,o]=vt({type:"emojiImg",item:()=>({index:s.index}),collect:c=>({isDragging:c.isDragging()}),end:(c,D)=>{const M=D.getDropResult();c&&M?.name==="Dustbin"&&d("deleteEmoji",c.index)}}),{handlerId:u}=Le(r),{isDragging:w}=Le(f),l=K(()=>e(w)?0:1),b=c=>{a.value=o(p(c))};return(c,D)=>(x(),W("div",{ref:b,class:"emoji-box draggable",style:Q({opacity:l.value}),"data-handler-id":e(u)},[h("img",{src:c.emojiSrc,class:"emoji-in-box"},null,8,jn)],12,Un))}}),An=je(Rn,[["__scopeId","data-v-c3f2b658"]]),Hn=G({__name:"ExportEmojiModal",setup(g,{expose:t}){const s=ne(),d=z(""),a=z(""),r=z(!1);function p(o,u){r.value=!0,d.value=o,a.value=u}t({show:p});function f(){Ae(d.value),window.$message.success("已复制到剪贴板")}return(o,u)=>(x(),U(e(re),{show:r.value,"onUpdate:show":u[2]||(u[2]=w=>r.value=w),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),title:a.value,closable:"",onClose:u[1]||(u[1]=w=>r.value=!1),size:"small"},{action:n(()=>[i(e(T),{justify:"end"},{default:n(()=>[i(e(R),{onClick:f},{default:n(()=>[...u[4]||(u[4]=[m("复制",-1)])]),_:1}),i(e(R),{onClick:u[0]||(u[0]=w=>r.value=!1)},{default:n(()=>[...u[5]||(u[5]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(T),{vertical:""},{default:n(()=>[i(e(y),null,{default:n(()=>[...u[3]||(u[3]=[m("可以用来复制给别人",-1)])]),_:1}),i(e(be),{value:d.value,type:"textarea",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style","title"])]),_:1},8,["show"]))}}),Fn={class:"emoji-box"},Bn=["src"],Wn=G({__name:"TabEmojis",setup(g){xe(C=>({"4e867efa":e(s).textColor1}));const t=ie(),s=Se(),d=z(null),a=qe.map(C=>C.id),r=z(a.filter(C=>!t.userData.emoji_excluded.includes(C))),p=K(()=>a.filter(C=>!r.value.includes(C))),f=z([]);function o(C){Array.isArray(C)?f.value=C.map((k,B)=>({emojiSrc:k,id:B})):f.value=[]}t.userLoginStatus===!0&&o(t.userData.my_emoji),Ue(()=>t.userDataLoading,C=>{C===!1&&o(t.userData.my_emoji)});const u=(C,k)=>{const B=f.value[C];f.value.splice(C,1),f.value.splice(k,0,B)},[w,l]=nt(()=>({accept:"emojiImg",drop:()=>({name:"Dustbin"}),collect:C=>({isOver:C.isOver(),canDrop:C.canDrop()})})),{canDrop:b,isOver:c}=Le(w),D=K(()=>e(b)&&e(c)),M=K(()=>e(D)?s.value.tagColor:s.value.cardColor);function _(C){f.value.splice(C,1)}const O=z(!1);function N(C){O.value===!0&&f.value.splice(C,1)}const A=z(!1),E=z(""),j=K(()=>E.value?.split(/[\n,，]+/).filter(C=>C!=""));function v(){A.value=!1;const C=j.value.map((k,B)=>({emojiSrc:k,id:B+f.value.length}));f.value=f.value.concat(C),E.value=""}function L(){let C=f.value.map(k=>k.emojiSrc);C=C.filter((k,B)=>C.indexOf(k)===B),f.value=C.map((k,B)=>({emojiSrc:k,id:B}))}function P(){A.value===!0&&v();const C={binggan:t.binggan,my_emoji:f.value.map(k=>k.emojiSrc),emoji_excluded:p.value};F(C)}const{loading:S,send:F,onSuccess:$}=ee(C=>Mt(C),{immediate:!1,initialData:[]});$(()=>t.refreshUserData());function I(){d.value?.show(f.value.map(C=>C.emojiSrc).join(`,
`),"我的表情包")}return(C,k)=>(x(),U(e(T),{vertical:""},{default:n(()=>[i(e(Y),{title:"官方表情包",size:"small"},{"header-extra":n(()=>[i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...k[5]||(k[5]=[m("可以关闭不想要的表情包",-1)])]),_:1})]),default:n(()=>[i(e(it),{value:r.value,"onUpdate:value":k[0]||(k[0]=B=>r.value=B)},{default:n(()=>[i(e(T),{size:"small"},{default:n(()=>[(x(!0),W(V,null,te(e(qe),B=>(x(),U(e(ht),{value:B.id,label:B.name},null,8,["value","label"]))),256))]),_:1})]),_:1},8,["value"])]),_:1}),i(e(Y),{title:"我的表情包",size:"small"},{"header-extra":n(()=>[i(e(T),{size:"small",align:"center",wrap:!0},{default:n(()=>[i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...k[6]||(k[6]=[m("可拖拽排序",-1)])]),_:1}),i(e(R),{onClick:L},{default:n(()=>[...k[7]||(k[7]=[m("去重",-1)])]),_:1}),A.value?X("",!0):(x(),U(e(R),{key:0,type:"primary",onClick:k[1]||(k[1]=B=>A.value=!0)},{default:n(()=>[...k[8]||(k[8]=[m("追加",-1)])]),_:1}))]),_:1})]),default:n(()=>[i(e(T),{size:"small",style:{"margin-bottom":"6px"}},{default:n(()=>[i(e(Z),{value:O.value,"onUpdate:value":k[2]||(k[2]=B=>O.value=B)},null,8,["value"]),k[9]||(k[9]=h("span",null,"启用点击删除功能",-1))]),_:1}),i(e(T),{size:"small",style:{"touch-action":"none"}},{default:n(()=>[(x(!0),W(V,null,te(f.value,(B,_e)=>(x(),U(An,{key:B.id,emojiSrc:B.emojiSrc,index:_e,onClick:pt=>N(_e),onMoveCard:u,onDeleteEmoji:_},null,8,["emojiSrc","index","onClick"]))),128))]),_:1}),h("div",{ref:e(l),class:"emoji-trash",style:Q({backgroundColor:M.value})},[i(e(y),{depth:3},{default:n(()=>[...k[10]||(k[10]=[m("拖到这里删除",-1)])]),_:1}),i(e(st),{size:28},{default:n(()=>[i(e(tn))]),_:1})],4)]),_:1}),A.value?(x(),U(e(Y),{key:0,title:"待追加的表情包",size:"small",class:"dash-line"},{"header-extra":n(()=>[i(e(T),{size:"small"},{default:n(()=>[i(e(R),{type:"primary",onClick:v},{default:n(()=>[...k[11]||(k[11]=[m("追加",-1)])]),_:1}),i(e(R),{type:"default",onClick:k[3]||(k[3]=B=>{A.value=!1,E.value=""})},{default:n(()=>[...k[12]||(k[12]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(T),{size:"small"},{default:n(()=>[(x(!0),W(V,null,te(j.value,(B,_e,pt)=>(x(),W("div",Fn,[h("img",{src:B,class:"emoji-in-box"},null,8,Bn)]))),256))]),_:1}),i(e(be),{type:"textarea",value:E.value,"onUpdate:value":k[4]||(k[4]=B=>E.value=B),placeholder:"在这里贴网址追加表情包。可以一次多个，每行一个。",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})):X("",!0),i(e(T),{align:"center",justify:"end"},{default:n(()=>[i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...k[13]||(k[13]=[m("上面所有变更都要提交后才生效喔",-1)])]),_:1}),i(e(R),{onClick:I},{default:n(()=>[...k[14]||(k[14]=[m("导出",-1)])]),_:1}),i(e(R),{onClick:P,type:"primary",loading:e(S),disabled:e(S)},{default:n(()=>[...k[15]||(k[15]=[m("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1}),i(Hn,{ref_key:"ExportEmojiModalCom",ref:d},null,512)]),_:1}))}}),qn=je(Wn,[["__scopeId","data-v-7a5725ef"]]),Yn={class:"income-item"},Xn={style:{"margin-left":"auto"}},Vn={key:0,style:{"margin-top":"6px"}},ve=30,Kn=G({__name:"TabIncome",setup(g){xe($=>({f2e6aaa0:e(s).dividerColor})),ie();const t=ne();Re(),Ie(),Pe();const s=Se(),d=z([le.tz().valueOf(),le.tz().valueOf()]),a=z({pageSize:ve}),r=[{title:"时间",key:"created_at",resizable:!0},{title:"收支",key:"olo",resizable:!0},{title:"内容",key:"content",resizable:!0},{title:"主题",key:"thread",render:F,ellipsis:!0,resizable:!0}],p=K(()=>E.value?[{label:"加载中...",key:"loading"}]:[{label:"当月统计："+j.value.sum_month,key:"monthSum"},{label:"全年统计："+j.value.sum_year,key:"yearSum"}]),f=["default_in","default_out","battle_in","battle_out","hongbao_in","hongbao_out","reward_out","reward_in","gamble_out","gamble_in","bank_in","bank_out","post","penalty"],o=[{label:"全部",value:"all"}],u=[{label:"回帖",value:"post"},{label:"乱斗",value:"battle_in"},{label:"红包",value:"hongbao_in"},{label:"打赏",value:"reward_in"},{label:"菠菜",value:"gamble_in"},{label:"粮仓",value:"bank_in"},{label:"其他",value:"default_in"}],w=[{label:"乱斗",value:"battle_out"},{label:"红包",value:"hongbao_out"},{label:"打赏",value:"reward_out"},{label:"菠菜",value:"gamble_out"},{label:"粮仓",value:"bank_out"},{label:"罚款",value:"penalty"},{label:"其他",value:"default_out"}],l=z(["all"]);function b($){return ue(it,{value:l.value,"onUpdate:value":I=>{const C=I.filter(B=>!l.value.includes(B)),k=l.value.filter(B=>!I.includes(B));C.includes("all")?l.value=["all"]:k.includes("all")?l.value=f:C.length!==0&&!C.includes("all")?l.value=I.filter(B=>B!=="all"):k.length!==0&&I.length===0?l.value=["all"]:l.value=I}},()=>[ue(T,{style:"padding:6px 8px",vertical:!0},()=>[Array.from($).map(I=>ue(zt,{value:I.value,label:I.label}))])])}const c=[{key:"filterOptions",type:"render",render:()=>b(o)},{label:"📈收入",key:"in",children:[{key:"filterOptionsIn",type:"render",render:()=>b(u)}]},{label:"📉支出",key:"out",children:[{key:"filterOptionsOut",type:"render",render:()=>b(w)}]}];function D($){return le().add(1,"day").isBefore($)||le(16409664e5).isAfter($)}const M=z(1),_=K(()=>(M.value-1)*ve),{loading:O,data:N,send:A}=ee($=>Ot($),{immediate:!1,initialData:[]}),{loading:E,data:j,send:v}=ee($=>Lt($),{immediate:!1,initialData:{sum_year:0,sum_month:0}}),L=K(()=>N.value.map($=>$.olo).reduce(($,I)=>$+I,0));Ue([d,l],()=>P("day")),ct(()=>P("day"));function P($){if(d.value===null)window.$message.error("需要选择日期");else{const I={start_ts:d.value[0],end_ts:d.value[1],type:l.value.includes("all")?null:l.value};$==="day"&&A(I),$==="sum"&&v(I)}}function S($){return{name:"thread",params:{threadId:$.thread_id,page:$.floor===null?1:Math.ceil(($.floor+1)/200)},hash:$.floor===null?void 0:"#f_"+$.floor}}function F($,I){return $.thread_id!==null?ue(Fe,{to:S($),target:"_blank",innerHTML:$.thread_title}):""}return($,I)=>(x(),U(e(T),{size:"small"},{default:n(()=>[i(e(et),{value:d.value,"onUpdate:value":I[0]||(I[0]=C=>d.value=C),type:"daterange","update-value-on-close":"",size:e(t).isMobile?"small":"medium","is-date-disabled":D,style:{"max-width":"300px"}},null,8,["value","size"]),i(e(He),{trigger:e(t).isMobile?"click":"hover",options:c,placement:"bottom-start"},{default:n(()=>[i(e(R),null,{default:n(()=>[...I[4]||(I[4]=[m("筛选",-1)])]),_:1})]),_:1},8,["trigger"]),i(e(R),{type:"primary",onClick:I[1]||(I[1]=C=>P("day")),loading:e(O)},{default:n(()=>[...I[5]||(I[5]=[m(" 查询 ",-1)])]),_:1},8,["loading"]),i(e(Y),{title:"收支记录",size:"small"},{"header-extra":n(()=>[i(e(T),{size:"small",align:"center"},{default:n(()=>[m(" 区间小计："+q(L.value)+" ",1),i(e(He),{trigger:"click",placement:"bottom-end",options:p.value},{default:n(()=>[i(e(R),{size:"small",onClick:I[2]||(I[2]=C=>P("sum"))},{default:n(()=>[...I[6]||(I[6]=[m("月年总计",-1)])]),_:1})]),_:1},8,["options"])]),_:1})]),default:n(()=>[e(t).isMobile?X("",!0):(x(),U(e($e),{key:0,columns:r,data:e(N),pagination:a.value,bordered:!1,loading:e(O)},null,8,["data","pagination","loading"])),e(t).isMobile?(x(),W(V,{key:1},[e(N).length>0?(x(),U(e(T),{key:0,vertical:"",align:"start",size:"small"},{default:n(()=>[(x(!0),W(V,null,te(e(N).slice(_.value,_.value+ve),C=>(x(),W("div",Yn,[i(e(T),null,{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...I[7]||(I[7]=[m("时间：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(C.created_at),1)]),_:2},1024)]),h("div",Xn,[i(e(y),{depth:3},{default:n(()=>[...I[8]||(I[8]=[m("收支：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(C.olo),1)]),_:2},1024)])]),_:2},1024),i(e(T),{style:{"margin-top":"6px"}},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...I[9]||(I[9]=[m("内容：",-1)])]),_:1}),i(e(y),null,{default:n(()=>[m(q(C.content),1)]),_:2},1024)])]),_:2},1024),C.thread_id!==null?(x(),W("div",Vn,[i(e(y),{depth:3},{default:n(()=>[...I[10]||(I[10]=[m("主题：",-1)])]),_:1}),i(e(Fe),{to:S(C)},{default:n(()=>[m(q(C.thread_title),1)]),_:2},1032,["to"])])):X("",!0)]))),256)),i(e(Ze),{page:M.value,"onUpdate:page":I[3]||(I[3]=C=>M.value=C),"item-count":e(N).length,"page-size":ve,size:"small",style:{"margin-left":"auto"}},null,8,["page","item-count"])]),_:1})):(x(),U(e(Qe),{key:1}))],64)):X("",!0)]),_:1})]),_:1}))}}),Gn=je(Kn,[["__scopeId","data-v-bd174d32"]]),Jn={key:0},Zn={key:0,style:{"margin-left":"auto"}},Qn={key:1,style:{"margin-left":"auto"}},ei=G({__name:"TabLevelup",setup(g){const t=ie(),s=ne(),d=z(!1),a=z(!1),r={title_pingbici:{name:"标题屏蔽词",min:1e3,max:4e3,intervel:200,olo:4e3},content_pingbici:{name:"内容屏蔽词",min:1e3,max:4e3,intervel:200,olo:4e3},fjf_pingbici:{name:"FJF黑名单",min:1e3,max:4e3,intervel:200,olo:4e3},my_emoji:{name:"我的表情包",min:5e3,max:3e4,intervel:1e3,olo:2e4},my_battle_chara:{name:"大乱斗角色",min:0,max:3,intervel:1,olo:5e4}},p=[{title:"项目",key:"name",resizable:!0},{title:"目前容量",key:"value",resizable:!0},{title:"操作",key:"controller",render:o,resizable:!0}],f=K(()=>[{name:"标题屏蔽词",value:l.value.title_pingbici,mode:"title_pingbici"},{name:"内容屏蔽词",value:l.value.content_pingbici,mode:"content_pingbici"},{name:"FJF黑名单",value:l.value.fjf_pingbici,mode:"fjf_pingbici"},{name:"我的表情包",value:l.value.my_emoji,mode:"my_emoji"},{name:"大乱斗角色",value:l.value.my_battle_chara,mode:"my_battle_chara"}]);function o(A){return ue(R,{onClick:()=>D(A.mode),size:"tiny",type:"success",innerHTML:"升级"})}const u={title_pingbici:0,content_pingbici:0,fjf_pingbici:0,my_emoji:0,my_battle_chara:0},{loading:w,data:l,send:b}=ee(A=>It(A),{immediate:!1,initialData:u});t.binggan!==null&&b({binggan:t.binggan});const c=z("title_pingbici");function D(A){c.value=A,a.value=!0}const{loading:M,send:_,onSuccess:O}=ee(A=>Pt(A),{immediate:!1});O(()=>{t.refreshUserData(),b({binggan:t.binggan}),a.value=!1});function N(A){const E={binggan:t.binggan,mode:A};_(E)}return(A,E)=>(x(),U(e(T),{vertical:""},{default:n(()=>[i(e(Y),{title:"升级饼干",size:"small"},{"header-extra":n(()=>[i(e(y),{depth:3},{default:n(()=>[E[8]||(E[8]=m(" 说明：可支付olo升级饼干，",-1)),e(s).isMobile?(x(),W("br",Jn)):X("",!0),E[9]||(E[9]=m("增加屏蔽词、表情包等的容量。 ",-1))]),_:1})]),default:n(()=>[i(e($e),{columns:p,data:f.value,bordered:!1,loading:e(w)},null,8,["data","loading"])]),_:1}),i(e(T),{size:"small"},{default:n(()=>[i(e(R),{onClick:E[0]||(E[0]=j=>d.value=!0)},{default:n(()=>[...E[10]||(E[10]=[m("查看价格表",-1)])]),_:1})]),_:1}),i(e(re),{show:d.value,"onUpdate:show":E[3]||(E[3]=j=>d.value=j),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),title:"升级饼干价目表",closable:"",onClose:E[2]||(E[2]=j=>d.value=!1),size:"small"},{action:n(()=>[i(e(T),{justify:"end"},{default:n(()=>[i(e(R),{onClick:E[1]||(E[1]=j=>d.value=!1)},{default:n(()=>[...E[11]||(E[11]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[E[12]||(E[12]=h("img",{src:"https://wmimg.com/i/1547/2025/02/67adf151e06c9.png",style:{"max-width":"100%"}},null,-1))]),_:1},8,["style"])]),_:1},8,["show"]),i(e(re),{show:a.value,"onUpdate:show":E[7]||(E[7]=j=>a.value=j),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),title:"升级饼干",closable:"",onClose:E[6]||(E[6]=j=>a.value=!1),size:"small"},{action:n(()=>[i(e(T),{justify:"end"},{default:n(()=>[i(e(R),{type:"primary",disabled:e(l)[c.value]>=r[c.value].max||e(M),loading:e(M),onClick:E[4]||(E[4]=j=>N(c.value))},{default:n(()=>[...E[17]||(E[17]=[m("升级！",-1)])]),_:1},8,["disabled","loading"]),i(e(R),{onClick:E[5]||(E[5]=j=>a.value=!1)},{default:n(()=>[...E[18]||(E[18]=[m("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[i(e(T),{vertical:"",size:"small"},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...E[13]||(E[13]=[m("项目：",-1)])]),_:1}),h("span",null,q(r[c.value].name),1)]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...E[14]||(E[14]=[m("升级容量：",-1)])]),_:1}),h("span",null," +"+q(r[c.value].intervel)+" "+q(c.value==="my_battle_chara"?"角色槽":"字符"),1)]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...E[15]||(E[15]=[m("最大容量：",-1)])]),_:1}),h("span",null,q(r[c.value].max)+" "+q(c.value==="my_battle_chara"?"角色槽":"字符"),1)]),h("div",null,[i(e(y),{depth:3},{default:n(()=>[...E[16]||(E[16]=[m("本次消费：",-1)])]),_:1}),i(e(y),{type:"warning"},{default:n(()=>[m(q(r[c.value].olo)+" 个olo",1)]),_:1})]),e(l)[c.value]>=r[c.value].max?(x(),W("span",Zn,"嗷，这个项目已经塞满了！无法继续升级。")):(x(),W("span",Qn,"确定要升级这个项目吗？"))]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}}),Me={1:{name:"好的开始是成功的一半",describe:"拥有10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac56d523730.png"},2:{name:"千仓万箱",describe:"拥有50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac56d51f77b.png"},3:{name:"财富自由",describe:"拥有100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac56d525d98.png"},4:{name:"锅中首富",describe:"拥有500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac56d536c09.png"},10:{name:"你的赌技从914到419，无人不知无人不晓",describe:"获得全部大乱斗成就",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67adf165b1c74.png"},11:{name:"一鸣惊人",describe:"通过大乱斗获得5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac579910aa7.png"},12:{name:"常胜将军",describe:"通过大乱斗获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac579911fea.png"},13:{name:"赌仙在世",describe:"通过大乱斗获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5799131be.png"},14:{name:"今夜做梦也会笑",describe:"通过大乱斗获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac57994db3b.png"},15:{name:"赌场收割者",describe:"通过大乱斗获得1000w个olo",threshold:1e7,img:"https://wmimg.com/i/1547/2025/02/67ac5799460b4.png"},16:{name:"没能让大人玩得尽兴真是抱歉",describe:"通过大乱斗获得1亿个olo（哇）",threshold:1e8,img:"https://wmimg.com/i/1547/2025/02/67adf207457de.png"},21:{name:"出师不利",describe:"由于大乱斗失去5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac5807e03e7.png"},22:{name:"一败涂地",describe:"由于大乱斗失去10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5807df0a7.png"},23:{name:"家徒四壁",describe:"由于大乱斗失去50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5807e022b.png"},24:{name:"倾家荡产",describe:"由于大乱斗失去100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5807e556c.png"},25:{name:"空中飞人",describe:"由于大乱斗失去1000w个olo",threshold:1e7,img:"https://wmimg.com/i/1547/2025/02/67ac5807e89f4.png"},26:{name:"进数码缅北，割赛博腰子",describe:"由于大乱斗失去1亿个olo（嗷..）",threshold:1e8,img:"https://wmimg.com/i/1547/2025/02/67adf2074feb7.png"},31:{name:"天降横财",describe:"通过红包获得5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac58734520b.png"},32:{name:"时来运转",describe:"通过红包获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac58735a3df.png"},33:{name:"鸿运当头",describe:"通过红包获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac587353008.png"},34:{name:"天选之子",describe:"通过红包获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac587355efa.png"},35:{name:"金玉满堂",describe:"通过红包获得500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac58735bbae.png"},41:{name:"元元之民",describe:"派发红包合计5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac58f4ce626.png"},42:{name:"乐善好施",describe:"派发红包合计10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac58f4b4bf2.png"},43:{name:"行善积德",describe:"派发红包合计50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cecc4.png"},44:{name:"有钱就是任性",describe:"派发红包合计100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cf827.png"},45:{name:"普度众生",describe:"派发红包合计500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cfa4f.png"},51:{name:"无人在意",describe:"发起大乱斗没人接",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac59564c9a6.png"},61:{name:"手滑了一下",describe:"删了一个楼",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac59965e0e3.png"},81:{name:"轻轻松松",describe:"发表了1000个回帖",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac59e1364f7.png"},82:{name:"小菜一碟",describe:"发表了5000个回帖",threshold:5e3,img:"https://wmimg.com/i/1547/2025/02/67ac59d68d455.png"},83:{name:"火锅劳模",describe:"发表了1w个回帖",threshold:1e4,img:"https://wmimg.com/i/1547/2025/02/67ac59d6bf0c6.png"},84:{name:"决战紫禁之巅",describe:"发表了5w个回帖",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac59d6c9d80.png"},85:{name:"火锅有你了不起",describe:"发表了10w个回帖",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac59d6cc83e.png"},111:{name:"双赢才是最好的",describe:"大乱斗平局",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac5a1e8fe3c.png"},141:{name:"我要变强",describe:"饼干升到5级",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c3dc8.png"},142:{name:"潮到出水",describe:"饼干升到10级",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c6546.png"},143:{name:"表情包大户",describe:"饼干升到20级",threshold:20,img:"https://wmimg.com/i/1547/2025/02/67ac5a41cdaf7.png"},144:{name:"神仙饼干",describe:"饼干升到40级",threshold:40,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c2650.png"},161:{name:"得来全不费功夫",describe:"通过打赏获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a0c02.png"},162:{name:"得道多助",describe:"通过打赏获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5a79525fd.png"},163:{name:"全凭本事",describe:"通过打赏获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a227a.png"},164:{name:"嘀——全款已到账",describe:"通过打赏获得200w个olo",threshold:2e6,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a576a.png"},171:{name:"种瓜得瓜",describe:"打赏出去10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5ac11b503.png"},172:{name:"手有余香",describe:"打赏出去50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16bd3c.png"},173:{name:"春蚕蜡炬",describe:"打赏出去100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16dfd6.png"},174:{name:"羽化飞升",describe:"打赏出去200w个olo",threshold:2e6,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16d324.png"},221:{name:"喜鹊落枝头",describe:"连续赢得3次大乱斗",threshold:3,img:"https://wmimg.com/i/1547/2025/02/67ac5b384cc45.png"},222:{name:"春风得意马蹄疾",describe:"连续赢得5次大乱斗",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5b37ef849.png"},223:{name:"福无双至今日至",describe:"连续赢得8次大乱斗",threshold:8,img:"https://wmimg.com/i/1547/2025/02/67ac5b3847665.png"},224:{name:"紫气东来保你发财",describe:"连续赢得10次大乱斗",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5b384ce4b.png"},231:{name:"脚踩瓜皮",describe:"连续输掉3次大乱斗",threshold:3,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d3d36.png"},232:{name:"凉水塞牙",describe:"连续输掉5次大乱斗",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d49bf.png"},233:{name:"点背不能怨社会",describe:"连续输掉8次大乱斗",threshold:8,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d35e7.png"},234:{name:"人生不如意十有八九",describe:"连续输掉10次大乱斗",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d9b56.png"},241:{name:"日进斗金",describe:"粮仓存粮5w",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac5bb67277c.png"},242:{name:"堆金积玉",describe:"粮仓存粮10w",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6950c6.png"},243:{name:"富甲一方",describe:"粮仓存粮30w",threshold:3e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6aa9b4.png"},244:{name:"腰缠万贯",describe:"粮仓存粮50w",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6ac0f3.png"},245:{name:"富有四海",describe:"粮仓存粮100w",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6b345a.png"},271:{name:"锣鼓喧天",describe:"发布1个大喇叭",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a39eba.png"},272:{name:"鞭炮齐鸣",describe:"发布10个大喇叭",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5c5aa1b40.png"},273:{name:"红旗招展",describe:"发布50个大喇叭",threshold:50,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a48a44.png"},274:{name:"人山人海",describe:"发布100个大喇叭",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a97ca9.png"}},Ge={52:{name:"透明人",describe:"发起大乱斗100次没人接",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5c912c4fc.png"},62:{name:"你是五嬷吗",describe:"进行了100次删楼",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5cabe47fb.png"},71:{name:"归零！",describe:"olo归零",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5cd7564a7.png"},91:{name:"万中有一",describe:"抢到第10000楼",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5cf92298c.png"},101:{name:"元元的爱",describe:"大乱斗掷出101点",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d207d9cb.png"},112:{name:"火锅之神也被你薅秃了",describe:"大乱斗平局100次",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5d40ebea9.png"},121:{name:"小火锅的负责人是个骗子",describe:"红包抢到0个olo",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d5661e30.png"},131:{name:"个人财产+1",describe:"申请1个定制饼干",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d6a3b080.png"},151:{name:"小火锅二周年",describe:"我们要一直在一起 — 至少十年吧！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5e518512e.png"},152:{name:"国庆节快乐",describe:"伟大的祖国节日快乐",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5da089b51.png"},153:{name:"龙年快乐",describe:"2024年小火锅龙年祝福",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5dafba36d.png"},154:{name:"小火锅三周年快乐~！",describe:"3.0也同时上线喔",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5e623e456.png"},155:{name:"小火锅3.0",describe:"诶？我来测试咒岛3.0？真的假的？！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5eb407ea4.png"},156:{name:"蛇年快乐",describe:"2025年小火锅蛇年祝福",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67adf2702ea00.png"},157:{name:"小火锅四周年！",describe:"要和我们玩一辈子nmq吗？",threshold:0,img:"https://wmimg.com/i/1547/2025/04/680e1e444e060.png"},158:{name:"八十周年阅兵纪念",describe:"中华民族万岁！",threshold:0,img:"https://wmimg.com/i/1547/2025/09/68b6dec371427.png"},181:{name:"皇家御用画宗",describe:"大触快教教我画画",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ecfaa6b8.png"},182:{name:"小火锅守护者",describe:"我来组成小火锅锅底！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ecf9f4b5.png"},183:{name:"小火锅终末旅行",describe:"既有开始，必有终结",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ee87bc2d.png"},201:{name:"ac娘",describe:"\\\\ ac娘，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1e7d5d2.png"},202:{name:"鹦鹉鸡",describe:"\\\\ 鹦鹉鸡，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1eeabbc.png"},203:{name:"咪子鱼",describe:"\\\\ 咪子鱼，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1eec3a5.png"},204:{name:"小黑猫",describe:"\\\\ 小黑猫，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f47f9f.png"},205:{name:"麻将脸",describe:"\\\\ 麻将脸，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f47a4d.png"},206:{name:"小恐龙",describe:"\\\\ 小恐龙，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edf0b5.png"},207:{name:"TD猫",describe:"\\\\ TD猫，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edf3f7.png"},208:{name:"小豆泥",describe:"\\\\ 小豆泥，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee7b93.png"},209:{name:"小企鹅",describe:"\\\\ 小企鹅，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee73d1.png"},210:{name:"小黄脸",describe:"\\\\ 小黄脸，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f43b86.png"},211:{name:"FUFU",describe:"\\\\ FUFU，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edc377.png"},212:{name:"小火锅第一届表情包萌",describe:"全军出击！",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f458fb.png"},213:{name:"燃起来了！",describe:"擦出爱的火花",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f4c6d7.png"},214:{name:"为冠军的小豆泥献上喝彩",describe:"尊贵的小豆泥陛下火遍全球天下第一帝锅",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee73f1.png"},215:{name:"当你凝视深渊时",describe:"深渊喵了一声",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde4533.png"},216:{name:"药水哥",describe:"\\\\ 药水哥，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde50c6.png"},280:{name:"吉伊卡哇",describe:"\\\\ 吉伊卡哇，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/06/68482bec31bc2.png"},217:{name:"小火锅第二届表情包萌",describe:"再来一次",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde38bc.png"},218:{name:"勇夺第一！",describe:"至少不要被淘汰",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde242e.png"},219:{name:"遗憾离场",describe:"希望还能回来",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde1447.png"},281:{name:"小火锅第三届表情包萌",describe:"第三次也该老练起来了吧",threshold:100,img:"https://wmimg.com/i/1547/2025/06/6846d2b7dad3c.png"},282:{name:"雄心壮志get",describe:"在可能获胜的道路上一路狂奔",threshold:1e3,img:"https://wmimg.com/i/1547/2025/06/6846d2b7c9d00.png"},283:{name:"并非离开",describe:"我们WB再见",threshold:0,img:"https://wmimg.com/i/1547/2025/06/685823283f71c.png"},284:{name:"世界第一的公主殿下",describe:"那我的一切，就都有了意义",threshold:0,img:"https://wmimg.com/i/1547/2025/06/685807cd2008d.png"},251:{name:"今朝有米今朝吃",describe:"明日无米啃枯枝（提前开仓累计30w）",threshold:3e5,img:"https://wmimg.com/i/1547/2025/02/67ac602c39365.png"},261:{name:"小火锅第一届出道萌",describe:"出道萌投票100票",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac6078074a3.png"},262:{name:"成为大家的爱豆",describe:"出道萌投票1000票",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac6077f2162.png"},263:{name:"药药切克闹",describe:"民推之光药水哥",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac6078084ac.png"},264:{name:"小火锅第二届出道萌",describe:"出道萌投票100票",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac60deb67be.png"},265:{name:"我会回来的！",describe:"出道萌投票1000票",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac60deab3b5.png"},266:{name:"他如闪电般归来",describe:"药水哥回到他忠诚的小火锅",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac60deca4e7.png"},270:{name:"吼那么大声干嘛啦",describe:"撤回一个大喇叭",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac61081b481.png"}},ti=["src"],ni=["src"],ii=["src"],si=["src"],ai=["src"],li=G({__name:"TabMedal",setup(g){xe(_=>({"0adc9ec8":e(p)}));const t=ie(),s=ne(),d=z(!1),a=z(),r=z(!1),p=s.isMobile?"0.70rem":"0.875rem",f=K(()=>{if(!l.value)return[];const _=[];for(const O in Me){const N=l.value.includes(Number(O));(r.value||N)&&_.push({...Me[O],id:Number(O),hasMedal:N,img:N?Me[O].img:"https://wmimg.com/i/1547/2025/02/67adf16c41bd5.png"})}return _}),o=K(()=>{if(!l.value)return[];const _=[];for(const O in Ge){const N=l.value.includes(Number(O));N&&_.push({...Ge[O],id:Number(O),hasMedal:N})}return _});function u(_){a.value=_,d.value=!0;const O={binggan:t.binggan,medal_id:_.id};M(O)}const{loading:w,data:l,send:b}=ee(_=>$t(_),{immediate:!1,initialData:[]});t.binggan!==null&&b({binggan:t.binggan});const{loading:c,data:D,send:M}=ee(_=>Ut(_),{immediate:!1});return(_,O)=>(x(),U(e(T),{vertical:""},{default:n(()=>[i(e(Be),{show:e(w)},{default:n(()=>[i(e(Y),{title:"成就徽章",size:"small"},{"header-extra":n(()=>[i(e(Z),{value:r.value,"onUpdate:value":O[0]||(O[0]=N=>r.value=N)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...O[3]||(O[3]=[m("显示未获得的成就 ",-1)])]),_:1})]),default:n(()=>[!e(s).isMobile&&o.value.length>0?(x(),U(e(T),{key:0,size:[4,0]},{default:n(()=>[(x(!0),W(V,null,te(o.value,N=>(x(),U(e(T),{vertical:"",align:"center",class:"medal-box",onClick:A=>u(N)},{default:n(()=>[h("img",{src:N.img,class:"medal-img"},null,8,ti),i(e(y),{class:"medal-text"},{default:n(()=>[m(q(N.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0),e(s).isMobile&&o.value.length>0?(x(),U(e(ce),{key:1,"x-gap":"4",cols:5},{default:n(()=>[(x(!0),W(V,null,te(o.value,N=>(x(),U(e(oe),{align:"center",class:"medal-box-mobile",onClick:A=>u(N)},{default:n(()=>[h("img",{src:N.img,class:"medal-img-mobile"},null,8,ni),i(e(y),{class:"medal-text"},{default:n(()=>[m(q(N.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0),e(s).isMobile?X("",!0):(x(),U(e(T),{key:2,size:[4,0]},{default:n(()=>[(x(!0),W(V,null,te(f.value,N=>(x(),U(e(T),{vertical:"",align:"center",class:"medal-box",onClick:A=>u(N)},{default:n(()=>[h("img",{src:N.img,class:"medal-img"},null,8,ii),i(e(y),{class:"medal-text"},{default:n(()=>[m(q(N.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})),e(s).isMobile?(x(),U(e(ce),{key:3,"x-gap":"4",cols:5},{default:n(()=>[(x(!0),W(V,null,te(f.value,N=>(x(),U(e(oe),{align:"center",class:"medal-box-mobile",onClick:A=>u(N)},{default:n(()=>[h("img",{src:N.img,class:"medal-img-mobile"},null,8,si),i(e(y),{class:"medal-text"},{default:n(()=>[m(q(N.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0)]),_:1})]),_:1},8,["show"]),i(e(re),{show:d.value,"onUpdate:show":O[2]||(O[2]=N=>d.value=N),"display-directive":"if"},{default:n(()=>[i(e(Y),{style:Q({maxWidth:e(s).modalMaxWidth}),closable:"",onClose:O[1]||(O[1]=N=>d.value=!1),size:"small"},{default:n(()=>[i(e(T),{vertical:"",align:"center",class:"medal-box-modal"},{default:n(()=>[h("img",{src:a.value?.img,style:{"max-width":"100%"}},null,8,ai),i(e(y),{style:{"font-size":"1rem"}},{default:n(()=>[m(q(a.value?.name),1)]),_:1}),i(e(y),{style:{"font-size":"1rem"}},{default:n(()=>[m(q(a.value?.describe),1)]),_:1}),i(e(Be),{show:e(c)},{default:n(()=>[e(D)!==void 0||!e(c)?(x(),W(V,{key:0},[e(D).medal_created_at!==null?(x(),U(e(y),{key:0,style:{"font-size":"1rem"}},{default:n(()=>[m(q(e(D).medal_created_at),1)]),_:1})):X("",!0),e(D).medal_created_at===null&&e(D).progress!==null?(x(),U(e(y),{key:1,style:{"font-size":"1rem"}},{default:n(()=>[m(q(e(D).progress)+" / "+q(e(D).threshold),1)]),_:1})):X("",!0)],64)):X("",!0)]),_:1},8,["show"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}}),oi=G({__name:"TabPassword",setup(g){const t=ie(),s=ne(),d=z(null),a=z({passwordOld:null,passwordNew:null,passwordRepeat:null}),r={passwordOld:{required:!1},passwordNew:{required:!0,validator:(w,l)=>{const b=/^[a-zA-Z0-9_]+$/;if(l===null)return new Error("请输入密码");if(b.test(l)){if(l.length<7)return new Error("最少需要7个字符");if(l.length>20)return new Error("最多20个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},passwordRepeat:{required:!0,validator:(w,l)=>l===a.value.passwordNew,message:"密码不一致",trigger:"blur"}},{loading:p,send:f,onSuccess:o}=ee(w=>jt(w),{immediate:!1});o(()=>{a.value.passwordOld=null,a.value.passwordNew=null,a.value.passwordRepeat=null});function u(){d.value?.validate(w=>{if(w)window.$message.error("请确认信息填写完整");else{const l={binggan:t.binggan,old_password:a.value.passwordOld,new_password:a.value.passwordNew};f(l)}})}return(w,l)=>(x(),U(e(Y),{title:"密码设定",size:"small"},{default:n(()=>[i(e(T),{vertical:""},{default:n(()=>[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...l[3]||(l[3]=[m("说明：",-1)])]),_:1}),l[4]||(l[4]=h("span",null,"新饼干无密码。建议尽快设定密码，以免饼干遗失。",-1))]),i(e(ye),{ref_key:"formRef",ref:d,model:a.value,"label-placement":"left","label-width":"auto",style:{"max-width":"400px"},rules:r,size:e(s).isMobile?"small":"medium"},{default:n(()=>[i(e(H),{label:"旧密码",path:"passwordOld"},{default:n(()=>[i(e(se),{value:a.value.passwordOld,"onUpdate:value":l[0]||(l[0]=b=>a.value.passwordOld=b),placeholder:"(选填)如果未设定密码可以留空",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),i(e(H),{label:"密码",path:"passwordNew"},{default:n(()=>[i(e(se),{value:a.value.passwordNew,"onUpdate:value":l[1]||(l[1]=b=>a.value.passwordNew=b),placeholder:"7~20个字符(字母、数字、下划线)",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),i(e(H),{label:"重复密码",path:"passwordRepeat"},{default:n(()=>[i(e(se),{value:a.value.passwordRepeat,"onUpdate:value":l[2]||(l[2]=b=>a.value.passwordRepeat=b),placeholder:"再次输入密码",type:"password",maxlength:20,minlength:7,"show-password-on":"click",onKeyup:tt(u,["enter"])},null,8,["value"])]),_:1})]),_:1},8,["model","size"]),i(e(T),{size:"small",align:"center"},{default:n(()=>[i(e(R),{type:"primary",loading:e(p),disabled:e(p),onClick:u},{default:n(()=>[...l[5]||(l[5]=[m("提交",-1)])]),_:1},8,["loading","disabled"]),i(e(y),{depth:3},{default:n(()=>[...l[6]||(l[6]=[m("请务必保存好新密码喔",-1)])]),_:1})]),_:1})]),_:1})]),_:1}))}}),ri=G({__name:"TabPingbici",setup(g){const t=ie(),s=ne();z(null);const d=z({content_pingbici:[],title_pingbici:[],fjf_pingbici:[]}),a=z(t.userData.binggan.use_pingbici);t.userLoginStatus===!0&&(d.value=t.userData.pingbici,a.value=t.userData.binggan.use_pingbici),Ue(()=>t.userDataLoading,w=>{w===!1&&(d.value=t.userData.pingbici,a.value=t.userData.binggan.use_pingbici)});function r(w){d.value[w]=d.value[w].filter((l,b)=>d.value[w].indexOf(l)===b)}function p(){const w={binggan:t.binggan,use_pingbici:a.value,...d.value};o(w)}const{loading:f,send:o,onSuccess:u}=ee(w=>Rt(w),{immediate:!1,initialData:[]});return u(()=>t.refreshUserData()),(w,l)=>(x(),U(e(T),{vertical:""},{default:n(()=>[i(e(Y),{title:"标题屏蔽词",size:"small"},{"header-extra":n(()=>[i(e(R),{onClick:l[1]||(l[1]=b=>r("title_pingbici"))},{default:n(()=>[...l[9]||(l[9]=[m("去重",-1)])]),_:1})]),default:n(()=>[i(e(Te),{value:d.value.title_pingbici,"onUpdate:value":l[0]||(l[0]=b=>d.value.title_pingbici=b),"input-props":{maxlength:20}},null,8,["value"])]),_:1}),i(e(Y),{title:"内容屏蔽词",size:"small"},{"header-extra":n(()=>[i(e(R),{onClick:l[3]||(l[3]=b=>r("content_pingbici"))},{default:n(()=>[...l[10]||(l[10]=[m("去重",-1)])]),_:1})]),default:n(()=>[i(e(Te),{value:d.value.content_pingbici,"onUpdate:value":l[2]||(l[2]=b=>d.value.content_pingbici=b),"input-props":{maxlength:20}},null,8,["value"])]),_:1}),i(e(Y),{title:"FJF小尾巴和固马屏蔽词",size:"small"},{"header-extra":n(()=>[i(e(R),{onClick:l[5]||(l[5]=b=>r("fjf_pingbici"))},{default:n(()=>[...l[12]||(l[12]=[m("去重",-1)])]),_:1})]),default:n(()=>[i(e(Te),{value:d.value.fjf_pingbici,"onUpdate:value":l[4]||(l[4]=b=>d.value.fjf_pingbici=b),"input-props":{maxlength:10}},null,8,["value"]),i(e(y),{depth:3,style:{"font-size":"0.875rem"}},{default:n(()=>[...l[11]||(l[11]=[m("注意：同一个饼干在不同FJF主题中，小尾巴会改变",-1)])]),_:1})]),_:1}),i(e(T),{align:"center",justify:"start"},{default:n(()=>[i(e(he),{trigger:"hover"},{trigger:n(()=>[h("div",null,[i(e(Z),{value:e(s).userCustom.hidePingbiciFloor,"onUpdate:value":l[6]||(l[6]=b=>e(s).userCustom.hidePingbiciFloor=b)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...l[13]||(l[13]=[m("完全隐藏楼层 ",-1)])]),_:1})])]),default:n(()=>[l[14]||(l[14]=h("span",null,"这个保存在本地，不用点提交",-1))]),_:1}),i(e(he),{trigger:"hover"},{trigger:n(()=>[h("div",null,[i(e(Z),{value:e(s).userCustom.pingbiciIngnoreCase,"onUpdate:value":l[7]||(l[7]=b=>e(s).userCustom.pingbiciIngnoreCase=b)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...l[15]||(l[15]=[m("忽略大小写 ",-1)])]),_:1})])]),default:n(()=>[l[16]||(l[16]=h("span",null,"这个保存在本地，不用点提交",-1))]),_:1})]),_:1}),i(e(T),{align:"center",justify:"end"},{default:n(()=>[i(e(he),{trigger:"hover"},{trigger:n(()=>[h("div",null,[i(e(Z),{value:a.value,"onUpdate:value":l[8]||(l[8]=b=>a.value=b)},null,8,["value"]),i(e(y),{style:{"margin-left":"6px"}},{default:n(()=>[...l[17]||(l[17]=[m("启用 ",-1)])]),_:1})])]),default:n(()=>[l[18]||(l[18]=h("span",null,"关闭屏蔽词功能，可以提升一点性能",-1))]),_:1}),i(e(R),{type:"primary",onClick:p,loading:e(f),disabled:e(f)},{default:n(()=>[...l[19]||(l[19]=[m("提交",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1}))}}),di={style:{display:"flex","align-items":"center",gap:"4px"}},ui=G({__name:"UserCard",setup(g){const t=ie(),s=ne(),d=z(!0);function a(){Ae(t.binggan),window.$message.success("已将饼干复制到粘贴板，请保存好喔！")}return t.refreshUserData(),(r,p)=>(x(),U(e(Y),{hoverable:"",size:"small"},{default:n(()=>[i(e(T),{justify:"space-around",vertical:e(s).isMobile,size:e(s).isMobile?"small":"medium"},{default:n(()=>[i(e(T),{vertical:!e(s).isMobile,align:"start"},{default:n(()=>[p[2]||(p[2]=h("img",{src:"/ui/my-binggan.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...p[1]||(p[1]=[m("我的饼干",-1)])]),_:1})]),h("div",di,[i(e(y),{depth:2,style:Q({fontSize:e(s).isMobile?"0.875rem":"1rem",cursor:d.value?"pointer":"auto"}),onClick:p[0]||(p[0]=f=>d.value=!1)},{default:n(()=>[m(q(d.value?"*点击显示*":e(t).binggan),1)]),_:1},8,["style"]),i(e(st),{size:e(s).isMobile?18:20},{default:n(()=>[i(e(Vt),{style:{cursor:"pointer"},onClick:a})]),_:1},8,["size"])])])]),_:1},8,["vertical"]),i(e(T),{vertical:!e(s).isMobile,align:"start"},{default:n(()=>[p[4]||(p[4]=h("img",{src:"/ui/binggan-level.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...p[3]||(p[3]=[m("饼干等级",-1)])]),_:1})]),h("div",null,[i(e(y),{depth:2,style:Q({fontSize:e(s).isMobile?"0.875rem":"1rem"})},{default:n(()=>[m(q(e(t).userData?.binggan.user_lv),1)]),_:1},8,["style"])])])]),_:1},8,["vertical"]),i(e(T),{vertical:!e(s).isMobile,align:"start"},{default:n(()=>[p[6]||(p[6]=h("img",{src:"/ui/my-olo.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...p[5]||(p[5]=[m("奥利奥",-1)])]),_:1})]),h("div",null,[i(e(y),{depth:2,style:Q({fontSize:e(s).isMobile?"0.875rem":"1rem"})},{default:n(()=>[i(e(We),{from:0,to:e(t).userData?.binggan.coin,"show-separator":"",duration:2e3},null,8,["to"])]),_:1},8,["style"])])])]),_:1},8,["vertical"]),i(e(T),{vertical:!e(s).isMobile,align:"start"},{default:n(()=>[p[8]||(p[8]=h("img",{src:"/ui/bank-olo.png",style:{"max-height":"40px"}},null,-1)),h("div",null,[h("div",null,[i(e(y),{depth:3},{default:n(()=>[...p[7]||(p[7]=[m("粮仓奥利奥",-1)])]),_:1})]),h("div",null,[i(e(y),{depth:2,style:Q({fontSize:e(s).isMobile?"0.875rem":"1rem"})},{default:n(()=>[i(e(We),{from:0,to:e(t).userData?.binggan.coin_in_bank,"show-separator":"",duration:2e3},null,8,["to"])]),_:1},8,["style"])])])]),_:1},8,["vertical"])]),_:1},8,["vertical","size"])]),_:1}))}}),xi=G({__name:"UserCenter",setup(g){ie();const t=ne();Re(),Ie(),Pe(),Se();const s=z();document.title="个人中心";const d=[{name:"medals",tab:"我的成就",component:li},{name:"common",tab:"一般设定",component:Cn},{name:"pingbici",tab:"屏蔽词",component:ri},{name:"emojis",tab:"表情包",component:qn},{name:"chara",tab:"我的角色",component:In},{name:"bank",tab:"我的粮仓",component:On},{name:"income",tab:"收支记录",component:Gn},{name:"levelup",tab:"升级饼干",component:ei},{name:"customBinggan",tab:"定制饼干",component:$n},{name:"password",tab:"密码设定",component:oi}];return(a,r)=>(x(),U(e(T),{vertical:"",style:{"margin-top":"8px"}},{default:n(()=>[i(e(bt),{backend:e(t).isMobile?e(En):e(hn)},{default:n(()=>[i(e(ui)),i(e(wt),{type:"line","bar-width":e(t).isMobile?0:void 0,animated:"",size:e(t).isMobile?"small":"large",value:s.value,"onUpdate:value":r[0]||(r[0]=p=>s.value=p)},{default:n(()=>[(x(),W(V,null,te(d,p=>i(e(yt),{name:p.name,tab:p.tab,key:p.name},{default:n(()=>[(x(),U(xt(p.component)))]),_:2},1032,["name","tab"])),64))]),_:1},8,["bar-width","size","value"])]),_:1},8,["backend"]),r[1]||(r[1]=h("div",{style:{height:"50px"}},null,-1))]),_:1}))}});export{xi as default};
