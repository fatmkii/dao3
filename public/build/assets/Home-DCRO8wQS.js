import{n as I,m as b,ag as q,ah as L,N as P,p as f,j as i,q as t,U as R,W as U,X as V,g as E,l as _,u as G,t as K,a1 as W,T as X,x as s,i as g,K as x,E as n,ai as $,aj as Y,Q as w,w as B,F as j,J as y,L as a,S,I as k,P as C,ak as Z}from"./vendor-B4iN01yc.js";import{h as D}from"./globalSetting-CZnMDn_U.js";import{s as ee}from"./shuffle-Bl2z5mvo.js";import{u as te,_ as se}from"./app-BClC4LZ1.js";import{u as oe}from"./forums-CZ5f0w4y.js";const ae=I({__name:"ForumsStar",props:{isFavorite:{type:Boolean,default:!1},forumId:{default:0}},emits:["favorite-add","favorite-cancel"],setup(N,{emit:m}){const u=N,d=b(P,{size:"1.5rem",onClick:v},()=>b(u.isFavorite?q:L)),c=m;function v(){u.isFavorite?c("favorite-cancel",u.forumId):c("favorite-add",u.forumId)}return(h,F)=>(i(),f(t(d)))}}),re={key:0,class:"carousel-box"},le=["src"],ne=I({__name:"Home",setup(N){R(l=>({d56b22c4:t(u).hoverColor}));const m=oe(),u=U(),d=te(),c=V(),{loading:v,data:h}=E(D),F=_(()=>ee(h.value));document.title="小火锅";const O=G("banner_hiden",!1),T=_(()=>({paddingBottom:d.isMobile?"6px":"",paddingTop:d.isMobile?"6px":""})),A=_(()=>({paddingBottom:d.isMobile?"6px":""})),r=K([]);W(()=>{localStorage.forums_favorites===void 0?localStorage.forums_favorites=JSON.stringify([]):r.value=JSON.parse(localStorage.forums_favorites)});const H=_(()=>{const l=m.forumsData.filter(o=>r.value.includes(o.id)),e=m.forumsData.filter(o=>!r.value.includes(o.id));return l.concat(e)});function J(l){r.value.includes(l)||(r.value.push(l),localStorage.forums_favorites=JSON.stringify(r.value))}function z(l){const e=r.value.indexOf(l);e!=-1&&(r.value.splice(e,1),localStorage.forums_favorites=JSON.stringify(r.value))}function M(l,e){const p=e.target;["path","svg"].includes(p.nodeName)||c.push({name:"forum",params:{forumId:l}})}return(l,e)=>{const p=X("router-link");return i(),f(t(k),{justify:"center",vertical:""},{default:s(()=>[t(O)?x("",!0):(i(),g("div",re,[t(v)?(i(),f(t($),{key:0,class:"carousel-skeleton",sharp:""})):x("",!0),t(v)?x("",!0):(i(),f(t(Y),{key:1,"show-arrow":"",trigger:t(d).isMobile?"click":"hover",autoplay:"",interval:1e4},{default:s(()=>[(i(!0),g(w,null,B(F.value,o=>(i(),g("img",{src:o,class:"carousel-img"},null,8,le))),256))]),_:1},8,["trigger"]))])),n(t(j),{title:"小火锅公告",size:"small"},{default:s(()=>[e[8]||(e[8]=y("div",null,"这里个人论坛“小火锅”，欢迎来玩~",-1)),y("div",null,[e[1]||(e[1]=a("QQ小火锅避难群：",-1)),n(t(S),{type:"info"},{default:s(()=>[...e[0]||(e[0]=[a("156840110",-1)])]),_:1})]),y("div",null,[e[3]||(e[3]=a("目前小火锅有5个网址：",-1)),n(t(S),{type:"info"},{default:s(()=>[...e[2]||(e[2]=[a("cpttmm.com, www.cpttmm.com, cpttmm.love, www.cpttmm.love, v2.cpttmm.com",-1)])]),_:1}),e[4]||(e[4]=a("(v2尽量不要用)",-1))]),y("div",null,[n(t(S),null,{default:s(()=>[e[6]||(e[6]=a("请务必遵守",-1)),n(p,{to:"/thread/143750",style:{"text-decoration":"underline"}},{default:s(()=>[...e[5]||(e[5]=[a("小火锅版规",-1)])]),_:1}),e[7]||(e[7]=a("喔！",-1))]),_:1})])]),_:1}),n(t(k),{justify:"center",vertical:"",size:1},{default:s(()=>[(i(!0),g(w,null,B(H.value,o=>(i(),f(t(j),{size:"small",bordered:!0,key:o.id,class:"forum-cards","header-style":T.value,"content-style":A.value,hoverable:"",onClick:Q=>M(o.id,Q)},{header:s(()=>[n(t(k),null,{default:s(()=>[n(ae,{"is-favorite":r.value.includes(o.id),"forum-id":o.id,onFavoriteAdd:J,onFavoriteCancel:z},null,8,["is-favorite","forum-id"]),a(" "+C(o.name),1)]),_:2},1024)]),"header-extra":s(()=>[n(t(Z),{round:""},{default:s(()=>[a(C(o.id),1)]),_:2},1024)]),default:s(()=>[n(t(S),null,{default:s(()=>[a(C(o.description),1)]),_:2},1024)]),_:2},1032,["header-style","content-style","onClick"]))),128))]),_:1})]),_:1})}}}),ce=se(ne,[["__scopeId","data-v-d287aa61"]]);export{ce as default};
