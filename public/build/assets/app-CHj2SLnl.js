function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Home-CT-aRZ5b.js","assets/vendor-CYaCwXn6.js","assets/globalSetting-BQZegXTm.js","assets/shuffle-Bl2z5mvo.js","assets/forums-p13OXzJM.js","assets/Home-DXFCMqZM.css","assets/404-CIQkRB10.js","assets/ForumPage-vU4CWAMz.js","assets/subtitles-DW7M559j.js","assets/loudspeaker-COvj7cgE.js","assets/LoudspeakerComponent-CW8uLtky.js","assets/LoudspeakerComponent-DaF5ZPLb.css","assets/ThreadList-B2UfNh3M.js","assets/showDialog-BJW8xb0G.js","assets/browseLogger-CPbjKXca.js","assets/ThreadList-BbkDJXRc.css","assets/ForumPage-CkY3PW55.css","assets/ThreadPage-Ery3oKSj.js","assets/emojiData-vE0Ly106.js","assets/Delete-DKLSUOmn.js","assets/emojiData-BaEGuFkb.css","assets/PostInput.vue_vue_type_script_setup_true_lang-CC9I1sJT.js","assets/inputNumberFormat-DaYmlx6U.js","assets/PostInput-JCDAAN1b.css","assets/admin-DQ_4kIBh.js","assets/ThreadPage-BqFXLquj.css","assets/NewThread-DlqG4cba.js","assets/UserCenter-COvhvAO-.js","assets/UserCenter-BFEEvgmk.css","assets/AdminCenter-Db3VdHGh.js","assets/AdminCenter-BkLOAVrP.css","assets/LoudspeakerPage-x-StLB_H.js","assets/LoudspeakerPage-CNOvldAN.css","assets/EmojiContest-COs6njaG.js","assets/EmojiContest-DwrdpEs1.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Be=Object.defineProperty,$e=Object.defineProperties;var Ae=Object.getOwnPropertyDescriptors;var pe=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var he=(t,e,o)=>e in t?Be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,q=(t,e)=>{for(var o in e||(e={}))ze.call(e,o)&&he(t,o,e[o]);if(pe)for(var o of pe(e))Ue.call(e,o)&&he(t,o,e[o]);return t},ge=(t,e)=>$e(t,Ae(e));var D=(t,e,o)=>new Promise((s,r)=>{var n=c=>{try{d(o.next(c))}catch(f){r(f)}},i=c=>{try{d(o.throw(c))}catch(f){r(f)}},d=c=>c.done?s(c.value):Promise.resolve(c.value).then(n,i);d((o=o.apply(t,e)).next())});import{c as je,a as Ge,d as ae,$ as I,b as _,e as U,u as Pe,f as He,g as re,V as se,G as ne,h as H,w as x,i as Oe,A as C,F as Y,j as Ne,S as v,N as We,k as z,l as ke,M as P,Z as Q,Q as J,m as K,n as a,o as qe,p as l,Y as X,q as Ve,r as Ye,s as Qe,H as u,t as L,v as T,z as h,x as O,y as N,B as fe,C as _e,D as Je,E as S,I as Fe,J as le,K as ie,L as ue,U as ce,O as Ie,P as Ke,R as Xe,T as xe,W as Ze,X as et,_ as tt,a0 as ve,a1 as V,a2 as ot,a3 as at,a4 as rt,a5 as st,a6 as nt,a7 as lt,a8 as it,a9 as ut,aa as ct,ab as dt,ac as mt,ad as pt,ae as ht,af as gt}from"./vendor-CYaCwXn6.js";const ft="modulepreload",_t=function(t){return"/build/"+t},be={},M=function(e,o,s){let r=Promise.resolve();if(o&&o.length>0){const n=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),d=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.all(o.map(c=>{if(c=_t(c),c in be)return;be[c]=!0;const f=c.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(!!s)for(let w=n.length-1;w>=0;w--){const k=n[w];if(k.href===c&&(!f||k.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":ft,f||(g.as="script",g.crossOrigin=""),g.href=c,d&&g.setAttribute("nonce",d),document.head.appendChild(g),f)return new Promise((w,k)=>{g.addEventListener("load",w),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${c}`)))})}))}return r.then(()=>e()).catch(n=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=n,window.dispatchEvent(i),!i.defaultPrevented)throw n})},vt=[{path:"/",name:"Homepage",component:()=>M(()=>import("./Home-CT-aRZ5b.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/:pathMatch(.*)*",name:"Page404",component:()=>M(()=>import("./404-CIQkRB10.js"),__vite__mapDeps([6,1]))},{path:"/forum/:forumId/:page?",name:"forum",props:t=>({forumId:parseInt(t.params.forumId),page:t.params.page?parseInt(t.params.page):1,search:t.query.search,delay:t.query.delay==="true"}),component:()=>M(()=>import("./ForumPage-vU4CWAMz.js"),__vite__mapDeps([7,1,4,8,3,9,10,11,12,13,14,15,16]))},{path:"/thread/:threadId/:page?",name:"thread",props:t=>({threadId:parseInt(t.params.threadId),page:t.params.page?parseInt(t.params.page):1,search:t.query.search}),component:()=>M(()=>import("./ThreadPage-Ery3oKSj.js"),__vite__mapDeps([17,1,18,13,4,19,20,9,21,22,23,10,11,24,14,25]))},{path:"/new-thread/:forumId",name:"new-thread",props:t=>({forumId:parseInt(t.params.forumId)}),component:()=>M(()=>import("./NewThread-DlqG4cba.js"),__vite__mapDeps([26,1,13,4,21,18,19,20,22,23,8]))},{path:"/user-center",component:()=>M(()=>import("./UserCenter-COvhvAO-.js"),__vite__mapDeps([27,1,4,12,13,14,15,18,19,20,22,28])),name:"user-center"},{path:"/admin-center",component:()=>M(()=>import("./AdminCenter-Db3VdHGh.js"),__vite__mapDeps([29,1,24,4,22,30])),name:"admin-center"},{path:"/loudspeaker",component:()=>M(()=>import("./LoudspeakerPage-x-StLB_H.js"),__vite__mapDeps([31,1,24,2,9,19,32])),name:"loudspeaker"},{path:"/emoji-moe",component:()=>M(()=>import("./EmojiContest-COs6njaG.js"),__vite__mapDeps([33,1,3,34])),name:"emoji-moe"}],bt=je({history:Ge(),routes:vt,scrollBehavior(t,e,o){return o||(t.hash?!1:{top:0})}}),R=ae("commonStore",()=>{const t=I(!1),e=I(0),o=I(document.body.clientWidth),s=I(document.body.clientWidth<1200),r=_(()=>o.value>=532?"500px":o.value-32+"px");window.addEventListener("resize",()=>{s.value=document.body.clientWidth<1200,o.value=document.body.clientWidth});const n=I(!0);function i(){const w=document.getElementById("app").offsetWidth-24;return Math.ceil(w*250/920)+"px"}const d=I(i());window.addEventListener("resize",()=>d.value=i());const c=_(()=>{const g=[{month:6,date:18},{month:11,date:11}],w=U.tz();let k=!1;return g.forEach(A=>{w.month()+1===A.month&&w.date()===A.date&&(k=!0)}),k}),f=_(()=>U.tz().month()===9),m=Pe("user_custom",{version:240505,imgHost:"picgo",hongbaoThenStop:!1,holdPageWhenListening:!1,lessToast:!1,postLegacyMode:!1,monochromeMode:!1,sidebarLeft:!1,loudspeakerPosition:"bottom",quoteMax:3,foldMaxLine:16,emojiWhiteBack:!1,lineHeightPost:28,fontSizePost:16,fontSizeQuote:16,fontSizeFooter:14,fontSizeThreadList:16,fontSizeThreadListFooter:14,fontSizeInput:16,threadListCardPadding:12,threadListInnerMargin:6,postCardPadding:12,postInnerMargin:12,hidePingbiciFloor:!1,pingbiciIngnoreCase:!1},localStorage,{mergeDefaults:!0});function b(){const g={title:"重置设定",closable:!1,content:"确定要重置所有一般设定吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{m.value.quoteMax=3,m.value.foldMaxLine=16,m.value.lineHeightPost=28,m.value.fontSizePost=16,m.value.fontSizeQuote=16,m.value.fontSizeFooter=14,m.value.fontSizeThreadList=16,m.value.fontSizeThreadListFooter=14,m.value.fontSizeInput=16,m.value.threadListCardPadding=12,m.value.threadListInnerMargin=6,m.value.postCardPadding=12,m.value.postInnerMargin=12,m.value.emojiWhiteBack=!1}};window.$dialog.warning(g)}return{unauthModalShow:t,requestErrorCode:e,isMobile:s,clientWidth:o,showTopbarNav:n,bannerHeight:d,isDouble11:c,isOctober:f,userCustom:m,modalMaxWidth:r,userCustomReset:b}}),Ce={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"rgba(249, 249, 249, 1)"},Button:{colorPrimary:"#32BA32FF"},Card:{color:"#fafffa80"}},Ct={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#f5f6f8",primaryColor:"#333639FF"},Button:{colorPrimary:"#333639FF"},Card:{color:"#FFFFFF80"},Tabs:{tabTextColorActiveLine:"#18A058FF",tabTextColorHoverLine:"#18A058FF"}},yt={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',textColor1:"rgba(255, 255, 255, 0.73)",textColor2:"rgba(255, 255, 255, 0.66)"},Card:{colorEmbedded:"rgba(44, 44, 50, 1)",color:"rgba(44, 44, 50, 0.5)"}},St={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#eefaee"},Card:{color:"#fafffa80",borderColor:"rgba(233, 245, 234, 1)"},Button:{colorPrimary:"#52b051FF",colorHoverPrimary:"#3ba251FF",color:"#ffffffFF",colorHover:"#ffffffFF",colorPressed:"#ffffffFF",colorFocus:"#ffffffFF",colorDisabled:"#ffffffFF",colorPressedPrimary:"#3a9958FF",borderPressedPrimary:"0px",borderFocusPrimary:"0px",borderDisabledPrimary:"0px",borderHoverPrimary:"0px",borderPrimary:"0px",colorSecondary:"rgba(46, 51, 56, .05)",colorTertiary:"rgba(46, 51, 56, .05)",textColorTertiary:"rgb(118, 124, 130)"}},ye={topBarBackgroudColor:"#FFF",sidebarColor:"#90d590",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},wt={topBarBackgroudColor:"#FFF",sidebarColor:"#aaaaaa",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},Pt={topBarBackgroudColor:"#18181CFF",sidebarColor:"#316c58",postItemBorderColor:"#FFFFFF17",postFooterColor:"#FFFFFF85"},kt={topBarBackgroudColor:"#fafffaFF",sidebarColor:"#52b051",postItemBorderColor:"#5FB878",postFooterColor:"#5FB878"},de=ae("themeStore",()=>{const t=Pe("theme","green");function e(i){t.value=i}const o=_(()=>({light:null,sfw:null,dark:He,green:null})[t.value]||null),s=_(()=>({light:Ce,sfw:Ct,dark:yt,green:St})[t.value]||Ce),r=_(()=>({light:{strong:!0,secondary:!0,tertiary:!1},sfw:{strong:!0,secondary:!1,tertiary:!0},dark:{strong:!0,secondary:!0,tertiary:!1},green:{strong:!1,secondary:!1,tertiary:!1}})[t.value]||{strong:!0,secondary:!0,tertiary:!1}),n=_(()=>({light:ye,sfw:wt,dark:Pt,green:kt})[t.value]||ye);return{themeClass:o,themeOverrideClass:s,themeChange:e,buttonThemeAttr:r,themeColor:n}}),p=re({statesHook:se,requestAdapter:ne(),beforeRequest:t=>{t.config.headers.Accept="application/json";const e=localStorage.getItem("Token");e&&(t.config.headers.Authorization="Bearer "+e)},responded:{onSuccess:(t,e)=>D(void 0,null,function*(){var r;const o=R();if(t.status>=400){if(o.requestErrorCode=t.status,t.status==401)throw o.unauthModalShow=!0,new Error(t.statusText,{cause:{code:t.status}});const n=yield t.json();throw n.message?(window.$message.error(JSON.stringify(n.message),{closable:!0,duration:5e3}),new Error(n.message,{cause:{code:n.code}})):(window.$message.error(t.statusText,{closable:!0,duration:5e3}),new Error(t.statusText,{cause:{code:n.code}}))}const s=yield t.json();if(s.code!==200)throw o.requestErrorCode=s.code,s.code==21499?(o.unauthModalShow=!0,new Error(s.message,{cause:{code:s.code}})):(window.$message.error(JSON.stringify(s.message),{closable:!0,duration:5e3}),new Error(s.message,{cause:{code:s.code}}));return(r=e.meta)!=null&&r.shouldRemind&&!o.userCustom.lessToast&&window.$message.success(s.message),s.data}),onError:(t,e)=>{throw window.$message.error("嗷！好像网络出错了。"),t},onComplete:t=>D(void 0,null,function*(){})},errorLogger:!1,cacheLogger:!1}),Ft=re({statesHook:se,requestAdapter:ne(),responded:{onSuccess:(t,e)=>D(void 0,null,function*(){return yield t.json()}),onError:(t,e)=>{throw window.$message.error("嗷！好像网络出错了。"),t},onComplete:t=>D(void 0,null,function*(){})},errorLogger:!1,cacheLogger:!1});re({statesHook:se,requestAdapter:ne(),beforeRequest:t=>{},responded:{onSuccess:(t,e)=>D(void 0,null,function*(){if(t.status>=400)throw new Error(t.statusText);return t}),onError:(t,e)=>{},onComplete:t=>D(void 0,null,function*(){})},errorLogger:!1,cacheLogger:!1});const It=t=>p.Post("/api/user/show",{binggan:t},{name:"userDataGetter",params:{},localCache:{mode:"placeholder",expire:60*60*1e3},hitSource:[/^user(?!DataGetter).*$/,"newPostPoster","pingbiciAddPoster","pingbiciSetPoster","myEmojisAddPoster","myEmojisSetPoster","bankDepositPoster","bankWithdrawPoster","newCustomBingganPoster","battleCreatePoster","battleChanllengerRollPoster","hongbaoPostCreatePoster","hongbaoPostStorePoster","hongbaoStorePoster","newLoudspeakerPoster","deletePostDeleter","recoverPostPutter","newThreadPoster","threadChangeColorPoster","delayThreadDeleter"]}),xt=t=>p.Post("api/user/register",{register_key:t},{name:"userRegisterPoster",params:{},localCache:null,hitSource:[]}),lo=t=>{const e=p.Post("api/user/reward",t,{name:"userRewardPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},io=t=>{const e=p.Post("api/user/water_unlock",t,{name:"waterUnlockPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},uo=t=>{const e=p.Post("api/user/my_emoji_set",t,{name:"myEmojisSetPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},co=t=>{const e=p.Post("api/user/my_emoji_add",t,{name:"myEmojisAddPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},Tt=()=>{const t=p.Get("api/user/check_reg_record",{name:"checkRegisterRecordPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},mo=t=>{const e=p.Get("api/income/show_day",{name:"incomeDataGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},po=t=>{const e=p.Get("api/income/show_sum",{name:"incomeSumDataGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},ho=t=>{const e=p.Post("api/user/pingbici_set",t,{name:"pingbiciSetPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},go=t=>{const e=p.Post("api/user/pingbici_add",t,{name:"pingbiciAddPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},fo=t=>{const e=p.Post("api/user/show_medals",t,{name:"getMedalsDataPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},_o=t=>{const e=p.Post("api/user/show_medal_progress",t,{name:"getMedalProgressPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},vo=t=>{const e=p.Post("api/user/show_bank",t,{name:"getBankDataPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},bo=t=>{const e=p.Post("api/user/bank_deposit",t,{name:"bankDepositPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},Co=t=>{const e=p.Post("api/user/bank_withdraw",t,{name:"bankWithdrawPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},yo=t=>{const e=p.Get("api/user/user_lv_show",{name:"getUserLevelGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},So=t=>{const e=p.Post("api/user/user_lv_up",t,{name:"userLevelUpPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},wo=t=>{const e=p.Post("api/user/create_custom",t,{name:"newCustomBingganPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},Po=t=>{const e=p.Get("api/user/my_battle_chara",{name:"getUserLevelGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},ko=t=>{const e=p.Post("api/user/my_battle_chara_set",t,{name:"setUserCharaPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},Z=ae("userStore",()=>{const t=I(!1),e=localStorage.getItem("Binggan"),o=localStorage.getItem("Token"),s={binggan:{nickname:"= =",coin:0,coin_in_bank:0,use_pingbici:!1,new_msg:!1,user_lv:0,locked_ttl:0},my_battle_chara:[],emoji_excluded:[],pingbici:{content_pingbici:[],fjf_pingbici:[],title_pingbici:[]},my_emoji:[]},{loading:r,data:n,onSuccess:i,send:d}=H(It,{initialData:s,immediate:!1});e&&o&&(t.value=!0,d(e));function c(){d(e)}function f(b){return b===void 0||r.value||n.value.binggan.admin_forums===void 0?!1:n.value.binggan.admin_forums.includes(b)}const m=_(()=>{var g;const b=(g=n.value.binggan.admin)!=null?g:0;return{isForumAdmin:b>=1,isNormalAdmin:b>=10,isSeniorAdmin:b>=20,isSuperAdmin:b>=99}});return{userDataLoading:r,userData:n,userLoginStatus:t,binggan:e,admin:m,refreshUserData:c,checkAdminForums:f}}),Lt=x({setup(){window.$dialog=Oe()}}),Te=(t,e)=>{const o=t.__vccOpts||t;for(const[s,r]of e)o[s]=r;return o};function Rt(t,e,o,s,r,n){return C(),Y("div")}const Mt=Te(Lt,[["render",Rt]]),Et=x({setup(){window.$message=Ne()}});function Dt(t,e,o,s,r,n){return C(),Y("div")}const Bt=Te(Et,[["render",Dt]]),$t=(t,e)=>p.Post("/api/login",{binggan:t,password:e},{name:"userLoginPoster",params:{},localCache:null}),At=t=>p.Post("/api/logout",{binggan:t},{name:"userLogoutPoster",params:{},localCache:null}),Fo=t=>{const e=p.Post("/api/set_password",t,{name:"userSetPasswordPoster",params:{},localCache:null});return e.meta={shouldRemind:!0},e};function Le(){localStorage.removeItem("Binggan"),localStorage.removeItem("Token"),window.location.href="/"}const zt={size:"1rem"},B=(t,e=zt)=>{let o="1rem";return typeof e.size=="string"?o=e.size:typeof e.size=="number"&&(o=e.size+"rem"),()=>v(We,{size:o,color:e.color},{default:()=>v(t)})},Io=()=>{const t=p.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},xo=t=>{const e=new FormData;e.append("file",t.file),e.append("mode",t.mode),e.append("binggan",t.binggan),e.append("thread_id",String(t.thread_id)),e.append("forum_id",String(t.forum_id));const o=p.Post("api/img_upload",e,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return o.meta={shouldRemind:!0},o},To=t=>{const e=new FormData;e.append("file",t.file);const o=Ft.Post(t.url,e,{name:"uploadImageToPublicPoster",params:{},localCache:null,hitSource:[]});return o.meta={shouldRemind:!0},o},Ut=()=>{const t=p.Get("api/new_binggan_check",{name:"newBingganCheckGetter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t};function jt(t){var e,o,s="",r;for(t+="",e=0,o=t.length;e<o;e++)r=t.charCodeAt(e).toString(16),s+=r.length<2?"0"+r:r;return s}function Gt(t){var e=document.createElement("canvas"),o=e.getContext("2d"),s=t;o.textBaseline="top",o.font="14px 'Arial'",o.textBaseline="alphabetic",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.fillText(s,2,15),o.fillStyle="rgba(102, 204, 0, 0.7)",o.fillText(s,4,17);var r=e.toDataURL().replace("data:image/png;base64,",""),n=atob(r),i=jt(n.slice(-16,-12));return i}function Ht(){const t="XiaoHuoGuoCpttmm",e="abcdef0123456789",o=z.enc.Utf8.parse(t);var r={iv:z.enc.Utf8.parse(e),mode:z.mode.CBC,padding:z.pad.Pkcs7};const n=Gt("BrowserLeaks,com <canvas> 1.0"),i=z.MD5(navigator.userAgent).toString().substr(0,8);return z.AES.encrypt("XiaoHuoGuo"+n+i,o,r).toString()}const $=x({__name:"FButton",setup(t){const e=R(),o=de(),s=ke(),r=_(()=>q(q({},s),o.buttonThemeAttr)),n=_(()=>e.isMobile?"small":"medium");return(i,d)=>(C(),P(a(qe),K({round:"",size:n.value},r.value),Q({_:2},[J(i.$slots,(c,f,m)=>({name:f,fn:l(()=>[X(i.$slots,f)])}))]),1040,["size"]))}}),Se=x({__name:"FInput",props:{autoSize:{type:Boolean,default:!1}},setup(t){const e=R(),o=t,s=_(()=>o.autoSize&&e.isMobile?"small":"medium");return(r,n)=>(C(),P(a(Ve),K({round:"",size:s.value},r.$attrs),Q({_:2},[J(r.$slots,(i,d,c)=>({name:d,fn:l(()=>[X(r.$slots,d)])}))]),1040,["size"]))}}),we=x({__name:"FInputGroupLabel",props:{round:{type:Boolean,default:!0},autoSize:{type:Boolean,default:!1}},setup(t){const e=R(),o=ke(),s=t,r=s.round?{"border-bottom-left-radius":"17px","border-top-left-radius":"17px"}:void 0,n=_(()=>ge(q({},o),{style:r})),i=_(()=>s.autoSize&&e.isMobile?"small":"medium");return(d,c)=>(C(),P(a(Ye),K({size:i.value},n.value),Q({_:2},[J(d.$slots,(f,m,b)=>({name:m,fn:l(()=>[X(d.$slots,m)])}))]),1040,["size"]))}}),Ot=x({__name:"FCheckbox",setup(t){const e=R(),o=_(()=>e.isMobile?"small":"medium");return(s,r)=>(C(),P(a(Qe),K({size:o.value},s.$attrs),Q({_:2},[J(s.$slots,(n,i,d)=>({name:i,fn:l(()=>[X(s.$slots,i)])}))]),1040,["size"]))}}),Nt=S("div",null,[h("这里是私人论坛小火锅，欢迎来玩！"),S("br"),h("QQ小火锅避难群：156840110 "),S("br"),h("使用前需要在下面领取或者导入饼干喔")],-1),Wt=S("span",null,"领取饼干为定期开放（点击查看开放时间）",-1),qt=S("span",null,[h("开放时间为："),S("br"),h("每月第1日、春节(3天)、国庆(3天)、"),S("br"),h("端午、中秋、618和双十一")],-1),Vt=x({__name:"LoginModal",emits:["submitRegister"],setup(t,{expose:e,emit:o}){const s=R(),r=Z(),n=I(!1);e({show:()=>n.value=!0});const d=I(""),c=I(""),f=_(()=>b.value.enable?"领取饼干开放中！":"领取饼干尚未开放"),m=_(()=>U(b.value.next_date*1e3).format("YYYY年M月D日")),{data:b}=H(Ut,{initialData:{enable:!1,next_date:0}}),{data:g}=H(Tt(),{initialData:{reg_record_TTL:-2}}),w=_(()=>{var G,F;if(!(((G=g.value)==null?void 0:G.reg_record_TTL)<=0))return`在${Math.floor(((F=g.value)==null?void 0:F.reg_record_TTL)/3600)}小时后才能再次领取饼干。`}),k=()=>{te(d.value,c.value),c.value=""},{loading:A,onSuccess:y,data:j,send:te}=H($t,{immediate:!1});y(()=>{localStorage.Token=j.value.token,localStorage.Binggan=j.value.binggan,window.location.href="/"});const W=()=>{Ee(Ht())},{loading:me,onSuccess:Re,onError:Me,data:oe,send:Ee}=H(xt,{immediate:!1});Re(()=>{r.binggan=oe.value.binggan,localStorage.Token=oe.value.token,localStorage.Binggan=oe.value.binggan,n.value=!1,De("submitRegister")}),Me(G=>{window.$dialog.error({title:"申请饼干失败",content:G.error.message})});const De=o;return(G,F)=>(C(),P(a(ue),{show:n.value,"onUpdate:show":F[4]||(F[4]=E=>n.value=E),"display-directive":"if"},{default:l(()=>[u(a(ie),{style:le({maxWidth:a(s).modalMaxWidth}),title:"欢迎来到小火锅！",closable:"",onClose:F[3]||(F[3]=E=>n.value=!1),size:"small"},{action:l(()=>[u(a(L),{justify:"end"},{default:l(()=>[a(g).reg_record_TTL>0?(C(),P(a(T),{key:0,style:{"margin-right":"auto"}},{default:l(()=>[h(O(w.value),1)]),_:1})):N("",!0),u(a($),{onClick:F[2]||(F[2]=E=>n.value=!1)},{default:l(()=>[h("关闭")]),_:1})]),_:1})]),default:l(()=>[u(a(L),{vertical:""},{default:l(()=>[Nt,u(a(fe),null,{default:l(()=>[u(a(we),{style:{width:"3.2rem"}},{default:l(()=>[h("饼干")]),_:1}),u(a(Se),{value:d.value,"onUpdate:value":F[0]||(F[0]=E=>d.value=E),placeholder:"请输入饼干",maxlength:"16",onKeyup:_e(k,["enter"])},null,8,["value"])]),_:1}),u(a(fe),null,{default:l(()=>[u(a(we),{style:{width:"3.2rem"},class:"round"},{default:l(()=>[h("密码")]),_:1}),u(a(Se),{type:"password",placeholder:"（可留空）请输入密码","show-password-on":"mousedown",value:c.value,"onUpdate:value":F[1]||(F[1]=E=>c.value=E),onKeyup:_e(k,["enter"])},null,8,["value"])]),_:1}),u(a(L),null,{default:l(()=>[u(a($),{type:"warning",disabled:a(me)||!a(b).enable||a(g).reg_record_TTL>0,onClick:W},{default:l(()=>[h(O(f.value),1)]),_:1},8,["disabled"]),u(a($),{style:{"margin-left":"auto"},type:"primary",onClick:k,disabled:a(A)},{default:l(()=>[h("导入饼干")]),_:1},8,["disabled"])]),_:1}),a(b).enable?N("",!0):(C(),Y(Fe,{key:0},[u(a(Je),{trigger:"hover"},{trigger:l(()=>[Wt]),default:l(()=>[qt]),_:1}),S("div",null,"下次开放："+O(m.value),1)],64))]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Yt=S("br",null,null,-1),Qt=x({__name:"RegisterHintModal",setup(t,{expose:e}){const o=Z(),s=R(),r=I(!1);e({show:()=>r.value=!0});function i(){r.value=!1,window.location.href="/"}return(d,c)=>{const f=ce("router-link");return C(),P(a(ue),{show:r.value,"onUpdate:show":c[1]||(c[1]=m=>r.value=m),"display-directive":"if"},{default:l(()=>[u(a(ie),{style:le({maxWidth:a(s).modalMaxWidth}),title:"欢迎加入小火锅！",closable:"",onClose:c[0]||(c[0]=m=>r.value=!1),size:"small"},{action:l(()=>[u(a(L),{justify:"end"},{default:l(()=>[u(a($),{onClick:i},{default:l(()=>[h("关闭")]),_:1})]),_:1})]),default:l(()=>[u(a(L),{vertical:"",size:"medium",style:{"word-wrap":"break-word"}},{default:l(()=>[S("div",null,[h("你的饼干是："),u(a(T),{strong:"",type:"info",style:{"font-size":"1.5rem"}},{default:l(()=>[h(O(a(o).binggan),1)]),_:1}),Yt,h("（之后在个人中心也可以查看）")]),u(a(T),{depth:"2"},{default:l(()=>[h("① 饼干就是你的小火锅账号。请保存好，不要泄露喔！")]),_:1}),u(a(T),{depth:"2"},{default:l(()=>[h("② 为了账号安全，"),u(a(T),{strong:"",type:"error"},{default:l(()=>[h("建议尽快在个人中心设定密码。")]),_:1})]),_:1}),u(a(T),{depth:"2"},{default:l(()=>[h("③ 请务必遵守"),u(f,{to:"/thread/13351"},{default:l(()=>[h("小火锅版规")]),_:1}),h("喔！")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])}}}),Jt=S("div",{id:"topbar-nav",style:{"flex-shrink":"1",overflow:"hidden"}},null,-1),Kt=S("div",{id:"topbar-func"},null,-1),Xt=S("img",{src:"/ui/skin.png",style:{"margin-left":"auto"},class:"img-icon"},null,-1),Zt=x({__name:"TopBar",setup(t){Ie(y=>({"51bb01be":a(c).textColor1,"241e0506":a(d).themeColor.topBarBackgroudColor,"8a612fe6":a(c).dividerColor}));const e=Z(),o=R(),s=Ke(),r=Xe(),n=I(null),i=I(null),d=de(),c=xe(),f=[{label:"魔芋锅",key:"sfw",icon:B(V,{color:"#F9F9F9"})},{label:"白汤锅",key:"light",icon:B(V,{color:"#d9efd9"})},{label:"芝麻锅",key:"dark",icon:B(V,{color:"#101014"})},{label:"青菜锅",key:"green",icon:B(V,{color:"#53A551"})},{type:"render",key:"monochrome",render:m}];function m(){return v(L,{style:"padding:6px 8px",vertical:!0},()=>[v(Ot,{checked:o.userCustom.monochromeMode,"onUpdate:checked":y=>o.userCustom.monochromeMode=y,label:"单色模式"})])}function b(){return v(L,{vertical:!0},()=>[v("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[v("img",{style:"max-height: 40px;",src:"/ui/my-binggan.png"}),v("div",null,[v("div",null,[v(T,{depth:3},{default:()=>"我的饼干"})]),v("div",{style:"font-size: 1rem;"},[v(T,{depth:2},{default:()=>e.binggan})])])]),v("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[v("img",{style:"max-height: 40px;",src:"/ui/my-olo.png"}),v("div",null,[v("div",null,[v(T,{depth:3},{default:()=>"奥利奥"})]),v("div",{style:"font-size: 1rem;"},[v(T,{depth:2},{default:()=>e.userData.binggan.coin})])])])])}const g=_(()=>{const y=[{key:"header",type:"render",render:b},{key:"header-divider",type:"divider"},{label:"个人中心",key:"profile",icon:B(ot,{size:"1.25rem"}),props:{onClick:()=>s.push("/user-center")}},{label:"退出饼干",key:"logout",icon:B(at,{size:"1.25rem"}),props:{onClick:w}}];return e.admin.isForumAdmin&&y.splice(3,0,{label:"管理中心",key:"admin",icon:B(rt,{size:"1.25rem"}),props:{onClick:()=>s.push("/admin-center")}}),y});function w(){const y={title:"退出饼干",closable:!1,content:"确定要退出饼干吗？请务必先记下自己的饼干喔。",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{At(e.binggan).then(()=>{Le(),window.location.href="/"})}};window.$dialog.warning(y)}function k(){e.refreshUserData()}function A(){var y;(y=i.value)==null||y.show()}return Ze(()=>{var y;!(localStorage.getItem("Binggan")&&localStorage.getItem("Token"))&&r.path=="/"&&((y=n.value)==null||y.show())}),(y,j)=>{const te=ce("router-link");return C(),P(a(L),{class:"top-bar",align:"center",wrap:!1},{default:l(()=>{var W;return[S("img",{src:"/favicon.png",alt:"",onClick:j[0]||(j[0]=me=>y.$router.push("/"))}),et(u(te,{to:"/"},{default:l(()=>[h(" 小火锅 ")]),_:1},512),[[tt,a(o).showTopbarNav]]),Jt,Kt,u(a(ve),{trigger:a(o).isMobile?"click":"hover",options:f,onSelect:a(d).themeChange},{default:l(()=>[Xt]),_:1},8,["trigger","onSelect"]),a(e).userLoginStatus?(C(),P(a(ve),{key:0,trigger:a(o).isMobile?"click":"hover",options:g.value},{default:l(()=>[S("img",{src:"/ui/user-center.png",onMouseenter:k,class:"img-icon"},null,32)]),_:1},8,["trigger","options"])):N("",!0),!a(e).userDataLoading&&!a(e).userLoginStatus?(C(),P(a($),{key:1,type:"primary",onClick:(W=n.value)==null?void 0:W.show},{default:l(()=>[h(" 导入饼干 ")]),_:1},8,["onClick"])):N("",!0),!a(e).userDataLoading&&!a(e).userLoginStatus?(C(),Y(Fe,{key:2},[u(Vt,{ref_key:"LoginModalCom",ref:n,onSubmitRegister:A},null,512),u(Qt,{ref_key:"registerHintModalCom",ref:i},null,512)],64)):N("",!0)]}),_:1})}}}),eo=S("img",{src:"https://www.freeimg.cn/i/2024/05/14/664358a7b1035.png",alt:"需要饼干才能进入喔"},null,-1),to={style:{"margin-left":"auto"}},oo=x({__name:"UnauthModal",setup(t){const e=R(),o=_(()=>e.requestErrorCode===401?"你未导入饼干，或者饼干的登录信息已失效。请申请或重新导入饼干。":e.requestErrorCode===21499?"嗷……你的饼干被碎了。请申请或重新导入饼干。":"");return(s,r)=>(C(),P(a(ue),{show:a(e).unauthModalShow,"onUpdate:show":r[2]||(r[2]=n=>a(e).unauthModalShow=n),"display-directive":"if"},{default:l(()=>[u(a(ie),{style:le({maxWidth:a(e).modalMaxWidth}),closable:"",onClose:r[1]||(r[1]=n=>a(e).unauthModalShow=!1),size:"small"},{action:l(()=>[u(a(L),{justify:"end"},{default:l(()=>[u(a($),{onClick:a(Le),type:"primary"},{default:l(()=>[h("导入饼干")]),_:1},8,["onClick"]),u(a($),{onClick:r[0]||(r[0]=n=>a(e).unauthModalShow=!1)},{default:l(()=>[h("关闭")]),_:1})]),_:1})]),default:l(()=>[u(a(L),{vertical:""},{default:l(()=>[eo,S("div",to,O(o.value),1)]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ao=x({__name:"App",setup(t){Ie(n=>({"569fcae7":a(s).userCustom.fontSizeQuote+"px","4f154f2c":a(o).textColor3,"4c417994":a(o).warningColor,fbf9aa24:a(o).primaryColor,"34b79c30":a(o).errorColor,"175e64d6":a(e).themeColor.postFooterColor,"7d36bd43":r.value}));const e=de(),o=xe();Z();const s=R(),r=_(()=>s.userCustom.emojiWhiteBack?"#FFFFFF":void 0);return(n,i)=>{const d=ce("router-view");return C(),P(a(dt),{theme:a(e).themeClass,"theme-overrides":a(e).themeOverrideClass,locale:a(ct)},{default:l(()=>[u(a(st)),u(a(nt),null,{default:l(()=>[u(Bt)]),_:1}),u(a(lt),null,{default:l(()=>[u(Mt)]),_:1}),u(Zt),u(d,null,{default:l(({Component:c})=>[(C(),P(it,{include:"ThreadPage,NewThread"},[(C(),P(ut(c)))],1024))]),_:1}),u(oo)]),_:1},8,["theme","theme-overrides","locale"])}}});U.extend(mt);U.extend(pt);U.tz.setDefault("Asia/Shanghai");const ro=ht(),ee=gt({});ee.component("app",ao);ee.use(bt);ee.use(ro);ee.mount("#app");export{fo as A,_o as B,Fo as C,ho as D,co as E,Te as _,Z as a,$ as b,Se as c,Ot as d,we as e,lo as f,p as g,de as h,Io as i,xo as j,To as k,vo as l,bo as m,Co as n,Po as o,go as p,wo as q,B as r,ko as s,uo as t,R as u,mo as v,io as w,po as x,yo as y,So as z};
