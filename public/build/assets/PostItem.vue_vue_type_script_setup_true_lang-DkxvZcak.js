function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Battle-BCdPDFCP.js","assets/app-DJ79Uvu2.js","assets/app-Btsl2rqR.css","assets/randomHeads-Cezc8eyT.js","assets/showDialog-CZVGmXHV.js","assets/FInput.vue_vue_type_script_setup_true_lang-BaBfOq08.js","assets/Input-CTB-VS1k.js","assets/use-locale-DTAsc9kE.js","assets/FInputGroupLabel.vue_vue_type_script_setup_true_lang-DHnb7d3g.js","assets/InputGroup-DtbzyCs8.js","assets/InputNumber-B9rzzm0M.js","assets/Add-DvHfX4VL.js","assets/index-Crq6HWd9.js","assets/_commonjsHelpers-BosuxZz1.js","assets/inputNumberFormat-DaYmlx6U.js","assets/Select-BMwDOE-A.js","assets/Tag-pwYhadDQ.js","assets/Grid-B6x9qey5.js","assets/ColorPicker-BHfjHDFG.js","assets/_createCompounder-C9SKwavv.js","assets/Ellipsis-hMed8DtT.js","assets/download-sglA049O.js","assets/emojiData-nGA-8XBz.js","assets/Tabs-D5ilVz2k.js","assets/randomHeads-JCDAAN1b.css","assets/forums-BTqggR83.js","assets/Spin-83ouSsxV.js","assets/Battle-i_L_SKTY.css","assets/HongbaoPost-BwxoPs3L.js","assets/HongbaoPost-CdzQ2jUV.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{ak as De,bO as $e,bP as A,bq as j,Y as N,Z as y,a1 as ie,b0 as ze,a0 as Ie,w as P,L as Me,a7 as _e,bQ as Ee,d as W,bl as He,al as I,a8 as Pe,$ as x,S as f,aY as Se,an as Be,bh as Re,aX as Ae,aN as je,aT as Le,aU as Te,aV as Oe,aS as Fe,bm as Ve,A as d,F as D,j as c,b5 as We,o as Ne,b as qe,au as L,e as le,M as H,f as M,H as V,a,ay as de,G as w,aB as Ge,z as ue,s as U,N as Y,v as Ue,C as ge,k as pe,m as he,n as fe,i as Je,av as me,bR as Qe,aw as ve}from"./app-DJ79Uvu2.js";import{r as Ze,d as Ke,b as Ye}from"./randomHeads-Cezc8eyT.js";import{s as ae}from"./showDialog-CZVGmXHV.js";import{D as ce}from"./Delete-DTNbdLNu.js";const Xe=l=>{const{lineHeight:r,borderRadius:p,fontWeightStrong:S,baseColor:m,dividerColor:C,actionColor:v,textColor1:u,textColor2:g,closeColorHover:k,closeColorPressed:$,closeIconColor:o,closeIconColorHover:B,closeIconColorPressed:h,infoColor:i,successColor:T,warningColor:O,errorColor:F,fontSize:q}=l;return Object.assign(Object.assign({},$e),{fontSize:q,lineHeight:r,titleFontWeight:S,borderRadius:p,border:`1px solid ${C}`,color:v,titleTextColor:u,iconColor:g,contentTextColor:g,closeBorderRadius:p,closeColorHover:k,closeColorPressed:$,closeIconColor:o,closeIconColorHover:B,closeIconColorPressed:h,borderInfo:`1px solid ${A(m,j(i,{alpha:.25}))}`,colorInfo:A(m,j(i,{alpha:.08})),titleTextColorInfo:u,iconColorInfo:i,contentTextColorInfo:g,closeColorHoverInfo:k,closeColorPressedInfo:$,closeIconColorInfo:o,closeIconColorHoverInfo:B,closeIconColorPressedInfo:h,borderSuccess:`1px solid ${A(m,j(T,{alpha:.25}))}`,colorSuccess:A(m,j(T,{alpha:.08})),titleTextColorSuccess:u,iconColorSuccess:T,contentTextColorSuccess:g,closeColorHoverSuccess:k,closeColorPressedSuccess:$,closeIconColorSuccess:o,closeIconColorHoverSuccess:B,closeIconColorPressedSuccess:h,borderWarning:`1px solid ${A(m,j(O,{alpha:.33}))}`,colorWarning:A(m,j(O,{alpha:.08})),titleTextColorWarning:u,iconColorWarning:O,contentTextColorWarning:g,closeColorHoverWarning:k,closeColorPressedWarning:$,closeIconColorWarning:o,closeIconColorHoverWarning:B,closeIconColorPressedWarning:h,borderError:`1px solid ${A(m,j(F,{alpha:.25}))}`,colorError:A(m,j(F,{alpha:.08})),titleTextColorError:u,iconColorError:F,contentTextColorError:g,closeColorHoverError:k,closeColorPressedError:$,closeIconColorError:o,closeIconColorHoverError:B,closeIconColorPressedError:h})},eo={name:"Alert",common:De,self:Xe},oo=eo,to=N("alert",`
 line-height: var(--n-line-height);
 border-radius: var(--n-border-radius);
 position: relative;
 transition: background-color .3s var(--n-bezier);
 background-color: var(--n-color);
 text-align: start;
 word-break: break-word;
`,[y("border",`
 border-radius: inherit;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 transition: border-color .3s var(--n-bezier);
 border: var(--n-border);
 pointer-events: none;
 `),ie("closable",[N("alert-body",[y("title",`
 padding-right: 24px;
 `)])]),y("icon",{color:"var(--n-icon-color)"}),N("alert-body",{padding:"var(--n-padding)"},[y("title",{color:"var(--n-title-text-color)"}),y("content",{color:"var(--n-content-text-color)"})]),ze({originalTransition:"transform .3s var(--n-bezier)",enterToProps:{transform:"scale(1)"},leaveToProps:{transform:"scale(0.9)"}}),y("icon",`
 position: absolute;
 left: 0;
 top: 0;
 align-items: center;
 justify-content: center;
 display: flex;
 width: var(--n-icon-size);
 height: var(--n-icon-size);
 font-size: var(--n-icon-size);
 margin: var(--n-icon-margin);
 `),y("close",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 position: absolute;
 right: 0;
 top: 0;
 margin: var(--n-close-margin);
 `),ie("show-icon",[N("alert-body",{paddingLeft:"calc(var(--n-icon-margin-left) + var(--n-icon-size) + var(--n-icon-margin-right))"})]),ie("right-adjust",[N("alert-body",{paddingRight:"calc(var(--n-close-size) + var(--n-padding) + 2px)"})]),N("alert-body",`
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 `,[y("title",`
 transition: color .3s var(--n-bezier);
 font-size: 16px;
 line-height: 19px;
 font-weight: var(--n-title-font-weight);
 `,[Ie("& +",[y("content",{marginTop:"9px"})])]),y("content",{transition:"color .3s var(--n-bezier)",fontSize:"var(--n-font-size)"})]),y("icon",{transition:"color .3s var(--n-bezier)"})]),ro=Object.assign(Object.assign({},_e.props),{title:String,showIcon:{type:Boolean,default:!0},type:{type:String,default:"default"},bordered:{type:Boolean,default:!0},closable:Boolean,onClose:Function,onAfterLeave:Function,onAfterHide:Function}),so=P({name:"Alert",inheritAttrs:!1,props:ro,setup(l){const{mergedClsPrefixRef:r,mergedBorderedRef:p,inlineThemeDisabled:S,mergedRtlRef:m}=Me(l),C=_e("Alert","-alert",to,oo,l,r),v=Ee("Alert",m,r),u=W(()=>{const{common:{cubicBezierEaseInOut:h},self:i}=C.value,{fontSize:T,borderRadius:O,titleFontWeight:F,lineHeight:q,iconSize:X,iconMargin:z,iconMarginRtl:R,closeIconSize:ee,closeBorderRadius:oe,closeSize:J,closeMargin:G,closeMarginRtl:Q,padding:te}=i,{type:_}=l,{left:re,right:se}=He(z);return{"--n-bezier":h,"--n-color":i[I("color",_)],"--n-close-icon-size":ee,"--n-close-border-radius":oe,"--n-close-color-hover":i[I("closeColorHover",_)],"--n-close-color-pressed":i[I("closeColorPressed",_)],"--n-close-icon-color":i[I("closeIconColor",_)],"--n-close-icon-color-hover":i[I("closeIconColorHover",_)],"--n-close-icon-color-pressed":i[I("closeIconColorPressed",_)],"--n-icon-color":i[I("iconColor",_)],"--n-border":i[I("border",_)],"--n-title-text-color":i[I("titleTextColor",_)],"--n-content-text-color":i[I("contentTextColor",_)],"--n-line-height":q,"--n-border-radius":O,"--n-font-size":T,"--n-title-font-weight":F,"--n-icon-size":X,"--n-icon-margin":z,"--n-icon-margin-rtl":R,"--n-close-size":J,"--n-close-margin":G,"--n-close-margin-rtl":Q,"--n-padding":te,"--n-icon-margin-left":re,"--n-icon-margin-right":se}}),g=S?Pe("alert",W(()=>l.type[0]),u,l):void 0,k=x(!0),$=()=>{const{onAfterLeave:h,onAfterHide:i}=l;h&&h(),i&&i()};return{rtlEnabled:v,mergedClsPrefix:r,mergedBordered:p,visible:k,handleCloseClick:()=>{var h;Promise.resolve((h=l.onClose)===null||h===void 0?void 0:h.call(l)).then(i=>{i!==!1&&(k.value=!1)})},handleAfterLeave:()=>{$()},mergedTheme:C,cssVars:S?void 0:u,themeClass:g==null?void 0:g.themeClass,onRender:g==null?void 0:g.onRender}},render(){var l;return(l=this.onRender)===null||l===void 0||l.call(this),f(Se,{onAfterLeave:this.handleAfterLeave},{default:()=>{const{mergedClsPrefix:r,$slots:p}=this,S={class:[`${r}-alert`,this.themeClass,this.closable&&`${r}-alert--closable`,this.showIcon&&`${r}-alert--show-icon`,!this.title&&this.closable&&`${r}-alert--right-adjust`,this.rtlEnabled&&`${r}-alert--rtl`],style:this.cssVars,role:"alert"};return this.visible?f("div",Object.assign({},Be(this.$attrs,S)),this.closable&&f(Re,{clsPrefix:r,class:`${r}-alert__close`,onClick:this.handleCloseClick}),this.bordered&&f("div",{class:`${r}-alert__border`}),this.showIcon&&f("div",{class:`${r}-alert__icon`,"aria-hidden":"true"},Ae(p.icon,()=>[f(je,{clsPrefix:r},{default:()=>{switch(this.type){case"success":return f(Fe,null);case"info":return f(Oe,null);case"warning":return f(Te,null);case"error":return f(Le,null);default:return null}}})])),f("div",{class:[`${r}-alert-body`,this.mergedBordered&&`${r}-alert-body--bordered`]},Ve(p.header,m=>{const C=m||this.title;return C?f("div",{class:`${r}-alert-body__title`},C):null}),p.default&&f("div",{class:`${r}-alert-body__content`},p))):null}})}}),no={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 384 512"},io=c("path",{d:"M202.021 0C122.202 0 70.503 32.703 29.914 91.026c-7.363 10.58-5.093 25.086 5.178 32.874l43.138 32.709c10.373 7.865 25.132 6.026 33.253-4.148c25.049-31.381 43.63-49.449 82.757-49.449c30.764 0 68.816 19.799 68.816 49.631c0 22.552-18.617 34.134-48.993 51.164c-35.423 19.86-82.299 44.576-82.299 106.405V320c0 13.255 10.745 24 24 24h72.471c13.255 0 24-10.745 24-24v-5.773c0-42.86 125.268-44.645 125.268-160.627C377.504 66.256 286.902 0 202.021 0zM192 373.459c-38.196 0-69.271 31.075-69.271 69.271c0 38.195 31.075 69.27 69.271 69.27s69.271-31.075 69.271-69.271s-31.075-69.27-69.271-69.27z",fill:"currentColor"},null,-1),lo=[io],ao=P({name:"Question",render:function(r,p){return d(),D("svg",no,lo)}}),co={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},uo=c("circle",{fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"48",cx:"256",cy:"256",r:"200"},null,-1),go=c("path",{stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"48",d:"M114.58 114.58l282.84 282.84",fill:"currentColor"},null,-1),po=[uo,go],ho=P({name:"Ban",render:function(r,p){return d(),D("svg",co,po)}}),fo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},mo=c("path",{d:"M87.48 380c1.2-4.38-1.43-10.47-3.94-14.86a42.63 42.63 0 0 0-2.54-3.8a199.81 199.81 0 0 1-33-110C47.64 139.09 140.72 48 255.82 48C356.2 48 440 117.54 459.57 209.85a199 199 0 0 1 4.43 41.64c0 112.41-89.49 204.93-204.59 204.93c-18.31 0-43-4.6-56.47-8.37s-26.92-8.77-30.39-10.11a31.14 31.14 0 0 0-11.13-2.07a30.7 30.7 0 0 0-12.08 2.43L81.5 462.78a15.92 15.92 0 0 1-4.66 1.22a9.61 9.61 0 0 1-9.58-9.74a15.85 15.85 0 0 1 .6-3.29z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),vo=c("circle",{cx:"160",cy:"256",r:"32",fill:"currentColor"},null,-1),bo=c("circle",{cx:"256",cy:"256",r:"32",fill:"currentColor"},null,-1),Co=c("circle",{cx:"352",cy:"256",r:"32",fill:"currentColor"},null,-1),_o=[mo,vo,bo,Co],wo=P({name:"ChatbubbleEllipsesOutline",render:function(r,p){return d(),D("svg",fo,_o)}}),ko={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},yo=c("circle",{cx:"256",cy:"256",r:"48",fill:"currentColor"},null,-1),xo=c("circle",{cx:"416",cy:"256",r:"48",fill:"currentColor"},null,-1),Do=c("circle",{cx:"96",cy:"256",r:"48",fill:"currentColor"},null,-1),$o=[yo,xo,Do],be=P({name:"EllipsisHorizontal",render:function(r,p){return d(),D("svg",ko,$o)}}),zo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Io=We('<path d="M256 104v56h56a56 56 0 1 0-56-56z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></path><path d="M256 104v56h-56a56 56 0 1 1 56-56z" fill="none" stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="32"></path><rect x="64" y="160" width="384" height="112" rx="32" ry="32" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></rect><path d="M416 272v144a48 48 0 0 1-48 48H144a48 48 0 0 1-48-48V272" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 160v304"></path>',5),Mo=[Io],Eo=P({name:"GiftOutline",render:function(r,p){return d(),D("svg",zo,Mo)}}),Ho={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Po=c("path",{d:"M400 148l-21.12-24.57A191.43 191.43 0 0 0 240 64C134 64 48 150 48 256s86 192 192 192a192.09 192.09 0 0 0 181.07-128",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-miterlimit":"10","stroke-width":"32"},null,-1),So=c("path",{d:"M464 97.42V208a16 16 0 0 1-16 16H337.42c-14.26 0-21.4-17.23-11.32-27.31L436.69 86.1C446.77 76 464 83.16 464 97.42z",fill:"currentColor"},null,-1),Bo=[Po,So],Ce=P({name:"ReloadOutline",render:function(r,p){return d(),D("svg",Ho,Bo)}}),Ro={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 12 12"},Ao=c("g",{fill:"none"},[c("path",{d:"M4 4V3a2 2 0 1 1 4 0v1h1a1 1 0 0 1 1 1v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h1zm1-1v1h2V3a1 1 0 0 0-2 0zm-2 7h6V5H3v5z",fill:"currentColor"})],-1),jo=[Ao],Lo=P({name:"LockClosed12Regular",render:function(r,p){return d(),D("svg",Ro,jo)}}),To={key:0,class:"random-head-container"},Oo=["src"],Fo=c("div",{style:{"margin-left":"auto"}},null,-1),Vo=["innerHTML"],Wo={class:"post-created-at"},No={key:0,class:"post-anti-jingfen"},Qo=P({__name:"PostItem",props:{forumId:{},postData:{},yourPostsList:{default:()=>[]},randomHeadGroupIndex:{default:1},antiJingfen:{type:Boolean,default:!1},noImageMode:{type:Boolean,default:!1},noEmojiMode:{type:Boolean,default:!1},noCustomEmojiMode:{type:Boolean,default:!1},noHeadMode:{type:Boolean,default:!1},noVideoMode:{type:Boolean,default:!1},useUrlMode:{type:Boolean,default:!1},previewMode:{type:Boolean,default:!1}},emits:["showRewardModal","quoteClick","refreshPostsList","adminHandle"],setup(l,{expose:r,emit:p}){const S=me(()=>ve(()=>import("./Battle-BCdPDFCP.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]))),m=me(()=>ve(()=>import("./HongbaoPost-BwxoPs3L.js"),__vite__mapDeps([28,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,29]))),C=x(!1),v=Ne(),u=qe(),g=x(null),k=x(null),$=x(null),o=l,B=W(()=>({maxHeight:Z.value===void 0?void 0:Z.value+"px"})),h=W(()=>({top:K.value===void 0?void 0:K.value+"px"})),i=p,T=W(()=>{const e=[{label:"回复",key:"quote",icon:L(wo,{size:"1.5rem"})}];return o.postData.is_your_post||e.unshift({label:"打赏",key:"gift",icon:L(Eo,{size:"1.5rem"})}),v.checkAdminForums(o.forumId)&&(e.push({key:"divider",type:"divider"}),e.push({label:"提示",key:"hint",icon:L(ao,{size:"1.5rem"})},{label:"碎饼",key:"ban",icon:L(ho,{size:"1.5rem"})},{label:"封禁",key:"lock",icon:L(Lo,{size:"1.5rem"})},{label:"删全",key:"deleteAll",icon:L(ce,{size:"1.5rem"})}),o.postData.is_deleted===0?e.push({label:"删帖",key:"delete",icon:L(ce,{size:"1.5rem"})}):e.push({label:"恢复",key:"recovery",icon:L(Ce,{size:"1.5rem"})})),e});function O(){i("showRewardModal",{floor:o.postData.floor,forumId:o.forumId,threadId:o.postData.thread_id,postId:o.postData.id,postFloorMessage:J.value})}function F(){function e(){const t={binggan:v.binggan,thread_id:o.postData.thread_id,post_id:o.postData.id};Ke(t).then(()=>i("refreshPostsList"))}ae({title:"要删除这个回复吗？",content:"会消费300olo喔",onPositiveClick:()=>{o.postData.hongbao_id!==null?ae({title:"注意",content:"这个回帖有红包。删除后红包将消失，并且olo不退回。是否确认？",onPositiveClick:()=>{e()}}):e()}})}function q(){function e(){const t={binggan:v.binggan,thread_id:o.postData.thread_id,post_id:o.postData.id};Ye(t).then(()=>i("refreshPostsList"))}ae({title:"要恢复这个已删除的回复吗？",content:"会消费300olo喔",onPositiveClick:()=>{e()}})}function X(e){switch(e){case"gift":O();break;case"quote":G();break;default:i("adminHandle",{action:e,postId:o.postData.id});break}}const z=x(!1),R=x();function ee(e){return e.search(/class='emoji[-_]img'/g)!=-1?o.noEmojiMode?"":e:e.search(/class='custom[-_]emoji[-_]img'/g)!=-1?o.noCustomEmojiMode?"":e:o.noImageMode?e.replace(/src/,"origin-src").replace("<img ",'<img src="/img_svg.svg" class="img-svg"'):e}const oe=W(()=>{var t;let e;if(e=o.postData.content.replace(/<img[^>]*>/g,ee).replace(/<script/g,"<**禁止使用script**").replace(/\n/g,"<br>"),(t=v.userData)!=null&&t.binggan.use_pingbici){const s=u.userCustom.pingbiciIngnoreCase?"gi":"g";if(!u.userCustom.hidePingbiciFloor){const n=v.userData.pingbici.content_pingbici;n==null||n.forEach(b=>{new RegExp(b,s).test(e)&&(z.value=!0,R.value="屏蔽词折叠（点击展开）")})}if(o.antiJingfen&&!u.userCustom.hidePingbiciFloor){const n=v.userData.pingbici.fjf_pingbici;n==null||n.forEach(b=>{new RegExp(b,"g").test(o.postData.created_binggan_hash.slice(0,5))&&(z.value=!0,R.value="小尾巴黑名单（点击展开）")})}if(!u.userCustom.hidePingbiciFloor){const n=v.userData.pingbici.fjf_pingbici;n==null||n.forEach(b=>{new RegExp(b,s).test(o.postData.nickname)&&(z.value=!0,R.value="固马黑名单（点击展开）")})}}if(o.noVideoMode&&new RegExp(/<video|<audio|<embed|<iframe/,"g").test(e)&&(z.value=!0,R.value="音视频折叠（点击展开）"),o.yourPostsList&&o.yourPostsList.forEach(s=>{const n=`@№${s}(?![0-9])`,b=new RegExp(n,"g");e=e.replace(b,E=>`<span class="highlight">${E}</span>`)}),o.useUrlMode){let s=function(b){return new RegExp(/.*(png|jpe?g|webp|gif)$/,"i").test(b)?b:`<a href="${b}" target="_blank">${b}</a>`};const n=new RegExp(/(https?:\/\/|www\.)[a-zA-Z_0-9\-@]+(\.\w[a-zA-Z_0-9\-:]+)+(\/[\(\)~#&\-=?\+\%/\.\w]+)?/,"gi");e=e.replace(n,s)}return e}),J=W(()=>{var e;return o.antiJingfen?`№${o.postData.floor} ${o.postData.nickname} ${o.postData.created_at} →${(e=o.postData.created_binggan_hash)==null?void 0:e.slice(0,5)}`:`№${o.postData.floor} ${o.postData.nickname} ${o.postData.created_at}`});function G(){const e=u.userCustom.quoteMax;let t=g.value.getElementsByTagName("details");for(let E of t)E.open=!1;let s=g.value.innerText.split(`
`),n=[];s.forEach((E,xe)=>{E.indexOf("@№")>-1&&n.push(xe)}),n.length>=e&&(s=s.slice(n[n.length-e]+1,s.length));const b="<span class='quote-content'>"+s.join(`
`)+`
@`+J.value+`</span>
`;i("quoteClick",b)}const Q=x();function te(){g.value.querySelectorAll("img").forEach(t=>{t.getAttribute("class")!=="img-svg"&&t.addEventListener("click",s=>{Q.value=t,window.$message.success("要添加至自定义表情包吗？",{render:_,closable:!0})})})}const _=e=>{const{type:t}=e;return f(so,{closable:!1,type:t==="loading"?"default":t,showIcon:!1,style:{boxShadow:"var(--n-box-shadow)",maxWidth:"calc(100vw - 64px)",width:"250px"}},()=>[f("span",{innerText:e.content}),f(fe,{size:"tiny",type:"success",onClick:re},{default:()=>"确定"})])};function re(){var s;const e=v.userData.my_emoji,t=(s=Q.value)==null?void 0:s.getAttribute("src");if(e!==null&&e.includes(t))window.$message.error("已经添加过该表情包了");else{const n={binggan:v.binggan,my_emoji:t};Qe(n).then(()=>v.refreshUserData())}}le(()=>{te()});function se(){g.value.querySelectorAll(".img-svg").forEach(t=>{t.addEventListener("click",s=>{const n=t.getAttribute("src");t.setAttribute("src",""),t.setAttribute("src",t.getAttribute("origin-src")),t.setAttribute("origin-src",n)})})}le(()=>{se()});const ne=x(!1),Z=x(),K=x();function we(){const e=window.getComputedStyle(k.value),t=parseInt(e.lineHeight),s=parseInt(e.height),n=t*16;s>n&&(ne.value=!0,K.value=n-s,Z.value=n)}function ke(){ne.value=!1,K.value=void 0,Z.value=void 0}le(()=>{o.postData.floor!==0&&we()});function ye(){var e;(e=$.value)==null||e.refreshBattleDataHandle()}return r({refreshBattleData:ye}),(e,t)=>(d(),H(a(Je),{size:"small",bordered:!0,class:"post-card",id:"f_"+e.postData.floor,floor:e.postData.floor},{default:M(()=>[V(a(pe),{size:"small"},{default:M(()=>[e.noHeadMode?w("",!0):(d(),D("div",To,[c("img",{src:a(Ze)[e.randomHeadGroupIndex-1].random_heads[e.postData.random_head],class:de("head_"+e.postData.random_head)},null,10,Oo)])),R.value!==void 0?(d(),H(a(Ge),{key:1,text:"",onClick:t[0]||(t[0]=s=>z.value=!z.value)},{default:M(()=>[ue(U(R.value),1)]),_:1})):w("",!0),e.previewMode?w("",!0):(d(),D(ge,{key:2},[Fo,e.postData.is_your_post&&e.postData.is_deleted===0?(d(),H(a(Y),{key:0,size:a(u).isMobile?20:24,style:{cursor:"pointer"},onClick:F},{default:M(()=>[V(a(ce))]),_:1},8,["size"])):w("",!0),e.postData.is_your_post&&e.postData.is_deleted===1?(d(),H(a(Y),{key:1,size:a(u).isMobile?20:24,style:{cursor:"pointer"},onClick:q},{default:M(()=>[V(a(Ce))]),_:1},8,["size"])):w("",!0),C.value?w("",!0):(d(),H(a(Y),{key:2,size:a(u).isMobile?20:24,style:{cursor:"pointer"},onClick:t[1]||(t[1]=s=>C.value=!0)},{default:M(()=>[V(a(be))]),_:1},8,["size"])),C.value?(d(),H(a(Ue),{key:3,trigger:"click",options:T.value,onSelect:X,show:C.value,size:a(u).isMobile?"medium":"large",onClickoutside:t[2]||(t[2]=s=>C.value=!1)},{default:M(()=>[V(a(Y),{size:a(u).isMobile?20:24,style:{cursor:"pointer"}},{default:M(()=>[V(a(be))]),_:1},8,["size"])]),_:1},8,["options","show","size"])):w("",!0)],64))]),_:1}),z.value?w("",!0):(d(),D(ge,{key:0},[c("div",{class:"post-content-container",ref_key:"postContentContainerDom",ref:k,style:he([B.value,{"margin-top":"6px"}])},[c("span",{innerHTML:oe.value,class:"post-content",ref_key:"postContentDom",ref:g,style:he(h.value)},null,12,Vo)],4),e.postData.hongbao_data!==null?(d(),H(a(m),{key:0,"hongbao-data":e.postData.hongbao_data,"forum-id":e.forumId,"thread-id":e.postData.thread_id,onRefreshPostsList:t[3]||(t[3]=s=>i("refreshPostsList"))},null,8,["hongbao-data","forum-id","thread-id"])):w("",!0),e.postData.battle_id!==null?(d(),H(a(S),{key:1,"battle-id":e.postData.battle_id,ref_key:"BattleCom",ref:$},null,8,["battle-id"])):w("",!0),V(a(pe),{size:[4,0],class:de(["post-footer",{"system-post":e.postData.created_by_admin===2,"admin-post":e.postData.created_by_admin===1}])},{default:M(()=>{var s;return[c("span",{depth:3,class:"post-footer-text",onClick:G,style:{cursor:"pointer"}},U("№"+e.postData.floor),1),c("span",{class:"post-nick-name",onClick:G,style:{cursor:"pointer"}},U(e.postData.nickname),1),c("span",Wo,U(e.postData.created_at),1),e.antiJingfen?(d(),D("span",No," →"+U((s=e.postData.created_binggan_hash)==null?void 0:s.slice(0,5)),1)):w("",!0),ne.value?(d(),H(a(fe),{key:1,size:"tiny",onClick:ke},{default:M(()=>[ue("展开限高")]),_:1})):w("",!0)]}),_:1},8,["class"])],64))]),_:1},8,["id","floor"]))}});export{be as D,so as N,Qo as _};
