function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/PostItem-DufoCrUc.js","assets/PostItem.vue_vue_type_script_setup_true_lang-BY-3XPtz.js","assets/app-DHSg6T1I.js","assets/app-Bhn7e-7g.css","assets/randomHeads-BiQLUbo6.js","assets/showDialog-X27gZ7Iz.js","assets/Delete-DvtoBt4y.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{aF as Ie,S as l,w as X,aG as Dt,a9 as Fe,K as wt,aH as nn,am as on,aI as ln,a2 as re,a0 as B,aJ as xt,aK as an,aL as rn,a6 as ae,$ as _,p as lt,ai as rt,ak as Qe,Z as Ot,L as Oe,d as F,T as Ke,aa as bt,aM as sn,aN as un,ae as nt,aO as dn,ag as it,C as Te,aP as ce,af as ht,B as ye,aQ as cn,aR as vt,V as yt,aS as fn,e as ot,a7 as gt,a3 as ne,aT as je,aU as Ut,aV as Ht,aW as jt,aX as At,aY as hn,an as _t,P as at,aZ as vn,a_ as Nt,a$ as gn,aD as Ae,b0 as pn,b1 as mn,b2 as kt,a1 as _e,b3 as wn,b4 as bn,a5 as yn,y as Cn,b5 as xn,b6 as Rt,aj as _n,A as W,F as ve,j as oe,b7 as Et,b as Pe,n as Re,c as Ne,M as fe,f,H as s,a as t,k as ie,v as he,z as S,h as be,s as Le,i as Ue,ar as He,b8 as $e,r as kn,b9 as Rn,x as Ee,G as De,ba as pt,aB as Pt,Q as Ge,N as Se,aE as Pn,m as Sn,bb as In,o as $n,aw as St,t as It,ax as Be,D as Je,ay as Mn,az as zn}from"./app-DHSg6T1I.js";import{s as Ln}from"./showDialog-X27gZ7Iz.js";import{a as Tn,D as Bn}from"./randomHeads-BiQLUbo6.js";import{_ as ke}from"./FInput.vue_vue_type_script_setup_true_lang-DkIPuNnh.js";import{_ as ue}from"./FInputGroupLabel.vue_vue_type_script_setup_true_lang-DMofk_Pe.js";import{N as de}from"./InputGroup-A5fnApsu.js";import{N as Ye}from"./InputNumber-t9dTEnz3.js";import{c as Dn}from"./index-Crq6HWd9.js";import{i as Ft,a as Wt}from"./inputNumberFormat-DaYmlx6U.js";import{N as qe}from"./Select-BPBz4cwx.js";import{a as On,N as st}from"./Grid-BP3nVEgd.js";import{N as Un}from"./ColorPicker-D7EfN-XB.js";import{A as Hn}from"./Add-DuUoTvAO.js";import{u as jn}from"./use-locale-DOrdRpgM.js";import{c as An}from"./_createCompounder-CK8fnUEt.js";import{a as Nn}from"./Ellipsis-BBK28lfF.js";import{d as Vt}from"./download-sglA049O.js";import{E as En,N as Fn}from"./Input-DalQbTGL.js";import{e as Wn}from"./emojiData-nGA-8XBz.js";import{N as $t,a as Vn}from"./Tabs-RPN3vO5j.js";import{N as Xn}from"./Divider-D7n3EUA3.js";var Gn=An(function(e,n,a){return e+(a?"-":"")+n.toLowerCase()});const Yn=Ie("attach",l("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},l("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l("g",{fill:"currentColor","fill-rule":"nonzero"},l("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),qn=Ie("trash",l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},l("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),l("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),l("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),l("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Zn=Ie("download",l("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},l("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l("g",{fill:"currentColor","fill-rule":"nonzero"},l("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Kn=Ie("cancel",l("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},l("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},l("g",{fill:"currentColor","fill-rule":"nonzero"},l("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Qn=Ie("retry",l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},l("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),l("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Jn=Ie("rotateClockwise",l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),l("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),eo=Ie("rotateClockwise",l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),l("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),to=Ie("zoomIn",l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),l("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),no=Ie("zoomOut",l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),l("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),oo=X({name:"ResizeSmall",render(){return l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},l("g",{fill:"none"},l("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),lo=Dt&&"loading"in document.createElement("img"),ao=(e={})=>{var n;const{root:a=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(n=e.threshold)!==null&&n!==void 0?n:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof a=="string"?document.querySelector(a):a)||document.documentElement})}},ut=new WeakMap,dt=new WeakMap,ct=new WeakMap,ro=(e,n,a)=>{if(!e)return()=>{};const u=ao(n),{root:r}=u.options;let i;const v=ut.get(r);v?i=v:(i=new Map,ut.set(r,i));let p,c;i.has(u.hash)?(c=i.get(u.hash),c[1].has(e)||(p=c[0],c[1].add(e),p.observe(e))):(p=new IntersectionObserver(h=>{h.forEach(C=>{if(C.isIntersecting){const g=dt.get(C.target),w=ct.get(C.target);g&&g(),w&&(w.value=!0)}})},u.options),p.observe(e),c=[p,new Set([e])],i.set(u.hash,c));let o=!1;const d=()=>{o||(dt.delete(e),ct.delete(e),o=!0,c[1].has(e)&&(c[0].unobserve(e),c[1].delete(e)),c[1].size<=0&&i.delete(u.hash),i.size||ut.delete(r))};return dt.set(e,d),ct.set(e,a),d},Ct=Object.assign(Object.assign({},Fe.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Xt=wt("n-image");function io(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const so=nn({name:"Image",common:on,peers:{Tooltip:ln},self:io}),uo=l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),co=l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),fo=l("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),ho=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},l("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),vo=re([re("body >",[B("image-container","position: fixed;")]),B("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),B("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[xt()]),B("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[B("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),xt()]),B("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[an()]),B("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),B("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[rn("preview-disabled",`
 cursor: pointer;
 `),re("img",`
 border-radius: inherit;
 `)])]),et=32,Gt=X({name:"ImagePreview",props:Object.assign(Object.assign({},Ct),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const n=Fe("Image","-image",vo,so,e,ae(e,"clsPrefix"));let a=null;const u=_(null),r=_(null),i=_(void 0),v=_(!1),p=_(!1),{localeRef:c}=jn("Image");function o(){const{value:R}=r;if(!a||!R)return;const{style:E}=R,T=a.getBoundingClientRect(),ee=T.left+T.width/2,te=T.top+T.height/2;E.transformOrigin=`${ee}px ${te}px`}function d(R){var E,T;switch(R.key){case" ":R.preventDefault();break;case"ArrowLeft":(E=e.onPrev)===null||E===void 0||E.call(e);break;case"ArrowRight":(T=e.onNext)===null||T===void 0||T.call(e);break;case"Escape":q();break}}lt(v,R=>{R?rt("keydown",document,d):Qe("keydown",document,d)}),Ot(()=>{Qe("keydown",document,d)});let h=0,C=0,g=0,w=0,y=0,M=0,z=0,P=0,L=!1;function b(R){const{clientX:E,clientY:T}=R;g=E-h,w=T-C,cn(D)}function m(R){const{mouseUpClientX:E,mouseUpClientY:T,mouseDownClientX:ee,mouseDownClientY:te}=R,pe=ee-E,we=te-T,xe=`vertical${we>0?"Top":"Bottom"}`,ze=`horizontal${pe>0?"Left":"Right"}`;return{moveVerticalDirection:xe,moveHorizontalDirection:ze,deltaHorizontal:pe,deltaVertical:we}}function x(R){const{value:E}=u;if(!E)return{offsetX:0,offsetY:0};const T=E.getBoundingClientRect(),{moveVerticalDirection:ee,moveHorizontalDirection:te,deltaHorizontal:pe,deltaVertical:we}=R||{};let xe=0,ze=0;return T.width<=window.innerWidth?xe=0:T.left>0?xe=(T.width-window.innerWidth)/2:T.right<window.innerWidth?xe=-(T.width-window.innerWidth)/2:te==="horizontalRight"?xe=Math.min((T.width-window.innerWidth)/2,y-(pe??0)):xe=Math.max(-((T.width-window.innerWidth)/2),y-(pe??0)),T.height<=window.innerHeight?ze=0:T.top>0?ze=(T.height-window.innerHeight)/2:T.bottom<window.innerHeight?ze=-(T.height-window.innerHeight)/2:ee==="verticalBottom"?ze=Math.min((T.height-window.innerHeight)/2,M-(we??0)):ze=Math.max(-((T.height-window.innerHeight)/2),M-(we??0)),{offsetX:xe,offsetY:ze}}function N(R){Qe("mousemove",document,b),Qe("mouseup",document,N);const{clientX:E,clientY:T}=R;L=!1;const ee=m({mouseUpClientX:E,mouseUpClientY:T,mouseDownClientX:z,mouseDownClientY:P}),te=x(ee);g=te.offsetX,w=te.offsetY,D()}const Y=Oe(Xt,null);function k(R){var E,T;if((T=(E=Y==null?void 0:Y.previewedImgPropsRef.value)===null||E===void 0?void 0:E.onMousedown)===null||T===void 0||T.call(E,R),R.button!==0)return;const{clientX:ee,clientY:te}=R;L=!0,h=ee-g,C=te-w,y=g,M=w,z=ee,P=te,D(),rt("mousemove",document,b),rt("mouseup",document,N)}function U(R){var E,T;(T=(E=Y==null?void 0:Y.previewedImgPropsRef.value)===null||E===void 0?void 0:E.onDblclick)===null||T===void 0||T.call(E,R);const ee=Me();G=G===ee?1:ee,D()}const H=1.5;let J=0,G=1,Q=0;function Z(){G=1,J=0}function K(){var R;Z(),Q=0,(R=e.onPrev)===null||R===void 0||R.call(e)}function ge(){var R;Z(),Q=0,(R=e.onNext)===null||R===void 0||R.call(e)}function se(){Q-=90,D()}function Ce(){Q+=90,D()}function me(){const{value:R}=u;if(!R)return 1;const{innerWidth:E,innerHeight:T}=window,ee=Math.max(1,R.naturalHeight/(T-et)),te=Math.max(1,R.naturalWidth/(E-et));return Math.max(3,ee*2,te*2)}function Me(){const{value:R}=u;if(!R)return 1;const{innerWidth:E,innerHeight:T}=window,ee=R.naturalHeight/(T-et),te=R.naturalWidth/(E-et);return ee<1&&te<1?1:Math.max(ee,te)}function I(){const R=me();G<R&&(J+=1,G=Math.min(R,Math.pow(H,J)),D())}function $(){if(G>.5){const R=G;J-=1,G=Math.max(.5,Math.pow(H,J));const E=R-G;D(!1);const T=x();G+=E,D(!1),G-=E,g=T.offsetX,w=T.offsetY,D()}}function j(){const R=i.value;R&&Vt(R,void 0)}function D(R=!0){var E;const{value:T}=u;if(!T)return;const{style:ee}=T,te=ye((E=Y==null?void 0:Y.previewedImgPropsRef.value)===null||E===void 0?void 0:E.style);let pe="";if(typeof te=="string")pe=te+";";else for(const xe in te)pe+=`${Gn(xe)}: ${te[xe]};`;const we=`transform-origin: center; transform: translateX(${g}px) translateY(${w}px) rotate(${Q}deg) scale(${G});`;L?ee.cssText=pe+"cursor: grabbing; transition: none;"+we:ee.cssText=pe+"cursor: grab;"+we+(R?"":"transition: none;"),R||T.offsetHeight}function q(){v.value=!v.value,p.value=!0}function Ve(){G=Me(),J=Math.ceil(Math.log(G)/Math.log(H)),g=0,w=0,D()}const Xe={setPreviewSrc:R=>{i.value=R},setThumbnailEl:R=>{a=R},toggleShow:q};function A(R,E){if(e.showToolbarTooltip){const{value:T}=n;return l(Nn,{to:!1,theme:T.peers.Tooltip,themeOverrides:T.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>c.value[E],trigger:()=>R})}else return R}const O=F(()=>{const{common:{cubicBezierEaseInOut:R},self:{toolbarIconColor:E,toolbarBorderRadius:T,toolbarBoxShadow:ee,toolbarColor:te}}=n.value;return{"--n-bezier":R,"--n-toolbar-icon-color":E,"--n-toolbar-color":te,"--n-toolbar-border-radius":T,"--n-toolbar-box-shadow":ee}}),{inlineThemeDisabled:V}=Ke(),le=V?bt("image-preview",void 0,O,e):void 0;return Object.assign({previewRef:u,previewWrapperRef:r,previewSrc:i,show:v,appear:sn(),displayed:p,previewedImgProps:Y==null?void 0:Y.previewedImgPropsRef,handleWheel(R){R.preventDefault()},handlePreviewMousedown:k,handlePreviewDblclick:U,syncTransformOrigin:o,handleAfterLeave:()=>{Z(),Q=0,p.value=!1},handleDragStart:R=>{var E,T;(T=(E=Y==null?void 0:Y.previewedImgPropsRef.value)===null||E===void 0?void 0:E.onDragstart)===null||T===void 0||T.call(E,R),R.preventDefault()},zoomIn:I,zoomOut:$,handleDownloadClick:j,rotateCounterclockwise:se,rotateClockwise:Ce,handleSwitchPrev:K,handleSwitchNext:ge,withTooltip:A,resizeToOrignalImageSize:Ve,cssVars:V?void 0:O,themeClass:le==null?void 0:le.themeClass,onRender:le==null?void 0:le.onRender},Xe)},render(){var e,n;const{clsPrefix:a}=this;return l(Te,null,(n=(e=this.$slots).default)===null||n===void 0?void 0:n.call(e),l(un,{show:this.show},{default:()=>{var u;return this.show||this.displayed?((u=this.onRender)===null||u===void 0||u.call(this),nt(l("div",{class:[`${a}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},l(it,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?l("div",{class:`${a}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?l(it,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:r}=this;return l("div",{class:`${a}-image-preview-toolbar`},this.onPrev?l(Te,null,r(l(ce,{clsPrefix:a,onClick:this.handleSwitchPrev},{default:()=>uo}),"tipPrevious"),r(l(ce,{clsPrefix:a,onClick:this.handleSwitchNext},{default:()=>co}),"tipNext")):null,r(l(ce,{clsPrefix:a,onClick:this.rotateCounterclockwise},{default:()=>l(eo,null)}),"tipCounterclockwise"),r(l(ce,{clsPrefix:a,onClick:this.rotateClockwise},{default:()=>l(Jn,null)}),"tipClockwise"),r(l(ce,{clsPrefix:a,onClick:this.resizeToOrignalImageSize},{default:()=>l(oo,null)}),"tipOriginalSize"),r(l(ce,{clsPrefix:a,onClick:this.zoomOut},{default:()=>l(no,null)}),"tipZoomOut"),r(l(ce,{clsPrefix:a,onClick:this.zoomIn},{default:()=>l(to,null)}),"tipZoomIn"),r(l(ce,{clsPrefix:a,onClick:this.handleDownloadClick},{default:()=>ho}),"tipDownload"),r(l(ce,{clsPrefix:a,onClick:this.toggleShow},{default:()=>fo}),"tipClose"))}}):null,l(it,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:r={}}=this;return nt(l("div",{class:`${a}-image-preview-wrapper`,ref:"previewWrapperRef"},l("img",Object.assign({},r,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${a}-image-preview`,r.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ht,this.show]])}})),[[dn,{enabled:this.show}]])):null}}))}}),Yt=wt("n-image-group"),go=Ct,po=X({name:"ImageGroup",props:go,setup(e){let n;const{mergedClsPrefixRef:a}=Ke(e),u=`c${vt()}`,r=fn(),i=c=>{var o;n=c,(o=p.value)===null||o===void 0||o.setPreviewSrc(c)};function v(c){var o,d;if(!(r!=null&&r.proxy))return;const C=r.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${u}]:not([data-error=true])`);if(!C.length)return;const g=Array.from(C).findIndex(w=>w.dataset.previewSrc===n);~g?i(C[(g+c+C.length)%C.length].dataset.previewSrc):i(C[0].dataset.previewSrc),c===1?(o=e.onPreviewNext)===null||o===void 0||o.call(e):(d=e.onPreviewPrev)===null||d===void 0||d.call(e)}yt(Yt,{mergedClsPrefixRef:a,setPreviewSrc:i,setThumbnailEl:c=>{var o;(o=p.value)===null||o===void 0||o.setThumbnailEl(c)},toggleShow:()=>{var c;(c=p.value)===null||c===void 0||c.toggleShow()},groupId:u});const p=_(null);return{mergedClsPrefix:a,previewInstRef:p,next:()=>{v(1)},prev:()=>{v(-1)}}},render(){return l(Gt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),mo=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Ct),wo=X({name:"Image",props:mo,inheritAttrs:!1,setup(e){const n=_(null),a=_(!1),u=_(null),r=Oe(Yt,null),{mergedClsPrefixRef:i}=r||Ke(e),v={click:()=>{if(e.previewDisabled||a.value)return;const o=e.previewSrc||e.src;if(r){r.setPreviewSrc(o),r.setThumbnailEl(n.value),r.toggleShow();return}const{value:d}=u;d&&(d.setPreviewSrc(o),d.setThumbnailEl(n.value),d.toggleShow())}},p=_(!e.lazy);ot(()=>{var o;(o=n.value)===null||o===void 0||o.setAttribute("data-group-id",(r==null?void 0:r.groupId)||"")}),ot(()=>{if(e.lazy&&e.intersectionObserverOptions){let o;const d=gt(()=>{o==null||o(),o=void 0,o=ro(n.value,e.intersectionObserverOptions,p)});Ot(()=>{d(),o==null||o()})}}),gt(()=>{var o;e.src||((o=e.imgProps)===null||o===void 0||o.src),a.value=!1});const c=_(!1);return yt(Xt,{previewedImgPropsRef:ae(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:i,groupId:r==null?void 0:r.groupId,previewInstRef:u,imageRef:n,showError:a,shouldStartLoading:p,loaded:c,mergedOnClick:o=>{var d,h;v.click(),(h=(d=e.imgProps)===null||d===void 0?void 0:d.onClick)===null||h===void 0||h.call(d,o)},mergedOnError:o=>{if(!p.value)return;a.value=!0;const{onError:d,imgProps:{onError:h}={}}=e;d==null||d(o),h==null||h(o)},mergedOnLoad:o=>{const{onLoad:d,imgProps:{onLoad:h}={}}=e;d==null||d(o),h==null||h(o),c.value=!0}},v)},render(){var e,n;const{mergedClsPrefix:a,imgProps:u={},loaded:r,$attrs:i,lazy:v}=this,p=(n=(e=this.$slots).placeholder)===null||n===void 0?void 0:n.call(e),c=this.src||u.src,o=l("img",Object.assign(Object.assign({},u),{ref:"imageRef",width:this.width||u.width,height:this.height||u.height,src:this.showError?this.fallbackSrc:v&&this.intersectionObserverOptions?this.shouldStartLoading?c:void 0:c,alt:this.alt||u.alt,"aria-label":this.alt||u.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:lo&&v&&!this.intersectionObserverOptions?"lazy":"eager",style:[u.style||"",p&&!r?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return l("div",Object.assign({},i,{role:"none",class:[i.class,`${a}-image`,(this.previewDisabled||this.showError)&&`${a}-image--preview-disabled`]}),this.groupId?o:l(Gt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:a,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>o}),!r&&p)}}),bo=re([B("progress",{display:"inline-block"},[B("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),ne("line",`
 width: 100%;
 display: block;
 `,[B("progress-content",`
 display: flex;
 align-items: center;
 `,[B("progress-graph",{flex:1})]),B("progress-custom-content",{marginLeft:"14px"}),B("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[ne("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),ne("circle, dashboard",{width:"120px"},[B("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),B("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),B("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),ne("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[B("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),B("progress-content",{position:"relative"}),B("progress-graph",{position:"relative"},[B("progress-graph-circle",[re("svg",{verticalAlign:"bottom"}),B("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[ne("empty",{opacity:0})]),B("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),B("progress-graph-line",[ne("indicator-inside",[B("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[B("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),B("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),ne("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[B("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),B("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),B("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[B("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[ne("processing",[re("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),re("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),yo={success:l(Ut,null),error:l(Ht,null),warning:l(jt,null),info:l(At,null)},Co=X({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:n}){const a=F(()=>je(e.height)),u=F(()=>e.railBorderRadius!==void 0?je(e.railBorderRadius):e.height!==void 0?je(e.height,{c:.5}):""),r=F(()=>e.fillBorderRadius!==void 0?je(e.fillBorderRadius):e.railBorderRadius!==void 0?je(e.railBorderRadius):e.height!==void 0?je(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:i,railColor:v,railStyle:p,percentage:c,unit:o,indicatorTextColor:d,status:h,showIndicator:C,fillColor:g,processing:w,clsPrefix:y}=e;return l("div",{class:`${y}-progress-content`,role:"none"},l("div",{class:`${y}-progress-graph`,"aria-hidden":!0},l("div",{class:[`${y}-progress-graph-line`,{[`${y}-progress-graph-line--indicator-${i}`]:!0}]},l("div",{class:`${y}-progress-graph-line-rail`,style:[{backgroundColor:v,height:a.value,borderRadius:u.value},p]},l("div",{class:[`${y}-progress-graph-line-fill`,w&&`${y}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:g,height:a.value,lineHeight:a.value,borderRadius:r.value}},i==="inside"?l("div",{class:`${y}-progress-graph-line-indicator`,style:{color:d}},n.default?n.default():`${c}${o}`):null)))),C&&i==="outside"?l("div",null,n.default?l("div",{class:`${y}-progress-custom-content`,style:{color:d},role:"none"},n.default()):h==="default"?l("div",{role:"none",class:`${y}-progress-icon ${y}-progress-icon--as-text`,style:{color:d}},c,o):l("div",{class:`${y}-progress-icon`,"aria-hidden":!0},l(ce,{clsPrefix:y},{default:()=>yo[h]}))):null)}}}),xo={success:l(Ut,null),error:l(Ht,null),warning:l(jt,null),info:l(At,null)},_o=X({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:n}){function a(u,r,i){const{gapDegree:v,viewBoxWidth:p,strokeWidth:c}=e,o=50,d=0,h=o,C=0,g=2*o,w=50+c/2,y=`M ${w},${w} m ${d},${h}
      a ${o},${o} 0 1 1 ${C},${-g}
      a ${o},${o} 0 1 1 ${-C},${g}`,M=Math.PI*2*o,z={stroke:i,strokeDasharray:`${u/100*(M-v)}px ${p*8}px`,strokeDashoffset:`-${v/2}px`,transformOrigin:r?"center":void 0,transform:r?`rotate(${r}deg)`:void 0};return{pathString:y,pathStyle:z}}return()=>{const{fillColor:u,railColor:r,strokeWidth:i,offsetDegree:v,status:p,percentage:c,showIndicator:o,indicatorTextColor:d,unit:h,gapOffsetDegree:C,clsPrefix:g}=e,{pathString:w,pathStyle:y}=a(100,0,r),{pathString:M,pathStyle:z}=a(c,v,u),P=100+i;return l("div",{class:`${g}-progress-content`,role:"none"},l("div",{class:`${g}-progress-graph`,"aria-hidden":!0},l("div",{class:`${g}-progress-graph-circle`,style:{transform:C?`rotate(${C}deg)`:void 0}},l("svg",{viewBox:`0 0 ${P} ${P}`},l("g",null,l("path",{class:`${g}-progress-graph-circle-rail`,d:w,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:y})),l("g",null,l("path",{class:[`${g}-progress-graph-circle-fill`,c===0&&`${g}-progress-graph-circle-fill--empty`],d:M,"stroke-width":i,"stroke-linecap":"round",fill:"none",style:z}))))),o?l("div",null,n.default?l("div",{class:`${g}-progress-custom-content`,role:"none"},n.default()):p!=="default"?l("div",{class:`${g}-progress-icon`,"aria-hidden":!0},l(ce,{clsPrefix:g},{default:()=>xo[p]})):l("div",{class:`${g}-progress-text`,style:{color:d},role:"none"},l("span",{class:`${g}-progress-text__percentage`},c),l("span",{class:`${g}-progress-text__unit`},h))):null)}}});function Mt(e,n,a=100){return`m ${a/2} ${a/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const ko=X({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:n}){const a=F(()=>e.percentage.map((r,i)=>`${Math.PI*r/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*i)-e.circleGap*i)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:u,strokeWidth:r,circleGap:i,showIndicator:v,fillColor:p,railColor:c,railStyle:o,percentage:d,clsPrefix:h}=e;return l("div",{class:`${h}-progress-content`,role:"none"},l("div",{class:`${h}-progress-graph`,"aria-hidden":!0},l("div",{class:`${h}-progress-graph-circle`},l("svg",{viewBox:`0 0 ${u} ${u}`},d.map((C,g)=>l("g",{key:g},l("path",{class:`${h}-progress-graph-circle-rail`,d:Mt(u/2-r/2*(1+2*g)-i*g,r,u),"stroke-width":r,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:c[g]},o[g]]}),l("path",{class:[`${h}-progress-graph-circle-fill`,C===0&&`${h}-progress-graph-circle-fill--empty`],d:Mt(u/2-r/2*(1+2*g)-i*g,r,u),"stroke-width":r,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:a.value[g],strokeDashoffset:0,stroke:p[g]}})))))),v&&n.default?l("div",null,l("div",{class:`${h}-progress-text`},n.default())):null)}}}),Ro=Object.assign(Object.assign({},Fe.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),Po=X({name:"Progress",props:Ro,setup(e){const n=F(()=>e.indicatorPlacement||e.indicatorPosition),a=F(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:u,inlineThemeDisabled:r}=Ke(e),i=Fe("Progress","-progress",bo,hn,e,u),v=F(()=>{const{status:c}=e,{common:{cubicBezierEaseInOut:o},self:{fontSize:d,fontSizeCircle:h,railColor:C,railHeight:g,iconSizeCircle:w,iconSizeLine:y,textColorCircle:M,textColorLineInner:z,textColorLineOuter:P,lineBgProcessing:L,fontWeightCircle:b,[_t("iconColor",c)]:m,[_t("fillColor",c)]:x}}=i.value;return{"--n-bezier":o,"--n-fill-color":x,"--n-font-size":d,"--n-font-size-circle":h,"--n-font-weight-circle":b,"--n-icon-color":m,"--n-icon-size-circle":w,"--n-icon-size-line":y,"--n-line-bg-processing":L,"--n-rail-color":C,"--n-rail-height":g,"--n-text-color-circle":M,"--n-text-color-line-inner":z,"--n-text-color-line-outer":P}}),p=r?bt("progress",F(()=>e.status[0]),v,e):void 0;return{mergedClsPrefix:u,mergedIndicatorPlacement:n,gapDeg:a,cssVars:r?void 0:v,themeClass:p==null?void 0:p.themeClass,onRender:p==null?void 0:p.onRender}},render(){const{type:e,cssVars:n,indicatorTextColor:a,showIndicator:u,status:r,railColor:i,railStyle:v,color:p,percentage:c,viewBoxWidth:o,strokeWidth:d,mergedIndicatorPlacement:h,unit:C,borderRadius:g,fillBorderRadius:w,height:y,processing:M,circleGap:z,mergedClsPrefix:P,gapDeg:L,gapOffsetDegree:b,themeClass:m,$slots:x,onRender:N}=this;return N==null||N(),l("div",{class:[m,`${P}-progress`,`${P}-progress--${e}`,`${P}-progress--${r}`],style:n,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":c,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?l(_o,{clsPrefix:P,status:r,showIndicator:u,indicatorTextColor:a,railColor:i,fillColor:p,railStyle:v,offsetDegree:this.offsetDegree,percentage:c,viewBoxWidth:o,strokeWidth:d,gapDegree:L===void 0?e==="dashboard"?75:0:L,gapOffsetDegree:b,unit:C},x):e==="line"?l(Co,{clsPrefix:P,status:r,showIndicator:u,indicatorTextColor:a,railColor:i,fillColor:p,railStyle:v,percentage:c,processing:M,indicatorPlacement:h,unit:C,fillBorderRadius:w,railBorderRadius:g,height:y},x):e==="multiple-circle"?l(ko,{clsPrefix:P,strokeWidth:d,railColor:i,fillColor:p,railStyle:v,viewBoxWidth:o,percentage:c,showIndicator:u,circleGap:z},x):null)}}),We=wt("n-upload"),qt="__UPLOAD_DRAGGER__",So=X({name:"UploadDragger",[qt]:!0,setup(e,{slots:n}){const a=Oe(We,null);return a||at("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:u},mergedDisabledRef:{value:r},maxReachedRef:{value:i}}=a;return l("div",{class:[`${u}-upload-dragger`,(r||i)&&`${u}-upload-dragger--disabled`]},n)}}});var mt=function(e,n,a,u){function r(i){return i instanceof a?i:new a(function(v){v(i)})}return new(a||(a=Promise))(function(i,v){function p(d){try{o(u.next(d))}catch(h){v(h)}}function c(d){try{o(u.throw(d))}catch(h){v(h)}}function o(d){d.done?i(d.value):r(d.value).then(p,c)}o((u=u.apply(e,n||[])).next())})};const Zt=e=>e.includes("image/"),zt=(e="")=>{const n=e.split("/"),u=n[n.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(u)||[""])[0]},Lt=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Kt=e=>{if(e.type)return Zt(e.type);const n=zt(e.name||"");if(Lt.test(n))return!0;const a=e.thumbnailUrl||e.url||"",u=zt(a);return!!(/^data:image\//.test(a)||Lt.test(u))};function Io(e){return mt(this,void 0,void 0,function*(){return yield new Promise(n=>{if(!e.type||!Zt(e.type)){n("");return}n(window.URL.createObjectURL(e))})})}const $o=Dt&&window.FileReader&&window.File;function Mo(e){return e.isDirectory}function zo(e){return e.isFile}function Lo(e,n){return mt(this,void 0,void 0,function*(){const a=[];function u(r){return mt(this,void 0,void 0,function*(){for(const i of r)if(i){if(n&&Mo(i)){const v=i.createReader();try{const p=yield new Promise((c,o)=>{v.readEntries(c,o)});yield u(p)}catch{}}else if(zo(i))try{const v=yield new Promise((p,c)=>{i.file(p,c)});a.push({file:v,entry:i,source:"dnd"})}catch{}}})}return yield u(e),a})}function Ze(e){const{id:n,name:a,percentage:u,status:r,url:i,file:v,thumbnailUrl:p,type:c,fullPath:o,batchId:d}=e;return{id:n,name:a,percentage:u??null,status:r,url:i??null,file:v??null,thumbnailUrl:p??null,type:c??null,fullPath:o??null,batchId:d??null}}function To(e,n,a){return e=e.toLowerCase(),n=n.toLocaleLowerCase(),a=a.toLocaleLowerCase(),a.split(",").map(r=>r.trim()).filter(Boolean).some(r=>{if(r.startsWith(".")){if(e.endsWith(r))return!0}else if(r.includes("/")){const[i,v]=n.split("/"),[p,c]=r.split("/");if((p==="*"||i&&p&&p===i)&&(c==="*"||v&&c&&c===v))return!0}else return!0;return!1})}const Qt=X({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:n}){const a=Oe(We,null);a||at("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:u,mergedDisabledRef:r,maxReachedRef:i,listTypeRef:v,dragOverRef:p,openOpenFileDialog:c,draggerInsideRef:o,handleFileAddition:d,mergedDirectoryDndRef:h,triggerClassRef:C,triggerStyleRef:g}=a,w=F(()=>v.value==="image-card");function y(){r.value||i.value||c()}function M(b){b.preventDefault(),p.value=!0}function z(b){b.preventDefault(),p.value=!0}function P(b){b.preventDefault(),p.value=!1}function L(b){var m;if(b.preventDefault(),!o.value||r.value||i.value){p.value=!1;return}const x=(m=b.dataTransfer)===null||m===void 0?void 0:m.items;x!=null&&x.length?Lo(Array.from(x).map(N=>N.webkitGetAsEntry()),h.value).then(N=>{d(N)}).finally(()=>{p.value=!1}):p.value=!1}return()=>{var b;const{value:m}=u;return e.abstract?(b=n.default)===null||b===void 0?void 0:b.call(n,{handleClick:y,handleDrop:L,handleDragOver:M,handleDragEnter:z,handleDragLeave:P}):l("div",{class:[`${m}-upload-trigger`,(r.value||i.value)&&`${m}-upload-trigger--disabled`,w.value&&`${m}-upload-trigger--image-card`,C.value],style:g.value,onClick:y,onDrop:L,onDragover:M,onDragenter:z,onDragleave:P},w.value?l(So,null,{default:()=>vn(n.default,()=>[l(ce,{clsPrefix:m},{default:()=>l(Hn,null)})])}):n)}}}),Bo=X({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Oe(We).mergedThemeRef}},render(){return l(Nt,null,{default:()=>this.show?l(Po,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),Do=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},l("g",{fill:"none"},l("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Oo=l("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},l("g",{fill:"none"},l("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var Uo=function(e,n,a,u){function r(i){return i instanceof a?i:new a(function(v){v(i)})}return new(a||(a=Promise))(function(i,v){function p(d){try{o(u.next(d))}catch(h){v(h)}}function c(d){try{o(u.throw(d))}catch(h){v(h)}}function o(d){d.done?i(d.value):r(d.value).then(p,c)}o((u=u.apply(e,n||[])).next())})};const tt={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Ho=X({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const n=Oe(We),a=_(null),u=_(""),r=F(()=>{const{file:m}=e;return m.status==="finished"?"success":m.status==="error"?"error":"info"}),i=F(()=>{const{file:m}=e;if(m.status==="error")return"error"}),v=F(()=>{const{file:m}=e;return m.status==="uploading"}),p=F(()=>{if(!n.showCancelButtonRef.value)return!1;const{file:m}=e;return["uploading","pending","error"].includes(m.status)}),c=F(()=>{if(!n.showRemoveButtonRef.value)return!1;const{file:m}=e;return["finished"].includes(m.status)}),o=F(()=>{if(!n.showDownloadButtonRef.value)return!1;const{file:m}=e;return["finished"].includes(m.status)}),d=F(()=>{if(!n.showRetryButtonRef.value)return!1;const{file:m}=e;return["error"].includes(m.status)}),h=gn(()=>u.value||e.file.thumbnailUrl||e.file.url),C=F(()=>{if(!n.showPreviewButtonRef.value)return!1;const{file:{status:m},listType:x}=e;return["finished"].includes(m)&&h.value&&x==="image-card"});function g(){n.submit(e.file.id)}function w(m){m.preventDefault();const{file:x}=e;["finished","pending","error"].includes(x.status)?M(x):["uploading"].includes(x.status)?P(x):mn("upload","The button clicked type is unknown.")}function y(m){m.preventDefault(),z(e.file)}function M(m){const{xhrMap:x,doChange:N,onRemoveRef:{value:Y},mergedFileListRef:{value:k}}=n;Promise.resolve(Y?Y({file:Object.assign({},m),fileList:k}):!0).then(U=>{if(U===!1)return;const H=Object.assign({},m,{status:"removed"});x.delete(m.id),N(H,void 0,{remove:!0})})}function z(m){const{onDownloadRef:{value:x}}=n;Promise.resolve(x?x(Object.assign({},m)):!0).then(N=>{N!==!1&&Vt(m.url,m.name)})}function P(m){const{xhrMap:x}=n,N=x.get(m.id);N==null||N.abort(),M(Object.assign({},m))}function L(){const{onPreviewRef:{value:m}}=n;if(m)m(e.file);else if(e.listType==="image-card"){const{value:x}=a;if(!x)return;x.click()}}const b=()=>Uo(this,void 0,void 0,function*(){const{listType:m}=e;m!=="image"&&m!=="image-card"||n.shouldUseThumbnailUrlRef.value(e.file)&&(u.value=yield n.getFileThumbnailUrlResolver(e.file))});return gt(()=>{b()}),{mergedTheme:n.mergedThemeRef,progressStatus:r,buttonType:i,showProgress:v,disabled:n.mergedDisabledRef,showCancelButton:p,showRemoveButton:c,showDownloadButton:o,showRetryButton:d,showPreviewButton:C,mergedThumbnailUrl:h,shouldUseThumbnailUrl:n.shouldUseThumbnailUrlRef,renderIcon:n.renderIconRef,imageRef:a,handleRemoveOrCancelClick:w,handleDownloadClick:y,handleRetryClick:g,handlePreviewClick:L}},render(){const{clsPrefix:e,mergedTheme:n,listType:a,file:u,renderIcon:r}=this;let i;const v=a==="image";v||a==="image-card"?i=!this.shouldUseThumbnailUrl(u)||!this.mergedThumbnailUrl?l("span",{class:`${e}-upload-file-info__thumbnail`},r?r(u):Kt(u)?l(ce,{clsPrefix:e},{default:()=>Do}):l(ce,{clsPrefix:e},{default:()=>Oo})):l("a",{rel:"noopener noreferer",target:"_blank",href:u.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},a==="image-card"?l(wo,{src:this.mergedThumbnailUrl||void 0,previewSrc:u.url||void 0,alt:u.name,ref:"imageRef"}):l("img",{src:this.mergedThumbnailUrl||void 0,alt:u.name})):i=l("span",{class:`${e}-upload-file-info__thumbnail`},r?r(u):l(ce,{clsPrefix:e},{default:()=>l(Yn,null)}));const c=l(Bo,{show:this.showProgress,percentage:u.percentage||0,status:this.progressStatus}),o=a==="text"||a==="image";return l("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,u.url&&u.status!=="error"&&a!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${a}-type`]},l("div",{class:`${e}-upload-file-info`},i,l("div",{class:`${e}-upload-file-info__name`},o&&(u.url&&u.status!=="error"?l("a",{rel:"noopener noreferer",target:"_blank",href:u.url||void 0,onClick:this.handlePreviewClick},u.name):l("span",{onClick:this.handlePreviewClick},u.name)),v&&c),l("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${a}-type`]},this.showPreviewButton?l(Ae,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:tt},{icon:()=>l(ce,{clsPrefix:e},{default:()=>l(En,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&l(Ae,{key:"cancelOrTrash",theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:tt,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>l(pn,null,{default:()=>this.showRemoveButton?l(ce,{clsPrefix:e,key:"trash"},{default:()=>l(qn,null)}):l(ce,{clsPrefix:e,key:"cancel"},{default:()=>l(Kn,null)})})}),this.showRetryButton&&!this.disabled&&l(Ae,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:tt},{icon:()=>l(ce,{clsPrefix:e},{default:()=>l(Qn,null)})}),this.showDownloadButton?l(Ae,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:n.peers.Button,themeOverrides:n.peerOverrides.Button,builtinThemeOverrides:tt},{icon:()=>l(ce,{clsPrefix:e},{default:()=>l(Zn,null)})}):null)),!v&&c)}}),jo=X({name:"UploadFileList",setup(e,{slots:n}){const a=Oe(We,null);a||at("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:u,mergedClsPrefixRef:r,listTypeRef:i,mergedFileListRef:v,fileListClassRef:p,fileListStyleRef:c,cssVarsRef:o,themeClassRef:d,maxReachedRef:h,showTriggerRef:C,imageGroupPropsRef:g}=a,w=F(()=>i.value==="image-card"),y=()=>v.value.map(z=>l(Ho,{clsPrefix:r.value,key:z.id,file:z,listType:i.value})),M=()=>w.value?l(po,Object.assign({},g.value),{default:y}):l(Nt,{group:!0},{default:y});return()=>{const{value:z}=r,{value:P}=u;return l("div",{class:[`${z}-upload-file-list`,w.value&&`${z}-upload-file-list--grid`,P?d==null?void 0:d.value:void 0,p.value],style:[P&&o?o.value:"",c.value]},M(),C.value&&!h.value&&w.value&&l(Qt,null,n))}}}),Ao=re([B("upload","width: 100%;",[ne("dragger-inside",[B("upload-trigger",`
 display: block;
 `)]),ne("drag-over",[B("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),B("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[re("&:hover",`
 border: var(--n-dragger-border-hover);
 `),ne("disabled",`
 cursor: not-allowed;
 `)]),B("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[re("+",[B("upload-file-list","margin-top: 8px;")]),ne("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),ne("image-card",`
 width: 96px;
 height: 96px;
 `,[B("base-icon",`
 font-size: 24px;
 `),B("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),B("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[re("a, img","outline: none;"),ne("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[B("upload-file","cursor: not-allowed;")]),ne("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),B("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[kt(),B("progress",[kt({foldPadding:!0})]),re("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[B("upload-file-info",[_e("action",`
 opacity: 1;
 `)])]),ne("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[B("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[B("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),_e("name",`
 padding: 0 8px;
 `),_e("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[re("img",`
 width: 100%;
 `)])])]),ne("text-type",[B("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),ne("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[B("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),B("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[_e("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[re("img",`
 width: 100%;
 `)])]),re("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),re("&:hover",[re("&::before","opacity: 1;"),B("upload-file-info",[_e("thumbnail","opacity: .12;")])])]),ne("error-status",[re("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),B("upload-file-info",[_e("name","color: var(--n-item-text-color-error);"),_e("thumbnail","color: var(--n-item-text-color-error);")]),ne("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),ne("with-url",`
 cursor: pointer;
 `,[B("upload-file-info",[_e("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[re("a",`
 text-decoration: underline;
 `)])])]),B("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[_e("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[B("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),_e("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[B("button",[re("&:not(:last-child)",{marginRight:"4px"}),B("base-icon",[re("svg",[wn()])])]),ne("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),ne("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),_e("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[re("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),B("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var Tt=function(e,n,a,u){function r(i){return i instanceof a?i:new a(function(v){v(i)})}return new(a||(a=Promise))(function(i,v){function p(d){try{o(u.next(d))}catch(h){v(h)}}function c(d){try{o(u.throw(d))}catch(h){v(h)}}function o(d){d.done?i(d.value):r(d.value).then(p,c)}o((u=u.apply(e,n||[])).next())})};function No(e,n,a){const{doChange:u,xhrMap:r}=e;let i=0;function v(c){var o;let d=Object.assign({},n,{status:"error",percentage:i});r.delete(n.id),d=Ze(((o=e.onError)===null||o===void 0?void 0:o.call(e,{file:d,event:c}))||d),u(d,c)}function p(c){var o;if(e.isErrorState){if(e.isErrorState(a)){v(c);return}}else if(a.status<200||a.status>=300){v(c);return}let d=Object.assign({},n,{status:"finished",percentage:i});r.delete(n.id),d=Ze(((o=e.onFinish)===null||o===void 0?void 0:o.call(e,{file:d,event:c}))||d),u(d,c)}return{handleXHRLoad:p,handleXHRError:v,handleXHRAbort(c){const o=Object.assign({},n,{status:"removed",file:null,percentage:i});r.delete(n.id),u(o,c)},handleXHRProgress(c){const o=Object.assign({},n,{status:"uploading"});if(c.lengthComputable){const d=Math.ceil(c.loaded/c.total*100);o.percentage=d,i=d}u(o,c)}}}function Eo(e){const{inst:n,file:a,data:u,headers:r,withCredentials:i,action:v,customRequest:p}=e,{doChange:c}=e.inst;let o=0;p({file:a,data:u,headers:r,withCredentials:i,action:v,onProgress(d){const h=Object.assign({},a,{status:"uploading"}),C=d.percent;h.percentage=C,o=C,c(h)},onFinish(){var d;let h=Object.assign({},a,{status:"finished",percentage:o});h=Ze(((d=n.onFinish)===null||d===void 0?void 0:d.call(n,{file:h}))||h),c(h)},onError(){var d;let h=Object.assign({},a,{status:"error",percentage:o});h=Ze(((d=n.onError)===null||d===void 0?void 0:d.call(n,{file:h}))||h),c(h)}})}function Fo(e,n,a){const u=No(e,n,a);a.onabort=u.handleXHRAbort,a.onerror=u.handleXHRError,a.onload=u.handleXHRLoad,a.upload&&(a.upload.onprogress=u.handleXHRProgress)}function Jt(e,n){return typeof e=="function"?e({file:n}):e||{}}function Wo(e,n,a){const u=Jt(n,a);u&&Object.keys(u).forEach(r=>{e.setRequestHeader(r,u[r])})}function Vo(e,n,a){const u=Jt(n,a);u&&Object.keys(u).forEach(r=>{e.append(r,u[r])})}function Xo(e,n,a,{method:u,action:r,withCredentials:i,responseType:v,headers:p,data:c}){const o=new XMLHttpRequest;o.responseType=v,e.xhrMap.set(a.id,o),o.withCredentials=i;const d=new FormData;if(Vo(d,c,a),a.file!==null&&d.append(n,a.file),Fo(e,a,o),r!==void 0){o.open(u.toUpperCase(),r),Wo(o,p,a),o.send(d);const h=Object.assign({},a,{status:"uploading"});e.doChange(h)}}const Go=Object.assign(Object.assign({},Fe.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>$o?Kt(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),en=X({name:"Upload",props:Go,setup(e){e.abstract&&e.listType==="image-card"&&at("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:n,inlineThemeDisabled:a}=Ke(e),u=Fe("Upload","-upload",Ao,xn,e,n),r=bn(e),i=F(()=>{const{max:k}=e;return k!==void 0?g.value.length>=k:!1}),v=_(e.defaultFileList),p=ae(e,"fileList"),c=_(null),o={value:!1},d=_(!1),h=new Map,C=yn(p,v),g=F(()=>C.value.map(Ze));function w(){var k;(k=c.value)===null||k===void 0||k.click()}function y(k){const U=k.target;P(U.files?Array.from(U.files).map(H=>({file:H,entry:null,source:"input"})):null,k),U.value=""}function M(k){const{"onUpdate:fileList":U,onUpdateFileList:H}=e;U&&Rt(U,k),H&&Rt(H,k),v.value=k}const z=F(()=>e.multiple||e.directory);function P(k,U){if(!k||k.length===0)return;const{onBeforeUpload:H}=e;k=z.value?k:[k[0]];const{max:J,accept:G}=e;k=k.filter(({file:Z,source:K})=>K==="dnd"&&(G!=null&&G.trim())?To(Z.name,Z.type,G):!0),J&&(k=k.slice(0,J-g.value.length));const Q=vt();Promise.all(k.map(({file:Z,entry:K})=>Tt(this,void 0,void 0,function*(){var ge;const se={id:vt(),batchId:Q,name:Z.name,status:"pending",percentage:0,file:Z,url:null,type:Z.type,thumbnailUrl:null,fullPath:(ge=K==null?void 0:K.fullPath)!==null&&ge!==void 0?ge:`/${Z.webkitRelativePath||Z.name}`};return!H||(yield H({file:se,fileList:g.value}))!==!1?se:null}))).then(Z=>Tt(this,void 0,void 0,function*(){let K=Promise.resolve();Z.forEach(ge=>{K=K.then(_n).then(()=>{ge&&b(ge,U,{append:!0})})}),yield K})).then(()=>{e.defaultUpload&&L()})}function L(k){const{method:U,action:H,withCredentials:J,headers:G,data:Q,name:Z}=e,K=k!==void 0?g.value.filter(se=>se.id===k):g.value,ge=k!==void 0;K.forEach(se=>{const{status:Ce}=se;(Ce==="pending"||Ce==="error"&&ge)&&(e.customRequest?Eo({inst:{doChange:b,xhrMap:h,onFinish:e.onFinish,onError:e.onError},file:se,action:H,withCredentials:J,headers:G,data:Q,customRequest:e.customRequest}):Xo({doChange:b,xhrMap:h,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},Z,se,{method:U,action:H,withCredentials:J,responseType:e.responseType,headers:G,data:Q}))})}const b=(k,U,H={append:!1,remove:!1})=>{const{append:J,remove:G}=H,Q=Array.from(g.value),Z=Q.findIndex(K=>K.id===k.id);if(J||G||~Z){J?Q.push(k):G?Q.splice(Z,1):Q.splice(Z,1,k);const{onChange:K}=e;K&&K({file:k,fileList:Q,event:U}),M(Q)}};function m(k){var U;if(k.thumbnailUrl)return k.thumbnailUrl;const{createThumbnailUrl:H}=e;return H?(U=H(k.file,k))!==null&&U!==void 0?U:k.url||"":k.url?k.url:k.file?Io(k.file):""}const x=F(()=>{const{common:{cubicBezierEaseInOut:k},self:{draggerColor:U,draggerBorder:H,draggerBorderHover:J,itemColorHover:G,itemColorHoverError:Q,itemTextColorError:Z,itemTextColorSuccess:K,itemTextColor:ge,itemIconColor:se,itemDisabledOpacity:Ce,lineHeight:me,borderRadius:Me,fontSize:I,itemBorderImageCardError:$,itemBorderImageCard:j}}=u.value;return{"--n-bezier":k,"--n-border-radius":Me,"--n-dragger-border":H,"--n-dragger-border-hover":J,"--n-dragger-color":U,"--n-font-size":I,"--n-item-color-hover":G,"--n-item-color-hover-error":Q,"--n-item-disabled-opacity":Ce,"--n-item-icon-color":se,"--n-item-text-color":ge,"--n-item-text-color-error":Z,"--n-item-text-color-success":K,"--n-line-height":me,"--n-item-border-image-card-error":$,"--n-item-border-image-card":j}}),N=a?bt("upload",void 0,x,e):void 0;yt(We,{mergedClsPrefixRef:n,mergedThemeRef:u,showCancelButtonRef:ae(e,"showCancelButton"),showDownloadButtonRef:ae(e,"showDownloadButton"),showRemoveButtonRef:ae(e,"showRemoveButton"),showRetryButtonRef:ae(e,"showRetryButton"),onRemoveRef:ae(e,"onRemove"),onDownloadRef:ae(e,"onDownload"),mergedFileListRef:g,triggerClassRef:ae(e,"triggerClass"),triggerStyleRef:ae(e,"triggerStyle"),shouldUseThumbnailUrlRef:ae(e,"shouldUseThumbnailUrl"),renderIconRef:ae(e,"renderIcon"),xhrMap:h,submit:L,doChange:b,showPreviewButtonRef:ae(e,"showPreviewButton"),onPreviewRef:ae(e,"onPreview"),getFileThumbnailUrlResolver:m,listTypeRef:ae(e,"listType"),dragOverRef:d,openOpenFileDialog:w,draggerInsideRef:o,handleFileAddition:P,mergedDisabledRef:r.mergedDisabledRef,maxReachedRef:i,fileListClassRef:ae(e,"fileListClass"),fileListStyleRef:ae(e,"fileListStyle"),abstractRef:ae(e,"abstract"),acceptRef:ae(e,"accept"),cssVarsRef:a?void 0:x,themeClassRef:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,showTriggerRef:ae(e,"showTrigger"),imageGroupPropsRef:ae(e,"imageGroupProps"),mergedDirectoryDndRef:F(()=>{var k;return(k=e.directoryDnd)!==null&&k!==void 0?k:e.directory})});const Y={clear:()=>{v.value=[]},submit:L,openOpenFileDialog:w};return Object.assign({mergedClsPrefix:n,draggerInsideRef:o,inputElRef:c,mergedTheme:u,dragOver:d,mergedMultiple:z,cssVars:a?void 0:x,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,handleFileInputChange:y},Y)},render(){var e,n;const{draggerInsideRef:a,mergedClsPrefix:u,$slots:r,directory:i,onRender:v}=this;if(r.default&&!this.abstract){const c=r.default()[0];!((e=c==null?void 0:c.type)===null||e===void 0)&&e[qt]&&(a.value=!0)}const p=l("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${u}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:i||void 0,directory:i||void 0}));return this.abstract?l(Te,null,(n=r.default)===null||n===void 0?void 0:n.call(r),l(Cn,{to:"body"},p)):(v==null||v(),l("div",{class:[`${u}-upload`,a.value&&`${u}-upload--dragger-inside`,this.dragOver&&`${u}-upload--drag-over`,this.themeClass],style:this.cssVars},p,this.showTrigger&&this.listType!=="image-card"&&l(Qt,null,r),this.showFileList&&l(jo,null,r)))}}),Yo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},qo=oe("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Zo=[qo],Ko=X({name:"Minus",render:function(n,a){return W(),ve("svg",Yo,Zo)}}),Qo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Jo=oe("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),el=[Jo],tl=X({name:"Plus",render:function(n,a){return W(),ve("svg",Qo,el)}}),nl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ol=oe("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),ll=[ol],al=X({name:"ArrowUndoOutline",render:function(n,a){return W(),ve("svg",nl,ll)}}),rl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},il=Et('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),sl=[il],ul=X({name:"DiceOutline",render:function(n,a){return W(),ve("svg",rl,sl)}}),dl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},cl=Et('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),fl=[cl],hl=X({name:"GameControllerOutline",render:function(n,a){return W(),ve("svg",dl,fl)}}),vl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},gl=oe("g",{fill:"none"},[oe("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),pl=[gl],ml=X({name:"Code24Regular",render:function(n,a){return W(),ve("svg",vl,pl)}}),wl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},bl=oe("g",{fill:"none"},[oe("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),yl=[bl],Cl=X({name:"DrawShape24Regular",render:function(n,a){return W(),ve("svg",wl,yl)}}),xl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_l=oe("g",{fill:"none"},[oe("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),kl=[_l],Rl=X({name:"Eraser24Regular",render:function(n,a){return W(),ve("svg",xl,kl)}});function Pl(e,n,a){const u=new Date().getTime(),r=Dn.MD5(n+a+u+e).toString();return{timestamp:u,newPostKey:r}}const Sl=X({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:n,emit:a}){const u=Pe(),r=Re(),i=e,v=F(()=>{let P=[];if(o.value>0&&d.value>0){for(var L=0;L<o.value;L++)P[L]=Math.floor(Math.random()*d.value)+1;return P.join()}else return null}),p=_(),c=_(),o=_(1),d=_(100),h=_(!1);function C(){h.value=!0}n({show:C});const g=a,{loading:w,send:y,onSuccess:M}=Ne(P=>Tn(P),{immediate:!1});function z(){if(!o.value){window.$message.error("请填写骰子数量");return}if(!d.value){window.$message.error("请填写骰子数量");return}const P={binggan:r.binggan,thread_id:i.threadId,forum_id:i.forumId,roll_name:p.value,roll_event:c.value,roll_num:o.value,roll_range:d.value};y(P)}return M(()=>{g("refreshPostsList"),h.value=!1}),(P,L)=>(W(),fe(t(He),{show:h.value,"onUpdate:show":L[6]||(L[6]=b=>h.value=b),"display-directive":"if"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:t(u).modalMaxWidth}),title:"Roll点",closable:"",onClose:L[5]||(L[5]=b=>h.value=!1),size:"small"},{action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(he),{type:"primary",onClick:z,disabled:t(w)},{default:f(()=>[S("Roll it!")]),_:1},8,["disabled"]),s(t(he),{onClick:L[4]||(L[4]=b=>h.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),default:f(()=>[s(t(ie),{vertical:""},{default:f(()=>[s(t(be),null,{default:f(()=>[S(" 输出参考： ")]),_:1}),s(t(be),null,{default:f(()=>[S(Le(p.value?`「${p.value}」，`:"")+" "+Le(c.value?`「${c.value}」的结果：`:"")+" "+Le(`${o.value} d ${d.value} = 「${v.value}」`),1)]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"},class:"round"},{default:f(()=>[S("Roll点昵称")]),_:1}),s(t(ke),{placeholder:"可留空",maxlength:100,value:p.value,"onUpdate:value":L[0]||(L[0]=b=>p.value=b)},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"},class:"round"},{default:f(()=>[S("Roll点事件")]),_:1}),s(t(ke),{placeholder:"可留空",maxlength:100,value:c.value,"onUpdate:value":L[1]||(L[1]=b=>c.value=b)},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"},class:"round"},{default:f(()=>[S("骰子数量")]),_:1}),s(t(Ye),{max:100,min:1,placeholder:"必须填写",value:o.value,"onUpdate:value":L[2]||(L[2]=b=>o.value=b)},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"},class:"round"},{default:f(()=>[S("骰子大小")]),_:1}),s(t(Ye),{max:1e4,min:1,placeholder:"必须填写",value:d.value,"onUpdate:value":L[3]||(L[3]=b=>d.value=b)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Il={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},$l=oe("defs",null,null,-1),Ml=oe("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),zl=oe("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),Ll=[$l,Ml,zl],Tl=X({name:"AudioMutedOutlined",render:function(n,a){return W(),ve("svg",Il,Ll)}}),Bl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Dl=oe("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),Ol=[Dl],Ul=X({name:"MoneyCollectOutlined",render:function(n,a){return W(),ve("svg",Bl,Ol)}}),Hl=Re(),Ia=e=>{const n=$e.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:Hl.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return n.meta={shouldRemind:!1},n},jl=e=>{const n=$e.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},$a=e=>{const n=$e.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},ft=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],Al=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}],Bt=()=>{const e=$e.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},tn=e=>{const n=new FormData;n.append("file",e.file),n.append("mode",e.mode),n.append("binggan",e.binggan),n.append("thread_id",String(e.thread_id)),n.append("forum_id",String(e.forum_id));const a=$e.Post("api/img_upload",n,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return a.meta={shouldRemind:!0},a},Nl=["src"],El=X({__name:"CaptchaModal",emits:["waterUnlockOnSuccess"],setup(e,{expose:n,emit:a}){const u=Pe(),r=Re(),i=_(),v=F(()=>d.value.captcha_key),p=_(!1);function c(){p.value=!0,C()}n({show:c});const o=a,{data:d,loading:h,send:C}=Ne(Bt,{immediate:!1}),{fetch:g}=kn();function w(){g(Bt())}const{loading:y,send:M,onSuccess:z,onError:P}=Ne(b=>Rn(b),{immediate:!1});function L(){if(!i.value){window.$message.error("验证码不能为空");return}const b={binggan:r.binggan,captcha_code:i.value,captcha_key:v.value};M(b),z(()=>{i.value="",p.value=!1,o("waterUnlockOnSuccess")}),P(()=>{i.value="",w()})}return(b,m)=>(W(),fe(t(He),{show:p.value,"onUpdate:show":m[3]||(m[3]=x=>p.value=x),"display-directive":"if"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:t(u).modalMaxWidth}),title:"验证码",closable:"",onClose:m[2]||(m[2]=x=>p.value=!1),size:"small"},{action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(he),{type:"primary",onClick:L,loading:t(y)},{default:f(()=>[S("提交")]),_:1},8,["loading"]),s(t(he),{onClick:m[1]||(m[1]=x=>p.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),default:f(()=>[s(t(ie),{vertical:""},{default:f(()=>[s(t(be),null,{default:f(()=>[S(" 嗷……你可能刷太多了，休息一下吧。 ")]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"3.2rem"},class:"round"},{default:f(()=>[S("输入")]),_:1}),s(t(ke),{placeholder:"请输入验证码",maxlength:"4","show-count":"",value:i.value,"onUpdate:value":m[0]||(m[0]=x=>i.value=x),onKeyup:Ee(L,["enter"])},null,8,["value"])]),_:1}),t(h)?De("",!0):(W(),ve("img",{key:0,src:"data:image/png;base64,"+t(d).captcha_img,style:{"max-width":"200px"},onClick:w},null,8,Nl)),s(t(be),null,{default:f(()=>[S(" 点击可更换验证码。不区分大小写。 ")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Fl=X({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:n,emit:a}){const u=Pe(),r=Re(),i=_(null),v=e,p=F(()=>{const b=[{value:1,label:"共通",available:!0}];return Al.forEach(m=>{m.value===v.randomHeadsGroup&&b.push(m)}),b}),c=F(()=>{const b=ft[d.value-1];if(d.value===1){const m=r.userData.my_battle_chara.filter(x=>!x.not_use).map((x,N)=>({value:N+240,label:x.name}));return b.concat(m)}else return b}),o=_(1),d=_(v.randomHeadsGroup),h=_(100);lt(d,b=>{b===1?o.value=ft[b-1][8].value:o.value=ft[b-1][0].value},{immediate:!0});const{loading:C,send:g,onSuccess:w,onError:y}=Ne(b=>jl(b),{immediate:!1});function M(b){const{timestamp:m,newPostKey:x}=Pl((b==null?void 0:b.isTrusted)??!0,v.threadId,r.binggan),N={binggan:r.binggan,forum_id:v.forumId,thread_id:v.threadId,battle_olo:h.value,chara_id:o.value>=240?o.value-240:o.value,is_custom_chara:o.value>=240,chara_group:d.value-1,new_post_key:x,timestamp:m};g(N)}w(()=>{L("refreshPostsList"),z.value=!1}),y(b=>{var m;b.error.cause.code===244291&&((m=i.value)==null||m.show())});const z=_(!1);function P(){z.value=!0}n({show:P});const L=a;return(b,m)=>(W(),fe(t(He),{show:z.value,"onUpdate:show":m[5]||(m[5]=x=>z.value=x),"display-directive":"if"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:t(u).modalMaxWidth}),title:"表情包大乱斗！",closable:"",onClose:m[4]||(m[4]=x=>z.value=!1),size:"small"},{action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(he),{type:"primary",onClick:M,loading:t(C)},{default:f(()=>[S("提交")]),_:1},8,["loading"]),s(t(he),{onClick:m[3]||(m[3]=x=>z.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),default:f(()=>[s(t(ie),{vertical:""},{default:f(()=>[s(t(be),null,{default:f(()=>[S("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"3.2rem"}},{default:f(()=>[S("主题")]),_:1}),s(t(qe),{value:d.value,"onUpdate:value":m[0]||(m[0]=x=>d.value=x),options:p.value},null,8,["value","options"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"3.2rem"}},{default:f(()=>[S("角色")]),_:1}),s(t(qe),{value:o.value,"onUpdate:value":m[1]||(m[1]=x=>o.value=x),options:c.value},null,8,["value","options"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"3.2rem"}},{default:f(()=>[S("下注")]),_:1}),s(t(Ye),{value:h.value,"onUpdate:value":m[2]||(m[2]=x=>h.value=x),max:1e6,min:1,step:100,parse:t(Ft),format:t(Wt),onKeyup:Ee(M,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1}),s(El,{ref_key:"CaptchaModalCom",ref:i,onWaterUnlockOnSuccess:M},null,512)]),_:1},8,["style"])]),_:1},8,["show"]))}}),Wl=X({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:n,emit:a}){const u=Pe(),r=_(0),i=_(),v=_(),p=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],c=F(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${i.value}</summary>${v.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${v.value}">${i.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${i.value}">`}]);lt(r,()=>{i.value=c.value[r.value].inputDefault_1,v.value=c.value[r.value].inputDefault_2},{immediate:!0});function o(){C("insertCode",c.value[r.value].insertText),i.value=c.value[r.value].inputDefault_1,v.value=c.value[r.value].inputDefault_2,d.value=!1}const d=_(!1);function h(){d.value=!0}n({show:h});const C=a;return(g,w)=>(W(),fe(t(He),{show:d.value,"onUpdate:show":w[5]||(w[5]=y=>d.value=y),"display-directive":"if"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:t(u).modalMaxWidth}),title:"快捷代码",closable:"",onClose:w[4]||(w[4]=y=>d.value=!1),size:"small"},{action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(he),{type:"primary",onClick:o},{default:f(()=>[S("插入")]),_:1}),s(t(he),{onClick:w[3]||(w[3]=y=>d.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),default:f(()=>[s(t(ie),{vertical:""},{default:f(()=>[s(t(be),null,{default:f(()=>[S("代码预览：")]),_:1}),s(t(be),null,{default:f(()=>[S(Le(c.value[r.value].insertText),1)]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("代码内容")]),_:1}),s(t(qe),{value:r.value,"onUpdate:value":w[0]||(w[0]=y=>r.value=y),options:p},null,8,["value"])]),_:1}),nt(s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S(Le(c.value[r.value].prepend_1),1)]),_:1}),s(t(ke),{value:i.value,"onUpdate:value":w[1]||(w[1]=y=>i.value=y),onKeyup:Ee(o,["enter"])},null,8,["value"])]),_:1},512),[[ht,c.value[r.value].inputEnable_1]]),nt(s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S(Le(c.value[r.value].prepend_2),1)]),_:1}),s(t(ke),{value:v.value,"onUpdate:value":w[2]||(w[2]=y=>v.value=y),onKeyup:Ee(o,["enter"])},null,8,["value"])]),_:1},512),[[ht,c.value[r.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Vl=["width","height"],Xl=["width","height"],Gl=oe("div",null,"颜色",-1),Yl=oe("div",null,"画笔",-1),ql=["onClick"],Zl=oe("div",null,"操作",-1),Kl=["title","innerHTML","onClick"],Ql=X({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:n,emit:a}){const u=Re();Pe();const r=e,i=_(!1);function v(){i.value=!0}n({show:v});const p=a,c=_(),o=F(()=>{var I;return(I=c.value)==null?void 0:I.getContext("2d")}),d=_(),h=F(()=>{var I;return(I=d.value)==null?void 0:I.getContext("2d")}),C=new Image;let g=!1;const w={x:0,y:0,width:0,height:0},y=_([]),M=_([]),z=_([]),P=_({lineWidth:3,lineColor:"#111111",shadowBlur:1}),L=_(!1),b=_(!1);let m=0,x=0;const N=F(()=>window.innerWidth>836?796:window.innerWidth-36),Y=F(()=>window.innerHeight>580?400:window.innerHeight-212),k=F(()=>[{title:"上一步",action:"prev",className:y.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:M.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:y.value.length||M.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:y.value.length||M.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:b.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),U=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function H(){const I=new ImageData(N.value,Y.value);z.value.push(I)}ot(()=>{H()});function J(){o.value.lineWidth=P.value.lineWidth,o.value.shadowBlur=P.value.shadowBlur,o.value.shadowColor=P.value.lineColor,o.value.strokeStyle=P.value.lineColor,o.value.lineCap="round",o.value.lineJoin="round"}function G(I){if(g)if(b.value){const $=I.target;let j,D;I instanceof MouseEvent?(j=I.clientX-$.getBoundingClientRect().x,D=I.clientY-$.getBoundingClientRect().y):(j=I.changedTouches[0].clientX-$.getBoundingClientRect().x,D=I.changedTouches[0].clientY-$.getBoundingClientRect().y),d.value.height=d.value.height;let q={x:w.x+(j-m),y:w.y+(D-x),width:w.width,height:w.height};Ce(C,q)}else{o.value.beginPath(),o.value.moveTo(m,x);const $=I.target;let j,D;I instanceof MouseEvent?(j=I.clientX-$.getBoundingClientRect().x,D=I.clientY-$.getBoundingClientRect().y):(j=I.changedTouches[0].clientX-$.getBoundingClientRect().x,D=I.changedTouches[0].clientY-$.getBoundingClientRect().y),o.value.globalCompositeOperation=L.value?"destination-out":"source-over",o.value.lineTo(j,D),[m,x]=[j,D],o.value.stroke()}}function Q(I){if(b.value){const $=I.target;let j,D;I instanceof MouseEvent?(j=I.clientX-$.getBoundingClientRect().x,D=I.clientY-$.getBoundingClientRect().y):(j=I.changedTouches[0].clientX-$.getBoundingClientRect().x,D=I.changedTouches[0].clientY-$.getBoundingClientRect().y),w.x+=j-m,w.y+=D-x,g=!1}else{const $=o.value.getImageData(0,0,c.value.width,c.value.height);M.value.length?(z.value=[],z.value=z.value.concat(y.value),z.value.push($),M.value=[]):z.value.push($),g=!1}}function Z(I){if(b.value){const $=I.target;let j,D;I instanceof MouseEvent?(j=I.clientX-$.getBoundingClientRect().x,D=I.clientY-$.getBoundingClientRect().y):(j=I.changedTouches[0].clientX-$.getBoundingClientRect().x,D=I.changedTouches[0].clientY-$.getBoundingClientRect().y),m=j,x=D,g=!0}else{g=!0;const $=I.target;let j,D;I instanceof MouseEvent?(j=I.clientX-$.getBoundingClientRect().x,D=I.clientY-$.getBoundingClientRect().y):(j=I.changedTouches[0].clientX-$.getBoundingClientRect().x,D=I.changedTouches[0].clientY-$.getBoundingClientRect().y),J(),m=j,x=D;const q=o.value.getImageData(0,0,c.value.width,c.value.height);y.value.push(q)}}function K(I){P.value.lineWidth=I,L.value=!1,b.value=!1}function ge(I){switch(I){case"prev":if(y.value.length){const $=y.value.pop(),j=z.value[y.value.length+1];M.value.push(j),o.value.putImageData($,0,0)}break;case"next":if(M.value.length){const $=M.value.pop(),j=z.value[z.value.length-M.value.length-2];y.value.push(j),o.value.putImageData($,0,0)}break;case"clear":o.value.clearRect(0,0,c.value.width,c.value.height),y.value=[],M.value=[],z.value=[z.value[0]];break;case"eraser":L.value=!0;break;case"drag":b.value=!0;break}}function se(I){if(I.file.file){var $=new FileReader;$.readAsDataURL(I.file.file),$.onload=j=>{C.src=j.target.result,C.onload=function(){var D=d,q=C;w.width=q.width,w.height=q.height,q.width/q.height>=D.value.width/D.value.height?q.width>D.value.width&&(w.width=D.value.width,w.height=q.height*D.value.width/q.width):q.height>D.value.height&&(w.width=q.width*D.value.height/q.height,w.height=D.value.height),Ce(q,w)}}}}function Ce(I,$){h.value.drawImage(I,$.x,$.y,$.width,$.height)}const me=_(!1);function Me(){let I=new Image;I.src=c.value.toDataURL("image/png"),I.onload=()=>{h.value.drawImage(I,0,0),$(d.value)};function $(D){D.toBlob(q=>{q&&j(q)},"image/png")}function j(D){const q={binggan:u.binggan,file:D,mode:"img",thread_id:r.threadId,forum_id:r.forumId};me.value=!0,tn(q).then(Ve=>{p("insertImage",Ve.file_url),me.value=!1,i.value=!1}).catch(()=>{me.value=!1})}}return(I,$)=>(W(),fe(t(He),{show:i.value,"onUpdate:show":$[5]||($[5]=j=>i.value=j),"display-directive":"show"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:N.value+4+"px"}),title:"涂鸦板",closable:"",onClose:$[4]||($[4]=j=>i.value=!1),size:"small","content-style":{padding:"0px"}},{default:f(()=>[oe("div",{id:"canvas-container",style:ye({width:N.value+"px",height:Y.value+"px"})},[oe("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:d,width:N.value,height:Y.value,onTouchmove:$[0]||($[0]=pt(()=>{},["prevent"]))},null,40,Vl),oe("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:c,class:Pt({painting:!b.value,dragging:b.value}),width:N.value,height:Y.value,onTouchmove:[$[1]||($[1]=pt(()=>{},["prevent"])),G],onMousedown:Z,onMouseup:Q,onMousemove:G,onTouchstart:Z,onTouchend:Q},null,42,Xl)],4),s(t(On),{"x-gap":"6",cols:4},{default:f(()=>[s(t(st),{span:"1"},{default:f(()=>[Gl,s(t(Un),{value:P.value.lineColor,"onUpdate:value":$[2]||($[2]=j=>P.value.lineColor=j),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),s(t(st),{span:"1"},{default:f(()=>[Yl,s(t(ie),{id:"canvas-brush",size:"small",align:"center"},{default:f(()=>[(W(),ve(Te,null,Ge(U,(j,D)=>oe("span",{key:D,style:ye({fontSize:j.font_size+"px"}),onClick:q=>K(j.lineWidth)},Le(j.innerHTML),13,ql)),64))]),_:1})]),_:1}),s(t(st),{span:"2"},{default:f(()=>[Zl,s(t(ie),{id:"canvas-control",size:"small"},{default:f(()=>[(W(!0),ve(Te,null,Ge(k.value,(j,D)=>(W(),ve("span",{key:D,title:j.title,class:Pt([j.className]),innerHTML:j.innerHTML,onClick:q=>ge(j.action)},null,10,Kl))),128))]),_:1})]),_:1})]),_:1})]),action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(en),{"default-upload":!1,onChange:se,"show-file-list":!1},{default:f(()=>[s(t(he),null,{default:f(()=>[S("加载图片")]),_:1})]),_:1}),s(t(he),{type:"primary",onClick:Me,disabled:I.userIsLocked,loading:me.value},{default:f(()=>[S("上传")]),_:1},8,["disabled","loading"]),s(t(he),{onClick:$[3]||($[3]=j=>i.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Jl=["onClick"],ea=["src"],ta=X({__name:"EmojiTab",props:{randomHeadsGroup:{default:1},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:n}){const a=Re(),u=Pe(),r=e,i=_(),v=F(()=>{const g=Wn.filter(w=>!a.userData.emoji_excluded.includes(w.id)&&(w.headsId===0||w.headsId===r.randomHeadsGroup));return a.userData.my_emoji&&g.unshift({id:0,headsId:0,name:"自定义",emojis:a.userData.my_emoji}),g}),p=n;function c(g,w){p("appendEmoji",g,w==="自定义"),r.autoHide&&(i.value=-1)}let o=!1;function d(g,w){return l("span",{onClick:()=>h(w),innerHTML:g})}function h(g){g===i.value&&(o=!0,i.value=-1)}function C(g,w){return o?(o=!1,!1):!0}return(g,w)=>(W(),fe(t(Vn),{type:"line","bar-width":0,animated:"",onBeforeLeave:C,size:t(u).isMobile?"small":"medium","default-value":-1,value:i.value,"onUpdate:value":w[0]||(w[0]=y=>i.value=y)},{default:f(()=>[(W(!0),ve(Te,null,Ge(v.value,(y,M,z)=>(W(),fe(t($t),{name:y.id,tab:d(y.name,y.id)},{default:f(()=>[s(t(ie),{size:"small",class:"emoji-container"},{default:f(()=>[(W(!0),ve(Te,null,Ge(y.emojis,(P,L,b)=>(W(),ve("div",{class:"emoji-box",onClick:m=>c(P,y.name)},[oe("img",{src:P,class:"emoji-in-box"},null,8,ea)],8,Jl))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),s(t($t),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),na=Re(),oa=e=>{const n=$e.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},Ma=e=>{const n=$e.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},za=e=>{const n=$e.Get("api/hongbao/"+e,{name:"hongbaoDataGetter-"+e,params:{binggan:na.binggan},localCache:null,hitSource:[]});return n.meta={shouldRemind:!1},n},La=e=>{const n=$e.Post("api/hongbao/store",e,{name:"hongbaoStorePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},la=X({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:n,emit:a}){const u=Pe(),r=Re(),i=e,v=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],p=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],c=_(3e3),o=_(10),d=_(1),h=_(1),C=_(),g=_(),w=_([]),y=_(!1),M=_(1);function z(k){k===1&&M.value<5&&(M.value+=1),k===-1&&M.value>1&&(w.value.splice(M.value-1,1),M.value-=1)}const{loading:P,send:L,onSuccess:b}=Ne(k=>oa(k),{immediate:!1});function m(){if(C.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(g.value===void 0&&[2,3].includes(h.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(d.value===2&&c.value%o.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const k={binggan:r.binggan,forum_id:i.forumId,thread_id:i.threadId,hongbao_olo:c.value,hongbao_num:o.value,type:d.value,key_word_type:h.value,hongbao_key_word:C.value,hongbao_question:g.value,hongbao_message_json:w.value,hongbao_olo_hide:y.value};L(k)}b(()=>{Y("refreshPostsList"),x.value=!1});const x=_(!1);function N(){x.value=!0}n({show:N});const Y=a;return(k,U)=>(W(),fe(t(He),{show:x.value,"onUpdate:show":U[11]||(U[11]=H=>x.value=H),"display-directive":"if"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:t(u).modalMaxWidth}),title:"发起红包",closable:"",onClose:U[10]||(U[10]=H=>x.value=!1),size:"small"},{action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(he),{type:"primary",onClick:m,loading:t(P)},{default:f(()=>[S("提交")]),_:1},8,["loading"]),s(t(he),{onClick:U[9]||(U[9]=H=>x.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),default:f(()=>[s(t(ie),{vertical:""},{default:f(()=>[oe("div",null,[s(t(be),{depth:3},{default:f(()=>[S("温馨提示：")]),_:1}),S("在红包总额以外，会追加扣除7%手续费。 ")]),oe("div",null,[s(t(be),{depth:3},{default:f(()=>[S("总共扣除：")]),_:1}),s(t(be),{type:"warning"},{default:f(()=>[S(Le(Math.ceil(c.value*(t(u).isDouble11?1.02:1.07))),1)]),_:1}),S("个奥利奥 ")]),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("红包类型")]),_:1}),s(t(qe),{value:h.value,"onUpdate:value":U[0]||(U[0]=H=>h.value=H),options:v},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("olo类型")]),_:1}),s(t(qe),{value:d.value,"onUpdate:value":U[1]||(U[1]=H=>d.value=H),options:p},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("红包个数")]),_:1}),s(t(Ye),{value:o.value,"onUpdate:value":U[2]||(U[2]=H=>o.value=H),max:50,min:5,step:5},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("olo总额")]),_:1}),s(t(Ye),{value:c.value,"onUpdate:value":U[3]||(U[3]=H=>c.value=H),max:1e6,min:3e3,step:1e3,parse:t(Ft),format:t(Wt)},null,8,["value","parse","format"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("红包口令")]),_:1}),s(t(ke),{value:C.value,"onUpdate:value":U[4]||(U[4]=H=>C.value=H),placeholder:"必填"},null,8,["value"])]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("口令提示")]),_:1}),s(t(ke),{value:g.value,"onUpdate:value":U[5]||(U[5]=H=>g.value=H),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(W(!0),ve(Te,null,Ge(M.value,H=>(W(),fe(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"5.2rem"}},{default:f(()=>[S("回复留言")]),_:1}),s(t(ke),{value:w.value[H-1],"onUpdate:value":J=>w.value[H-1]=J,placeholder:`#${H}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),s(t(ie),{size:"small",align:"center"},{default:f(()=>[s(t(be),{depth:3},{default:f(()=>[S("留言数量")]),_:1}),s(t(Ae),{size:"tiny",circle:"",disabled:M.value===5,onClick:U[6]||(U[6]=H=>z(1))},{icon:f(()=>[s(t(Se),null,{default:f(()=>[s(t(tl))]),_:1})]),_:1},8,["disabled"]),s(t(Ae),{size:"tiny",circle:"",disabled:M.value===1,onClick:U[7]||(U[7]=H=>{z(-1)})},{icon:f(()=>[s(t(Se),null,{default:f(()=>[s(t(Ko))]),_:1})]),_:1},8,["disabled"]),s(t(Pn),{checked:y.value,"onUpdate:checked":U[8]||(U[8]=H=>y.value=H),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),aa=X({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:n}){const a=Pe(),u=Re(),r=_(null),i=e,v=n;function p(h){var C=document.getElementsByTagName("body")[0],g=document.createElement("script");g.setAttribute("id","image-upload-js");var w=document.getElementById("upload-button");h=="mjj"&&(g.setAttribute("async","true"),g.setAttribute("data-mode","manual"),g.setAttribute("src","https://mjj.today/sdk/pup.js"),g.setAttribute("data-url","https://mjj.today/upload"),g.setAttribute("data-auto-insert","html-embed"),w==null||w.setAttribute("data-chevereto-pup-trigger","")),h=="imgbb"&&(g.setAttribute("async","true"),g.setAttribute("data-mode","manual"),g.setAttribute("src","https://imgbb.com/upload.js"),g.setAttribute("data-url","https://imgbb.com/upload"),g.setAttribute("data-auto-insert","html-embed-medium"),w==null||w.setAttribute("data-imgbb-trigger","")),h=="freeimage"&&(g.setAttribute("async","true"),g.setAttribute("data-mode","manual"),g.setAttribute("src","https://freeimage.host/sdk/pup.js"),g.setAttribute("data-url","https://freeimage.host/upload"),g.setAttribute("data-auto-insert","html-embed-medium"),w==null||w.setAttribute("data-chevereto-pup-trigger","")),C.appendChild(g)}function c(){const h=document.getElementById("image-upload-js");h==null||h.remove()}ot(()=>{p(a.userCustom.imgHost)}),Sn(()=>{c()});const o=_(!1),d=({file:h,data:C,headers:g,withCredentials:w,action:y,onFinish:M,onError:z,onProgress:P})=>{var L;if(h.file!==null){if(h.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(L=r.value)==null||L.clear();return}const b={binggan:u.binggan,file:h.file,mode:"img",thread_id:i.threadId,forum_id:i.forumId};o.value=!0,tn(b).then(m=>{var x;v("insertImage",m.file_url),(x=r.value)==null||x.clear(),o.value=!1}).catch(()=>{var m;(m=r.value)==null||m.clear(),o.value=!1})}};return(h,C)=>h.forumId===419?(W(),fe(t(en),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":d,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:r},{default:f(()=>[s(t(he),{style:{"margin-right":"auto"},disabled:h.userIsLocked,loading:o.value},{default:f(()=>[S("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(W(),fe(t(he),{key:1,style:{"margin-right":"auto"},disabled:h.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:f(()=>[S("上传图片")]),_:1},8,["disabled"]))}}),ra=X({__name:"PingbiciModal",setup(e,{expose:n}){const a=Pe(),u=Re(),r=_(),{loading:i,send:v,onSuccess:p}=Ne(h=>In(h),{immediate:!1});function c(){if(!r.value){window.$message.error("请填写屏蔽词");return}const h={binggan:u.binggan,content_pingbici:r.value};v(h)}p(()=>{u.refreshUserData(),o.value=!1});const o=_(!1);function d(){o.value=!0}return n({show:d}),(h,C)=>(W(),fe(t(He),{show:o.value,"onUpdate:show":C[3]||(C[3]=g=>o.value=g),"display-directive":"if"},{default:f(()=>[s(t(Ue),{style:ye({maxWidth:t(a).modalMaxWidth}),title:"追加屏蔽词",closable:"",onClose:C[2]||(C[2]=g=>o.value=!1),size:"small"},{action:f(()=>[s(t(ie),{justify:"end"},{default:f(()=>[s(t(he),{type:"primary",onClick:c,loading:t(i),disabled:!r.value},{default:f(()=>[S("提交")]),_:1},8,["loading","disabled"]),s(t(he),{onClick:C[1]||(C[1]=g=>o.value=!1)},{default:f(()=>[S("关闭")]),_:1})]),_:1})]),default:f(()=>[s(t(ie),{vertical:""},{default:f(()=>[s(t(be),null,{default:f(()=>[S("暂时只做了“内容屏蔽词”的追加")]),_:1}),s(t(de),null,{default:f(()=>[s(t(ue),{style:{width:"4.2rem"}},{default:f(()=>[S("屏蔽词")]),_:1}),s(t(ke),{value:r.value,"onUpdate:value":C[0]||(C[0]=g=>r.value=g),max:255,onKeyup:Ee(c,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ta=X({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:n,emit:a}){const u=Mn(()=>zn(()=>import("./PostItem-DufoCrUc.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),r=Re(),i=Pe(),v=_(null),p=_(null),c=_(null),o=_(null),d=_(null),h=_(null),C=_(null),g=e,w=F(()=>r.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(r.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),y=F(()=>r.userData.binggan.locked_ttl>0),M=_(r.userData.binggan.nickname||"= ="),z=_(""),P=_(""),L=_(!1),b=_(!1);function m(){M.value=r.userData.binggan.nickname||"= =",z.value="",P.value="",L.value=!1,b.value=!1}const x=F(()=>({id:0,created_at:"预览模式",is_deleted:0,thread_id:0,battle_id:null,hongbao_id:null,floor:0,random_head:1,created_by_admin:0,content:P.value,nickname:M.value,is_your_post:!0,hongbao_data:null})),N=F(()=>({class:{"nickname-input":!0,admin:b.value}})),Y=_(!1),k=$n("emoji_auto_hide",!1);function U(){let A=[l(Je,{checked:Y.value,"onUpdate:checked":O=>Y.value=O,label:"实时预览"}),l(Je,{checked:k.value,"onUpdate:checked":O=>k.value=O,label:"表情包自动收起"})];return r.userData.binggan.admin!==0&&r.checkAdminForums(g.forumId)&&A.push(l(Je,{checked:b.value,"onUpdate:checked":O=>b.value=O,label:"管理员"})),l(ie,{style:"padding:6px 8px",vertical:!0},()=>A)}const H=[{key:"funcOption",type:"render",render:U}],J=[{label:"涂鸦板",key:"draw",icon:St(Cl,{size:"1.5rem"})},{label:"屏蔽词",key:"mute",icon:St(Tl,{size:"1.5rem"})}];function G(A){var O,V;switch(A){case"mute":(O=d.value)==null||O.show();break;case"draw":(V=C.value)==null||V.show();break}}lt(b,A=>M.value=A?"管理员":"= =");function Q(A){return A.selectionStart!=null?A.selectionStart:0}function Z(A,O){const V=Q(A),le=A.value,R=le.substring(0,V)+O+le.substring(V);P.value=R}function K(A){const O=document.getElementById("content-input");Z(O,A),me(),O.focus()}function ge(){Ln({title:"要清空内容吗？",onPositiveClick:()=>P.value=""})}const se=_([""]);function Ce(){se.value.length>1&&(se.value.pop(),P.value=se.value.slice(-1)[0])}function me(){se.value.push(P.value??""),se.value.length>20&&se.value.shift()}function Me(A,O){K(`<img src='${A}' class='${O?"custom-emoji-img":"emoji-img"}'>`)}function I(A){K(A)}function $(A){K(`<img src='${A}' />`)}function j(A){var O;P.value=A,me(),(O=v.value)==null||O.focus()}const D=a;function q(A){if(!A.isTrusted){const V={title:"错误",closable:!1,content:"请不要用脚本回复喔，可能会被系统判断为脚本并碎饼干。",positiveText:"确定"};window.$dialog.warning(V);return}new Promise(function(V,le){D("contentCommit",{contentInput:P.value,nicknameInput:M.value,postWithAdmin:b.value,titleInput:z.value,isDelay:L.value,ist:A.isTrusted},V)}).then(Ve)}function Ve(){z.value="",P.value="",L.value=!1}const Xe=_(!1);return n({quoteHandle:j,isTyping:Xe,resetInput:m}),(A,O)=>(W(),fe(t(ie),{vertical:""},{default:f(()=>[Y.value?(W(),fe(t(u),{key:0,"post-data":x.value,"forum-id":0,"preview-mode":!0},null,8,["post-data"])):De("",!0),s(t(ie),{size:"small",wrap:!1,align:"center",style:ye({paddingRight:t(i).isMobile?"24px":"0px"})},{default:f(()=>[s(t(de),{style:{"max-width":"300px"}},{default:f(()=>[s(t(ue),{style:{width:"3.2rem"}},{default:f(()=>[S("昵称")]),_:1}),s(t(ke),{maxlength:30,value:M.value,"onUpdate:value":O[0]||(O[0]=V=>M.value=V),"show-count":"","input-props":N.value},null,8,["value","input-props"])]),_:1}),s(t(It),{trigger:t(i).isMobile?"click":"hover",options:H,placement:"bottom-start"},{default:f(()=>[s(t(he),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:f(()=>[S("功能")]),_:1})]),_:1},8,["trigger"])]),_:1},8,["style"]),A.mode==="thread"?(W(),fe(t(de),{key:1},{default:f(()=>[s(t(ue),{style:{width:"3.2rem"}},{default:f(()=>[S("标题")]),_:1}),s(t(ke),{maxlength:100,value:z.value,"onUpdate:value":O[1]||(O[1]=V=>z.value=V),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):De("",!0),s(ta,{"auto-hide":t(k),"random-heads-group":A.randomHeadsGroup,onAppendEmoji:Me},null,8,["auto-hide","random-heads-group"]),s(t(ie),{size:t(i).isMobile?"small":"medium",justify:"end",align:"center",style:ye({paddingRight:t(i).isMobile?"24px":"0px"})},{default:f(()=>[s(t(It),{trigger:"click",options:J,onSelect:G,size:t(i).isMobile?"medium":"large"},{default:f(()=>[s(t(Se),{size:t(i).isMobile?20:24,style:{cursor:"pointer"}},{default:f(()=>[s(t(Bn))]),_:1},8,["size"])]),_:1},8,["size"]),A.mode==="post"?(W(),fe(t(Be),{key:0,placement:"bottom-start",trigger:t(i).isMobile?"click":"hover"},{trigger:f(()=>[s(t(Se),{size:t(i).isMobile?28:32},{default:f(()=>[s(t(Ul),{style:{cursor:"pointer"},onClick:O[2]||(O[2]=V=>{var le;return(le=p.value)==null?void 0:le.show()})})]),_:1},8,["size"])]),default:f(()=>[S(" 发红包 ")]),_:1},8,["trigger"])):De("",!0),A.mode==="post"?(W(),fe(t(Be),{key:1,placement:"bottom-start",trigger:t(i).isMobile?"click":"hover"},{trigger:f(()=>[s(t(Se),{size:t(i).isMobile?28:32},{default:f(()=>[s(t(hl),{style:{cursor:"pointer"},onClick:O[3]||(O[3]=V=>{var le;return(le=c.value)==null?void 0:le.show()})})]),_:1},8,["size"])]),default:f(()=>[S(" 大乱斗 ")]),_:1},8,["trigger"])):De("",!0),A.mode==="post"?(W(),fe(t(Be),{key:2,placement:"bottom-start",trigger:t(i).isMobile?"click":"hover"},{trigger:f(()=>[s(t(Se),{size:t(i).isMobile?28:32},{default:f(()=>[s(t(ul),{style:{cursor:"pointer"},onClick:O[4]||(O[4]=V=>{var le;return(le=o.value)==null?void 0:le.show()})})]),_:1},8,["size"])]),default:f(()=>[S(" Roll点 ")]),_:1},8,["trigger"])):De("",!0),s(t(Be),{placement:"bottom-start",trigger:t(i).isMobile?"click":"hover"},{trigger:f(()=>[s(t(Se),{size:t(i).isMobile?28:32},{default:f(()=>[s(t(ml),{style:{cursor:"pointer"},onClick:O[5]||(O[5]=V=>{var le;return(le=h.value)==null?void 0:le.show()})})]),_:1},8,["size"])]),default:f(()=>[S(" 快捷代码 ")]),_:1},8,["trigger"]),s(t(Xn),{vertical:""}),s(t(Be),{placement:"bottom-start",trigger:t(i).isMobile?"click":"hover"},{trigger:f(()=>[s(t(Se),{size:t(i).isMobile?28:32},{default:f(()=>[s(t(al),{style:{cursor:"pointer"},onClick:Ce})]),_:1},8,["size"])]),default:f(()=>[S(" 撤销 ")]),_:1},8,["trigger"]),s(t(Be),{placement:"bottom-start",trigger:t(i).isMobile?"click":"hover"},{trigger:f(()=>[s(t(Se),{size:t(i).isMobile?28:32},{default:f(()=>[s(t(Rl),{style:{cursor:"pointer"},onClick:ge})]),_:1},8,["size"])]),default:f(()=>[S(" 清空 ")]),_:1},8,["trigger"])]),_:1},8,["size","style"]),s(t(Fn),{value:P.value,"onUpdate:value":O[6]||(O[6]=V=>P.value=V),type:"textarea",placeholder:w.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:v,style:{"border-radius":"10px","font-size":"1.0rem"},"input-props":{id:"content-input"},disabled:y.value,onChange:me,onKeyup:O[7]||(O[7]=Ee(pt(V=>q(V),["ctrl"]),["enter"])),onBlur:O[8]||(O[8]=V=>Xe.value=!1),onFocus:O[9]||(O[9]=V=>Xe.value=!0)},null,8,["value","placeholder","disabled"]),s(t(ie),{justify:"end",align:"center"},{default:f(()=>[s(aa,{"user-is-locked":y.value,"forum-id":A.forumId,"thread-id":A.threadId,onInsertImage:$},null,8,["user-is-locked","forum-id","thread-id"]),A.mode==="thread"?(W(),fe(t(Je),{key:0,checked:L.value,"onUpdate:checked":O[10]||(O[10]=V=>L.value=V)},{default:f(()=>[S("延时发送")]),_:1},8,["checked"])):De("",!0),s(t(Be),{placement:"bottom-start",trigger:"hover",disabled:t(i).isMobile},{trigger:f(()=>[s(t(he),{type:"primary",onClick:O[11]||(O[11]=V=>q(V)),loading:A.handling,disabled:y.value},{default:f(()=>[S("提交")]),_:1},8,["loading","disabled"])]),default:f(()=>[S(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),s(la,{ref_key:"HongbaoModalCom",ref:p,"thread-id":A.threadId,"forum-id":A.forumId,onRefreshPostsList:O[12]||(O[12]=V=>D("refreshPostsList"))},null,8,["thread-id","forum-id"]),s(Fl,{ref_key:"BattleModalCom",ref:c,"thread-id":A.threadId,"forum-id":A.forumId,"random-heads-group":A.randomHeadsGroup,onRefreshPostsList:O[13]||(O[13]=V=>D("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),s(Sl,{ref_key:"RollModalCom",ref:o,"thread-id":A.threadId,"forum-id":A.forumId,onRefreshPostsList:O[14]||(O[14]=V=>D("refreshPostsList"))},null,8,["thread-id","forum-id"]),s(ra,{ref_key:"PingbiciModalCom",ref:d},null,512),s(Wl,{ref_key:"CodeModalCom",ref:h,onInsertCode:I},null,512),s(Ql,{ref_key:"DrawerModalCom",ref:C,onInsertImage:$,"user-is-locked":y.value,"forum-id":A.forumId,"thread-id":A.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}});export{Ko as M,Po as N,tl as P,Ta as _,El as a,La as b,ft as c,Ia as d,$a as e,Ma as f,Pl as g,za as h};
