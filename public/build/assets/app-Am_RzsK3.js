function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Home-BeIW0OPd.js","assets/vendor-DK937lF0.js","assets/shuffle-Bl2z5mvo.js","assets/forums-De22175i.js","assets/Home-DXFCMqZM.css","assets/404-CRmnI3WB.js","assets/ForumPage-DXY4m-mE.js","assets/subtitles-DW7M559j.js","assets/loudspeaker-Bo31lF1l.js","assets/LoudspeakerComponent-ch5Nlysz.js","assets/LoudspeakerComponent-DaF5ZPLb.css","assets/ThreadList-V7L8otir.js","assets/showDialog-D5pDV4eu.js","assets/browseLogger-DsMCONGG.js","assets/ThreadList-BbkDJXRc.css","assets/ForumPage-CkY3PW55.css","assets/ThreadPage-Bs4fZfqf.js","assets/PostItem.vue_vue_type_script_setup_true_lang-D6FWTOFY.js","assets/Delete-C0QqkNti.js","assets/PostItem-BaEGuFkb.css","assets/PostInput.vue_vue_type_script_setup_true_lang-BSXKWAki.js","assets/inputNumberFormat-DaYmlx6U.js","assets/emojiData-CmSvr5Em.js","assets/PostInput-JCDAAN1b.css","assets/admin-DvyOy2Zz.js","assets/ThreadPage-BqFXLquj.css","assets/NewThread-DQlLDy5l.js","assets/UserCenter-Db-lzxbo.js","assets/UserCenter-BFEEvgmk.css","assets/AdminCenter-E7OwIlCQ.js","assets/AdminCenter-DXmXn4-e.css","assets/LoudspeakerPage-BeW7w408.js","assets/LoudspeakerPage-CNOvldAN.css","assets/EmojiContest-cwPKiUKx.js","assets/EmojiContest-C7pwzj3l.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
var Ee=Object.defineProperty,Me=Object.defineProperties;var Re=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var pe=(t,e,o)=>e in t?Ee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,W=(t,e)=>{for(var o in e||(e={}))Be.call(e,o)&&pe(t,o,e[o]);if(me)for(var o of me(e))Ae.call(e,o)&&pe(t,o,e[o]);return t},ge=(t,e)=>Me(t,Re(e));var A=(t,e,o)=>new Promise((s,a)=>{var l=c=>{try{d(o.next(c))}catch(g){a(g)}},i=c=>{try{d(o.throw(c))}catch(g){a(g)}},d=c=>c.done?s(c.value):Promise.resolve(c.value).then(l,i);d((o=o.apply(t,e)).next())});import{c as ze,a as De,d as te,$ as k,b as v,e as U,u as Se,f as $e,g as oe,V as re,G as ae,h as G,w as L,i as Ue,A as C,F as se,j as je,S as _,N as Ge,k as $,l as Pe,M as w,Z as Q,Q as Y,m as J,n as r,o as He,p as n,Y as K,q as Oe,r as Ne,s as We,H as u,t as T,v as x,z as h,x as ne,y as V,B as he,C as fe,D as qe,E as le,I as ie,J as ue,K as I,U as ce,L as ke,O as Ve,P as Qe,R as Fe,T as Ye,W as Je,X as Ke,_ as _e,a0 as Xe,a1 as q,a2 as Ze,a3 as et,a4 as tt,a5 as ot,a6 as rt,a7 as at,a8 as st,a9 as nt,aa as lt,ab as it,ac as ut,ad as ct,ae as dt,af as mt}from"./vendor-DK937lF0.js";const pt="modulepreload",gt=function(t){return"/build/"+t},ve={},M=function(e,o,s){let a=Promise.resolve();if(o&&o.length>0){const l=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),d=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.all(o.map(c=>{if(c=gt(c),c in ve)return;ve[c]=!0;const g=c.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(!!s)for(let S=l.length-1;S>=0;S--){const F=l[S];if(F.href===c&&(!g||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${m}`))return;const f=document.createElement("link");if(f.rel=g?"stylesheet":pt,g||(f.as="script",f.crossOrigin=""),f.href=c,d&&f.setAttribute("nonce",d),document.head.appendChild(f),g)return new Promise((S,F)=>{f.addEventListener("load",S),f.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${c}`)))})}))}return a.then(()=>e()).catch(l=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=l,window.dispatchEvent(i),!i.defaultPrevented)throw l})},ht=[{path:"/",name:"Homepage",component:()=>M(()=>import("./Home-BeIW0OPd.js"),__vite__mapDeps([0,1,2,3,4]))},{path:"/:pathMatch(.*)*",name:"Page404",component:()=>M(()=>import("./404-CRmnI3WB.js"),__vite__mapDeps([5,1]))},{path:"/forum/:forumId/:page?",name:"forum",props:t=>({forumId:parseInt(t.params.forumId),page:t.params.page?parseInt(t.params.page):1,search:t.query.search,delay:t.query.delay==="true"}),component:()=>M(()=>import("./ForumPage-DXY4m-mE.js"),__vite__mapDeps([6,1,3,7,2,8,9,10,11,12,13,14,15]))},{path:"/thread/:threadId/:page?",name:"thread",props:t=>({threadId:parseInt(t.params.threadId),page:t.params.page?parseInt(t.params.page):1,search:t.query.search}),component:()=>M(()=>import("./ThreadPage-Bs4fZfqf.js"),__vite__mapDeps([16,1,17,12,3,18,19,8,20,21,22,23,9,10,24,13,25]))},{path:"/new-thread/:forumId",name:"new-thread",props:t=>({forumId:parseInt(t.params.forumId)}),component:()=>M(()=>import("./NewThread-DQlLDy5l.js"),__vite__mapDeps([26,1,12,3,20,17,18,19,21,22,23,7]))},{path:"/user-center",component:()=>M(()=>import("./UserCenter-Db-lzxbo.js"),__vite__mapDeps([27,1,3,11,12,13,14,17,18,19,21,22,28])),name:"user-center"},{path:"/admin-center",component:()=>M(()=>import("./AdminCenter-E7OwIlCQ.js"),__vite__mapDeps([29,1,24,3,21,30])),name:"admin-center"},{path:"/loudspeaker",component:()=>M(()=>import("./LoudspeakerPage-BeW7w408.js"),__vite__mapDeps([31,1,24,8,18,32])),name:"loudspeaker"},{path:"/emoji-moe",component:()=>M(()=>import("./EmojiContest-cwPKiUKx.js"),__vite__mapDeps([33,1,22,2,34])),name:"emoji-moe"}],ft=ze({history:De(),routes:ht,scrollBehavior(t,e,o){return o||(t.hash?!1:{top:0})}}),E=te("commonStore",()=>{const t=k(!1),e=k(0),o=k(document.body.clientWidth),s=k(document.body.clientWidth<1200),a=v(()=>o.value>=532?"500px":o.value-32+"px");window.addEventListener("resize",()=>{s.value=document.body.clientWidth<1200,o.value=document.body.clientWidth});const l=k(!0);function i(){const S=document.getElementById("app").offsetWidth-24;return Math.ceil(S*250/920)+"px"}const d=k(i());window.addEventListener("resize",()=>d.value=i());const c=v(()=>{const f=["2024-06-18","2024-06-19"],S=U.tz();let F=!1;return f.forEach(j=>{S.isSame(U.tz(j),"day")&&(F=!0)}),F}),g=v(()=>U.tz().month()===9),m=Se("user_custom",{version:240505,imgHost:"picgo",hongbaoThenStop:!1,holdPageWhenListening:!1,lessToast:!1,postLegacyMode:!1,monochromeMode:!1,sidebarLeft:!1,loudspeakerPosition:"bottom",quoteMax:3,foldMaxLine:16,emojiWhiteBack:!1,lineHeightPost:28,fontSizePost:16,fontSizeQuote:16,fontSizeFooter:14,fontSizeThreadList:16,fontSizeThreadListFooter:14,fontSizeInput:16,threadListCardPadding:12,threadListInnerMargin:6,postCardPadding:12,postInnerMargin:12,hidePingbiciFloor:!1,pingbiciIngnoreCase:!1},localStorage,{mergeDefaults:!0});function b(){const f={title:"重置设定",closable:!1,content:"确定要重置所有一般设定吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{m.value.quoteMax=3,m.value.foldMaxLine=16,m.value.lineHeightPost=28,m.value.fontSizePost=16,m.value.fontSizeQuote=16,m.value.fontSizeFooter=14,m.value.fontSizeThreadList=16,m.value.fontSizeThreadListFooter=14,m.value.fontSizeInput=16,m.value.threadListCardPadding=12,m.value.threadListInnerMargin=6,m.value.postCardPadding=12,m.value.postInnerMargin=12,m.value.emojiWhiteBack=!1}};window.$dialog.warning(f)}return{unauthModalShow:t,requestErrorCode:e,isMobile:s,clientWidth:o,showTopbarNav:l,bannerHeight:d,isDouble11:c,isOctober:g,userCustom:m,modalMaxWidth:a,userCustomReset:b}}),be={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"rgba(249, 249, 249, 1)"},Button:{colorPrimary:"#32BA32FF"},Card:{color:"#fafffa80"}},_t={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#f5f6f8",primaryColor:"#333639FF"},Button:{colorPrimary:"#333639FF"},Card:{color:"#FFFFFF80"},Tabs:{tabTextColorActiveLine:"#18A058FF",tabTextColorHoverLine:"#18A058FF"}},vt={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',textColor1:"rgba(255, 255, 255, 0.73)",textColor2:"rgba(255, 255, 255, 0.66)"},Card:{colorEmbedded:"rgba(44, 44, 50, 1)",color:"rgba(44, 44, 50, 0.5)"}},bt={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#eefaee"},Card:{color:"#fafffa80",borderColor:"rgba(233, 245, 234, 1)"},Button:{colorPrimary:"#52b051FF",colorHoverPrimary:"#3ba251FF",color:"#ffffffFF",colorHover:"#ffffffFF",colorPressed:"#ffffffFF",colorFocus:"#ffffffFF",colorDisabled:"#ffffffFF",colorPressedPrimary:"#3a9958FF",borderPressedPrimary:"0px",borderFocusPrimary:"0px",borderDisabledPrimary:"0px",borderHoverPrimary:"0px",borderPrimary:"0px",colorSecondary:"rgba(46, 51, 56, .05)",colorTertiary:"rgba(46, 51, 56, .05)",textColorTertiary:"rgb(118, 124, 130)"}},ye={topBarBackgroudColor:"#FFF",sidebarColor:"#90d590",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},yt={topBarBackgroudColor:"#FFF",sidebarColor:"#aaaaaa",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},Ct={topBarBackgroudColor:"#18181CFF",sidebarColor:"#316c58",postItemBorderColor:"#FFFFFF17",postFooterColor:"#FFFFFF85"},wt={topBarBackgroudColor:"#fafffaFF",sidebarColor:"#52b051",postItemBorderColor:"#5FB878",postFooterColor:"#5FB878"},de=te("themeStore",()=>{const t=Se("theme","green");function e(i){t.value=i}const o=v(()=>({light:null,sfw:null,dark:$e,green:null})[t.value]||null),s=v(()=>({light:be,sfw:_t,dark:vt,green:bt})[t.value]||be),a=v(()=>({light:{strong:!0,secondary:!0,tertiary:!1},sfw:{strong:!0,secondary:!1,tertiary:!0},dark:{strong:!0,secondary:!0,tertiary:!1},green:{strong:!1,secondary:!1,tertiary:!1}})[t.value]||{strong:!0,secondary:!0,tertiary:!1}),l=v(()=>({light:ye,sfw:yt,dark:Ct,green:wt})[t.value]||ye);return{themeClass:o,themeOverrideClass:s,themeChange:e,buttonThemeAttr:a,themeColor:l}}),p=oe({statesHook:re,requestAdapter:ae(),beforeRequest:t=>{t.config.headers.Accept="application/json";const e=localStorage.getItem("Token");e&&(t.config.headers.Authorization="Bearer "+e)},responded:{onSuccess:(t,e)=>A(void 0,null,function*(){var a;const o=E();if(t.status>=400){if(o.requestErrorCode=t.status,t.status==401)throw o.unauthModalShow=!0,new Error(t.statusText,{cause:{code:t.status}});const l=yield t.json();throw l.message?(window.$message.error(JSON.stringify(l.message),{closable:!0,duration:5e3}),new Error(l.message,{cause:{code:l.code}})):(window.$message.error(t.statusText,{closable:!0,duration:5e3}),new Error(t.statusText,{cause:{code:l.code}}))}const s=yield t.json();if(s.code!==200)throw o.requestErrorCode=s.code,s.code==21499?(o.unauthModalShow=!0,new Error(s.message,{cause:{code:s.code}})):(window.$message.error(JSON.stringify(s.message),{closable:!0,duration:5e3}),new Error(s.message,{cause:{code:s.code}}));return(a=e.meta)!=null&&a.shouldRemind&&!o.userCustom.lessToast&&window.$message.success(s.message),s.data}),onError:(t,e)=>{throw window.$message.error("嗷！好像网络出错了。"),t},onComplete:t=>A(void 0,null,function*(){})},errorLogger:!1,cacheLogger:!1}),to=oe({statesHook:re,requestAdapter:ae(),responded:{onSuccess:(t,e)=>A(void 0,null,function*(){return yield t.json()}),onError:(t,e)=>{throw window.$message.error("嗷！好像网络出错了。"),t},onComplete:t=>A(void 0,null,function*(){})},errorLogger:!1,cacheLogger:!1});oe({statesHook:re,requestAdapter:ae(),beforeRequest:t=>{},responded:{onSuccess:(t,e)=>A(void 0,null,function*(){if(t.status>=400)throw new Error(t.statusText);return t}),onError:(t,e)=>{},onComplete:t=>A(void 0,null,function*(){})},errorLogger:!1,cacheLogger:!1});const St=t=>p.Post("/api/user/show",{binggan:t},{name:"userDataGetter",params:{},localCache:{mode:"placeholder",expire:60*60*1e3},hitSource:[/^user(?!DataGetter).*$/,"newPostPoster","pingbiciAddPoster","pingbiciSetPoster","myEmojisAddPoster","myEmojisSetPoster","bankDepositPoster","bankWithdrawPoster","newCustomBingganPoster","battleCreatePoster","battleChanllengerRollPoster","hongbaoPostCreatePoster","hongbaoPostStorePoster","hongbaoStorePoster","newLoudspeakerPoster","deletePostDeleter","recoverPostPutter","newThreadPoster","threadChangeColorPoster","delayThreadDeleter"]}),Pt=t=>p.Post("api/user/register",{register_key:t},{name:"userRegisterPoster",params:{},localCache:null,hitSource:[]}),oo=t=>{const e=p.Post("api/user/reward",t,{name:"userRewardPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},ro=t=>{const e=p.Post("api/user/water_unlock",t,{name:"waterUnlockPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},ao=t=>{const e=p.Post("api/user/my_emoji_set",t,{name:"myEmojisSetPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},so=t=>{const e=p.Post("api/user/my_emoji_add",t,{name:"myEmojisAddPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},kt=()=>{const t=p.Get("api/user/check_reg_record",{name:"checkRegisterRecordPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},no=t=>{const e=p.Get("api/income/show_day",{name:"incomeDataGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},lo=t=>{const e=p.Get("api/income/show_sum",{name:"incomeSumDataGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},io=t=>{const e=p.Post("api/user/pingbici_set",t,{name:"pingbiciSetPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},uo=t=>{const e=p.Post("api/user/pingbici_add",t,{name:"pingbiciAddPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},co=t=>{const e=p.Post("api/user/show_medals",t,{name:"getMedalsDataPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},mo=t=>{const e=p.Post("api/user/show_medal_progress",t,{name:"getMedalProgressPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},po=t=>{const e=p.Post("api/user/show_bank",t,{name:"getBankDataPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},go=t=>{const e=p.Post("api/user/bank_deposit",t,{name:"bankDepositPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},ho=t=>{const e=p.Post("api/user/bank_withdraw",t,{name:"bankWithdrawPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},fo=t=>{const e=p.Get("api/user/user_lv_show",{name:"getUserLevelGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},_o=t=>{const e=p.Post("api/user/user_lv_up",t,{name:"userLevelUpPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},vo=t=>{const e=p.Post("api/user/create_custom",t,{name:"newCustomBingganPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},bo=t=>{const e=p.Get("api/user/my_battle_chara",{name:"getUserLevelGetter",params:t,localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},yo=t=>{const e=p.Post("api/user/my_battle_chara_set",t,{name:"setUserCharaPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!0},e},X=te("userStore",()=>{const t=k(!1),e=localStorage.getItem("Binggan"),o=localStorage.getItem("Token"),s={binggan:{nickname:"= =",coin:0,coin_in_bank:0,use_pingbici:!1,new_msg:!1,user_lv:0,locked_ttl:0},my_battle_chara:[],emoji_excluded:[],pingbici:{content_pingbici:[],fjf_pingbici:[],title_pingbici:[]},my_emoji:[]},{loading:a,data:l,onSuccess:i,send:d}=G(St,{initialData:s,immediate:!1});e&&o&&(t.value=!0,d(e));function c(){d(e)}function g(b){return b===void 0||a.value||l.value.binggan.admin_forums===void 0?!1:l.value.binggan.admin_forums.includes(b)}const m=v(()=>{var f;const b=(f=l.value.binggan.admin)!=null?f:0;return{isForumAdmin:b>=1,isNormalAdmin:b>=10,isSeniorAdmin:b>=20,isSuperAdmin:b>=99}});return{userDataLoading:a,userData:l,userLoginStatus:t,binggan:e,admin:m,refreshUserData:c,checkAdminForums:g}}),Ft=L({setup(){window.$dialog=Ue()}}),Ie=(t,e)=>{const o=t.__vccOpts||t;for(const[s,a]of e)o[s]=a;return o};function It(t,e,o,s,a,l){return C(),se("div")}const xt=Ie(Ft,[["render",It]]),Lt=L({setup(){window.$message=je()}});function Tt(t,e,o,s,a,l){return C(),se("div")}const Et=Ie(Lt,[["render",Tt]]),Mt=(t,e)=>p.Post("/api/login",{binggan:t,password:e},{name:"userLoginPoster",params:{},localCache:null}),Rt=t=>p.Post("/api/logout",{binggan:t},{name:"userLogoutPoster",params:{},localCache:null}),Co=t=>{const e=p.Post("/api/set_password",t,{name:"userSetPasswordPoster",params:{},localCache:null});return e.meta={shouldRemind:!0},e};function xe(){localStorage.removeItem("Binggan"),localStorage.removeItem("Token"),window.location.href="/"}const Bt={size:"1rem"},z=(t,e=Bt)=>{let o="1rem";return typeof e.size=="string"?o=e.size:typeof e.size=="number"&&(o=e.size+"rem"),()=>_(Ge,{size:o,color:e.color},{default:()=>_(t)})},At=p.Get("/api/new_binggan_enable/",{name:"newBingganEnableGetter",params:{},localCache:null}),wo=p.Get("/api/home_banners/",{name:"homeBannersGetter",params:{},localCache:null}),So=p.Get("/api/new_loudspeaker_enable",{name:"newLoudspeakerEnableGetter",params:{},localCache:null});function zt(t){var e,o,s="",a;for(t+="",e=0,o=t.length;e<o;e++)a=t.charCodeAt(e).toString(16),s+=a.length<2?"0"+a:a;return s}function Dt(t){var e=document.createElement("canvas"),o=e.getContext("2d"),s=t;o.textBaseline="top",o.font="14px 'Arial'",o.textBaseline="alphabetic",o.fillStyle="#f60",o.fillRect(125,1,62,20),o.fillStyle="#069",o.fillText(s,2,15),o.fillStyle="rgba(102, 204, 0, 0.7)",o.fillText(s,4,17);var a=e.toDataURL().replace("data:image/png;base64,",""),l=atob(a),i=zt(l.slice(-16,-12));return i}function $t(){const t="XiaoHuoGuoCpttmm",e="abcdef0123456789",o=$.enc.Utf8.parse(t);var a={iv:$.enc.Utf8.parse(e),mode:$.mode.CBC,padding:$.pad.Pkcs7};const l=Dt("BrowserLeaks,com <canvas> 1.0"),i=$.MD5(navigator.userAgent).toString().substr(0,8);return $.AES.encrypt("XiaoHuoGuo"+l+i,o,a).toString()}const D=L({__name:"FButton",setup(t){const e=E(),o=de(),s=Pe(),a=v(()=>W(W({},s),o.buttonThemeAttr)),l=v(()=>e.isMobile?"small":"medium");return(i,d)=>(C(),w(r(He),J({round:"",size:l.value},a.value),Q({_:2},[Y(i.$slots,(c,g,m)=>({name:g,fn:n(()=>[K(i.$slots,g)])}))]),1040,["size"]))}}),Ce=L({__name:"FInput",props:{autoSize:{type:Boolean,default:!1}},setup(t){const e=E(),o=t,s=v(()=>o.autoSize&&e.isMobile?"small":"medium");return(a,l)=>(C(),w(r(Oe),J({round:"",size:s.value},a.$attrs),Q({_:2},[Y(a.$slots,(i,d,c)=>({name:d,fn:n(()=>[K(a.$slots,d)])}))]),1040,["size"]))}}),we=L({__name:"FInputGroupLabel",props:{round:{type:Boolean,default:!0},autoSize:{type:Boolean,default:!1}},setup(t){const e=E(),o=Pe(),s=t,a=s.round?{"border-bottom-left-radius":"17px","border-top-left-radius":"17px"}:void 0,l=v(()=>ge(W({},o),{style:a})),i=v(()=>s.autoSize&&e.isMobile?"small":"medium");return(d,c)=>(C(),w(r(Ne),J({size:i.value},l.value),Q({_:2},[Y(d.$slots,(g,m,b)=>({name:m,fn:n(()=>[K(d.$slots,m)])}))]),1040,["size"]))}}),Ut=L({__name:"FCheckbox",setup(t){const e=E(),o=v(()=>e.isMobile?"small":"medium");return(s,a)=>(C(),w(r(We),J({size:o.value},s.$attrs),Q({_:2},[Y(s.$slots,(l,i,d)=>({name:i,fn:n(()=>[K(s.$slots,i)])}))]),1040,["size"]))}}),jt=I("div",null,[h("这里是私人论坛，欢迎来玩！"),I("br"),h("QQ小火锅避难群：156840110 "),I("br"),h("使用前需要在下面申请或者导入饼干喔")],-1),Gt=L({__name:"LoginModal",emits:["submitRegister"],setup(t,{expose:e,emit:o}){const s=E(),a=k(!1);e({show:()=>a.value=!0});const i=k(""),d=k(""),{data:c}=G(At,{initialData:!1}),{data:g}=G(kt(),{initialData:{reg_record_TTL:-2}}),m=v(()=>{var R,P;if(!(((R=g.value)==null?void 0:R.reg_record_TTL)<=0))return`在${Math.floor(((P=g.value)==null?void 0:P.reg_record_TTL)/3600)}小时后才能再次领取饼干。`}),b=()=>{j(i.value,d.value),d.value=""},{loading:f,onSuccess:S,data:F,send:j}=G(Mt,{immediate:!1});S(()=>{localStorage.Token=F.value.token,localStorage.Binggan=F.value.binggan,window.location.href="/"});const y=()=>{Le($t())},{loading:H,onSuccess:ee,onError:O,data:N,send:Le}=G(Pt,{immediate:!1});ee(()=>{const R=X();R.binggan=N.value.binggan,localStorage.Token=N.value.token,localStorage.Binggan=N.value.binggan,a.value=!1,Te("submitRegister")}),O(R=>{window.$dialog.error({title:"申请饼干失败",content:R.error.message})});const Te=o;return(R,P)=>(C(),w(r(ue),{show:a.value,"onUpdate:show":P[4]||(P[4]=B=>a.value=B),"display-directive":"if"},{default:n(()=>[u(r(ie),{style:le({maxWidth:r(s).modalMaxWidth}),title:"欢迎来到小火锅！",closable:"",onClose:P[3]||(P[3]=B=>a.value=!1),size:"small"},{action:n(()=>[u(r(T),{justify:"end"},{default:n(()=>[r(g).reg_record_TTL>0?(C(),w(r(x),{key:0,style:{"margin-right":"auto"}},{default:n(()=>[h(ne(m.value),1)]),_:1})):V("",!0),u(r(D),{onClick:P[2]||(P[2]=B=>a.value=!1)},{default:n(()=>[h("关闭")]),_:1})]),_:1})]),default:n(()=>[u(r(T),{vertical:""},{default:n(()=>[jt,u(r(he),null,{default:n(()=>[u(r(we),{style:{width:"3.2rem"}},{default:n(()=>[h("饼干")]),_:1}),u(r(Ce),{value:i.value,"onUpdate:value":P[0]||(P[0]=B=>i.value=B),placeholder:"请输入饼干",maxlength:"16",onKeyup:fe(b,["enter"])},null,8,["value"])]),_:1}),u(r(he),null,{default:n(()=>[u(r(we),{style:{width:"3.2rem"},class:"round"},{default:n(()=>[h("密码")]),_:1}),u(r(Ce),{type:"password",placeholder:"（可留空）请输入密码","show-password-on":"mousedown",value:d.value,"onUpdate:value":P[1]||(P[1]=B=>d.value=B),onKeyup:fe(b,["enter"])},null,8,["value"])]),_:1}),u(r(T),null,{default:n(()=>[u(r(qe),{placement:"bottom",trigger:"hover",disabled:r(c)},{trigger:n(()=>[u(r(D),{type:"warning",disabled:r(H)||!r(c)||r(g).reg_record_TTL>0,onClick:y},{default:n(()=>[h(" 我想领取新饼干！ ")]),_:1},8,["disabled"])]),default:n(()=>[u(r(x),null,{default:n(()=>[h("嗷！很抱歉，领取新饼干目前暂停中…… ")]),_:1})]),_:1},8,["disabled"]),u(r(D),{style:{"margin-left":"auto"},type:"primary",onClick:b,disabled:r(f)},{default:n(()=>[h("导入饼干")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ht=I("br",null,null,-1),Ot=L({__name:"RegisterHintModal",setup(t,{expose:e}){const o=X(),s=E(),a=k(!1);e({show:()=>a.value=!0});function i(){a.value=!1,window.location.href="/"}return(d,c)=>{const g=ce("router-link");return C(),w(r(ue),{show:a.value,"onUpdate:show":c[1]||(c[1]=m=>a.value=m),"display-directive":"if"},{default:n(()=>[u(r(ie),{style:le({maxWidth:r(s).modalMaxWidth}),title:"欢迎加入小火锅！",closable:"",onClose:c[0]||(c[0]=m=>a.value=!1),size:"small"},{action:n(()=>[u(r(T),{justify:"end"},{default:n(()=>[u(r(D),{onClick:i},{default:n(()=>[h("关闭")]),_:1})]),_:1})]),default:n(()=>[u(r(T),{vertical:"",size:"medium",style:{"word-wrap":"break-word"}},{default:n(()=>[I("div",null,[h("你的饼干是："),u(r(x),{strong:"",type:"info",style:{"font-size":"1.5rem"}},{default:n(()=>[h(ne(r(o).binggan),1)]),_:1}),Ht,h("（之后在个人中心也可以查看）")]),u(r(x),{depth:"2"},{default:n(()=>[h("① 饼干就是你的小火锅账号。请保存好，不要泄露喔！")]),_:1}),u(r(x),{depth:"2"},{default:n(()=>[h("② 为了账号安全，"),u(r(x),{strong:"",type:"error"},{default:n(()=>[h("建议尽快在个人中心设定密码。")]),_:1})]),_:1}),u(r(x),{depth:"2"},{default:n(()=>[h("③ 请务必遵守"),u(g,{to:"/thread/13351"},{default:n(()=>[h("小火锅版规")]),_:1}),h("喔！")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])}}}),Nt=I("div",{id:"topbar-nav",style:{"flex-shrink":"1",overflow:"hidden"}},null,-1),Wt=I("div",{id:"topbar-func"},null,-1),qt=I("img",{src:"/ui/skin.png",style:{"margin-left":"auto"},class:"img-icon"},null,-1),Vt=L({__name:"TopBar",setup(t){ke(y=>({"51bb01be":r(c).textColor1,"241e0506":r(d).themeColor.topBarBackgroudColor,"8a612fe6":r(c).dividerColor}));const e=X(),o=E(),s=Ve(),a=Qe(),l=k(null),i=k(null),d=de(),c=Fe(),g=[{label:"魔芋锅",key:"sfw",icon:z(q,{color:"#F9F9F9"})},{label:"白汤锅",key:"light",icon:z(q,{color:"#d9efd9"})},{label:"芝麻锅",key:"dark",icon:z(q,{color:"#101014"})},{label:"青菜锅",key:"green",icon:z(q,{color:"#53A551"})},{type:"render",key:"monochrome",render:m}];function m(){return _(T,{style:"padding:6px 8px",vertical:!0},()=>[_(Ut,{checked:o.userCustom.monochromeMode,"onUpdate:checked":y=>o.userCustom.monochromeMode=y,label:"单色模式"})])}function b(){return _(T,{vertical:!0},()=>[_("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[_("img",{style:"max-height: 40px;",src:"/ui/my-binggan.png"}),_("div",null,[_("div",null,[_(x,{depth:3},{default:()=>"我的饼干"})]),_("div",{style:"font-size: 1rem;"},[_(x,{depth:2},{default:()=>e.binggan})])])]),_("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[_("img",{style:"max-height: 40px;",src:"/ui/my-olo.png"}),_("div",null,[_("div",null,[_(x,{depth:3},{default:()=>"奥利奥"})]),_("div",{style:"font-size: 1rem;"},[_(x,{depth:2},{default:()=>e.userData.binggan.coin})])])])])}const f=v(()=>{const y=[{key:"header",type:"render",render:b},{key:"header-divider",type:"divider"},{label:"个人中心",key:"profile",icon:z(Ze,{size:"1.25rem"}),props:{onClick:()=>s.push("/user-center")}},{label:"退出饼干",key:"logout",icon:z(et,{size:"1.25rem"}),props:{onClick:S}}];return e.admin.isForumAdmin&&y.splice(3,0,{label:"管理中心",key:"admin",icon:z(tt,{size:"1.25rem"}),props:{onClick:()=>s.push("/admin-center")}}),y});function S(){const y={title:"退出饼干",closable:!1,content:"确定要退出饼干吗？请务必先记下自己的饼干喔。",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Rt(e.binggan).then(()=>{xe(),window.location.href="/"})}};window.$dialog.warning(y)}function F(){e.refreshUserData()}function j(){var y;(y=i.value)==null||y.show()}return Ye(()=>{var y;!(localStorage.getItem("Binggan")&&localStorage.getItem("Token"))&&a.path=="/"&&((y=l.value)==null||y.show())}),(y,H)=>{const ee=ce("router-link");return C(),w(r(T),{class:"top-bar",align:"center",wrap:!1},{default:n(()=>{var O;return[I("img",{src:"/favicon.png",alt:"",onClick:H[0]||(H[0]=N=>y.$router.push("/"))}),Je(u(ee,{to:"/"},{default:n(()=>[h(" 小火锅 ")]),_:1},512),[[Ke,r(o).showTopbarNav]]),Nt,Wt,u(r(_e),{trigger:r(o).isMobile?"click":"hover",options:g,onSelect:r(d).themeChange},{default:n(()=>[qt]),_:1},8,["trigger","onSelect"]),r(e).userLoginStatus?(C(),w(r(_e),{key:0,trigger:r(o).isMobile?"click":"hover",options:f.value},{default:n(()=>[I("img",{src:"/ui/user-center.png",onMouseenter:F,class:"img-icon"},null,32)]),_:1},8,["trigger","options"])):V("",!0),!r(e).userDataLoading&&!r(e).userLoginStatus?(C(),w(r(D),{key:1,type:"primary",onClick:(O=l.value)==null?void 0:O.show},{default:n(()=>[h(" 导入饼干 ")]),_:1},8,["onClick"])):V("",!0),!r(e).userDataLoading&&!r(e).userLoginStatus?(C(),se(Xe,{key:2},[u(Gt,{ref_key:"LoginModalCom",ref:l,onSubmitRegister:j},null,512),u(Ot,{ref_key:"registerHintModalCom",ref:i},null,512)],64)):V("",!0)]}),_:1})}}}),Qt=I("img",{src:"https://www.freeimg.cn/i/2024/05/14/664358a7b1035.png",alt:"需要饼干才能进入喔"},null,-1),Yt={style:{"margin-left":"auto"}},Jt=L({__name:"UnauthModal",setup(t){const e=E(),o=v(()=>e.requestErrorCode===401?"你未导入饼干，或者饼干的登录信息已失效。请申请或重新导入饼干。":e.requestErrorCode===21499?"嗷……你的饼干被碎了。请申请或重新导入饼干。":"");return(s,a)=>(C(),w(r(ue),{show:r(e).unauthModalShow,"onUpdate:show":a[2]||(a[2]=l=>r(e).unauthModalShow=l),"display-directive":"if"},{default:n(()=>[u(r(ie),{style:le({maxWidth:r(e).modalMaxWidth}),closable:"",onClose:a[1]||(a[1]=l=>r(e).unauthModalShow=!1),size:"small"},{action:n(()=>[u(r(T),{justify:"end"},{default:n(()=>[u(r(D),{onClick:r(xe),type:"primary"},{default:n(()=>[h("导入饼干")]),_:1},8,["onClick"]),u(r(D),{onClick:a[0]||(a[0]=l=>r(e).unauthModalShow=!1)},{default:n(()=>[h("关闭")]),_:1})]),_:1})]),default:n(()=>[u(r(T),{vertical:""},{default:n(()=>[Qt,I("div",Yt,ne(o.value),1)]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Kt=L({__name:"App",setup(t){ke(l=>({"569fcae7":r(s).userCustom.fontSizeQuote+"px","4f154f2c":r(o).textColor3,"4c417994":r(o).warningColor,fbf9aa24:r(o).primaryColor,"34b79c30":r(o).errorColor,"175e64d6":r(e).themeColor.postFooterColor,"7d36bd43":a.value}));const e=de(),o=Fe();X();const s=E(),a=v(()=>s.userCustom.emojiWhiteBack?"#FFFFFF":void 0);return(l,i)=>{const d=ce("router-view");return C(),w(r(it),{theme:r(e).themeClass,"theme-overrides":r(e).themeOverrideClass,locale:r(lt)},{default:n(()=>[u(r(ot)),u(r(rt),null,{default:n(()=>[u(Et)]),_:1}),u(r(at),null,{default:n(()=>[u(xt)]),_:1}),u(Vt),u(d,null,{default:n(({Component:c})=>[(C(),w(st,{include:"ThreadPage,NewThread"},[(C(),w(nt(c)))],1024))]),_:1}),u(Jt)]),_:1},8,["theme","theme-overrides","locale"])}}});U.extend(ut);U.extend(ct);U.tz.setDefault("Asia/Shanghai");const Xt=dt(),Z=mt({});Z.component("app",Kt);Z.use(ft);Z.use(Xt);Z.mount("#app");export{mo as A,Co as B,io as C,so as D,So as E,Ie as _,X as a,D as b,Ce as c,Ut as d,we as e,oo as f,p as g,wo as h,de as i,to as j,po as k,go as l,ho as m,bo as n,vo as o,uo as p,ao as q,z as r,yo as s,no as t,E as u,lo as v,ro as w,fo as x,_o as y,co as z};
