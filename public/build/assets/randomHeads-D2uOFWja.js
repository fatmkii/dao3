import{aU as ze,S as o,w as E,aV as $t,a7 as De,I as ft,aW as Jt,ak as Qt,aX as en,a0 as ne,Y as L,aY as xt,aZ as tn,a_ as nn,a4 as te,$ as R,q as Je,ag as nt,ai as Ve,X as Tt,J as Te,d as U,L as We,a8 as pt,a$ as on,b0 as an,ac as Ze,b1 as ln,ae as ot,C as $e,ay as oe,ad as ut,m as ye,b2 as rn,b3 as dt,V as vt,b4 as sn,e as Ke,a5 as ct,a1 as Q,b5 as Me,aC as Lt,az as Mt,aA as Bt,aB as Dt,b6 as un,al as yt,K as Qe,ax as dn,av as Ot,b7 as cn,aJ as Be,b8 as hn,b9 as gn,as as Ct,Z as we,ba as fn,bb as pn,a3 as vn,x as mn,bc as wn,bd as kt,ah as bn,A as F,F as ue,j as ee,aE as At,be as pe,b as Re,o as Se,c as et,M as se,f as h,H as u,a as n,k as le,n as de,z as j,h as xe,s as Ie,i as Oe,aG as Ae,aF as Ne,bf as ht,aI as _t,Q as Ue,N as be,aT as xn,aS as yn,bg as Cn,aQ as kn,p as _n,v as zn,G as He,y as Xe,bh as Rn}from"./app-Bnyjg8n9.js";import{s as Sn}from"./showDialog-KUlA1hRf.js";import{u as Pn}from"./forums-CT-bkq-g.js";import{_ as Ce}from"./FInput.vue_vue_type_script_setup_true_lang-7KhV1qPh.js";import{c as In,_ as ie}from"./index-BSum3qdk.js";import{N as ae}from"./InputGroup-BNNkvZRm.js";import{N as Fe}from"./InputNumber-Dh3twx-8.js";import{N as Ee}from"./Select-Bfh_Ts2K.js";import{a as $n,N as it}from"./Grid-CMhViaMY.js";import{N as Tn}from"./ColorPicker-uWpy5v9N.js";import{A as Ln}from"./Add-fXet-zDs.js";import{u as Mn}from"./use-locale-BQY9tv8Y.js";import{c as Bn}from"./_createCompounder-B0k-4biK.js";import{a as Dn}from"./Ellipsis-BDemcm9d.js";import{d as jt}from"./download-sglA049O.js";import{E as On,N as An}from"./Input-CmwnIxYN.js";import{e as jn}from"./emojiData-nGA-8XBz.js";import{a as zt,b as Hn,N as Nn}from"./Tabs-B9gcvbNT.js";var Un=Bn(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()});const Fn=ze("attach",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),En=ze("trash",o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),qn=ze("download",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Wn=ze("cancel",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),Vn=ze("retry",o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),o("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Xn=ze("rotateClockwise",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),o("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Gn=ze("rotateClockwise",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),o("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Yn=ze("zoomIn",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),o("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Zn=ze("zoomOut",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),o("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Kn=E({name:"ResizeSmall",render(){return o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o("g",{fill:"none"},o("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Jn=$t&&"loading"in document.createElement("img"),Qn=(e={})=>{var t;const{root:a=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof a=="string"?document.querySelector(a):a)||document.documentElement})}},at=new WeakMap,lt=new WeakMap,rt=new WeakMap,eo=(e,t,a)=>{if(!e)return()=>{};const r=Qn(t),{root:l}=r.options;let c;const f=at.get(l);f?c=f:(c=new Map,at.set(l,c));let m,d;c.has(r.hash)?(d=c.get(r.hash),d[1].has(e)||(m=d[0],d[1].add(e),m.observe(e))):(m=new IntersectionObserver(g=>{g.forEach(z=>{if(z.isIntersecting){const v=lt.get(z.target),b=rt.get(z.target);v&&v(),b&&(b.value=!0)}})},r.options),m.observe(e),d=[m,new Set([e])],c.set(r.hash,d));let i=!1;const s=()=>{i||(lt.delete(e),rt.delete(e),i=!0,d[1].has(e)&&(d[0].unobserve(e),d[1].delete(e)),d[1].size<=0&&c.delete(r.hash),c.size||at.delete(l))};return lt.set(e,s),rt.set(e,a),s},mt=Object.assign(Object.assign({},De.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Ht=ft("n-image");function to(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const no=Jt({name:"Image",common:Qt,peers:{Tooltip:en},self:to}),oo=o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),io=o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),ao=o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),lo=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},o("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),ro=ne([ne("body >",[L("image-container","position: fixed;")]),L("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),L("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[xt()]),L("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[L("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),xt()]),L("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[tn()]),L("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),L("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[nn("preview-disabled",`
 cursor: pointer;
 `),ne("img",`
 border-radius: inherit;
 `)])]),Ge=32,Nt=E({name:"ImagePreview",props:Object.assign(Object.assign({},mt),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=De("Image","-image",ro,no,e,te(e,"clsPrefix"));let a=null;const r=R(null),l=R(null),c=R(void 0),f=R(!1),m=R(!1),{localeRef:d}=Mn("Image");function i(){const{value:$}=l;if(!a||!$)return;const{style:H}=$,T=a.getBoundingClientRect(),K=T.left+T.width/2,J=T.top+T.height/2;H.transformOrigin=`${K}px ${J}px`}function s($){var H,T;switch($.key){case" ":$.preventDefault();break;case"ArrowLeft":(H=e.onPrev)===null||H===void 0||H.call(e);break;case"ArrowRight":(T=e.onNext)===null||T===void 0||T.call(e);break;case"Escape":I();break}}Je(f,$=>{$?nt("keydown",document,s):Ve("keydown",document,s)}),Tt(()=>{Ve("keydown",document,s)});let g=0,z=0,v=0,b=0,x=0,O=0,M=0,_=0,k=!1;function P($){const{clientX:H,clientY:T}=$;v=H-g,b=T-z,rn(y)}function C($){const{mouseUpClientX:H,mouseUpClientY:T,mouseDownClientX:K,mouseDownClientY:J}=$,he=K-H,fe=J-T,me=`vertical${fe>0?"Top":"Bottom"}`,Pe=`horizontal${he>0?"Left":"Right"}`;return{moveVerticalDirection:me,moveHorizontalDirection:Pe,deltaHorizontal:he,deltaVertical:fe}}function B($){const{value:H}=r;if(!H)return{offsetX:0,offsetY:0};const T=H.getBoundingClientRect(),{moveVerticalDirection:K,moveHorizontalDirection:J,deltaHorizontal:he,deltaVertical:fe}=$||{};let me=0,Pe=0;return T.width<=window.innerWidth?me=0:T.left>0?me=(T.width-window.innerWidth)/2:T.right<window.innerWidth?me=-(T.width-window.innerWidth)/2:J==="horizontalRight"?me=Math.min((T.width-window.innerWidth)/2,x-(he??0)):me=Math.max(-((T.width-window.innerWidth)/2),x-(he??0)),T.height<=window.innerHeight?Pe=0:T.top>0?Pe=(T.height-window.innerHeight)/2:T.bottom<window.innerHeight?Pe=-(T.height-window.innerHeight)/2:K==="verticalBottom"?Pe=Math.min((T.height-window.innerHeight)/2,O-(fe??0)):Pe=Math.max(-((T.height-window.innerHeight)/2),O-(fe??0)),{offsetX:me,offsetY:Pe}}function N($){Ve("mousemove",document,P),Ve("mouseup",document,N);const{clientX:H,clientY:T}=$;k=!1;const K=C({mouseUpClientX:H,mouseUpClientY:T,mouseDownClientX:M,mouseDownClientY:_}),J=B(K);v=J.offsetX,b=J.offsetY,y()}const W=Te(Ht,null);function S($){var H,T;if((T=(H=W==null?void 0:W.previewedImgPropsRef.value)===null||H===void 0?void 0:H.onMousedown)===null||T===void 0||T.call(H,$),$.button!==0)return;const{clientX:K,clientY:J}=$;k=!0,g=K-v,z=J-b,x=v,O=b,M=K,_=J,y(),nt("mousemove",document,P),nt("mouseup",document,N)}function D($){var H,T;(T=(H=W==null?void 0:W.previewedImgPropsRef.value)===null||H===void 0?void 0:H.onDblclick)===null||T===void 0||T.call(H,$);const K=ve();q=q===K?1:K,y()}const A=1.5;let V=0,q=1,X=0;function G(){q=1,V=0}function Z(){var $;G(),X=0,($=e.onPrev)===null||$===void 0||$.call(e)}function re(){var $;G(),X=0,($=e.onNext)===null||$===void 0||$.call(e)}function ce(){X-=90,y()}function ge(){X+=90,y()}function ke(){const{value:$}=r;if(!$)return 1;const{innerWidth:H,innerHeight:T}=window,K=Math.max(1,$.naturalHeight/(T-Ge)),J=Math.max(1,$.naturalWidth/(H-Ge));return Math.max(3,K*2,J*2)}function ve(){const{value:$}=r;if(!$)return 1;const{innerWidth:H,innerHeight:T}=window,K=$.naturalHeight/(T-Ge),J=$.naturalWidth/(H-Ge);return K<1&&J<1?1:Math.max(K,J)}function _e(){const $=ke();q<$&&(V+=1,q=Math.min($,Math.pow(A,V)),y())}function w(){if(q>.5){const $=q;V-=1,q=Math.max(.5,Math.pow(A,V));const H=$-q;y(!1);const T=B();q+=H,y(!1),q-=H,v=T.offsetX,b=T.offsetY,y()}}function p(){const $=c.value;$&&jt($,void 0)}function y($=!0){var H;const{value:T}=r;if(!T)return;const{style:K}=T,J=ye((H=W==null?void 0:W.previewedImgPropsRef.value)===null||H===void 0?void 0:H.style);let he="";if(typeof J=="string")he=J+";";else for(const me in J)he+=`${Un(me)}: ${J[me]};`;const fe=`transform-origin: center; transform: translateX(${v}px) translateY(${b}px) rotate(${X}deg) scale(${q});`;k?K.cssText=he+"cursor: grabbing; transition: none;"+fe:K.cssText=he+"cursor: grab;"+fe+($?"":"transition: none;"),$||T.offsetHeight}function I(){f.value=!f.value,m.value=!0}function Y(){q=ve(),V=Math.ceil(Math.log(q)/Math.log(A)),v=0,b=0,y()}const tt={setPreviewSrc:$=>{c.value=$},setThumbnailEl:$=>{a=$},toggleShow:I};function Kt($,H){if(e.showToolbarTooltip){const{value:T}=t;return o(Dn,{to:!1,theme:T.peers.Tooltip,themeOverrides:T.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[H],trigger:()=>$})}else return $}const wt=U(()=>{const{common:{cubicBezierEaseInOut:$},self:{toolbarIconColor:H,toolbarBorderRadius:T,toolbarBoxShadow:K,toolbarColor:J}}=t.value;return{"--n-bezier":$,"--n-toolbar-icon-color":H,"--n-toolbar-color":J,"--n-toolbar-border-radius":T,"--n-toolbar-box-shadow":K}}),{inlineThemeDisabled:bt}=We(),Le=bt?pt("image-preview",void 0,wt,e):void 0;return Object.assign({previewRef:r,previewWrapperRef:l,previewSrc:c,show:f,appear:on(),displayed:m,previewedImgProps:W==null?void 0:W.previewedImgPropsRef,handleWheel($){$.preventDefault()},handlePreviewMousedown:S,handlePreviewDblclick:D,syncTransformOrigin:i,handleAfterLeave:()=>{G(),X=0,m.value=!1},handleDragStart:$=>{var H,T;(T=(H=W==null?void 0:W.previewedImgPropsRef.value)===null||H===void 0?void 0:H.onDragstart)===null||T===void 0||T.call(H,$),$.preventDefault()},zoomIn:_e,zoomOut:w,handleDownloadClick:p,rotateCounterclockwise:ce,rotateClockwise:ge,handleSwitchPrev:Z,handleSwitchNext:re,withTooltip:Kt,resizeToOrignalImageSize:Y,cssVars:bt?void 0:wt,themeClass:Le==null?void 0:Le.themeClass,onRender:Le==null?void 0:Le.onRender},tt)},render(){var e,t;const{clsPrefix:a}=this;return o($e,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),o(an,{show:this.show},{default:()=>{var r;return this.show||this.displayed?((r=this.onRender)===null||r===void 0||r.call(this),Ze(o("div",{class:[`${a}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},o(ot,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?o("div",{class:`${a}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?o(ot,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:l}=this;return o("div",{class:`${a}-image-preview-toolbar`},this.onPrev?o($e,null,l(o(oe,{clsPrefix:a,onClick:this.handleSwitchPrev},{default:()=>oo}),"tipPrevious"),l(o(oe,{clsPrefix:a,onClick:this.handleSwitchNext},{default:()=>io}),"tipNext")):null,l(o(oe,{clsPrefix:a,onClick:this.rotateCounterclockwise},{default:()=>o(Gn,null)}),"tipCounterclockwise"),l(o(oe,{clsPrefix:a,onClick:this.rotateClockwise},{default:()=>o(Xn,null)}),"tipClockwise"),l(o(oe,{clsPrefix:a,onClick:this.resizeToOrignalImageSize},{default:()=>o(Kn,null)}),"tipOriginalSize"),l(o(oe,{clsPrefix:a,onClick:this.zoomOut},{default:()=>o(Zn,null)}),"tipZoomOut"),l(o(oe,{clsPrefix:a,onClick:this.zoomIn},{default:()=>o(Yn,null)}),"tipZoomIn"),l(o(oe,{clsPrefix:a,onClick:this.handleDownloadClick},{default:()=>lo}),"tipDownload"),l(o(oe,{clsPrefix:a,onClick:this.toggleShow},{default:()=>ao}),"tipClose"))}}):null,o(ot,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:l={}}=this;return Ze(o("div",{class:`${a}-image-preview-wrapper`,ref:"previewWrapperRef"},o("img",Object.assign({},l,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${a}-image-preview`,l.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ut,this.show]])}})),[[ln,{enabled:this.show}]])):null}}))}}),Ut=ft("n-image-group"),so=mt,uo=E({name:"ImageGroup",props:so,setup(e){let t;const{mergedClsPrefixRef:a}=We(e),r=`c${dt()}`,l=sn(),c=d=>{var i;t=d,(i=m.value)===null||i===void 0||i.setPreviewSrc(d)};function f(d){var i,s;if(!(l!=null&&l.proxy))return;const z=l.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${r}]:not([data-error=true])`);if(!z.length)return;const v=Array.from(z).findIndex(b=>b.dataset.previewSrc===t);~v?c(z[(v+d+z.length)%z.length].dataset.previewSrc):c(z[0].dataset.previewSrc),d===1?(i=e.onPreviewNext)===null||i===void 0||i.call(e):(s=e.onPreviewPrev)===null||s===void 0||s.call(e)}vt(Ut,{mergedClsPrefixRef:a,setPreviewSrc:c,setThumbnailEl:d=>{var i;(i=m.value)===null||i===void 0||i.setThumbnailEl(d)},toggleShow:()=>{var d;(d=m.value)===null||d===void 0||d.toggleShow()},groupId:r});const m=R(null);return{mergedClsPrefix:a,previewInstRef:m,next:()=>{f(1)},prev:()=>{f(-1)}}},render(){return o(Nt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),co=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},mt),ho=E({name:"Image",props:co,inheritAttrs:!1,setup(e){const t=R(null),a=R(!1),r=R(null),l=Te(Ut,null),{mergedClsPrefixRef:c}=l||We(e),f={click:()=>{if(e.previewDisabled||a.value)return;const i=e.previewSrc||e.src;if(l){l.setPreviewSrc(i),l.setThumbnailEl(t.value),l.toggleShow();return}const{value:s}=r;s&&(s.setPreviewSrc(i),s.setThumbnailEl(t.value),s.toggleShow())}},m=R(!e.lazy);Ke(()=>{var i;(i=t.value)===null||i===void 0||i.setAttribute("data-group-id",(l==null?void 0:l.groupId)||"")}),Ke(()=>{if(e.lazy&&e.intersectionObserverOptions){let i;const s=ct(()=>{i==null||i(),i=void 0,i=eo(t.value,e.intersectionObserverOptions,m)});Tt(()=>{s(),i==null||i()})}}),ct(()=>{var i;e.src||((i=e.imgProps)===null||i===void 0||i.src),a.value=!1});const d=R(!1);return vt(Ht,{previewedImgPropsRef:te(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:c,groupId:l==null?void 0:l.groupId,previewInstRef:r,imageRef:t,showError:a,shouldStartLoading:m,loaded:d,mergedOnClick:i=>{var s,g;f.click(),(g=(s=e.imgProps)===null||s===void 0?void 0:s.onClick)===null||g===void 0||g.call(s,i)},mergedOnError:i=>{if(!m.value)return;a.value=!0;const{onError:s,imgProps:{onError:g}={}}=e;s==null||s(i),g==null||g(i)},mergedOnLoad:i=>{const{onLoad:s,imgProps:{onLoad:g}={}}=e;s==null||s(i),g==null||g(i),d.value=!0}},f)},render(){var e,t;const{mergedClsPrefix:a,imgProps:r={},loaded:l,$attrs:c,lazy:f}=this,m=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),d=this.src||r.src,i=o("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:this.showError?this.fallbackSrc:f&&this.intersectionObserverOptions?this.shouldStartLoading?d:void 0:d,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Jn&&f&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",m&&!l?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return o("div",Object.assign({},c,{role:"none",class:[c.class,`${a}-image`,(this.previewDisabled||this.showError)&&`${a}-image--preview-disabled`]}),this.groupId?i:o(Nt,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:a,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>i}),!l&&m)}}),go=ne([L("progress",{display:"inline-block"},[L("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Q("line",`
 width: 100%;
 display: block;
 `,[L("progress-content",`
 display: flex;
 align-items: center;
 `,[L("progress-graph",{flex:1})]),L("progress-custom-content",{marginLeft:"14px"}),L("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[Q("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),Q("circle, dashboard",{width:"120px"},[L("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),L("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),L("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),Q("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[L("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),L("progress-content",{position:"relative"}),L("progress-graph",{position:"relative"},[L("progress-graph-circle",[ne("svg",{verticalAlign:"bottom"}),L("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[Q("empty",{opacity:0})]),L("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),L("progress-graph-line",[Q("indicator-inside",[L("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[L("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),L("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),Q("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[L("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),L("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),L("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[L("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[Q("processing",[ne("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ne("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),fo={success:o(Lt,null),error:o(Mt,null),warning:o(Bt,null),info:o(Dt,null)},po=E({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const a=U(()=>Me(e.height)),r=U(()=>e.railBorderRadius!==void 0?Me(e.railBorderRadius):e.height!==void 0?Me(e.height,{c:.5}):""),l=U(()=>e.fillBorderRadius!==void 0?Me(e.fillBorderRadius):e.railBorderRadius!==void 0?Me(e.railBorderRadius):e.height!==void 0?Me(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:c,railColor:f,railStyle:m,percentage:d,unit:i,indicatorTextColor:s,status:g,showIndicator:z,fillColor:v,processing:b,clsPrefix:x}=e;return o("div",{class:`${x}-progress-content`,role:"none"},o("div",{class:`${x}-progress-graph`,"aria-hidden":!0},o("div",{class:[`${x}-progress-graph-line`,{[`${x}-progress-graph-line--indicator-${c}`]:!0}]},o("div",{class:`${x}-progress-graph-line-rail`,style:[{backgroundColor:f,height:a.value,borderRadius:r.value},m]},o("div",{class:[`${x}-progress-graph-line-fill`,b&&`${x}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:v,height:a.value,lineHeight:a.value,borderRadius:l.value}},c==="inside"?o("div",{class:`${x}-progress-graph-line-indicator`,style:{color:s}},t.default?t.default():`${d}${i}`):null)))),z&&c==="outside"?o("div",null,t.default?o("div",{class:`${x}-progress-custom-content`,style:{color:s},role:"none"},t.default()):g==="default"?o("div",{role:"none",class:`${x}-progress-icon ${x}-progress-icon--as-text`,style:{color:s}},d,i):o("div",{class:`${x}-progress-icon`,"aria-hidden":!0},o(oe,{clsPrefix:x},{default:()=>fo[g]}))):null)}}}),vo={success:o(Lt,null),error:o(Mt,null),warning:o(Bt,null),info:o(Dt,null)},mo=E({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function a(r,l,c){const{gapDegree:f,viewBoxWidth:m,strokeWidth:d}=e,i=50,s=0,g=i,z=0,v=2*i,b=50+d/2,x=`M ${b},${b} m ${s},${g}
      a ${i},${i} 0 1 1 ${z},${-v}
      a ${i},${i} 0 1 1 ${-z},${v}`,O=Math.PI*2*i,M={stroke:c,strokeDasharray:`${r/100*(O-f)}px ${m*8}px`,strokeDashoffset:`-${f/2}px`,transformOrigin:l?"center":void 0,transform:l?`rotate(${l}deg)`:void 0};return{pathString:x,pathStyle:M}}return()=>{const{fillColor:r,railColor:l,strokeWidth:c,offsetDegree:f,status:m,percentage:d,showIndicator:i,indicatorTextColor:s,unit:g,gapOffsetDegree:z,clsPrefix:v}=e,{pathString:b,pathStyle:x}=a(100,0,l),{pathString:O,pathStyle:M}=a(d,f,r),_=100+c;return o("div",{class:`${v}-progress-content`,role:"none"},o("div",{class:`${v}-progress-graph`,"aria-hidden":!0},o("div",{class:`${v}-progress-graph-circle`,style:{transform:z?`rotate(${z}deg)`:void 0}},o("svg",{viewBox:`0 0 ${_} ${_}`},o("g",null,o("path",{class:`${v}-progress-graph-circle-rail`,d:b,"stroke-width":c,"stroke-linecap":"round",fill:"none",style:x})),o("g",null,o("path",{class:[`${v}-progress-graph-circle-fill`,d===0&&`${v}-progress-graph-circle-fill--empty`],d:O,"stroke-width":c,"stroke-linecap":"round",fill:"none",style:M}))))),i?o("div",null,t.default?o("div",{class:`${v}-progress-custom-content`,role:"none"},t.default()):m!=="default"?o("div",{class:`${v}-progress-icon`,"aria-hidden":!0},o(oe,{clsPrefix:v},{default:()=>vo[m]})):o("div",{class:`${v}-progress-text`,style:{color:s},role:"none"},o("span",{class:`${v}-progress-text__percentage`},d),o("span",{class:`${v}-progress-text__unit`},g))):null)}}});function Rt(e,t,a=100){return`m ${a/2} ${a/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const wo=E({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const a=U(()=>e.percentage.map((l,c)=>`${Math.PI*l/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*c)-e.circleGap*c)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:r,strokeWidth:l,circleGap:c,showIndicator:f,fillColor:m,railColor:d,railStyle:i,percentage:s,clsPrefix:g}=e;return o("div",{class:`${g}-progress-content`,role:"none"},o("div",{class:`${g}-progress-graph`,"aria-hidden":!0},o("div",{class:`${g}-progress-graph-circle`},o("svg",{viewBox:`0 0 ${r} ${r}`},s.map((z,v)=>o("g",{key:v},o("path",{class:`${g}-progress-graph-circle-rail`,d:Rt(r/2-l/2*(1+2*v)-c*v,l,r),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:d[v]},i[v]]}),o("path",{class:[`${g}-progress-graph-circle-fill`,z===0&&`${g}-progress-graph-circle-fill--empty`],d:Rt(r/2-l/2*(1+2*v)-c*v,l,r),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:a.value[v],strokeDashoffset:0,stroke:m[v]}})))))),f&&t.default?o("div",null,o("div",{class:`${g}-progress-text`},t.default())):null)}}}),bo=Object.assign(Object.assign({},De.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),xo=E({name:"Progress",props:bo,setup(e){const t=U(()=>e.indicatorPlacement||e.indicatorPosition),a=U(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:l}=We(e),c=De("Progress","-progress",go,un,e,r),f=U(()=>{const{status:d}=e,{common:{cubicBezierEaseInOut:i},self:{fontSize:s,fontSizeCircle:g,railColor:z,railHeight:v,iconSizeCircle:b,iconSizeLine:x,textColorCircle:O,textColorLineInner:M,textColorLineOuter:_,lineBgProcessing:k,fontWeightCircle:P,[yt("iconColor",d)]:C,[yt("fillColor",d)]:B}}=c.value;return{"--n-bezier":i,"--n-fill-color":B,"--n-font-size":s,"--n-font-size-circle":g,"--n-font-weight-circle":P,"--n-icon-color":C,"--n-icon-size-circle":b,"--n-icon-size-line":x,"--n-line-bg-processing":k,"--n-rail-color":z,"--n-rail-height":v,"--n-text-color-circle":O,"--n-text-color-line-inner":M,"--n-text-color-line-outer":_}}),m=l?pt("progress",U(()=>e.status[0]),f,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:t,gapDeg:a,cssVars:l?void 0:f,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:a,showIndicator:r,status:l,railColor:c,railStyle:f,color:m,percentage:d,viewBoxWidth:i,strokeWidth:s,mergedIndicatorPlacement:g,unit:z,borderRadius:v,fillBorderRadius:b,height:x,processing:O,circleGap:M,mergedClsPrefix:_,gapDeg:k,gapOffsetDegree:P,themeClass:C,$slots:B,onRender:N}=this;return N==null||N(),o("div",{class:[C,`${_}-progress`,`${_}-progress--${e}`,`${_}-progress--${l}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":d,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?o(mo,{clsPrefix:_,status:l,showIndicator:r,indicatorTextColor:a,railColor:c,fillColor:m,railStyle:f,offsetDegree:this.offsetDegree,percentage:d,viewBoxWidth:i,strokeWidth:s,gapDegree:k===void 0?e==="dashboard"?75:0:k,gapOffsetDegree:P,unit:z},B):e==="line"?o(po,{clsPrefix:_,status:l,showIndicator:r,indicatorTextColor:a,railColor:c,fillColor:m,railStyle:f,percentage:d,processing:O,indicatorPlacement:g,unit:z,fillBorderRadius:b,railBorderRadius:v,height:x},B):e==="multiple-circle"?o(wo,{clsPrefix:_,strokeWidth:s,railColor:c,fillColor:m,railStyle:f,viewBoxWidth:i,percentage:d,showIndicator:r,circleGap:M},B):null)}}),je=ft("n-upload"),Ft="__UPLOAD_DRAGGER__",yo=E({name:"UploadDragger",[Ft]:!0,setup(e,{slots:t}){const a=Te(je,null);return a||Qe("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:l},maxReachedRef:{value:c}}=a;return o("div",{class:[`${r}-upload-dragger`,(l||c)&&`${r}-upload-dragger--disabled`]},t)}}});var gt=function(e,t,a,r){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(s){try{i(r.next(s))}catch(g){f(g)}}function d(s){try{i(r.throw(s))}catch(g){f(g)}}function i(s){s.done?c(s.value):l(s.value).then(m,d)}i((r=r.apply(e,t||[])).next())})};const Et=e=>e.includes("image/"),St=(e="")=>{const t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},Pt=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,qt=e=>{if(e.type)return Et(e.type);const t=St(e.name||"");if(Pt.test(t))return!0;const a=e.thumbnailUrl||e.url||"",r=St(a);return!!(/^data:image\//.test(a)||Pt.test(r))};function Co(e){return gt(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Et(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const ko=$t&&window.FileReader&&window.File;function _o(e){return e.isDirectory}function zo(e){return e.isFile}function Ro(e,t){return gt(this,void 0,void 0,function*(){const a=[];function r(l){return gt(this,void 0,void 0,function*(){for(const c of l)if(c){if(t&&_o(c)){const f=c.createReader();try{const m=yield new Promise((d,i)=>{f.readEntries(d,i)});yield r(m)}catch{}}else if(zo(c))try{const f=yield new Promise((m,d)=>{c.file(m,d)});a.push({file:f,entry:c,source:"dnd"})}catch{}}})}return yield r(e),a})}function qe(e){const{id:t,name:a,percentage:r,status:l,url:c,file:f,thumbnailUrl:m,type:d,fullPath:i,batchId:s}=e;return{id:t,name:a,percentage:r??null,status:l,url:c??null,file:f??null,thumbnailUrl:m??null,type:d??null,fullPath:i??null,batchId:s??null}}function So(e,t,a){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),a=a.toLocaleLowerCase(),a.split(",").map(l=>l.trim()).filter(Boolean).some(l=>{if(l.startsWith(".")){if(e.endsWith(l))return!0}else if(l.includes("/")){const[c,f]=t.split("/"),[m,d]=l.split("/");if((m==="*"||c&&m&&m===c)&&(d==="*"||f&&d&&d===f))return!0}else return!0;return!1})}const Wt=E({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const a=Te(je,null);a||Qe("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:l,maxReachedRef:c,listTypeRef:f,dragOverRef:m,openOpenFileDialog:d,draggerInsideRef:i,handleFileAddition:s,mergedDirectoryDndRef:g,triggerClassRef:z,triggerStyleRef:v}=a,b=U(()=>f.value==="image-card");function x(){l.value||c.value||d()}function O(P){P.preventDefault(),m.value=!0}function M(P){P.preventDefault(),m.value=!0}function _(P){P.preventDefault(),m.value=!1}function k(P){var C;if(P.preventDefault(),!i.value||l.value||c.value){m.value=!1;return}const B=(C=P.dataTransfer)===null||C===void 0?void 0:C.items;B!=null&&B.length?Ro(Array.from(B).map(N=>N.webkitGetAsEntry()),g.value).then(N=>{s(N)}).finally(()=>{m.value=!1}):m.value=!1}return()=>{var P;const{value:C}=r;return e.abstract?(P=t.default)===null||P===void 0?void 0:P.call(t,{handleClick:x,handleDrop:k,handleDragOver:O,handleDragEnter:M,handleDragLeave:_}):o("div",{class:[`${C}-upload-trigger`,(l.value||c.value)&&`${C}-upload-trigger--disabled`,b.value&&`${C}-upload-trigger--image-card`,z.value],style:v.value,onClick:x,onDrop:k,onDragover:O,onDragenter:M,onDragleave:_},b.value?o(yo,null,{default:()=>dn(t.default,()=>[o(oe,{clsPrefix:C},{default:()=>o(Ln,null)})])}):t)}}}),Po=E({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Te(je).mergedThemeRef}},render(){return o(Ot,null,{default:()=>this.show?o(xo,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),Io=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),$o=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var To=function(e,t,a,r){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(s){try{i(r.next(s))}catch(g){f(g)}}function d(s){try{i(r.throw(s))}catch(g){f(g)}}function i(s){s.done?c(s.value):l(s.value).then(m,d)}i((r=r.apply(e,t||[])).next())})};const Ye={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},Lo=E({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=Te(je),a=R(null),r=R(""),l=U(()=>{const{file:C}=e;return C.status==="finished"?"success":C.status==="error"?"error":"info"}),c=U(()=>{const{file:C}=e;if(C.status==="error")return"error"}),f=U(()=>{const{file:C}=e;return C.status==="uploading"}),m=U(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:C}=e;return["uploading","pending","error"].includes(C.status)}),d=U(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:C}=e;return["finished"].includes(C.status)}),i=U(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:C}=e;return["finished"].includes(C.status)}),s=U(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:C}=e;return["error"].includes(C.status)}),g=cn(()=>r.value||e.file.thumbnailUrl||e.file.url),z=U(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:C},listType:B}=e;return["finished"].includes(C)&&g.value&&B==="image-card"});function v(){t.submit(e.file.id)}function b(C){C.preventDefault();const{file:B}=e;["finished","pending","error"].includes(B.status)?O(B):["uploading"].includes(B.status)?_(B):gn("upload","The button clicked type is unknown.")}function x(C){C.preventDefault(),M(e.file)}function O(C){const{xhrMap:B,doChange:N,onRemoveRef:{value:W},mergedFileListRef:{value:S}}=t;Promise.resolve(W?W({file:Object.assign({},C),fileList:S}):!0).then(D=>{if(D===!1)return;const A=Object.assign({},C,{status:"removed"});B.delete(C.id),N(A,void 0,{remove:!0})})}function M(C){const{onDownloadRef:{value:B}}=t;Promise.resolve(B?B(Object.assign({},C)):!0).then(N=>{N!==!1&&jt(C.url,C.name)})}function _(C){const{xhrMap:B}=t,N=B.get(C.id);N==null||N.abort(),O(Object.assign({},C))}function k(){const{onPreviewRef:{value:C}}=t;if(C)C(e.file);else if(e.listType==="image-card"){const{value:B}=a;if(!B)return;B.click()}}const P=()=>To(this,void 0,void 0,function*(){const{listType:C}=e;C!=="image"&&C!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield t.getFileThumbnailUrlResolver(e.file))});return ct(()=>{P()}),{mergedTheme:t.mergedThemeRef,progressStatus:l,buttonType:c,showProgress:f,disabled:t.mergedDisabledRef,showCancelButton:m,showRemoveButton:d,showDownloadButton:i,showRetryButton:s,showPreviewButton:z,mergedThumbnailUrl:g,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:a,handleRemoveOrCancelClick:b,handleDownloadClick:x,handleRetryClick:v,handlePreviewClick:k}},render(){const{clsPrefix:e,mergedTheme:t,listType:a,file:r,renderIcon:l}=this;let c;const f=a==="image";f||a==="image-card"?c=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?o("span",{class:`${e}-upload-file-info__thumbnail`},l?l(r):qt(r)?o(oe,{clsPrefix:e},{default:()=>Io}):o(oe,{clsPrefix:e},{default:()=>$o})):o("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},a==="image-card"?o(ho,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):o("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):c=o("span",{class:`${e}-upload-file-info__thumbnail`},l?l(r):o(oe,{clsPrefix:e},{default:()=>o(Fn,null)}));const d=o(Po,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),i=a==="text"||a==="image";return o("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&a!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${a}-type`]},o("div",{class:`${e}-upload-file-info`},c,o("div",{class:`${e}-upload-file-info__name`},i&&(r.url&&r.status!=="error"?o("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):o("span",{onClick:this.handlePreviewClick},r.name)),f&&d),o("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${a}-type`]},this.showPreviewButton?o(Be,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ye},{icon:()=>o(oe,{clsPrefix:e},{default:()=>o(On,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&o(Be,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Ye,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>o(hn,null,{default:()=>this.showRemoveButton?o(oe,{clsPrefix:e,key:"trash"},{default:()=>o(En,null)}):o(oe,{clsPrefix:e,key:"cancel"},{default:()=>o(Wn,null)})})}),this.showRetryButton&&!this.disabled&&o(Be,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ye},{icon:()=>o(oe,{clsPrefix:e},{default:()=>o(Vn,null)})}),this.showDownloadButton?o(Be,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ye},{icon:()=>o(oe,{clsPrefix:e},{default:()=>o(qn,null)})}):null)),!f&&d)}}),Mo=E({name:"UploadFileList",setup(e,{slots:t}){const a=Te(je,null);a||Qe("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:l,listTypeRef:c,mergedFileListRef:f,fileListClassRef:m,fileListStyleRef:d,cssVarsRef:i,themeClassRef:s,maxReachedRef:g,showTriggerRef:z,imageGroupPropsRef:v}=a,b=U(()=>c.value==="image-card"),x=()=>f.value.map(M=>o(Lo,{clsPrefix:l.value,key:M.id,file:M,listType:c.value})),O=()=>b.value?o(uo,Object.assign({},v.value),{default:x}):o(Ot,{group:!0},{default:x});return()=>{const{value:M}=l,{value:_}=r;return o("div",{class:[`${M}-upload-file-list`,b.value&&`${M}-upload-file-list--grid`,_?s==null?void 0:s.value:void 0,m.value],style:[_&&i?i.value:"",d.value]},O(),z.value&&!g.value&&b.value&&o(Wt,null,t))}}}),Bo=ne([L("upload","width: 100%;",[Q("dragger-inside",[L("upload-trigger",`
 display: block;
 `)]),Q("drag-over",[L("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),L("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ne("&:hover",`
 border: var(--n-dragger-border-hover);
 `),Q("disabled",`
 cursor: not-allowed;
 `)]),L("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ne("+",[L("upload-file-list","margin-top: 8px;")]),Q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),Q("image-card",`
 width: 96px;
 height: 96px;
 `,[L("base-icon",`
 font-size: 24px;
 `),L("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),L("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ne("a, img","outline: none;"),Q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[L("upload-file","cursor: not-allowed;")]),Q("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),L("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ct(),L("progress",[Ct({foldPadding:!0})]),ne("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[L("upload-file-info",[we("action",`
 opacity: 1;
 `)])]),Q("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[L("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[L("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),we("name",`
 padding: 0 8px;
 `),we("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ne("img",`
 width: 100%;
 `)])])]),Q("text-type",[L("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),Q("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[L("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),L("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[we("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ne("img",`
 width: 100%;
 `)])]),ne("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ne("&:hover",[ne("&::before","opacity: 1;"),L("upload-file-info",[we("thumbnail","opacity: .12;")])])]),Q("error-status",[ne("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),L("upload-file-info",[we("name","color: var(--n-item-text-color-error);"),we("thumbnail","color: var(--n-item-text-color-error);")]),Q("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),Q("with-url",`
 cursor: pointer;
 `,[L("upload-file-info",[we("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ne("a",`
 text-decoration: underline;
 `)])])]),L("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[we("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[L("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),we("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[L("button",[ne("&:not(:last-child)",{marginRight:"4px"}),L("base-icon",[ne("svg",[fn()])])]),Q("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),Q("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),we("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ne("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),L("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var It=function(e,t,a,r){function l(c){return c instanceof a?c:new a(function(f){f(c)})}return new(a||(a=Promise))(function(c,f){function m(s){try{i(r.next(s))}catch(g){f(g)}}function d(s){try{i(r.throw(s))}catch(g){f(g)}}function i(s){s.done?c(s.value):l(s.value).then(m,d)}i((r=r.apply(e,t||[])).next())})};function Do(e,t,a){const{doChange:r,xhrMap:l}=e;let c=0;function f(d){var i;let s=Object.assign({},t,{status:"error",percentage:c});l.delete(t.id),s=qe(((i=e.onError)===null||i===void 0?void 0:i.call(e,{file:s,event:d}))||s),r(s,d)}function m(d){var i;if(e.isErrorState){if(e.isErrorState(a)){f(d);return}}else if(a.status<200||a.status>=300){f(d);return}let s=Object.assign({},t,{status:"finished",percentage:c});l.delete(t.id),s=qe(((i=e.onFinish)===null||i===void 0?void 0:i.call(e,{file:s,event:d}))||s),r(s,d)}return{handleXHRLoad:m,handleXHRError:f,handleXHRAbort(d){const i=Object.assign({},t,{status:"removed",file:null,percentage:c});l.delete(t.id),r(i,d)},handleXHRProgress(d){const i=Object.assign({},t,{status:"uploading"});if(d.lengthComputable){const s=Math.ceil(d.loaded/d.total*100);i.percentage=s,c=s}r(i,d)}}}function Oo(e){const{inst:t,file:a,data:r,headers:l,withCredentials:c,action:f,customRequest:m}=e,{doChange:d}=e.inst;let i=0;m({file:a,data:r,headers:l,withCredentials:c,action:f,onProgress(s){const g=Object.assign({},a,{status:"uploading"}),z=s.percent;g.percentage=z,i=z,d(g)},onFinish(){var s;let g=Object.assign({},a,{status:"finished",percentage:i});g=qe(((s=t.onFinish)===null||s===void 0?void 0:s.call(t,{file:g}))||g),d(g)},onError(){var s;let g=Object.assign({},a,{status:"error",percentage:i});g=qe(((s=t.onError)===null||s===void 0?void 0:s.call(t,{file:g}))||g),d(g)}})}function Ao(e,t,a){const r=Do(e,t,a);a.onabort=r.handleXHRAbort,a.onerror=r.handleXHRError,a.onload=r.handleXHRLoad,a.upload&&(a.upload.onprogress=r.handleXHRProgress)}function Vt(e,t){return typeof e=="function"?e({file:t}):e||{}}function jo(e,t,a){const r=Vt(t,a);r&&Object.keys(r).forEach(l=>{e.setRequestHeader(l,r[l])})}function Ho(e,t,a){const r=Vt(t,a);r&&Object.keys(r).forEach(l=>{e.append(l,r[l])})}function No(e,t,a,{method:r,action:l,withCredentials:c,responseType:f,headers:m,data:d}){const i=new XMLHttpRequest;i.responseType=f,e.xhrMap.set(a.id,i),i.withCredentials=c;const s=new FormData;if(Ho(s,d,a),a.file!==null&&s.append(t,a.file),Ao(e,a,i),l!==void 0){i.open(r.toUpperCase(),l),jo(i,m,a),i.send(s);const g=Object.assign({},a,{status:"uploading"});e.doChange(g)}}const Uo=Object.assign(Object.assign({},De.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>ko?qt(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Xt=E({name:"Upload",props:Uo,setup(e){e.abstract&&e.listType==="image-card"&&Qe("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:a}=We(e),r=De("Upload","-upload",Bo,wn,e,t),l=pn(e),c=U(()=>{const{max:S}=e;return S!==void 0?v.value.length>=S:!1}),f=R(e.defaultFileList),m=te(e,"fileList"),d=R(null),i={value:!1},s=R(!1),g=new Map,z=vn(m,f),v=U(()=>z.value.map(qe));function b(){var S;(S=d.value)===null||S===void 0||S.click()}function x(S){const D=S.target;_(D.files?Array.from(D.files).map(A=>({file:A,entry:null,source:"input"})):null,S),D.value=""}function O(S){const{"onUpdate:fileList":D,onUpdateFileList:A}=e;D&&kt(D,S),A&&kt(A,S),f.value=S}const M=U(()=>e.multiple||e.directory);function _(S,D){if(!S||S.length===0)return;const{onBeforeUpload:A}=e;S=M.value?S:[S[0]];const{max:V,accept:q}=e;S=S.filter(({file:G,source:Z})=>Z==="dnd"&&(q!=null&&q.trim())?So(G.name,G.type,q):!0),V&&(S=S.slice(0,V-v.value.length));const X=dt();Promise.all(S.map(({file:G,entry:Z})=>It(this,void 0,void 0,function*(){var re;const ce={id:dt(),batchId:X,name:G.name,status:"pending",percentage:0,file:G,url:null,type:G.type,thumbnailUrl:null,fullPath:(re=Z==null?void 0:Z.fullPath)!==null&&re!==void 0?re:`/${G.webkitRelativePath||G.name}`};return!A||(yield A({file:ce,fileList:v.value}))!==!1?ce:null}))).then(G=>It(this,void 0,void 0,function*(){let Z=Promise.resolve();G.forEach(re=>{Z=Z.then(bn).then(()=>{re&&P(re,D,{append:!0})})}),yield Z})).then(()=>{e.defaultUpload&&k()})}function k(S){const{method:D,action:A,withCredentials:V,headers:q,data:X,name:G}=e,Z=S!==void 0?v.value.filter(ce=>ce.id===S):v.value,re=S!==void 0;Z.forEach(ce=>{const{status:ge}=ce;(ge==="pending"||ge==="error"&&re)&&(e.customRequest?Oo({inst:{doChange:P,xhrMap:g,onFinish:e.onFinish,onError:e.onError},file:ce,action:A,withCredentials:V,headers:q,data:X,customRequest:e.customRequest}):No({doChange:P,xhrMap:g,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},G,ce,{method:D,action:A,withCredentials:V,responseType:e.responseType,headers:q,data:X}))})}const P=(S,D,A={append:!1,remove:!1})=>{const{append:V,remove:q}=A,X=Array.from(v.value),G=X.findIndex(Z=>Z.id===S.id);if(V||q||~G){V?X.push(S):q?X.splice(G,1):X.splice(G,1,S);const{onChange:Z}=e;Z&&Z({file:S,fileList:X,event:D}),O(X)}};function C(S){var D;if(S.thumbnailUrl)return S.thumbnailUrl;const{createThumbnailUrl:A}=e;return A?(D=A(S.file,S))!==null&&D!==void 0?D:S.url||"":S.url?S.url:S.file?Co(S.file):""}const B=U(()=>{const{common:{cubicBezierEaseInOut:S},self:{draggerColor:D,draggerBorder:A,draggerBorderHover:V,itemColorHover:q,itemColorHoverError:X,itemTextColorError:G,itemTextColorSuccess:Z,itemTextColor:re,itemIconColor:ce,itemDisabledOpacity:ge,lineHeight:ke,borderRadius:ve,fontSize:_e,itemBorderImageCardError:w,itemBorderImageCard:p}}=r.value;return{"--n-bezier":S,"--n-border-radius":ve,"--n-dragger-border":A,"--n-dragger-border-hover":V,"--n-dragger-color":D,"--n-font-size":_e,"--n-item-color-hover":q,"--n-item-color-hover-error":X,"--n-item-disabled-opacity":ge,"--n-item-icon-color":ce,"--n-item-text-color":re,"--n-item-text-color-error":G,"--n-item-text-color-success":Z,"--n-line-height":ke,"--n-item-border-image-card-error":w,"--n-item-border-image-card":p}}),N=a?pt("upload",void 0,B,e):void 0;vt(je,{mergedClsPrefixRef:t,mergedThemeRef:r,showCancelButtonRef:te(e,"showCancelButton"),showDownloadButtonRef:te(e,"showDownloadButton"),showRemoveButtonRef:te(e,"showRemoveButton"),showRetryButtonRef:te(e,"showRetryButton"),onRemoveRef:te(e,"onRemove"),onDownloadRef:te(e,"onDownload"),mergedFileListRef:v,triggerClassRef:te(e,"triggerClass"),triggerStyleRef:te(e,"triggerStyle"),shouldUseThumbnailUrlRef:te(e,"shouldUseThumbnailUrl"),renderIconRef:te(e,"renderIcon"),xhrMap:g,submit:k,doChange:P,showPreviewButtonRef:te(e,"showPreviewButton"),onPreviewRef:te(e,"onPreview"),getFileThumbnailUrlResolver:C,listTypeRef:te(e,"listType"),dragOverRef:s,openOpenFileDialog:b,draggerInsideRef:i,handleFileAddition:_,mergedDisabledRef:l.mergedDisabledRef,maxReachedRef:c,fileListClassRef:te(e,"fileListClass"),fileListStyleRef:te(e,"fileListStyle"),abstractRef:te(e,"abstract"),acceptRef:te(e,"accept"),cssVarsRef:a?void 0:B,themeClassRef:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,showTriggerRef:te(e,"showTrigger"),imageGroupPropsRef:te(e,"imageGroupProps"),mergedDirectoryDndRef:U(()=>{var S;return(S=e.directoryDnd)!==null&&S!==void 0?S:e.directory})});const W={clear:()=>{f.value=[]},submit:k,openOpenFileDialog:b};return Object.assign({mergedClsPrefix:t,draggerInsideRef:i,inputElRef:d,mergedTheme:r,dragOver:s,mergedMultiple:M,cssVars:a?void 0:B,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,handleFileInputChange:x},W)},render(){var e,t;const{draggerInsideRef:a,mergedClsPrefix:r,$slots:l,directory:c,onRender:f}=this;if(l.default&&!this.abstract){const d=l.default()[0];!((e=d==null?void 0:d.type)===null||e===void 0)&&e[Ft]&&(a.value=!0)}const m=o("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:c||void 0,directory:c||void 0}));return this.abstract?o($e,null,(t=l.default)===null||t===void 0?void 0:t.call(l),o(mn,{to:"body"},m)):(f==null||f(),o("div",{class:[`${r}-upload`,a.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},m,this.showTrigger&&this.listType!=="image-card"&&o(Wt,null,l),this.showFileList&&o(Mo,null,l)))}}),Fo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Eo=ee("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),qo=[Eo],Wo=E({name:"Minus",render:function(t,a){return F(),ue("svg",Fo,qo)}}),Vo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Xo=ee("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Go=[Xo],Yo=E({name:"Plus",render:function(t,a){return F(),ue("svg",Vo,Go)}}),Zo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Ko=ee("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Jo=[Ko],Qo=E({name:"ArrowUndoOutline",render:function(t,a){return F(),ue("svg",Zo,Jo)}}),ei={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ti=At('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),ni=[ti],oi=E({name:"DiceOutline",render:function(t,a){return F(),ue("svg",ei,ni)}}),ii={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ai=At('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),li=[ai],ri=E({name:"GameControllerOutline",render:function(t,a){return F(),ue("svg",ii,li)}}),ma=e=>{const t=pe.Post("api/posts/create",e,{name:"newPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},wa=e=>{const t=pe.Get("api/posts/"+e.post_id,{name:"postGetter",params:{binggan:e.binggan,thread_id:e.thread_id},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},ba=e=>{const t=pe.Delete("api/posts/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"deletePostDeleter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},xa=e=>{const t=pe.Put("api/posts/recover/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"recoverPostPutter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},si=e=>{const t=pe.Post("api/posts/create_roll",e,{name:"rollPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t};function ui(e,t,a){const r=new Date().getTime(),l=In.MD5(t+a+r+e).toString();return{timestamp:r,newPostKey:l}}const di=E({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:a}){const r=Re(),l=Se(),c=e,f=U(()=>{let _=[];if(i.value>0&&s.value>0){for(var k=0;k<i.value;k++)_[k]=Math.floor(Math.random()*s.value)+1;return _.join()}else return null}),m=R(),d=R(),i=R(1),s=R(100),g=R(!1);function z(){g.value=!0}t({show:z});const v=a,{loading:b,send:x,onSuccess:O}=et(_=>si(_),{immediate:!1});function M(){if(!i.value){window.$message.error("请填写骰子数量");return}if(!s.value){window.$message.error("请填写骰子数量");return}const _={binggan:l.binggan,thread_id:c.threadId,forum_id:c.forumId,roll_name:m.value,roll_event:d.value,roll_num:i.value,roll_range:s.value};x(_)}return O(()=>{v("refreshPostsList"),g.value=!1}),(_,k)=>(F(),se(n(Ae),{show:g.value,"onUpdate:show":k[6]||(k[6]=P=>g.value=P),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ye({maxWidth:n(r).modalMaxWidth}),title:"Roll点",closable:"",onClose:k[5]||(k[5]=P=>g.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:M,disabled:n(b)},{default:h(()=>[j("Roll it!")]),_:1},8,["disabled"]),u(n(de),{onClick:k[4]||(k[4]=P=>g.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(xe),null,{default:h(()=>[j(" 输出参考： ")]),_:1}),u(n(xe),null,{default:h(()=>[j(Ie(m.value?`「${m.value}」，`:"")+" "+Ie(d.value?`「${d.value}」的结果：`:"")+" "+Ie(`${i.value} d ${s.value} = 「${f.value}」`),1)]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("Roll点昵称")]),_:1}),u(n(Ce),{placeholder:"可留空",maxlength:100,value:m.value,"onUpdate:value":k[0]||(k[0]=P=>m.value=P)},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("Roll点事件")]),_:1}),u(n(Ce),{placeholder:"可留空",maxlength:100,value:d.value,"onUpdate:value":k[1]||(k[1]=P=>d.value=P)},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("骰子数量")]),_:1}),u(n(Fe),{max:100,min:1,placeholder:"必须填写",value:i.value,"onUpdate:value":k[2]||(k[2]=P=>i.value=P)},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("骰子大小")]),_:1}),u(n(Fe),{max:1e4,min:1,placeholder:"必须填写",value:s.value,"onUpdate:value":k[3]||(k[3]=P=>s.value=P)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ci={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},hi=ee("defs",null,null,-1),gi=ee("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),fi=ee("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),pi=[hi,gi,fi],vi=E({name:"AudioMutedOutlined",render:function(t,a){return F(),ue("svg",ci,pi)}}),mi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},wi=ee("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),bi=[wi],xi=E({name:"MoneyCollectOutlined",render:function(t,a){return F(),ue("svg",mi,bi)}}),yi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ci=ee("g",{fill:"none"},[ee("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),ki=[Ci],_i=E({name:"Code24Regular",render:function(t,a){return F(),ue("svg",yi,ki)}}),zi={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ri=ee("g",{fill:"none"},[ee("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),Si=[Ri],Pi=E({name:"DrawShape24Regular",render:function(t,a){return F(),ue("svg",zi,Si)}}),Ii={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},$i=ee("g",{fill:"none"},[ee("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),Ti=[$i],Li=E({name:"Eraser24Regular",render:function(t,a){return F(),ue("svg",Ii,Ti)}}),Mi=Se(),ya=e=>{const t=pe.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:Mi.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return t.meta={shouldRemind:!1},t},Bi=e=>{const t=pe.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ca=e=>{const t=pe.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},st=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],Di=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}];function Gt(e){const t=e.replace(/,/g,"").trim();return/^\d+(\.(\d+)?)?$/.test(t)?Number(t):t===""?null:Number.NaN}function Yt(e){return e===null?"":e.toLocaleString("en-US")}const Oi=E({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:a}){const r=Re(),l=Se(),c=e,f=U(()=>{const _=[{value:1,label:"共通",available:!0}];return Di.forEach(k=>{k.value===c.randomHeadsGroup&&_.push(k)}),_}),m=U(()=>{const _=st[i.value-1];if(i.value===1){const k=l.userData.my_battle_chara.filter(P=>!P.not_use).map((P,C)=>({value:C+240,label:P.name}));return _.concat(k)}else return _}),d=R(1),i=R(c.randomHeadsGroup),s=R(100);Je(i,_=>{_===1?d.value=st[_-1][8].value:d.value=st[_-1][0].value},{immediate:!0});const{loading:g,send:z,onSuccess:v}=et(_=>Bi(_),{immediate:!1});function b(_){const{timestamp:k,newPostKey:P}=ui(_.isTrusted,c.threadId,l.binggan),C={binggan:l.binggan,forum_id:c.forumId,thread_id:c.threadId,battle_olo:s.value,chara_id:d.value>=240?d.value-240:d.value,is_custom_chara:d.value>=240,chara_group:i.value-1,new_post_key:P,timestamp:k};z(C)}v(()=>{M("refreshPostsList"),x.value=!1});const x=R(!1);function O(){x.value=!0}t({show:O});const M=a;return(_,k)=>(F(),se(n(Ae),{show:x.value,"onUpdate:show":k[5]||(k[5]=P=>x.value=P),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ye({maxWidth:n(r).modalMaxWidth}),title:"表情包大乱斗！",closable:"",onClose:k[4]||(k[4]=P=>x.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:b,loading:n(g)},{default:h(()=>[j("提交")]),_:1},8,["loading"]),u(n(de),{onClick:k[3]||(k[3]=P=>x.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(xe),null,{default:h(()=>[j("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"3.2rem"}},{default:h(()=>[j("主题")]),_:1}),u(n(Ee),{value:i.value,"onUpdate:value":k[0]||(k[0]=P=>i.value=P),options:f.value},null,8,["value","options"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"3.2rem"}},{default:h(()=>[j("角色")]),_:1}),u(n(Ee),{value:d.value,"onUpdate:value":k[1]||(k[1]=P=>d.value=P),options:m.value},null,8,["value","options"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"3.2rem"}},{default:h(()=>[j("下注")]),_:1}),u(n(Fe),{value:s.value,"onUpdate:value":k[2]||(k[2]=P=>s.value=P),max:1e6,min:100,step:100,parse:n(Gt),format:n(Yt),onKeyup:Ne(b,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ai=E({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:t,emit:a}){const r=Re(),l=R(0),c=R(),f=R(),m=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],d=U(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${f.value}</summary>${c.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${f.value}">${c.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${c.value}">`}]);Je(l,()=>{c.value=d.value[l.value].inputDefault_1,f.value=d.value[l.value].inputDefault_2},{immediate:!0});function i(){z("insertCode",d.value[l.value].insertText),s.value=!1}const s=R(!1);function g(){s.value=!0}t({show:g});const z=a;return(v,b)=>(F(),se(n(Ae),{show:s.value,"onUpdate:show":b[5]||(b[5]=x=>s.value=x),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ye({maxWidth:n(r).modalMaxWidth}),title:"快捷代码",closable:"",onClose:b[4]||(b[4]=x=>s.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:i},{default:h(()=>[j("插入")]),_:1}),u(n(de),{onClick:b[3]||(b[3]=x=>s.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(xe),null,{default:h(()=>[j("代码预览：")]),_:1}),u(n(xe),null,{default:h(()=>[j(Ie(d.value[l.value].insertText),1)]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("代码内容")]),_:1}),u(n(Ee),{value:l.value,"onUpdate:value":b[0]||(b[0]=x=>l.value=x),options:m},null,8,["value"])]),_:1}),Ze(u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j(Ie(d.value[l.value].prepend_1),1)]),_:1}),u(n(Ce),{value:c.value,"onUpdate:value":b[1]||(b[1]=x=>c.value=x),onKeyup:Ne(i,["enter"])},null,8,["value"])]),_:1},512),[[ut,d.value[l.value].inputEnable_1]]),Ze(u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j(Ie(d.value[l.value].prepend_2),1)]),_:1}),u(n(Ce),{value:f.value,"onUpdate:value":b[2]||(b[2]=x=>f.value=x),onKeyup:Ne(i,["enter"])},null,8,["value"])]),_:1},512),[[ut,d.value[l.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ka=()=>{const e=pe.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},Zt=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const a=pe.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return a.meta={shouldRemind:!0},a},ji=["width","height"],Hi=["width","height"],Ni=ee("div",null,"颜色",-1),Ui=ee("div",null,"画笔",-1),Fi=["onClick"],Ei=ee("div",null,"操作",-1),qi=["title","innerHTML","onClick"],Wi=E({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:t,emit:a}){const r=Se(),l=Re(),c=e,f=R(!1);function m(){f.value=!0}t({show:m});const d=a,i=R(),s=U(()=>{var w;return(w=i.value)==null?void 0:w.getContext("2d")}),g=R(),z=U(()=>{var w;return(w=g.value)==null?void 0:w.getContext("2d")}),v=new Image;let b=!1;const x={x:0,y:0,width:0,height:0},O=R([]),M=R([]),_=R([]),k=R({lineWidth:3,lineColor:"#111111",shadowBlur:1}),P=R(!1),C=R(!1);let B=0,N=0;const W=U(()=>window.innerWidth>836?796:window.innerWidth-36),S=U(()=>window.innerHeight>580?400:window.innerHeight-212),D=U(()=>[{title:"上一步",action:"prev",className:O.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:M.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:O.value.length||M.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:O.value.length||M.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:C.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),A=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function V(){const w=new ImageData(W.value,S.value);_.value.push(w)}Ke(()=>{V()});function q(){s.value.lineWidth=k.value.lineWidth,s.value.shadowBlur=k.value.shadowBlur,s.value.shadowColor=k.value.lineColor,s.value.strokeStyle=k.value.lineColor,s.value.lineCap="round",s.value.lineJoin="round"}function X(w){if(b)if(C.value){const p=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-p.getBoundingClientRect().x,I=w.clientY-p.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-p.getBoundingClientRect().x,I=w.changedTouches[0].clientY-p.getBoundingClientRect().y),g.value.height=g.value.height;let Y={x:x.x+(y-B),y:x.y+(I-N),width:x.width,height:x.height};ke(v,Y)}else{s.value.beginPath(),s.value.moveTo(B,N);const p=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-p.getBoundingClientRect().x,I=w.clientY-p.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-p.getBoundingClientRect().x,I=w.changedTouches[0].clientY-p.getBoundingClientRect().y),s.value.globalCompositeOperation=P.value?"destination-out":"source-over",s.value.lineTo(y,I),[B,N]=[y,I],s.value.stroke()}}function G(w){if(C.value){const p=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-p.getBoundingClientRect().x,I=w.clientY-p.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-p.getBoundingClientRect().x,I=w.changedTouches[0].clientY-p.getBoundingClientRect().y),x.x+=y-B,x.y+=I-N,b=!1}else{const p=s.value.getImageData(0,0,i.value.width,i.value.height);M.value.length?(_.value=[],_.value=_.value.concat(O.value),_.value.push(p),M.value=[]):_.value.push(p),b=!1}}function Z(w){if(C.value){const p=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-p.getBoundingClientRect().x,I=w.clientY-p.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-p.getBoundingClientRect().x,I=w.changedTouches[0].clientY-p.getBoundingClientRect().y),B=y,N=I,b=!0}else{b=!0;const p=w.target;let y,I;w instanceof MouseEvent?(y=w.clientX-p.getBoundingClientRect().x,I=w.clientY-p.getBoundingClientRect().y):(y=w.changedTouches[0].clientX-p.getBoundingClientRect().x,I=w.changedTouches[0].clientY-p.getBoundingClientRect().y),q(),B=y,N=I;const Y=s.value.getImageData(0,0,i.value.width,i.value.height);O.value.push(Y)}}function re(w){k.value.lineWidth=w,P.value=!1,C.value=!1}function ce(w){switch(w){case"prev":if(O.value.length){const p=O.value.pop(),y=_.value[O.value.length+1];M.value.push(y),s.value.putImageData(p,0,0)}break;case"next":if(M.value.length){const p=M.value.pop(),y=_.value[_.value.length-M.value.length-2];O.value.push(y),s.value.putImageData(p,0,0)}break;case"clear":s.value.clearRect(0,0,i.value.width,i.value.height),O.value=[],M.value=[],_.value=[_.value[0]];break;case"eraser":P.value=!0;break;case"drag":C.value=!0;break}}function ge(w){if(w.file.file){var p=new FileReader;p.readAsDataURL(w.file.file),p.onload=y=>{v.src=y.target.result,v.onload=function(){var I=g,Y=v;x.width=Y.width,x.height=Y.height,Y.width/Y.height>=I.value.width/I.value.height?Y.width>I.value.width&&(x.width=I.value.width,x.height=Y.height*I.value.width/Y.width):Y.height>I.value.height&&(x.width=Y.width*I.value.height/Y.height,x.height=I.value.height),ke(Y,x)}}}}function ke(w,p){z.value.drawImage(w,p.x,p.y,p.width,p.height)}const ve=R(!1);function _e(){let w=new Image;w.src=i.value.toDataURL("image/png"),w.onload=()=>{z.value.drawImage(w,0,0),p(g.value)};function p(I){I.toBlob(Y=>{Y&&y(Y)},"image/png")}function y(I){const Y={binggan:r.binggan,file:I,mode:"img",thread_id:c.threadId,forum_id:c.forumId};ve.value=!0,Zt(Y).then(tt=>{d("insertImage",tt.file_url),ve.value=!1,f.value=!1}).catch(()=>{ve.value=!1})}}return(w,p)=>(F(),se(n(Ae),{show:f.value,"onUpdate:show":p[5]||(p[5]=y=>f.value=y),"display-directive":"show"},{default:h(()=>[u(n(Oe),{style:ye({maxWidth:n(l).modalMaxWidth}),title:"涂鸦板",closable:"",onClose:p[4]||(p[4]=y=>f.value=!1),size:"small","content-style":{padding:"0px"}},{default:h(()=>[ee("div",{id:"canvas-container",style:ye({width:W.value+"px",height:S.value+"px"})},[ee("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:g,width:W.value,height:S.value,onTouchmove:p[0]||(p[0]=ht(()=>{},["prevent"]))},null,40,ji),ee("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:i,class:_t({painting:!C.value,dragging:C.value}),width:W.value,height:S.value,onTouchmove:[p[1]||(p[1]=ht(()=>{},["prevent"])),X],onMousedown:Z,onMouseup:G,onMousemove:X,onTouchstart:Z,onTouchend:G},null,42,Hi)],4),u(n($n),{"x-gap":"6",cols:4},{default:h(()=>[u(n(it),{span:"1"},{default:h(()=>[Ni,u(n(Tn),{value:k.value.lineColor,"onUpdate:value":p[2]||(p[2]=y=>k.value.lineColor=y),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),u(n(it),{span:"1"},{default:h(()=>[Ui,u(n(le),{id:"canvas-brush",size:"small",align:"center"},{default:h(()=>[(F(),ue($e,null,Ue(A,(y,I)=>ee("span",{key:I,style:ye({fontSize:y.font_size+"px"}),onClick:Y=>re(y.lineWidth)},Ie(y.innerHTML),13,Fi)),64))]),_:1})]),_:1}),u(n(it),{span:"2"},{default:h(()=>[Ei,u(n(le),{id:"canvas-control",size:"small"},{default:h(()=>[(F(!0),ue($e,null,Ue(D.value,(y,I)=>(F(),ue("span",{key:I,title:y.title,class:_t([y.className]),innerHTML:y.innerHTML,onClick:Y=>ce(y.action)},null,10,qi))),128))]),_:1})]),_:1})]),_:1})]),action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(Xt),{"default-upload":!1,onChange:ge,"show-file-list":!1},{default:h(()=>[u(n(de),null,{default:h(()=>[j("加载图片")]),_:1})]),_:1}),u(n(de),{type:"primary",onClick:_e,disabled:w.userIsLocked,loading:ve.value},{default:h(()=>[j("上传")]),_:1},8,["disabled","loading"]),u(n(de),{onClick:p[3]||(p[3]=y=>f.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Vi=["onClick"],Xi=["src"],Gi=E({__name:"EmojiTab",props:{randomHeadsGroup:{default:0},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:t}){const a=Se(),r=Re(),l=e,c=R(),f=U(()=>{const v=jn.filter(b=>!a.userData.emoji_excluded.includes(b.id)&&(b.headsId===0||b.headsId===l.randomHeadsGroup));return a.userData.my_emoji&&v.unshift({id:0,headsId:0,name:"自定义",emojis:a.userData.my_emoji}),v}),m=t;function d(v,b){m("appendEmoji",v,b==="自定义"),l.autoHide&&(c.value=-1)}let i=!1;function s(v,b){return o("span",{onClick:()=>g(b),innerHTML:v})}function g(v){v===c.value&&(i=!0,c.value=-1)}function z(v,b){return i?(i=!1,!1):!0}return(v,b)=>(F(),se(n(Hn),{type:"line","bar-width":0,animated:"",onBeforeLeave:z,size:n(r).isMobile?"small":"medium","default-value":-1,value:c.value,"onUpdate:value":b[0]||(b[0]=x=>c.value=x)},{default:h(()=>[(F(!0),ue($e,null,Ue(f.value,(x,O,M)=>(F(),se(n(zt),{name:x.id,tab:s(x.name,x.id)},{default:h(()=>[u(n(le),{size:"small",class:"emoji-container"},{default:h(()=>[(F(!0),ue($e,null,Ue(x.emojis,(_,k,P)=>(F(),ue("div",{class:"emoji-box",onClick:C=>d(_,x.name)},[ee("img",{src:_,class:"emoji-in-box"},null,8,Xi)],8,Vi))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),u(n(zt),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),Yi=e=>{const t=pe.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},_a=e=>{const t=pe.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Zi=E({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:a}){const r=Re(),l=Se(),c=e,f=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],m=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],d=R(3e3),i=R(10),s=R(1),g=R(1),z=R(),v=R(),b=R([]),x=R(!1),O=R(1);function M(S){S===1&&O.value<5&&(O.value+=1),S===-1&&O.value>1&&(b.value.splice(O.value-1,1),O.value-=1)}const{loading:_,send:k,onSuccess:P}=et(S=>Yi(S),{immediate:!1});function C(){if(z.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(v.value===void 0&&[2,3].includes(g.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(s.value===2&&d.value%i.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const S={binggan:l.binggan,forum_id:c.forumId,thread_id:c.threadId,hongbao_olo:d.value,hongbao_num:i.value,type:s.value,key_word_type:g.value,hongbao_key_word:z.value,hongbao_question:v.value,hongbao_message_json:b.value,hongbao_olo_hide:x.value};k(S)}P(()=>{W("refreshPostsList"),B.value=!1});const B=R(!1);function N(){B.value=!0}t({show:N});const W=a;return(S,D)=>(F(),se(n(Ae),{show:B.value,"onUpdate:show":D[11]||(D[11]=A=>B.value=A),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ye({maxWidth:n(r).modalMaxWidth}),title:"发起红包",closable:"",onClose:D[10]||(D[10]=A=>B.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:C,loading:n(_)},{default:h(()=>[j("提交")]),_:1},8,["loading"]),u(n(de),{onClick:D[9]||(D[9]=A=>B.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[ee("div",null,[u(n(xe),{depth:3},{default:h(()=>[j("温馨提示：")]),_:1}),j("在红包总额以外，会追加扣除7%手续费。 ")]),ee("div",null,[u(n(xe),{depth:3},{default:h(()=>[j("总共扣除：")]),_:1}),u(n(xe),{type:"warning"},{default:h(()=>[j(Ie(Math.ceil(d.value*(n(r).isDouble11?1.02:1.07))),1)]),_:1}),j("个奥利奥 ")]),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("红包类型")]),_:1}),u(n(Ee),{value:g.value,"onUpdate:value":D[0]||(D[0]=A=>g.value=A),options:f},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("olo类型")]),_:1}),u(n(Ee),{value:s.value,"onUpdate:value":D[1]||(D[1]=A=>s.value=A),options:m},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("红包个数")]),_:1}),u(n(Fe),{value:i.value,"onUpdate:value":D[2]||(D[2]=A=>i.value=A),max:50,min:5,step:5},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("olo总额")]),_:1}),u(n(Fe),{value:d.value,"onUpdate:value":D[3]||(D[3]=A=>d.value=A),max:1e6,min:3e3,step:1e3,parse:n(Gt),format:n(Yt)},null,8,["value","parse","format"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("红包口令")]),_:1}),u(n(Ce),{value:z.value,"onUpdate:value":D[4]||(D[4]=A=>z.value=A),placeholder:"必填"},null,8,["value"])]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("口令提示")]),_:1}),u(n(Ce),{value:v.value,"onUpdate:value":D[5]||(D[5]=A=>v.value=A),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(F(!0),ue($e,null,Ue(O.value,A=>(F(),se(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"5.2rem"}},{default:h(()=>[j("回复留言")]),_:1}),u(n(Ce),{value:b.value[A-1],"onUpdate:value":V=>b.value[A-1]=V,placeholder:`#${A}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),u(n(le),{size:"small",align:"center"},{default:h(()=>[u(n(xe),{depth:3},{default:h(()=>[j("留言数量")]),_:1}),u(n(Be),{size:"tiny",circle:"",disabled:O.value===5,onClick:D[6]||(D[6]=A=>M(1))},{icon:h(()=>[u(n(be),null,{default:h(()=>[u(n(Yo))]),_:1})]),_:1},8,["disabled"]),u(n(Be),{size:"tiny",circle:"",disabled:O.value===1,onClick:D[7]||(D[7]=A=>{M(-1)})},{icon:h(()=>[u(n(be),null,{default:h(()=>[u(n(Wo))]),_:1})]),_:1},8,["disabled"]),u(n(xn),{checked:x.value,"onUpdate:checked":D[8]||(D[8]=A=>x.value=A),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ki=E({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:t}){const a=Re(),r=Se(),l=R(null),c=e,f=t;function m(g){var z=document.getElementsByTagName("body")[0],v=document.createElement("script");v.setAttribute("id","image-upload-js");var b=document.getElementById("upload-button");g=="mjj"&&(v.setAttribute("async","true"),v.setAttribute("src","https://mjj.today/sdk/pup.js"),v.setAttribute("data-url","https://mjj.today/upload"),v.setAttribute("data-auto-insert","html-embed"),b==null||b.setAttribute("data-chevereto-pup-trigger","")),g=="imgbb"&&(v.setAttribute("async","true"),v.setAttribute("src","https://imgbb.com/upload.js"),v.setAttribute("data-url","https://imgbb.com/upload"),v.setAttribute("data-auto-insert","html-embed-medium"),b==null||b.setAttribute("data-imgbb-trigger","")),g=="freeimage"&&(v.setAttribute("async","true"),v.setAttribute("src","https://freeimage.host/sdk/pup.js"),v.setAttribute("data-url","https://freeimage.host/upload"),v.setAttribute("data-auto-insert","html-embed-medium"),b==null||b.setAttribute("data-chevereto-pup-trigger","")),z.appendChild(v)}function d(){const g=document.getElementById("image-upload-js");g==null||g.remove()}Ke(()=>{m(a.userCustom.imgHost)}),yn(()=>{d()});const i=R(!1),s=({file:g,data:z,headers:v,withCredentials:b,action:x,onFinish:O,onError:M,onProgress:_})=>{var k;if(g.file!==null){if(g.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(k=l.value)==null||k.clear();return}const P={binggan:r.binggan,file:g.file,mode:"img",thread_id:c.threadId,forum_id:c.forumId};i.value=!0,Zt(P).then(C=>{var B;f("insertImage",C.file_url),(B=l.value)==null||B.clear(),i.value=!1}).catch(()=>{var C;(C=l.value)==null||C.clear(),i.value=!1})}};return(g,z)=>g.forumId===419?(F(),se(n(Xt),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":s,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:l},{default:h(()=>[u(n(de),{style:{"margin-right":"auto"},disabled:g.userIsLocked,loading:i.value},{default:h(()=>[j("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(F(),se(n(de),{key:1,style:{"margin-right":"auto"},disabled:g.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:h(()=>[j("上传图片")]),_:1},8,["disabled"]))}}),Ji=E({__name:"PingbiciModal",setup(e,{expose:t}){const a=Re(),r=Se(),l=R(),{loading:c,send:f,onSuccess:m}=et(g=>Cn(g),{immediate:!1});function d(){if(!l.value){window.$message.error("请填写屏蔽词");return}const g={binggan:r.binggan,content_pingbici:l.value};f(g)}m(()=>{r.refreshUserData(),i.value=!1});const i=R(!1);function s(){i.value=!0}return t({show:s}),(g,z)=>(F(),se(n(Ae),{show:i.value,"onUpdate:show":z[3]||(z[3]=v=>i.value=v),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ye({maxWidth:n(a).modalMaxWidth}),title:"追加屏蔽词",closable:"",onClose:z[2]||(z[2]=v=>i.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:d,loading:n(c),disabled:!l.value},{default:h(()=>[j("提交")]),_:1},8,["loading","disabled"]),u(n(de),{onClick:z[1]||(z[1]=v=>i.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(xe),null,{default:h(()=>[j("暂时只做了“内容屏蔽词”的追加")]),_:1}),u(n(ae),null,{default:h(()=>[u(n(ie),{style:{width:"4.2rem"}},{default:h(()=>[j("屏蔽词")]),_:1}),u(n(Ce),{value:l.value,"onUpdate:value":z[0]||(z[0]=v=>l.value=v),max:255,onKeyup:Ne(d,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),za=E({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:t,emit:a}){const r=Se(),l=Re();Pn(),kn();const c=R(null),f=R(null),m=R(null),d=R(null),i=R(null),s=R(null),g=R(null),z=e,v=U(()=>r.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(r.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),b=U(()=>r.userData.binggan.locked_ttl>0),x=R(r.userData.binggan.nickname||"= ="),O=R(""),M=R(""),_=R(!1),k=R(!1),P=R(!1),C=_n("emoji_auto_hide",!1);function B(){let w=[o(Xe,{checked:P.value,"onUpdate:checked":p=>P.value=p,label:"实时预览"}),o(Xe,{checked:C.value,"onUpdate:checked":p=>C.value=p,label:"表情包自动收起"})];return r.userData.binggan.admin!==0&&r.checkAdminForums(z.forumId)&&w.push(o(Xe,{checked:k.value,"onUpdate:checked":p=>k.value=p,label:"管理员"})),o(le,{style:"padding:6px 8px",vertical:!0},()=>w)}const N=[{key:"funcOption",type:"render",render:B}];Je(k,w=>x.value=w?"管理员":"= =");function W(w){return w.selectionStart!=null?w.selectionStart:0}function S(w,p){const y=W(w),I=w.value,Y=I.substring(0,y)+p+I.substring(y);M.value=Y}function D(w){const p=document.getElementById("content-input");S(p,w),X(),p.focus()}function A(){Sn({title:"要清空内容吗？",onPositiveClick:()=>M.value=""})}const V=R([""]);function q(){V.value.length>1&&(V.value.pop(),M.value=V.value.slice(-1)[0])}function X(){V.value.push(M.value??""),V.value.length>20&&V.value.shift()}function G(w,p){D(`<img src='${w}' class='${p?"custom-emoji-img":"emoji-img"}'>`)}function Z(w){D(w)}function re(w){D(`<img src='${w}' />`)}function ce(w){var p;M.value=w,X(),(p=c.value)==null||p.focus()}const ge=a;function ke(w){if(!w.isTrusted){const y={title:"错误",closable:!1,content:"请不要用脚本回复喔，可能会被系统判断为脚本并碎饼干。",positiveText:"确定"};window.$dialog.warning(y);return}new Promise(function(y,I){ge("contentCommit",{contentInput:M.value,nicknameInput:x.value,postWithAdmin:k.value,titleInput:O.value,isDelay:_.value,ist:w.isTrusted},y)}).then(ve)}function ve(){O.value="",M.value="",_.value=!1}const _e=R(!1);return t({quoteHandle:ce,isTyping:_e}),(w,p)=>(F(),se(n(le),{vertical:""},{default:h(()=>[u(n(le),{size:"small",wrap:!1,align:"center"},{default:h(()=>[u(n(ae),{style:{"max-width":"300px"}},{default:h(()=>[u(n(ie),{style:{width:"3.2rem"}},{default:h(()=>[j("昵称")]),_:1}),u(n(Ce),{maxlength:30,value:x.value,"onUpdate:value":p[0]||(p[0]=y=>x.value=y),"show-count":"",style:ye({color:k.value?"FF6060":void 0})},null,8,["value","style"])]),_:1}),u(n(zn),{trigger:"hover",options:N,placement:"bottom-start"},{default:h(()=>[u(n(de),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:h(()=>[j("功能")]),_:1})]),_:1})]),_:1}),w.mode==="thread"?(F(),se(n(ae),{key:0},{default:h(()=>[u(n(ie),{style:{width:"3.2rem"}},{default:h(()=>[j("标题")]),_:1}),u(n(Ce),{maxlength:100,value:O.value,"onUpdate:value":p[1]||(p[1]=y=>O.value=y),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):He("",!0),u(Gi,{"auto-hide":n(C),"random-heads-group":w.randomHeadsGroup,onAppendEmoji:G},null,8,["auto-hide","random-heads-group"]),u(n(le),{size:n(l).isMobile?"small":"medium",justify:"end",align:"center"},{default:h(()=>[w.mode==="post"?(F(),se(n(be),{key:0,size:n(l).isMobile?28:32},{default:h(()=>[u(n(xi),{style:{cursor:"pointer"},onClick:p[2]||(p[2]=y=>{var I;return(I=f.value)==null?void 0:I.show()})})]),_:1},8,["size"])):He("",!0),w.mode==="post"?(F(),se(n(be),{key:1,size:n(l).isMobile?28:32},{default:h(()=>[u(n(ri),{style:{cursor:"pointer"},onClick:p[3]||(p[3]=y=>{var I;return(I=m.value)==null?void 0:I.show()})})]),_:1},8,["size"])):He("",!0),w.mode==="post"?(F(),se(n(be),{key:2,size:n(l).isMobile?28:32},{default:h(()=>[u(n(oi),{style:{cursor:"pointer"},onClick:p[4]||(p[4]=y=>{var I;return(I=d.value)==null?void 0:I.show()})})]),_:1},8,["size"])):He("",!0),u(n(be),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(Pi),{style:{cursor:"pointer"},onClick:p[5]||(p[5]=y=>{var I;return(I=g.value)==null?void 0:I.show()})})]),_:1},8,["size"]),u(n(be),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(_i),{style:{cursor:"pointer"},onClick:p[6]||(p[6]=y=>{var I;return(I=s.value)==null?void 0:I.show()})})]),_:1},8,["size"]),u(n(be),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(vi),{style:{cursor:"pointer"},onClick:p[7]||(p[7]=y=>{var I;return(I=i.value)==null?void 0:I.show()})})]),_:1},8,["size"]),u(n(Nn),{vertical:""}),u(n(be),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(Qo),{style:{cursor:"pointer"},onClick:q})]),_:1},8,["size"]),u(n(be),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(Li),{style:{cursor:"pointer"},onClick:A})]),_:1},8,["size"])]),_:1},8,["size"]),u(n(An),{value:M.value,"onUpdate:value":p[8]||(p[8]=y=>M.value=y),type:"textarea",placeholder:v.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:c,style:{"border-radius":"10px"},"input-props":{id:"content-input"},disabled:b.value,onChange:X,onKeyup:p[9]||(p[9]=Ne(ht(y=>ke(y),["ctrl"]),["enter"])),onBlur:p[10]||(p[10]=y=>_e.value=!1),onFocus:p[11]||(p[11]=y=>_e.value=!0)},null,8,["value","placeholder","disabled"]),u(n(le),{justify:"end",align:"center"},{default:h(()=>[u(Ki,{"user-is-locked":b.value,"forum-id":w.forumId,"thread-id":w.threadId,onInsertImage:re},null,8,["user-is-locked","forum-id","thread-id"]),w.mode==="thread"?(F(),se(n(Xe),{key:0,checked:_.value,"onUpdate:checked":p[12]||(p[12]=y=>_.value=y)},{default:h(()=>[j("延时发送")]),_:1},8,["checked"])):He("",!0),u(n(Rn),{placement:"bottom-start",trigger:"hover",disabled:n(l).isMobile},{trigger:h(()=>[u(n(de),{type:"primary",onClick:p[13]||(p[13]=y=>ke(y)),loading:w.handling,disabled:b.value},{default:h(()=>[j("提交")]),_:1},8,["loading","disabled"])]),default:h(()=>[j(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),u(Zi,{ref_key:"HongbaoModalCom",ref:f,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:p[14]||(p[14]=y=>ge("refreshPostsList"))},null,8,["thread-id","forum-id"]),u(Oi,{ref_key:"BattleModalCom",ref:m,"thread-id":w.threadId,"forum-id":w.forumId,"random-heads-group":w.randomHeadsGroup,onRefreshPostsList:p[15]||(p[15]=y=>ge("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),u(di,{ref_key:"RollModalCom",ref:d,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:p[16]||(p[16]=y=>ge("refreshPostsList"))},null,8,["thread-id","forum-id"]),u(Ji,{ref_key:"PingbiciModalCom",ref:i},null,512),u(Ai,{ref_key:"CodeModalCom",ref:s,onInsertCode:Z},null,512),u(Wi,{ref_key:"DrawerModalCom",ref:g,onInsertImage:re,"user-is-locked":b.value,"forum-id":w.forumId,"thread-id":w.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}}),Ra=[{id:1,name:"默认",random_heads:["https://z3.ax1x.com/2021/08/01/fSAAIg.png","https://z3.ax1x.com/2021/08/01/fSAeRs.png","https://z3.ax1x.com/2021/08/01/fSAViQ.png","https://z3.ax1x.com/2021/08/01/fSAZGj.png","https://z3.ax1x.com/2021/08/01/fSAkdS.png","https://z3.ax1x.com/2021/08/01/fSAmzn.png","https://z3.ax1x.com/2021/08/01/fSAuMq.png","https://z3.ax1x.com/2021/08/01/fSAKs0.png","https://z3.ax1x.com/2021/08/01/fSAMLV.png","https://z3.ax1x.com/2021/08/01/fSAlZT.png","https://z3.ax1x.com/2021/08/01/fSA1dU.png","https://z3.ax1x.com/2021/08/01/fSA3oF.png","https://z3.ax1x.com/2021/08/01/fSAGi4.png","https://z3.ax1x.com/2021/08/01/fSAYW9.png","https://z3.ax1x.com/2021/08/01/fSAJJJ.png","https://z3.ax1x.com/2021/08/01/fSAtzR.png","https://z3.ax1x.com/2021/08/01/fSAUQ1.png","https://z3.ax1x.com/2021/08/01/fSAsFe.png","https://z3.ax1x.com/2021/08/01/fSABdO.png","https://z3.ax1x.com/2021/08/01/fSADoD.png","https://z3.ax1x.com/2021/08/01/fSA0eK.png","https://z3.ax1x.com/2021/08/01/fSAyJH.png","https://z3.ax1x.com/2021/08/01/fSA6Wd.png","https://z3.ax1x.com/2021/08/01/fSAgSA.png","https://z3.ax1x.com/2021/08/01/fSA2QI.png","https://z3.ax1x.com/2021/08/01/fSARyt.png","https://z3.ax1x.com/2021/08/01/fSAWOP.png","https://z3.ax1x.com/2021/08/01/fSAhef.png","https://z3.ax1x.com/2021/08/01/fSA4w8.png","https://z3.ax1x.com/2021/08/01/fSA5TS.png","https://z3.ax1x.com/2021/08/01/fSAoFg.png","https://z3.ax1x.com/2021/08/01/fSATYQ.png","https://z3.ax1x.com/2021/08/01/fSA7Wj.png","https://z3.ax1x.com/2021/08/01/fSAbSs.png","https://z3.ax1x.com/2021/08/01/fSAqln.png","https://z3.ax1x.com/2021/08/01/fSALyq.png","https://z3.ax1x.com/2021/08/01/fSAOO0.png","https://z3.ax1x.com/2021/08/01/fSAjmV.png","https://z3.ax1x.com/2021/08/01/fSAvwT.png","https://z3.ax1x.com/2021/08/01/fSAxTU.png"]},{id:2,name:"咒岛",random_heads:["https://www.z4a.net/images/2021/04/28/1ec2f3b016cc3993d.png","https://www.z4a.net/images/2021/04/28/2c9d9c4cfced955f1.png","https://www.z4a.net/images/2021/04/28/3a72868d2ed97544e.png","https://www.z4a.net/images/2021/04/28/4a530a7008124f895.png","https://www.z4a.net/images/2021/04/28/16.png","https://www.z4a.net/images/2021/04/28/5c3d0f8f7e94c0f87.png","https://www.z4a.net/images/2021/04/28/6.png","https://www.z4a.net/images/2021/04/28/7.png","https://www.z4a.net/images/2021/04/28/8.png","https://www.z4a.net/images/2021/04/28/9.png","https://www.z4a.net/images/2021/04/28/17.png","https://www.z4a.net/images/2021/04/28/10a78173cca4d2b9e4.png","https://www.z4a.net/images/2021/04/28/116817e6f9946a883b.png","https://www.z4a.net/images/2021/04/28/12d6faaf27dd411273.png","https://www.z4a.net/images/2021/04/28/13cd6b9af2dee496c2.png","https://www.z4a.net/images/2021/04/28/158cb6d1c543151992.png","https://www.z4a.net/images/2021/04/28/191dbde0611454f9c4.png","https://www.z4a.net/images/2021/04/28/149dd44da8e8badd09.png","https://www.z4a.net/images/2021/04/28/189f30c4bbf3eb9015.png","https://www.z4a.net/images/2021/04/28/201161035e7d5b8c56.png","https://www.z4a.net/images/2021/04/28/21.png","https://www.z4a.net/images/2021/04/28/222dc14b16d6f5e3ad.png","https://www.z4a.net/images/2021/04/28/23.png","https://www.z4a.net/images/2021/04/28/24.png","https://www.z4a.net/images/2021/04/28/25.png","https://www.z4a.net/images/2021/04/28/26.png","https://www.z4a.net/images/2021/04/28/27.png","https://www.z4a.net/images/2021/04/28/28.png","https://www.z4a.net/images/2021/04/28/29.png","https://www.z4a.net/images/2021/04/28/30.png","https://www.z4a.net/images/2021/04/28/31.png","https://www.z4a.net/images/2021/04/28/32.png","https://www.z4a.net/images/2021/04/28/333753a209916c1bac.png","https://www.z4a.net/images/2021/04/28/34.png","https://www.z4a.net/images/2021/04/28/35.png","https://www.z4a.net/images/2021/04/28/36.png","https://www.z4a.net/images/2021/04/28/37.png","https://www.z4a.net/images/2021/04/28/38.png","https://www.z4a.net/images/2021/04/28/39.png","https://www.z4a.net/images/2021/04/28/40.png"]},{id:3,name:"国配",random_heads:["https://s2.ax1x.com/2020/03/04/3oNmCT.jpg","https://s2.ax1x.com/2020/03/04/3oNZ5V.jpg","https://s2.ax1x.com/2020/03/04/3oNVU0.jpg","https://s2.ax1x.com/2020/03/04/3oNEEq.jpg","https://s2.ax1x.com/2020/03/04/3oNkbn.jpg","https://s2.ax1x.com/2020/03/04/3oNFDs.jpg","https://s2.ax1x.com/2020/03/04/3oNiuj.jpg","https://s2.ax1x.com/2020/03/04/3oNCvQ.jpg","https://s2.ax1x.com/2020/03/04/3oN9gg.jpg","https://s2.ax1x.com/2020/03/04/3otx4f.jpg","https://s2.ax1x.com/2020/03/04/3otvUP.jpg","https://s2.ax1x.com/2020/03/04/3otjEt.jpg","https://s2.ax1x.com/2020/03/04/3otOHI.jpg","https://s2.ax1x.com/2020/03/04/3otLDA.jpg","https://s2.ax1x.com/2020/03/04/3otqud.jpg","https://s2.ax1x.com/2020/03/04/3otHjH.jpg","https://s2.ax1x.com/2020/03/04/3ot54K.jpg","https://s2.ax1x.com/2020/03/04/3ot4N6.jpg","https://s2.ax1x.com/2020/03/04/3ot6c4.jpg","https://s2.ax1x.com/2020/03/04/3otcjJ.jpg","https://i.loli.net/2020/05/12/fjzJG2tOKS9x75i.png","https://s2.ax1x.com/2020/03/04/3othAx.jpg","https://s2.ax1x.com/2020/03/04/3otWH1.jpg","https://i.loli.net/2020/05/12/RJkuylMqTDbhFYK.png","https://s2.ax1x.com/2020/03/04/3oaHvF.jpg","https://i.loli.net/2020/05/12/JniT3y5EjlHveCa.png","https://i.loli.net/2020/05/12/uLf37Dh4moSNWHl.png","https://i.loli.net/2020/05/12/4PDlehfWOJZoEcj.png","https://i.loli.net/2020/05/12/UznI9POMuTN5CdF.png","https://i.loli.net/2020/05/12/Ku24JNkQp6sedEb.png","https://i.loli.net/2020/05/12/zPiTZRcU2WxC65D.png","https://i.loli.net/2020/05/12/6JeYhNKMLsBQlFO.png","https://i.loli.net/2020/05/12/gIqU1VEXHAQ2ShG.png","https://i.loli.net/2020/05/12/RJOoTxZKvQtLNrA.png","https://i.loli.net/2020/05/12/WHtM9RFxsaCXUYp.png","https://i.loli.net/2020/05/12/KtVvfRUPzA4CDFi.png","https://i.loli.net/2020/05/12/XQWotbfrYi7dBp6.png","https://i.loli.net/2020/05/12/f4h65rGU7cRYwZ8.png","https://i.loli.net/2020/05/12/1HWeg4xdsX85kZT.png","https://i.loli.net/2020/05/12/J8uH6ClX4EGLifc.png"]},{id:4,name:"兵兵球",random_heads:["https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-01.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-02.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-03.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-04.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-05.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-06.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-07.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-08.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-09.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-10.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-11.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-12.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-13.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-14.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-15.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-16.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-17.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-18.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-19.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-20.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-21.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-22.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-23.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-24.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-25.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-26.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-27.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-28.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-29.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-30.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-31.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-32.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-33.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-34.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-35.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-36.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-37.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-38.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-39.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-40.gif"]}];export{za as _,xa as a,Yt as b,ka as c,ba as d,st as e,ya as f,ui as g,Ca as h,Gt as i,_a as j,ma as n,wa as p,Ra as r};
