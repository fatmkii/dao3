import{w as S,A as l,F as v,j as d,S as F,N as J,M as _,a as e,u as Q,b as R,c as G,d as w,$ as U,e as V,f as t,l as q,g as L,U as E,G as H,Q as b,C as B,H as n,z as s,h as x,i as O,k,s as C,R as K,O as P,_ as W}from"./app-CbdLWzt8.js";import{h as X}from"./globalSetting-QdEEtE8v.js";import{u as Y}from"./forums-CmaLuKEH.js";import{N as Z,a as D}from"./Skeleton-Yo-bajFb.js";import{N as ee}from"./Tag-DQPzSNnf.js";import"./_createCompounder-B8t-2BGF.js";import"./use-houdini-DqxfwzUD.js";const te={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},oe=d("path",{d:"M256 448a32 32 0 0 1-18-5.57c-78.59-53.35-112.62-89.93-131.39-112.8c-40-48.75-59.15-98.8-58.61-153C48.63 114.52 98.46 64 159.08 64c44.08 0 74.61 24.83 92.39 45.51a6 6 0 0 0 9.06 0C278.31 88.81 308.84 64 352.92 64c60.62 0 110.45 50.52 111.08 112.64c.54 54.21-18.63 104.26-58.61 153c-18.77 22.87-52.8 59.45-131.39 112.8a32 32 0 0 1-18 5.56z",fill:"currentColor"},null,-1),se=[oe],re=S({name:"Heart",render:function(f,c){return l(),v("svg",te,se)}}),ae={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},ne=d("path",{d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81c-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42c-.54-52.67-42.32-96.81-95.08-96.81z",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32"},null,-1),le=[ne],ie=S({name:"HeartOutline",render:function(f,c){return l(),v("svg",ae,le)}}),ce=S({__name:"ForumsStar",props:{isFavorite:{type:Boolean,default:!1},forumId:{default:0}},emits:["favorite-add","favorite-cancel"],setup(i,{emit:f}){const c=i,m=F(J,{size:"1.5rem",onClick:h},()=>F(c.isFavorite?re:ie)),p=f;function h(){c.isFavorite?p("favorite-cancel",c.forumId):p("favorite-add",c.forumId)}return(y,N)=>(l(),_(e(m)))}}),ue=i=>(K("data-v-df7caa19"),i=i(),P(),i),de={class:"carousel-box"},fe=["src"],me=ue(()=>d("div",null,"这里个人论坛“小火锅”，欢迎来玩~",-1)),_e=S({__name:"Home",setup(i){q(a=>({"973e7468":e(c).hoverColor,"545314f7":e(m).bannerHeight}));const f=Y(),c=Q(),m=R(),p=L(),{loading:h,data:y}=G(X),N=w(()=>y.value.sort(()=>.5-Math.random())),$=w(()=>({paddingBottom:m.isMobile?"6px":"",paddingTop:m.isMobile?"6px":""})),z=w(()=>({paddingBottom:m.isMobile?"6px":""})),r=U([]);V(()=>{localStorage.forums_favorites===void 0?localStorage.forums_favorites=JSON.stringify([]):r.value=JSON.parse(localStorage.forums_favorites)});const M=w(()=>{const a=f.forumsData.filter(o=>r.value.includes(o.id)),u=f.forumsData.filter(o=>!r.value.includes(o.id));return a.concat(u)});function j(a){r.value.includes(a)||(r.value.push(a),localStorage.forums_favorites=JSON.stringify(r.value))}function I(a){const u=r.value.indexOf(a);u!=-1&&(r.value.splice(u,1),localStorage.forums_favorites=JSON.stringify(r.value))}function T(a,u){const g=u.target;["path","svg"].includes(g.nodeName)||p.push({name:"forum",params:{forumId:a}})}return(a,u)=>{const g=E("router-link");return l(),_(e(k),{justify:"center",vertical:""},{default:t(()=>[d("div",de,[e(h)?(l(),_(e(Z),{key:0,class:"carousel-skeleton",sharp:""})):H("",!0),e(h)?H("",!0):(l(),_(e(D),{key:1,"show-arrow":"",trigger:"hover",autoplay:"",interval:1e4},{default:t(()=>[(l(!0),v(B,null,b(N.value,o=>(l(),v("img",{src:o,class:"carousel-img"},null,8,fe))),256))]),_:1}))]),n(e(O),{title:"小火锅公告",size:"small"},{default:t(()=>[me,d("div",null,[s("QQ小火锅避难群："),n(e(x),{type:"info"},{default:t(()=>[s("156840110")]),_:1})]),d("div",null,[s("目前小火锅有5个网址："),n(e(x),{type:"info"},{default:t(()=>[s("cpttmm.com, www.cpttmm.com, cpttmm.love, www.cpttmm.love, v2.cpttmm.com")]),_:1}),s("(v2尽量不要用)")]),d("div",null,[n(e(x),null,{default:t(()=>[s("请务必遵守"),n(g,{to:"/thread/13351",style:{"text-decoration":"underline"}},{default:t(()=>[s("小火锅版规")]),_:1}),s("喔！")]),_:1})])]),_:1}),n(e(k),{justify:"center",vertical:"",size:1},{default:t(()=>[(l(!0),v(B,null,b(M.value,o=>(l(),_(e(O),{size:"small",bordered:!0,key:o.id,class:"forum-cards","header-style":$.value,"content-style":z.value,hoverable:"",onClick:A=>T(o.id,A)},{header:t(()=>[n(e(k),null,{default:t(()=>[n(ce,{"is-favorite":r.value.includes(o.id),"forum-id":o.id,onFavoriteAdd:j,onFavoriteCancel:I},null,8,["is-favorite","forum-id"]),s(" "+C(o.name),1)]),_:2},1024)]),"header-extra":t(()=>[n(e(ee),{round:""},{default:t(()=>[s(C(o.id),1)]),_:2},1024)]),default:t(()=>[n(e(x),null,{default:t(()=>[s(C(o.description),1)]),_:2},1024)]),_:2},1032,["header-style","content-style","onClick"]))),128))]),_:1})]),_:1})}}}),ke=W(_e,[["__scopeId","data-v-df7caa19"]]);export{ke as default};
