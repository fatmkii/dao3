import{w as B,O as le,n as e,T as ne,$ as z,W as oe,b as J,ao as K,h as R,A as r,M as S,p as t,K as W,H as a,t as c,z as l,F as A,I as P,Q as G,E as C,q as He,y as F,v as u,a_ as re,az as de,X as ve,_ as _e,e as H,ac as be,ad as ye,b0 as he,aH as xe,bi as te,bj as ke,S as j,at as Y,bl as X,x as T,aZ as Z,ay as O,aw as ce,ax as ee,ak as Pe,b4 as Re,b3 as Be,a9 as Ee}from"./vendor-CYaCwXn6.js";import{a as E,u as q,b as N,_ as se,c as ae}from"./app-Bh05dftL.js";import{s as qe,g as Ve,h as je,i as ze,j as Ye,k as Ge,l as Le,m as De}from"./admin-BJLL1YQD.js";import{u as ue}from"./forums-BQ4VzalE.js";import{i as Qe,a as Je}from"./inputNumberFormat-DaYmlx6U.js";const Ke={class:"banner-box-sm"},We=["src"],Xe=["src","onClick"],Ze=B({__name:"TabBanners",setup(V){le(m=>({"6a1c8eac":e(I).textColor1}));const b=E();q();const y=ue(),I=ne(),f=z(0);oe(()=>{i.value.length>0&&(f.value=i.value[0].value)});const i=J(()=>b.binggan===null||b.userData.binggan.admin_forums===void 0?[]:y.forumsData.reduce((m,n)=>(b.checkAdminForums(n.id)&&m.push({value:n.id,label:n.name,forumId:n.id}),m),[])),g=z([]);K(f,m=>{var n,w;m===void 0?g.value=[]:g.value=[...(w=(n=y.forumData(m))==null?void 0:n.banners)!=null?w:[]]});const o=z(!1),s=z(),d=J(()=>{var m,n;return(n=(m=s.value)==null?void 0:m.split(/[\n,，]+/).filter(w=>w!=""))!=null?n:[]});function U(){o.value=!1,g.value=g.value.concat(d.value),s.value=void 0,p()}function h(m){var n;(n=g.value)==null||n.splice(m,1)}const{loading:$,send:M,onSuccess:k}=R(m=>qe(m),{immediate:!1});k(()=>{y.getForumsData()});function p(){const m={binggan:b.binggan,forum_id:f.value,banners:g.value};M(m)}return(m,n)=>(r(),S(e(c),{vertical:""},{default:t(()=>[o.value?(r(),S(e(W),{key:0,title:"待追加的版头",size:"small",class:"dash-line"},{"header-extra":t(()=>[a(e(c),{size:"small"},{default:t(()=>[a(e(N),{type:"primary",onClick:U},{default:t(()=>[l("追加")]),_:1}),a(e(N),{type:"default",onClick:n[0]||(n[0]=w=>{o.value=!1,s.value=void 0})},{default:t(()=>[l("关闭")]),_:1})]),_:1})]),default:t(()=>[a(e(c),{size:"small"},{default:t(()=>[(r(!0),A(P,null,G(d.value,(w,L,D)=>(r(),A("div",Ke,[C("img",{src:w,style:{width:"100%"}},null,8,We)]))),256))]),_:1}),a(e(He),{type:"textarea",value:s.value,"onUpdate:value":n[1]||(n[1]=w=>s.value=w),placeholder:"在这里贴网址追加版头。可以一次多个，每行一个。",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})):F("",!0),a(e(W),{title:"版头设定",size:"small"},{"header-extra":t(()=>[a(e(c),{size:"small",align:"center",wrap:!0},{default:t(()=>[a(e(u),{depth:3},{default:t(()=>[l("选择小岛")]),_:1}),a(e(re),{value:f.value,"onUpdate:value":n[2]||(n[2]=w=>f.value=w),options:i.value,"consistent-menu-width":!1,style:{width:"100px"}},null,8,["value","options"]),o.value?F("",!0):(r(),S(e(N),{key:0,type:"primary",onClick:n[3]||(n[3]=w=>o.value=!0)},{default:t(()=>[l("追加")]),_:1}))]),_:1})]),default:t(()=>[a(e(u),{depth:3},{default:t(()=>[l("点击图片移除")]),_:1}),a(e(c),{wrap:!0,size:[4,4]},{default:t(()=>[(r(!0),A(P,null,G(g.value,(w,L)=>{var D;return r(),A("div",{key:L+((D=f.value)!=null?D:0)*1e3,class:"banner-box"},[C("img",{src:w,class:"banner-img",onClick:me=>h(L)},null,8,Xe)])}),128))]),_:1})]),_:1}),a(e(c),{align:"center",justify:"end"},{default:t(()=>[a(e(u),{depth:3,style:{"font-size":"0.875rem"}},{default:t(()=>[l("各个小岛的变更要分别提交喔")]),_:1}),a(e(N),{type:"primary",loading:e($),disable:e($),onClick:p},{default:t(()=>[l("提交")]),_:1},8,["loading","disable"])]),_:1})]),_:1}))}}),ea=se(Ze,[["__scopeId","data-v-35893c7d"]]),aa=B({__name:"TabGlobal",setup(V){le(o=>({a7c75f86:e(y).textColor1}));const b=E();q(),ue();const y=ne(),I=z(!1),f=z(!1),i=z(!1);b.admin.isSuperAdmin===!0&&Ve().then(o=>{I.value=o.new_binggan,f.value=o.new_loudspeaker,i.value=!0});function g(o,s){const d={binggan:b.binggan,key:o,value:JSON.stringify(s)};je(d).then()}return(o,s)=>(r(),S(e(c),{vertical:"",size:[6,12]},{default:t(()=>[a(e(c),{size:"small"},{default:t(()=>[a(e(u),{style:{width:"6.2rem"}},{default:t(()=>[l("领取饼干开关")]),_:1}),a(e(de),{value:I.value,"onUpdate:value":s[0]||(s[0]=d=>I.value=d),disabled:!i.value,onUpdateValue:s[1]||(s[1]=d=>g("new_binggan",d))},null,8,["value","disabled"]),ve(a(e(u),{depth:3},{default:t(()=>[l("读取中")]),_:1},512),[[_e,!i.value]])]),_:1}),a(e(c),{size:"small"},{default:t(()=>[a(e(u),{style:{width:"6.2rem"}},{default:t(()=>[l("大喇叭开关")]),_:1}),a(e(de),{value:f.value,"onUpdate:value":s[2]||(s[2]=d=>f.value=d),disabled:!i.value,onUpdateValue:s[3]||(s[3]=d=>g("new_loudspeaker",d))},null,8,["value","disabled"]),ve(a(e(u),{depth:3},{default:t(()=>[l("读取中")]),_:1},512),[[_e,!i.value]])]),_:1})]),_:1}))}}),ta=se(aa,[["__scopeId","data-v-44dcccc7"]]),la={class:"actives-item"},na={style:{"margin-left":"auto"}},sa={key:0,style:{"margin-top":"6px"}},ua={style:{"margin-top":"6px"}},ia={style:{"margin-top":"6px"}},ra=B({__name:"TabActives",setup(V){le(p=>({a0198f68:e(I).dividerColor})),H.extend(be),H.extend(ye);const b=E(),y=q(),I=ne(),f=z(H().tz("Asia/Shanghai").format("YYYY-MM-DD"));K(f,()=>h());const i=z(1);K(i,()=>h()),oe(()=>h());function g(p){return H().add(1,"day").isBefore(p)}const o=[{title:"时间",key:"created_at",resizable:!0},{title:"管理员",key:"name",resizable:!0},{title:"罚款",key:"olo",resizable:!0},{title:"操作",key:"active",resizable:!0},{title:"原因",key:"content",resizable:!0},{title:"主题",key:"thread_title",render:M,resizable:!0},{title:"回复",key:"post_content",render:k,resizable:!0}],{loading:s,data:d,send:U}=R(p=>ze(p),{immediate:!1,initialData:{data:[],last_page:1}});function h(){const p={binggan:b.binggan,date:f.value,page:i.value};U(p)}function $(p){return{name:"thread",params:{threadId:p.thread_id,page:p.floor===null?1:Math.ceil((p.floor+1)/200)},hash:p.floor===null?void 0:"#f_"+p.floor}}function M(p,m){return p.thread_id!==null?j(X,{to:$(p),target:"_blank"},()=>j(Y,{style:"max-width: 120px"},()=>p.thread_title)):j(Y,{style:"max-width: 120px"},()=>p.thread_title)}function k(p,m){return p.thread_id!==null?j(X,{to:$(p),target:"_blank"},()=>j(Y,{style:"max-width: 120px"},()=>p.post_content)):j(Y,{style:"max-width: 120px"},()=>p.post_content)}return(p,m)=>(r(),S(e(c),{size:"small"},{default:t(()=>[a(e(he),{"formatted-value":f.value,"onUpdate:formattedValue":m[0]||(m[0]=n=>f.value=n),"value-format":"yyyy-MM-dd",type:"date",size:e(y).isMobile?"small":"medium","is-date-disabled":g},null,8,["formatted-value","size"]),a(e(N),{type:"primary",onClick:m[1]||(m[1]=n=>h())},{default:t(()=>[l(" 查询 ")]),_:1}),a(e(W),{title:"管理员操作记录",size:"small"},{default:t(()=>[e(y).isMobile?F("",!0):(r(),S(e(c),{key:0},{default:t(()=>[a(e(xe),{columns:o,data:e(d).data,bordered:!1,loading:e(s),style:{height:"100%"}},null,8,["data","loading"]),a(e(te),{page:i.value,"onUpdate:page":m[2]||(m[2]=n=>i.value=n),"page-count":e(d).last_page,size:"medium",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})),e(y).isMobile?(r(),A(P,{key:1},[e(d).data.length>0?(r(),S(e(c),{key:0,vertical:"",align:"start",size:"small"},{default:t(()=>[e(s)?F("",!0):(r(!0),A(P,{key:0},G(e(d).data,n=>(r(),A("div",la,[a(e(c),null,{default:t(()=>[C("div",null,[a(e(u),{depth:3},{default:t(()=>[l("时间：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(n.created_at),1)]),_:2},1024)]),C("div",na,[a(e(u),{depth:3},{default:t(()=>[l("管理员：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(n.name),1)]),_:2},1024)])]),_:2},1024),n.olo?(r(),A("div",sa,[a(e(u),{depth:3},{default:t(()=>[l("罚款：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(n.olo),1)]),_:2},1024)])):F("",!0),C("div",ua,[a(e(u),{depth:3},{default:t(()=>[l("操作：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(n.active),1)]),_:2},1024)]),C("div",ia,[a(e(u),{depth:3},{default:t(()=>[l("原因：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(n.content),1)]),_:2},1024)]),n.thread_title!==null?(r(),S(e(c),{key:1,style:{"margin-top":"6px"},wrap:!1},{default:t(()=>[a(e(u),{depth:3},{default:t(()=>[l("主题：")]),_:1}),a(e(X),{to:$(n),style:{"max-width":"80%"}},{default:t(()=>[a(e(Y),null,{default:t(()=>[l(T(n.thread_title),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)):F("",!0),n.post_content!==null?(r(),S(e(c),{key:2,style:{"margin-top":"6px"},wrap:!1},{default:t(()=>[a(e(u),{depth:3},{default:t(()=>[l("主题：")]),_:1}),a(e(X),{to:$(n),style:{"max-width":"80%"}},{default:t(()=>[a(e(Y),null,{default:t(()=>[l(T(n.post_content),1)]),_:2},1024)]),_:2},1032,["to"])]),_:2},1024)):F("",!0)]))),256)),a(e(te),{page:i.value,"onUpdate:page":m[3]||(m[3]=n=>i.value=n),"page-count":e(d).last_page,size:"small",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})):(r(),S(e(ke),{key:1}))],64)):F("",!0)]),_:1})]),_:1}))}}),da=se(ra,[["__scopeId","data-v-a35e3f42"]]),oa={class:"actives-item"},ma={style:{"margin-left":"auto"}},pa={key:0,style:{"margin-top":"6px"}},fa={key:1,style:{"margin-top":"6px"}},ga={style:{"margin-top":"6px"}},va={style:{"margin-top":"6px"}},_a=B({__name:"TabActivesSuper",setup(V){le($=>({"2c7ab229":e(I).dividerColor})),H.extend(be),H.extend(ye);const b=E(),y=q(),I=ne(),f=z(H().tz("Asia/Shanghai").format("YYYY-MM-DD"));K(f,()=>h());const i=z(1);K(i,()=>h()),oe(()=>h());function g($){return H().add(1,"day").isBefore($)}const o=[{title:"时间",key:"created_at",resizable:!0},{title:"管理员",key:"name",resizable:!0},{title:"目标饼干",key:"binggan_target",resizable:!0},{title:"罚款",key:"olo",resizable:!0},{title:"操作",key:"active",resizable:!0},{title:"原因",key:"content",resizable:!0}],{loading:s,data:d,send:U}=R($=>ze($),{immediate:!1,initialData:{data:[],last_page:1}});function h(){const $={binggan:b.binggan,date:f.value,page:i.value,show_super:!0};U($)}return($,M)=>(r(),S(e(c),{size:"small"},{default:t(()=>[a(e(he),{"formatted-value":f.value,"onUpdate:formattedValue":M[0]||(M[0]=k=>f.value=k),"value-format":"yyyy-MM-dd",type:"date",size:e(y).isMobile?"small":"medium","is-date-disabled":g},null,8,["formatted-value","size"]),a(e(N),{type:"primary",onClick:M[1]||(M[1]=k=>h())},{default:t(()=>[l(" 查询 ")]),_:1}),a(e(W),{title:"管理员操作记录",size:"small"},{default:t(()=>[e(y).isMobile?F("",!0):(r(),S(e(c),{key:0},{default:t(()=>[a(e(xe),{columns:o,data:e(d).data,bordered:!1,loading:e(s),style:{height:"100%"}},null,8,["data","loading"]),a(e(te),{page:i.value,"onUpdate:page":M[2]||(M[2]=k=>i.value=k),"page-count":e(d).last_page,size:"medium",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})),e(y).isMobile?(r(),A(P,{key:1},[e(d).data.length>0?(r(),S(e(c),{key:0,vertical:"",align:"start",size:"small"},{default:t(()=>[e(s)?F("",!0):(r(!0),A(P,{key:0},G(e(d).data,k=>(r(),A("div",oa,[a(e(c),null,{default:t(()=>[C("div",null,[a(e(u),{depth:3},{default:t(()=>[l("时间：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(k.created_at),1)]),_:2},1024)]),C("div",ma,[a(e(u),{depth:3},{default:t(()=>[l("管理员：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(k.name),1)]),_:2},1024)])]),_:2},1024),k.olo?(r(),A("div",pa,[a(e(u),{depth:3},{default:t(()=>[l("目标饼干：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(k.binggan_target),1)]),_:2},1024)])):F("",!0),k.olo?(r(),A("div",fa,[a(e(u),{depth:3},{default:t(()=>[l("罚款：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(k.olo),1)]),_:2},1024)])):F("",!0),C("div",ga,[a(e(u),{depth:3},{default:t(()=>[l("操作：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(k.active),1)]),_:2},1024)]),C("div",va,[a(e(u),{depth:3},{default:t(()=>[l("原因：")]),_:1}),a(e(u),null,{default:t(()=>[l(T(k.content),1)]),_:2},1024)])]))),256)),a(e(te),{page:i.value,"onUpdate:page":M[3]||(M[3]=k=>i.value=k),"page-count":e(d).last_page,size:"small",style:{"margin-left":"auto"}},null,8,["page","page-count"])]),_:1})):(r(),S(e(ke),{key:1}))],64)):F("",!0)]),_:1})]),_:1}))}}),ca=se(_a,[["__scopeId","data-v-296b2d9d"]]),ba=B({__name:"TabSuperAdmin",setup(V){const b=E(),y=q(),I=ue(),f=z(null),i=z(null),g=z(null),o=z(null),s=z({binggan:"",olo:void 0,message:""}),d=z({uuid:""}),U=z({thread_id:null,forum_id:1,nissin_clear:!0}),h=z({binggan:"",medalId:181}),$=J(()=>I.forumsData.map(x=>({value:x.id,label:x.name}))),M=[{value:181,label:"皇家御用画宗"},{value:182,label:"小火锅守护者"}],k={binggan:{required:!0,message:"请填写目标饼干",trigger:"blur"},message:{required:!1},olo:{required:!0,message:"请选择要奖罚的olo",type:"number",trigger:"blur"}},p={uuid:{required:!0,message:"请填写目标UUID",trigger:"blur"}},m={thread_id:{required:!0,message:"请填写主题ID",type:"number",trigger:"blur"},forum_id:{required:!0,message:"请选择目标小岛",type:"number",trigger:"blur"},nissin_clear:{required:!0}},n={binggan:{required:!0,message:"请填写目标饼干",trigger:"blur"},medalId:{required:!0,message:"请选择要发放的成就",type:"number",trigger:"blur"}},{loading:w,send:L,onSuccess:D,onError:me}=R(x=>Ye(x),{immediate:!1});D(()=>{s.value.binggan=""}),me(()=>{s.value.binggan=""});function Se(){var x;(x=g.value)==null||x.validate(v=>{if(v){window.$message.error("请确认信息填写完整");return}else{const _={binggan:b.binggan,binggan_target:s.value.binggan,olo_num:s.value.olo,olo_message:s.value.message},Q=s.value.olo>0?"奖励":"罚款",ie={title:"奖罚olo",closable:!1,content:`对象饼干：${s.value.binggan} ${Q}${s.value.olo}个olo`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{L(_)}};window.$dialog.warning(ie)}})}const{loading:pe,send:Ue,onSuccess:$e,onError:za}=R(x=>Ge(x),{immediate:!1});$e(()=>{d.value.uuid=""});function we(){var x;(x=f.value)==null||x.validate(v=>{if(v){window.$message.error("请确认信息填写完整");return}else{const _={binggan:b.binggan,uuid:d.value.uuid};Ue(_)}})}const{loading:fe,send:Ie,onSuccess:Me,onError:Sa}=R(x=>Le(x),{immediate:!1});Me(()=>{U.value.thread_id=null});function Te(){var x;(x=i.value)==null||x.validate(v=>{if(v){window.$message.error("请确认信息填写完整");return}else{const _={binggan:b.binggan,thread_id:U.value.thread_id,forum_id:U.value.forum_id,nissin_clear:U.value.nissin_clear};Ie(_)}})}const{loading:ge,send:Ae,onSuccess:Ce,onError:Fe}=R(x=>De(x),{immediate:!1});Ce(()=>{h.value.binggan=""}),Fe(()=>{h.value.binggan=""});function Ne(){var x;(x=o.value)==null||x.validate(v=>{if(v){window.$message.error("请确认信息填写完整");return}else{const _={binggan:b.binggan,binggan_target:h.value.binggan,medal_id:h.value.medalId},Q=M.find(Oe=>Oe.value===h.value.medalId),ie={title:"发放成就",closable:!1,content:`对象饼干：${h.value.binggan}  发放成就：${Q==null?void 0:Q.label}`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{Ae(_)}};window.$dialog.warning(ie)}})}return(x,v)=>(r(),S(e(c),{style:{"max-width":"450px"}},{default:t(()=>[a(e(Z),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:t(()=>[a(e(u),{style:{"font-size":"0.875rem"}},{default:t(()=>[l("奖罚olo ")]),_:1})]),_:1}),a(e(ee),{ref_key:"oloFormRef",ref:g,model:s.value,"label-placement":"left","label-width":"auto",rules:k,size:e(y).isMobile?"small":"medium",style:{"max-width":"300px"}},{default:t(()=>[a(e(O),{label:"目标饼干",path:"binggan"},{default:t(()=>[a(e(ae),{value:s.value.binggan,"onUpdate:value":v[0]||(v[0]=_=>s.value.binggan=_)},null,8,["value"])]),_:1}),a(e(O),{label:"奖罚olo",path:"olo"},{default:t(()=>[a(e(ce),{value:s.value.olo,"onUpdate:value":v[1]||(v[1]=_=>s.value.olo=_),max:1e6,min:-1e6,step:1e3,parse:e(Qe),format:e(Je),placeholder:"正数是奖励，负数是罚款"},null,8,["value","parse","format"])]),_:1}),a(e(O),{label:"附带留言",path:"message"},{default:t(()=>[a(e(ae),{value:s.value.message,"onUpdate:value":v[2]||(v[2]=_=>s.value.message=_),placeholder:"将显示在收支记录"},null,8,["value"])]),_:1}),a(e(N),{type:"primary",loading:e(w),disabled:e(w),onClick:Se},{default:t(()=>[l("提交")]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"]),a(e(Z),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:t(()=>[a(e(u),{style:{"font-size":"0.875rem"}},{default:t(()=>[l("解锁UUID ")]),_:1})]),_:1}),a(e(ee),{ref_key:"uuidFormRef",ref:f,model:d.value,"label-placement":"left","label-width":"auto",rules:p,size:e(y).isMobile?"small":"medium",style:{"max-width":"450px"}},{default:t(()=>[a(e(O),{label:"解锁UUID",path:"uuid"},{default:t(()=>[a(e(ae),{value:d.value.uuid,"onUpdate:value":v[3]||(v[3]=_=>d.value.uuid=_)},null,8,["value"])]),_:1}),a(e(N),{type:"primary",loading:e(pe),disabled:e(pe),onClick:we},{default:t(()=>[l("提交")]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"]),a(e(Z),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:t(()=>[a(e(u),{style:{"font-size":"0.875rem"}},{default:t(()=>[l("主题转区 ")]),_:1})]),_:1}),a(e(ee),{ref_key:"transferFormRef",ref:i,model:U.value,"label-placement":"left","label-width":"auto",rules:m,size:e(y).isMobile?"small":"medium",style:{"max-width":"450px"}},{default:t(()=>[a(e(O),{label:"主题ID",path:"thread_id"},{default:t(()=>[a(e(ce),{"show-button":!1,value:U.value.thread_id,"onUpdate:value":v[4]||(v[4]=_=>U.value.thread_id=_),max:1e6,min:1},null,8,["value"])]),_:1}),a(e(O),{label:"目标小岛",path:"forum_id"},{default:t(()=>[a(e(re),{value:U.value.forum_id,"onUpdate:value":v[5]||(v[5]=_=>U.value.forum_id=_),options:$.value,"consistent-menu-width":!1,style:{width:"300px"}},null,8,["value","options"])]),_:1}),a(e(O),{label:"解锁日清",path:"nissin_clear"},{default:t(()=>[a(e(de),{value:U.value.nissin_clear,"onUpdate:value":v[6]||(v[6]=_=>U.value.nissin_clear=_)},null,8,["value"])]),_:1}),a(e(N),{type:"primary",loading:e(fe),disabled:e(fe),onClick:Te},{default:t(()=>[l("提交")]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"]),a(e(Z),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:t(()=>[a(e(u),{style:{"font-size":"0.875rem"}},{default:t(()=>[l("发放成就 ")]),_:1})]),_:1}),a(e(ee),{ref_key:"formRef",ref:o,model:h.value,"label-placement":"left","label-width":"auto",rules:n,size:e(y).isMobile?"small":"medium",style:{"max-width":"300px"}},{default:t(()=>[a(e(O),{label:"目标饼干",path:"binggan"},{default:t(()=>[a(e(ae),{value:h.value.binggan,"onUpdate:value":v[7]||(v[7]=_=>h.value.binggan=_)},null,8,["value"])]),_:1}),a(e(O),{label:"发放成就",path:"medalId"},{default:t(()=>[a(e(re),{value:h.value.medalId,"onUpdate:value":v[8]||(v[8]=_=>h.value.medalId=_),options:M,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),a(e(N),{type:"primary",loading:e(ge),disabled:e(ge),onClick:Ne},{default:t(()=>[l("提交")]),_:1},8,["loading","disabled"])]),_:1},8,["model","size"])]),_:1}))}}),ya=C("img",{src:"https://www.freeimg.cn/i/2024/05/15/6644aedee642d.png",style:{"max-width":"50px","max-height":"50px"}},null,-1),ha=C("span",null,"管理员中心",-1),xa=B({__name:"AdminCard",setup(V){const b=E(),y=q(),I=ue(),f=J(()=>b.binggan===null||b.userData.binggan.admin_forums===void 0?[]:I.forumsData.reduce((i,g)=>(b.checkAdminForums(g.id)&&i.push({value:g.id,label:g.name,forumId:g.id}),i),[]));return(i,g)=>(r(),S(e(W),{hoverable:"",size:"small"},{default:t(()=>[a(e(c),{vertical:e(y).isMobile},{default:t(()=>[a(e(c),{size:"small",align:"center"},{default:t(()=>[ya,ha]),_:1}),C("div",null,[a(e(u),{depth:3},{default:t(()=>[l("我管理的板块")]),_:1}),a(e(c),null,{default:t(()=>[(r(!0),A(P,null,G(f.value,o=>(r(),S(e(Pe),null,{default:t(()=>[l(T(o.forumId)+". "+T(o.label),1)]),_:2},1024))),256))]),_:1})])]),_:1},8,["vertical"])]),_:1}))}}),ka=C("div",{style:{height:"50px"}},null,-1),Ta=B({__name:"AdminCenter",setup(V){const b=E(),y=q(),I=z();document.title="管理员中心";const f=J(()=>{const i=[{name:"banners",tab:"版头设定",component:ea}];return b.admin.isNormalAdmin&&i.unshift({name:"actives",tab:"管理状况",component:da}),b.admin.isSuperAdmin?i.concat([{name:"global",tab:"全局设置",component:ta},{name:"super_actives",tab:"超管状况",component:ca},{name:"super_admin",tab:"超管操作",component:ba}]):i});return(i,g)=>(r(),S(e(c),{vertical:"",style:{"margin-top":"8px"}},{default:t(()=>[a(e(xa)),a(e(Re),{type:"line","bar-width":e(y).isMobile?0:void 0,animated:"",size:e(y).isMobile?"small":"large",value:I.value,"onUpdate:value":g[0]||(g[0]=o=>I.value=o)},{default:t(()=>[(r(!0),A(P,null,G(f.value,o=>(r(),S(e(Be),{name:o.name,tab:o.tab,key:o.name},{default:t(()=>[(r(),S(Ee(o.component)))]),_:2},1032,["name","tab"]))),128))]),_:1},8,["bar-width","size","value"]),ka]),_:1}))}});export{Ta as default};
