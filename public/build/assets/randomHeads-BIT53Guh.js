import{aU as _e,S as o,w as W,aV as $t,a7 as De,I as ft,aW as Jt,ak as Qt,aX as en,a0 as ne,Y as L,aY as xt,aZ as tn,a_ as nn,a4 as te,$ as R,q as Qe,ag as nt,ai as Xe,X as Tt,J as Te,d as E,L as Ve,a8 as pt,a$ as on,b0 as an,ac as Ke,b1 as ln,ae as ot,C as Ie,ay as oe,ad as ut,m as ke,b2 as rn,b3 as dt,V as vt,b4 as sn,e as Je,a5 as ct,a1 as Q,b5 as Me,aC as Lt,az as Mt,aA as Bt,aB as Dt,b6 as un,al as yt,K as et,ax as dn,av as Ot,b7 as cn,aJ as Be,b8 as hn,b9 as gn,as as Ct,Z as we,ba as fn,bb as pn,a3 as vn,x as mn,bc as wn,bd as kt,ah as bn,A as q,F as ue,j as ee,aE as At,be as pe,b as ze,o as Re,c as tt,M as se,f as h,H as u,a as n,k as le,n as de,z as j,h as ye,s as Pe,i as Oe,aG as Ae,aF as Ne,bf as ht,aI as _t,Q as Ee,N as xe,aT as xn,aS as yn,bg as Cn,p as kn,v as _n,G as Ue,y as Ge,bh as zn}from"./app-Cg2-RClK.js";import{s as Rn}from"./showDialog-BJ2H1UfF.js";import{_ as Ce}from"./FInput.vue_vue_type_script_setup_true_lang-DCMY30WE.js";import{_ as ae}from"./FInputGroupLabel.vue_vue_type_script_setup_true_lang-B2q3qV0q.js";import{N as ie}from"./InputGroup-OaVzYXfn.js";import{N as Fe}from"./InputNumber-4tj5z3qF.js";import{c as Sn}from"./index-Crq6HWd9.js";import{i as jt,a as Ht}from"./inputNumberFormat-BWPk2HH2.js";import{N as qe}from"./Select-DfQh_aLK.js";import{a as Pn,N as at}from"./Grid-BW_2CJ7G.js";import{N as In}from"./ColorPicker-B6zUhlmg.js";import{A as $n}from"./Add-CwtBFFLs.js";import{u as Tn}from"./use-locale-Be1xP6UR.js";import{c as Ln}from"./_createCompounder-DRcL1IgH.js";import{a as Mn}from"./Ellipsis-DDj1kiB8.js";import{d as Ut}from"./download-sglA049O.js";import{E as Bn,N as Dn}from"./Input-DHO2SBfz.js";import{e as On}from"./emojiData-nGA-8XBz.js";import{a as zt,b as An,N as jn}from"./Tabs-CMlyvoe8.js";var Hn=Ln(function(e,t,i){return e+(i?"-":"")+t.toLowerCase()});const Un=_e("attach",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),Nn=_e("trash",o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),o("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),En=_e("download",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),Fn=_e("cancel",o("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},o("g",{fill:"currentColor","fill-rule":"nonzero"},o("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),qn=_e("retry",o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},o("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),o("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),Wn=_e("rotateClockwise",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),o("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),Vn=_e("rotateClockwise",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),o("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),Xn=_e("zoomIn",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),o("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),Gn=_e("zoomOut",o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),o("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),Yn=W({name:"ResizeSmall",render(){return o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},o("g",{fill:"none"},o("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),Zn=$t&&"loading"in document.createElement("img"),Kn=(e={})=>{var t;const{root:i=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof i=="string"?document.querySelector(i):i)||document.documentElement})}},it=new WeakMap,lt=new WeakMap,rt=new WeakMap,Jn=(e,t,i)=>{if(!e)return()=>{};const r=Kn(t),{root:l}=r.options;let c;const f=it.get(l);f?c=f:(c=new Map,it.set(l,c));let m,d;c.has(r.hash)?(d=c.get(r.hash),d[1].has(e)||(m=d[0],d[1].add(e),m.observe(e))):(m=new IntersectionObserver(g=>{g.forEach(z=>{if(z.isIntersecting){const p=lt.get(z.target),b=rt.get(z.target);p&&p(),b&&(b.value=!0)}})},r.options),m.observe(e),d=[m,new Set([e])],c.set(r.hash,d));let a=!1;const s=()=>{a||(lt.delete(e),rt.delete(e),a=!0,d[1].has(e)&&(d[0].unobserve(e),d[1].delete(e)),d[1].size<=0&&c.delete(r.hash),c.size||it.delete(l))};return lt.set(e,s),rt.set(e,i),s},mt=Object.assign(Object.assign({},De.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),Nt=ft("n-image");function Qn(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const eo=Jt({name:"Image",common:Qt,peers:{Tooltip:en},self:Qn}),to=o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),no=o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),oo=o("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),ao=o("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},o("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),io=ne([ne("body >",[L("image-container","position: fixed;")]),L("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),L("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[xt()]),L("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[L("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),xt()]),L("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[tn()]),L("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),L("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[nn("preview-disabled",`
 cursor: pointer;
 `),ne("img",`
 border-radius: inherit;
 `)])]),Ye=32,Et=W({name:"ImagePreview",props:Object.assign(Object.assign({},mt),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=De("Image","-image",io,eo,e,te(e,"clsPrefix"));let i=null;const r=R(null),l=R(null),c=R(void 0),f=R(!1),m=R(!1),{localeRef:d}=Tn("Image");function a(){const{value:$}=l;if(!i||!$)return;const{style:U}=$,T=i.getBoundingClientRect(),K=T.left+T.width/2,J=T.top+T.height/2;U.transformOrigin=`${K}px ${J}px`}function s($){var U,T;switch($.key){case" ":$.preventDefault();break;case"ArrowLeft":(U=e.onPrev)===null||U===void 0||U.call(e);break;case"ArrowRight":(T=e.onNext)===null||T===void 0||T.call(e);break;case"Escape":_();break}}Qe(f,$=>{$?nt("keydown",document,s):Xe("keydown",document,s)}),Tt(()=>{Xe("keydown",document,s)});let g=0,z=0,p=0,b=0,x=0,O=0,B=0,k=0,C=!1;function P($){const{clientX:U,clientY:T}=$;p=U-g,b=T-z,rn(v)}function y($){const{mouseUpClientX:U,mouseUpClientY:T,mouseDownClientX:K,mouseDownClientY:J}=$,he=K-U,fe=J-T,me=`vertical${fe>0?"Top":"Bottom"}`,Se=`horizontal${he>0?"Left":"Right"}`;return{moveVerticalDirection:me,moveHorizontalDirection:Se,deltaHorizontal:he,deltaVertical:fe}}function M($){const{value:U}=r;if(!U)return{offsetX:0,offsetY:0};const T=U.getBoundingClientRect(),{moveVerticalDirection:K,moveHorizontalDirection:J,deltaHorizontal:he,deltaVertical:fe}=$||{};let me=0,Se=0;return T.width<=window.innerWidth?me=0:T.left>0?me=(T.width-window.innerWidth)/2:T.right<window.innerWidth?me=-(T.width-window.innerWidth)/2:J==="horizontalRight"?me=Math.min((T.width-window.innerWidth)/2,x-(he??0)):me=Math.max(-((T.width-window.innerWidth)/2),x-(he??0)),T.height<=window.innerHeight?Se=0:T.top>0?Se=(T.height-window.innerHeight)/2:T.bottom<window.innerHeight?Se=-(T.height-window.innerHeight)/2:K==="verticalBottom"?Se=Math.min((T.height-window.innerHeight)/2,O-(fe??0)):Se=Math.max(-((T.height-window.innerHeight)/2),O-(fe??0)),{offsetX:me,offsetY:Se}}function N($){Xe("mousemove",document,P),Xe("mouseup",document,N);const{clientX:U,clientY:T}=$;C=!1;const K=y({mouseUpClientX:U,mouseUpClientY:T,mouseDownClientX:B,mouseDownClientY:k}),J=M(K);p=J.offsetX,b=J.offsetY,v()}const V=Te(Nt,null);function S($){var U,T;if((T=(U=V==null?void 0:V.previewedImgPropsRef.value)===null||U===void 0?void 0:U.onMousedown)===null||T===void 0||T.call(U,$),$.button!==0)return;const{clientX:K,clientY:J}=$;C=!0,g=K-p,z=J-b,x=p,O=b,B=K,k=J,v(),nt("mousemove",document,P),nt("mouseup",document,N)}function A($){var U,T;(T=(U=V==null?void 0:V.previewedImgPropsRef.value)===null||U===void 0?void 0:U.onDblclick)===null||T===void 0||T.call(U,$);const K=ge();F=F===K?1:K,v()}const D=1.5;let Z=0,F=1,G=0;function X(){F=1,Z=0}function Y(){var $;X(),G=0,($=e.onPrev)===null||$===void 0||$.call(e)}function ce(){var $;X(),G=0,($=e.onNext)===null||$===void 0||$.call(e)}function re(){G-=90,v()}function be(){G+=90,v()}function ve(){const{value:$}=r;if(!$)return 1;const{innerWidth:U,innerHeight:T}=window,K=Math.max(1,$.naturalHeight/(T-Ye)),J=Math.max(1,$.naturalWidth/(U-Ye));return Math.max(3,K*2,J*2)}function ge(){const{value:$}=r;if(!$)return 1;const{innerWidth:U,innerHeight:T}=window,K=$.naturalHeight/(T-Ye),J=$.naturalWidth/(U-Ye);return K<1&&J<1?1:Math.max(K,J)}function $e(){const $=ve();F<$&&(Z+=1,F=Math.min($,Math.pow(D,Z)),v())}function I(){if(F>.5){const $=F;Z-=1,F=Math.max(.5,Math.pow(D,Z));const U=$-F;v(!1);const T=M();F+=U,v(!1),F-=U,p=T.offsetX,b=T.offsetY,v()}}function w(){const $=c.value;$&&Ut($,void 0)}function v($=!0){var U;const{value:T}=r;if(!T)return;const{style:K}=T,J=ke((U=V==null?void 0:V.previewedImgPropsRef.value)===null||U===void 0?void 0:U.style);let he="";if(typeof J=="string")he=J+";";else for(const me in J)he+=`${Hn(me)}: ${J[me]};`;const fe=`transform-origin: center; transform: translateX(${p}px) translateY(${b}px) rotate(${G}deg) scale(${F});`;C?K.cssText=he+"cursor: grabbing; transition: none;"+fe:K.cssText=he+"cursor: grab;"+fe+($?"":"transition: none;"),$||T.offsetHeight}function _(){f.value=!f.value,m.value=!0}function H(){F=ge(),Z=Math.ceil(Math.log(F)/Math.log(D)),p=0,b=0,v()}const He={setPreviewSrc:$=>{c.value=$},setThumbnailEl:$=>{i=$},toggleShow:_};function Kt($,U){if(e.showToolbarTooltip){const{value:T}=t;return o(Mn,{to:!1,theme:T.peers.Tooltip,themeOverrides:T.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[U],trigger:()=>$})}else return $}const wt=E(()=>{const{common:{cubicBezierEaseInOut:$},self:{toolbarIconColor:U,toolbarBorderRadius:T,toolbarBoxShadow:K,toolbarColor:J}}=t.value;return{"--n-bezier":$,"--n-toolbar-icon-color":U,"--n-toolbar-color":J,"--n-toolbar-border-radius":T,"--n-toolbar-box-shadow":K}}),{inlineThemeDisabled:bt}=Ve(),Le=bt?pt("image-preview",void 0,wt,e):void 0;return Object.assign({previewRef:r,previewWrapperRef:l,previewSrc:c,show:f,appear:on(),displayed:m,previewedImgProps:V==null?void 0:V.previewedImgPropsRef,handleWheel($){$.preventDefault()},handlePreviewMousedown:S,handlePreviewDblclick:A,syncTransformOrigin:a,handleAfterLeave:()=>{X(),G=0,m.value=!1},handleDragStart:$=>{var U,T;(T=(U=V==null?void 0:V.previewedImgPropsRef.value)===null||U===void 0?void 0:U.onDragstart)===null||T===void 0||T.call(U,$),$.preventDefault()},zoomIn:$e,zoomOut:I,handleDownloadClick:w,rotateCounterclockwise:re,rotateClockwise:be,handleSwitchPrev:Y,handleSwitchNext:ce,withTooltip:Kt,resizeToOrignalImageSize:H,cssVars:bt?void 0:wt,themeClass:Le==null?void 0:Le.themeClass,onRender:Le==null?void 0:Le.onRender},He)},render(){var e,t;const{clsPrefix:i}=this;return o(Ie,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),o(an,{show:this.show},{default:()=>{var r;return this.show||this.displayed?((r=this.onRender)===null||r===void 0||r.call(this),Ke(o("div",{class:[`${i}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},o(ot,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?o("div",{class:`${i}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?o(ot,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:l}=this;return o("div",{class:`${i}-image-preview-toolbar`},this.onPrev?o(Ie,null,l(o(oe,{clsPrefix:i,onClick:this.handleSwitchPrev},{default:()=>to}),"tipPrevious"),l(o(oe,{clsPrefix:i,onClick:this.handleSwitchNext},{default:()=>no}),"tipNext")):null,l(o(oe,{clsPrefix:i,onClick:this.rotateCounterclockwise},{default:()=>o(Vn,null)}),"tipCounterclockwise"),l(o(oe,{clsPrefix:i,onClick:this.rotateClockwise},{default:()=>o(Wn,null)}),"tipClockwise"),l(o(oe,{clsPrefix:i,onClick:this.resizeToOrignalImageSize},{default:()=>o(Yn,null)}),"tipOriginalSize"),l(o(oe,{clsPrefix:i,onClick:this.zoomOut},{default:()=>o(Gn,null)}),"tipZoomOut"),l(o(oe,{clsPrefix:i,onClick:this.zoomIn},{default:()=>o(Xn,null)}),"tipZoomIn"),l(o(oe,{clsPrefix:i,onClick:this.handleDownloadClick},{default:()=>ao}),"tipDownload"),l(o(oe,{clsPrefix:i,onClick:this.toggleShow},{default:()=>oo}),"tipClose"))}}):null,o(ot,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:l={}}=this;return Ke(o("div",{class:`${i}-image-preview-wrapper`,ref:"previewWrapperRef"},o("img",Object.assign({},l,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${i}-image-preview`,l.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[ut,this.show]])}})),[[ln,{enabled:this.show}]])):null}}))}}),Ft=ft("n-image-group"),lo=mt,ro=W({name:"ImageGroup",props:lo,setup(e){let t;const{mergedClsPrefixRef:i}=Ve(e),r=`c${dt()}`,l=sn(),c=d=>{var a;t=d,(a=m.value)===null||a===void 0||a.setPreviewSrc(d)};function f(d){var a,s;if(!(l!=null&&l.proxy))return;const z=l.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${r}]:not([data-error=true])`);if(!z.length)return;const p=Array.from(z).findIndex(b=>b.dataset.previewSrc===t);~p?c(z[(p+d+z.length)%z.length].dataset.previewSrc):c(z[0].dataset.previewSrc),d===1?(a=e.onPreviewNext)===null||a===void 0||a.call(e):(s=e.onPreviewPrev)===null||s===void 0||s.call(e)}vt(Ft,{mergedClsPrefixRef:i,setPreviewSrc:c,setThumbnailEl:d=>{var a;(a=m.value)===null||a===void 0||a.setThumbnailEl(d)},toggleShow:()=>{var d;(d=m.value)===null||d===void 0||d.toggleShow()},groupId:r});const m=R(null);return{mergedClsPrefix:i,previewInstRef:m,next:()=>{f(1)},prev:()=>{f(-1)}}},render(){return o(Et,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),so=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},mt),uo=W({name:"Image",props:so,inheritAttrs:!1,setup(e){const t=R(null),i=R(!1),r=R(null),l=Te(Ft,null),{mergedClsPrefixRef:c}=l||Ve(e),f={click:()=>{if(e.previewDisabled||i.value)return;const a=e.previewSrc||e.src;if(l){l.setPreviewSrc(a),l.setThumbnailEl(t.value),l.toggleShow();return}const{value:s}=r;s&&(s.setPreviewSrc(a),s.setThumbnailEl(t.value),s.toggleShow())}},m=R(!e.lazy);Je(()=>{var a;(a=t.value)===null||a===void 0||a.setAttribute("data-group-id",(l==null?void 0:l.groupId)||"")}),Je(()=>{if(e.lazy&&e.intersectionObserverOptions){let a;const s=ct(()=>{a==null||a(),a=void 0,a=Jn(t.value,e.intersectionObserverOptions,m)});Tt(()=>{s(),a==null||a()})}}),ct(()=>{var a;e.src||((a=e.imgProps)===null||a===void 0||a.src),i.value=!1});const d=R(!1);return vt(Nt,{previewedImgPropsRef:te(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:c,groupId:l==null?void 0:l.groupId,previewInstRef:r,imageRef:t,showError:i,shouldStartLoading:m,loaded:d,mergedOnClick:a=>{var s,g;f.click(),(g=(s=e.imgProps)===null||s===void 0?void 0:s.onClick)===null||g===void 0||g.call(s,a)},mergedOnError:a=>{if(!m.value)return;i.value=!0;const{onError:s,imgProps:{onError:g}={}}=e;s==null||s(a),g==null||g(a)},mergedOnLoad:a=>{const{onLoad:s,imgProps:{onLoad:g}={}}=e;s==null||s(a),g==null||g(a),d.value=!0}},f)},render(){var e,t;const{mergedClsPrefix:i,imgProps:r={},loaded:l,$attrs:c,lazy:f}=this,m=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),d=this.src||r.src,a=o("img",Object.assign(Object.assign({},r),{ref:"imageRef",width:this.width||r.width,height:this.height||r.height,src:this.showError?this.fallbackSrc:f&&this.intersectionObserverOptions?this.shouldStartLoading?d:void 0:d,alt:this.alt||r.alt,"aria-label":this.alt||r.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:Zn&&f&&!this.intersectionObserverOptions?"lazy":"eager",style:[r.style||"",m&&!l?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return o("div",Object.assign({},c,{role:"none",class:[c.class,`${i}-image`,(this.previewDisabled||this.showError)&&`${i}-image--preview-disabled`]}),this.groupId?a:o(Et,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:i,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>a}),!l&&m)}}),co=ne([L("progress",{display:"inline-block"},[L("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),Q("line",`
 width: 100%;
 display: block;
 `,[L("progress-content",`
 display: flex;
 align-items: center;
 `,[L("progress-graph",{flex:1})]),L("progress-custom-content",{marginLeft:"14px"}),L("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[Q("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),Q("circle, dashboard",{width:"120px"},[L("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),L("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),L("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),Q("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[L("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),L("progress-content",{position:"relative"}),L("progress-graph",{position:"relative"},[L("progress-graph-circle",[ne("svg",{verticalAlign:"bottom"}),L("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[Q("empty",{opacity:0})]),L("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),L("progress-graph-line",[Q("indicator-inside",[L("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[L("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),L("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),Q("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[L("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),L("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),L("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[L("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[Q("processing",[ne("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ne("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),ho={success:o(Lt,null),error:o(Mt,null),warning:o(Bt,null),info:o(Dt,null)},go=W({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const i=E(()=>Me(e.height)),r=E(()=>e.railBorderRadius!==void 0?Me(e.railBorderRadius):e.height!==void 0?Me(e.height,{c:.5}):""),l=E(()=>e.fillBorderRadius!==void 0?Me(e.fillBorderRadius):e.railBorderRadius!==void 0?Me(e.railBorderRadius):e.height!==void 0?Me(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:c,railColor:f,railStyle:m,percentage:d,unit:a,indicatorTextColor:s,status:g,showIndicator:z,fillColor:p,processing:b,clsPrefix:x}=e;return o("div",{class:`${x}-progress-content`,role:"none"},o("div",{class:`${x}-progress-graph`,"aria-hidden":!0},o("div",{class:[`${x}-progress-graph-line`,{[`${x}-progress-graph-line--indicator-${c}`]:!0}]},o("div",{class:`${x}-progress-graph-line-rail`,style:[{backgroundColor:f,height:i.value,borderRadius:r.value},m]},o("div",{class:[`${x}-progress-graph-line-fill`,b&&`${x}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:p,height:i.value,lineHeight:i.value,borderRadius:l.value}},c==="inside"?o("div",{class:`${x}-progress-graph-line-indicator`,style:{color:s}},t.default?t.default():`${d}${a}`):null)))),z&&c==="outside"?o("div",null,t.default?o("div",{class:`${x}-progress-custom-content`,style:{color:s},role:"none"},t.default()):g==="default"?o("div",{role:"none",class:`${x}-progress-icon ${x}-progress-icon--as-text`,style:{color:s}},d,a):o("div",{class:`${x}-progress-icon`,"aria-hidden":!0},o(oe,{clsPrefix:x},{default:()=>ho[g]}))):null)}}}),fo={success:o(Lt,null),error:o(Mt,null),warning:o(Bt,null),info:o(Dt,null)},po=W({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function i(r,l,c){const{gapDegree:f,viewBoxWidth:m,strokeWidth:d}=e,a=50,s=0,g=a,z=0,p=2*a,b=50+d/2,x=`M ${b},${b} m ${s},${g}
      a ${a},${a} 0 1 1 ${z},${-p}
      a ${a},${a} 0 1 1 ${-z},${p}`,O=Math.PI*2*a,B={stroke:c,strokeDasharray:`${r/100*(O-f)}px ${m*8}px`,strokeDashoffset:`-${f/2}px`,transformOrigin:l?"center":void 0,transform:l?`rotate(${l}deg)`:void 0};return{pathString:x,pathStyle:B}}return()=>{const{fillColor:r,railColor:l,strokeWidth:c,offsetDegree:f,status:m,percentage:d,showIndicator:a,indicatorTextColor:s,unit:g,gapOffsetDegree:z,clsPrefix:p}=e,{pathString:b,pathStyle:x}=i(100,0,l),{pathString:O,pathStyle:B}=i(d,f,r),k=100+c;return o("div",{class:`${p}-progress-content`,role:"none"},o("div",{class:`${p}-progress-graph`,"aria-hidden":!0},o("div",{class:`${p}-progress-graph-circle`,style:{transform:z?`rotate(${z}deg)`:void 0}},o("svg",{viewBox:`0 0 ${k} ${k}`},o("g",null,o("path",{class:`${p}-progress-graph-circle-rail`,d:b,"stroke-width":c,"stroke-linecap":"round",fill:"none",style:x})),o("g",null,o("path",{class:[`${p}-progress-graph-circle-fill`,d===0&&`${p}-progress-graph-circle-fill--empty`],d:O,"stroke-width":c,"stroke-linecap":"round",fill:"none",style:B}))))),a?o("div",null,t.default?o("div",{class:`${p}-progress-custom-content`,role:"none"},t.default()):m!=="default"?o("div",{class:`${p}-progress-icon`,"aria-hidden":!0},o(oe,{clsPrefix:p},{default:()=>fo[m]})):o("div",{class:`${p}-progress-text`,style:{color:s},role:"none"},o("span",{class:`${p}-progress-text__percentage`},d),o("span",{class:`${p}-progress-text__unit`},g))):null)}}});function Rt(e,t,i=100){return`m ${i/2} ${i/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const vo=W({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const i=E(()=>e.percentage.map((l,c)=>`${Math.PI*l/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*c)-e.circleGap*c)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:r,strokeWidth:l,circleGap:c,showIndicator:f,fillColor:m,railColor:d,railStyle:a,percentage:s,clsPrefix:g}=e;return o("div",{class:`${g}-progress-content`,role:"none"},o("div",{class:`${g}-progress-graph`,"aria-hidden":!0},o("div",{class:`${g}-progress-graph-circle`},o("svg",{viewBox:`0 0 ${r} ${r}`},s.map((z,p)=>o("g",{key:p},o("path",{class:`${g}-progress-graph-circle-rail`,d:Rt(r/2-l/2*(1+2*p)-c*p,l,r),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:d[p]},a[p]]}),o("path",{class:[`${g}-progress-graph-circle-fill`,z===0&&`${g}-progress-graph-circle-fill--empty`],d:Rt(r/2-l/2*(1+2*p)-c*p,l,r),"stroke-width":l,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:i.value[p],strokeDashoffset:0,stroke:m[p]}})))))),f&&t.default?o("div",null,o("div",{class:`${g}-progress-text`},t.default())):null)}}}),mo=Object.assign(Object.assign({},De.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),wo=W({name:"Progress",props:mo,setup(e){const t=E(()=>e.indicatorPlacement||e.indicatorPosition),i=E(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:r,inlineThemeDisabled:l}=Ve(e),c=De("Progress","-progress",co,un,e,r),f=E(()=>{const{status:d}=e,{common:{cubicBezierEaseInOut:a},self:{fontSize:s,fontSizeCircle:g,railColor:z,railHeight:p,iconSizeCircle:b,iconSizeLine:x,textColorCircle:O,textColorLineInner:B,textColorLineOuter:k,lineBgProcessing:C,fontWeightCircle:P,[yt("iconColor",d)]:y,[yt("fillColor",d)]:M}}=c.value;return{"--n-bezier":a,"--n-fill-color":M,"--n-font-size":s,"--n-font-size-circle":g,"--n-font-weight-circle":P,"--n-icon-color":y,"--n-icon-size-circle":b,"--n-icon-size-line":x,"--n-line-bg-processing":C,"--n-rail-color":z,"--n-rail-height":p,"--n-text-color-circle":O,"--n-text-color-line-inner":B,"--n-text-color-line-outer":k}}),m=l?pt("progress",E(()=>e.status[0]),f,e):void 0;return{mergedClsPrefix:r,mergedIndicatorPlacement:t,gapDeg:i,cssVars:l?void 0:f,themeClass:m==null?void 0:m.themeClass,onRender:m==null?void 0:m.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:i,showIndicator:r,status:l,railColor:c,railStyle:f,color:m,percentage:d,viewBoxWidth:a,strokeWidth:s,mergedIndicatorPlacement:g,unit:z,borderRadius:p,fillBorderRadius:b,height:x,processing:O,circleGap:B,mergedClsPrefix:k,gapDeg:C,gapOffsetDegree:P,themeClass:y,$slots:M,onRender:N}=this;return N==null||N(),o("div",{class:[y,`${k}-progress`,`${k}-progress--${e}`,`${k}-progress--${l}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":d,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?o(po,{clsPrefix:k,status:l,showIndicator:r,indicatorTextColor:i,railColor:c,fillColor:m,railStyle:f,offsetDegree:this.offsetDegree,percentage:d,viewBoxWidth:a,strokeWidth:s,gapDegree:C===void 0?e==="dashboard"?75:0:C,gapOffsetDegree:P,unit:z},M):e==="line"?o(go,{clsPrefix:k,status:l,showIndicator:r,indicatorTextColor:i,railColor:c,fillColor:m,railStyle:f,percentage:d,processing:O,indicatorPlacement:g,unit:z,fillBorderRadius:b,railBorderRadius:p,height:x},M):e==="multiple-circle"?o(vo,{clsPrefix:k,strokeWidth:s,railColor:c,fillColor:m,railStyle:f,viewBoxWidth:a,percentage:d,showIndicator:r,circleGap:B},M):null)}}),je=ft("n-upload"),qt="__UPLOAD_DRAGGER__",bo=W({name:"UploadDragger",[qt]:!0,setup(e,{slots:t}){const i=Te(je,null);return i||et("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:r},mergedDisabledRef:{value:l},maxReachedRef:{value:c}}=i;return o("div",{class:[`${r}-upload-dragger`,(l||c)&&`${r}-upload-dragger--disabled`]},t)}}});var gt=function(e,t,i,r){function l(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(s){try{a(r.next(s))}catch(g){f(g)}}function d(s){try{a(r.throw(s))}catch(g){f(g)}}function a(s){s.done?c(s.value):l(s.value).then(m,d)}a((r=r.apply(e,t||[])).next())})};const Wt=e=>e.includes("image/"),St=(e="")=>{const t=e.split("/"),r=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(r)||[""])[0]},Pt=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,Vt=e=>{if(e.type)return Wt(e.type);const t=St(e.name||"");if(Pt.test(t))return!0;const i=e.thumbnailUrl||e.url||"",r=St(i);return!!(/^data:image\//.test(i)||Pt.test(r))};function xo(e){return gt(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!Wt(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const yo=$t&&window.FileReader&&window.File;function Co(e){return e.isDirectory}function ko(e){return e.isFile}function _o(e,t){return gt(this,void 0,void 0,function*(){const i=[];function r(l){return gt(this,void 0,void 0,function*(){for(const c of l)if(c){if(t&&Co(c)){const f=c.createReader();try{const m=yield new Promise((d,a)=>{f.readEntries(d,a)});yield r(m)}catch{}}else if(ko(c))try{const f=yield new Promise((m,d)=>{c.file(m,d)});i.push({file:f,entry:c,source:"dnd"})}catch{}}})}return yield r(e),i})}function We(e){const{id:t,name:i,percentage:r,status:l,url:c,file:f,thumbnailUrl:m,type:d,fullPath:a,batchId:s}=e;return{id:t,name:i,percentage:r??null,status:l,url:c??null,file:f??null,thumbnailUrl:m??null,type:d??null,fullPath:a??null,batchId:s??null}}function zo(e,t,i){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),i=i.toLocaleLowerCase(),i.split(",").map(l=>l.trim()).filter(Boolean).some(l=>{if(l.startsWith(".")){if(e.endsWith(l))return!0}else if(l.includes("/")){const[c,f]=t.split("/"),[m,d]=l.split("/");if((m==="*"||c&&m&&m===c)&&(d==="*"||f&&d&&d===f))return!0}else return!0;return!1})}const Xt=W({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const i=Te(je,null);i||et("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:r,mergedDisabledRef:l,maxReachedRef:c,listTypeRef:f,dragOverRef:m,openOpenFileDialog:d,draggerInsideRef:a,handleFileAddition:s,mergedDirectoryDndRef:g,triggerClassRef:z,triggerStyleRef:p}=i,b=E(()=>f.value==="image-card");function x(){l.value||c.value||d()}function O(P){P.preventDefault(),m.value=!0}function B(P){P.preventDefault(),m.value=!0}function k(P){P.preventDefault(),m.value=!1}function C(P){var y;if(P.preventDefault(),!a.value||l.value||c.value){m.value=!1;return}const M=(y=P.dataTransfer)===null||y===void 0?void 0:y.items;M!=null&&M.length?_o(Array.from(M).map(N=>N.webkitGetAsEntry()),g.value).then(N=>{s(N)}).finally(()=>{m.value=!1}):m.value=!1}return()=>{var P;const{value:y}=r;return e.abstract?(P=t.default)===null||P===void 0?void 0:P.call(t,{handleClick:x,handleDrop:C,handleDragOver:O,handleDragEnter:B,handleDragLeave:k}):o("div",{class:[`${y}-upload-trigger`,(l.value||c.value)&&`${y}-upload-trigger--disabled`,b.value&&`${y}-upload-trigger--image-card`,z.value],style:p.value,onClick:x,onDrop:C,onDragover:O,onDragenter:B,onDragleave:k},b.value?o(bo,null,{default:()=>dn(t.default,()=>[o(oe,{clsPrefix:y},{default:()=>o($n,null)})])}):t)}}}),Ro=W({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:Te(je).mergedThemeRef}},render(){return o(Ot,null,{default:()=>this.show?o(wo,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),So=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Po=o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},o("g",{fill:"none"},o("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var Io=function(e,t,i,r){function l(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(s){try{a(r.next(s))}catch(g){f(g)}}function d(s){try{a(r.throw(s))}catch(g){f(g)}}function a(s){s.done?c(s.value):l(s.value).then(m,d)}a((r=r.apply(e,t||[])).next())})};const Ze={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},$o=W({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=Te(je),i=R(null),r=R(""),l=E(()=>{const{file:y}=e;return y.status==="finished"?"success":y.status==="error"?"error":"info"}),c=E(()=>{const{file:y}=e;if(y.status==="error")return"error"}),f=E(()=>{const{file:y}=e;return y.status==="uploading"}),m=E(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:y}=e;return["uploading","pending","error"].includes(y.status)}),d=E(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:y}=e;return["finished"].includes(y.status)}),a=E(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:y}=e;return["finished"].includes(y.status)}),s=E(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:y}=e;return["error"].includes(y.status)}),g=cn(()=>r.value||e.file.thumbnailUrl||e.file.url),z=E(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:y},listType:M}=e;return["finished"].includes(y)&&g.value&&M==="image-card"});function p(){t.submit(e.file.id)}function b(y){y.preventDefault();const{file:M}=e;["finished","pending","error"].includes(M.status)?O(M):["uploading"].includes(M.status)?k(M):gn("upload","The button clicked type is unknown.")}function x(y){y.preventDefault(),B(e.file)}function O(y){const{xhrMap:M,doChange:N,onRemoveRef:{value:V},mergedFileListRef:{value:S}}=t;Promise.resolve(V?V({file:Object.assign({},y),fileList:S}):!0).then(A=>{if(A===!1)return;const D=Object.assign({},y,{status:"removed"});M.delete(y.id),N(D,void 0,{remove:!0})})}function B(y){const{onDownloadRef:{value:M}}=t;Promise.resolve(M?M(Object.assign({},y)):!0).then(N=>{N!==!1&&Ut(y.url,y.name)})}function k(y){const{xhrMap:M}=t,N=M.get(y.id);N==null||N.abort(),O(Object.assign({},y))}function C(){const{onPreviewRef:{value:y}}=t;if(y)y(e.file);else if(e.listType==="image-card"){const{value:M}=i;if(!M)return;M.click()}}const P=()=>Io(this,void 0,void 0,function*(){const{listType:y}=e;y!=="image"&&y!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(r.value=yield t.getFileThumbnailUrlResolver(e.file))});return ct(()=>{P()}),{mergedTheme:t.mergedThemeRef,progressStatus:l,buttonType:c,showProgress:f,disabled:t.mergedDisabledRef,showCancelButton:m,showRemoveButton:d,showDownloadButton:a,showRetryButton:s,showPreviewButton:z,mergedThumbnailUrl:g,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:i,handleRemoveOrCancelClick:b,handleDownloadClick:x,handleRetryClick:p,handlePreviewClick:C}},render(){const{clsPrefix:e,mergedTheme:t,listType:i,file:r,renderIcon:l}=this;let c;const f=i==="image";f||i==="image-card"?c=!this.shouldUseThumbnailUrl(r)||!this.mergedThumbnailUrl?o("span",{class:`${e}-upload-file-info__thumbnail`},l?l(r):Vt(r)?o(oe,{clsPrefix:e},{default:()=>So}):o(oe,{clsPrefix:e},{default:()=>Po})):o("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},i==="image-card"?o(uo,{src:this.mergedThumbnailUrl||void 0,previewSrc:r.url||void 0,alt:r.name,ref:"imageRef"}):o("img",{src:this.mergedThumbnailUrl||void 0,alt:r.name})):c=o("span",{class:`${e}-upload-file-info__thumbnail`},l?l(r):o(oe,{clsPrefix:e},{default:()=>o(Un,null)}));const d=o(Ro,{show:this.showProgress,percentage:r.percentage||0,status:this.progressStatus}),a=i==="text"||i==="image";return o("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,r.url&&r.status!=="error"&&i!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${i}-type`]},o("div",{class:`${e}-upload-file-info`},c,o("div",{class:`${e}-upload-file-info__name`},a&&(r.url&&r.status!=="error"?o("a",{rel:"noopener noreferer",target:"_blank",href:r.url||void 0,onClick:this.handlePreviewClick},r.name):o("span",{onClick:this.handlePreviewClick},r.name)),f&&d),o("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${i}-type`]},this.showPreviewButton?o(Be,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ze},{icon:()=>o(oe,{clsPrefix:e},{default:()=>o(Bn,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&o(Be,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Ze,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>o(hn,null,{default:()=>this.showRemoveButton?o(oe,{clsPrefix:e,key:"trash"},{default:()=>o(Nn,null)}):o(oe,{clsPrefix:e,key:"cancel"},{default:()=>o(Fn,null)})})}),this.showRetryButton&&!this.disabled&&o(Be,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ze},{icon:()=>o(oe,{clsPrefix:e},{default:()=>o(qn,null)})}),this.showDownloadButton?o(Be,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Ze},{icon:()=>o(oe,{clsPrefix:e},{default:()=>o(En,null)})}):null)),!f&&d)}}),To=W({name:"UploadFileList",setup(e,{slots:t}){const i=Te(je,null);i||et("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:r,mergedClsPrefixRef:l,listTypeRef:c,mergedFileListRef:f,fileListClassRef:m,fileListStyleRef:d,cssVarsRef:a,themeClassRef:s,maxReachedRef:g,showTriggerRef:z,imageGroupPropsRef:p}=i,b=E(()=>c.value==="image-card"),x=()=>f.value.map(B=>o($o,{clsPrefix:l.value,key:B.id,file:B,listType:c.value})),O=()=>b.value?o(ro,Object.assign({},p.value),{default:x}):o(Ot,{group:!0},{default:x});return()=>{const{value:B}=l,{value:k}=r;return o("div",{class:[`${B}-upload-file-list`,b.value&&`${B}-upload-file-list--grid`,k?s==null?void 0:s.value:void 0,m.value],style:[k&&a?a.value:"",d.value]},O(),z.value&&!g.value&&b.value&&o(Xt,null,t))}}}),Lo=ne([L("upload","width: 100%;",[Q("dragger-inside",[L("upload-trigger",`
 display: block;
 `)]),Q("drag-over",[L("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),L("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ne("&:hover",`
 border: var(--n-dragger-border-hover);
 `),Q("disabled",`
 cursor: not-allowed;
 `)]),L("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ne("+",[L("upload-file-list","margin-top: 8px;")]),Q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),Q("image-card",`
 width: 96px;
 height: 96px;
 `,[L("base-icon",`
 font-size: 24px;
 `),L("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),L("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ne("a, img","outline: none;"),Q("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[L("upload-file","cursor: not-allowed;")]),Q("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),L("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[Ct(),L("progress",[Ct({foldPadding:!0})]),ne("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[L("upload-file-info",[we("action",`
 opacity: 1;
 `)])]),Q("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[L("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[L("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),we("name",`
 padding: 0 8px;
 `),we("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ne("img",`
 width: 100%;
 `)])])]),Q("text-type",[L("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),Q("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[L("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),L("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[we("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ne("img",`
 width: 100%;
 `)])]),ne("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ne("&:hover",[ne("&::before","opacity: 1;"),L("upload-file-info",[we("thumbnail","opacity: .12;")])])]),Q("error-status",[ne("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),L("upload-file-info",[we("name","color: var(--n-item-text-color-error);"),we("thumbnail","color: var(--n-item-text-color-error);")]),Q("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),Q("with-url",`
 cursor: pointer;
 `,[L("upload-file-info",[we("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ne("a",`
 text-decoration: underline;
 `)])])]),L("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[we("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[L("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),we("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[L("button",[ne("&:not(:last-child)",{marginRight:"4px"}),L("base-icon",[ne("svg",[fn()])])]),Q("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),Q("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),we("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ne("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),L("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var It=function(e,t,i,r){function l(c){return c instanceof i?c:new i(function(f){f(c)})}return new(i||(i=Promise))(function(c,f){function m(s){try{a(r.next(s))}catch(g){f(g)}}function d(s){try{a(r.throw(s))}catch(g){f(g)}}function a(s){s.done?c(s.value):l(s.value).then(m,d)}a((r=r.apply(e,t||[])).next())})};function Mo(e,t,i){const{doChange:r,xhrMap:l}=e;let c=0;function f(d){var a;let s=Object.assign({},t,{status:"error",percentage:c});l.delete(t.id),s=We(((a=e.onError)===null||a===void 0?void 0:a.call(e,{file:s,event:d}))||s),r(s,d)}function m(d){var a;if(e.isErrorState){if(e.isErrorState(i)){f(d);return}}else if(i.status<200||i.status>=300){f(d);return}let s=Object.assign({},t,{status:"finished",percentage:c});l.delete(t.id),s=We(((a=e.onFinish)===null||a===void 0?void 0:a.call(e,{file:s,event:d}))||s),r(s,d)}return{handleXHRLoad:m,handleXHRError:f,handleXHRAbort(d){const a=Object.assign({},t,{status:"removed",file:null,percentage:c});l.delete(t.id),r(a,d)},handleXHRProgress(d){const a=Object.assign({},t,{status:"uploading"});if(d.lengthComputable){const s=Math.ceil(d.loaded/d.total*100);a.percentage=s,c=s}r(a,d)}}}function Bo(e){const{inst:t,file:i,data:r,headers:l,withCredentials:c,action:f,customRequest:m}=e,{doChange:d}=e.inst;let a=0;m({file:i,data:r,headers:l,withCredentials:c,action:f,onProgress(s){const g=Object.assign({},i,{status:"uploading"}),z=s.percent;g.percentage=z,a=z,d(g)},onFinish(){var s;let g=Object.assign({},i,{status:"finished",percentage:a});g=We(((s=t.onFinish)===null||s===void 0?void 0:s.call(t,{file:g}))||g),d(g)},onError(){var s;let g=Object.assign({},i,{status:"error",percentage:a});g=We(((s=t.onError)===null||s===void 0?void 0:s.call(t,{file:g}))||g),d(g)}})}function Do(e,t,i){const r=Mo(e,t,i);i.onabort=r.handleXHRAbort,i.onerror=r.handleXHRError,i.onload=r.handleXHRLoad,i.upload&&(i.upload.onprogress=r.handleXHRProgress)}function Gt(e,t){return typeof e=="function"?e({file:t}):e||{}}function Oo(e,t,i){const r=Gt(t,i);r&&Object.keys(r).forEach(l=>{e.setRequestHeader(l,r[l])})}function Ao(e,t,i){const r=Gt(t,i);r&&Object.keys(r).forEach(l=>{e.append(l,r[l])})}function jo(e,t,i,{method:r,action:l,withCredentials:c,responseType:f,headers:m,data:d}){const a=new XMLHttpRequest;a.responseType=f,e.xhrMap.set(i.id,a),a.withCredentials=c;const s=new FormData;if(Ao(s,d,i),i.file!==null&&s.append(t,i.file),Do(e,i,a),l!==void 0){a.open(r.toUpperCase(),l),Oo(a,m,i),a.send(s);const g=Object.assign({},i,{status:"uploading"});e.doChange(g)}}const Ho=Object.assign(Object.assign({},De.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>yo?Vt(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),Yt=W({name:"Upload",props:Ho,setup(e){e.abstract&&e.listType==="image-card"&&et("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:i}=Ve(e),r=De("Upload","-upload",Lo,wn,e,t),l=pn(e),c=E(()=>{const{max:S}=e;return S!==void 0?p.value.length>=S:!1}),f=R(e.defaultFileList),m=te(e,"fileList"),d=R(null),a={value:!1},s=R(!1),g=new Map,z=vn(m,f),p=E(()=>z.value.map(We));function b(){var S;(S=d.value)===null||S===void 0||S.click()}function x(S){const A=S.target;k(A.files?Array.from(A.files).map(D=>({file:D,entry:null,source:"input"})):null,S),A.value=""}function O(S){const{"onUpdate:fileList":A,onUpdateFileList:D}=e;A&&kt(A,S),D&&kt(D,S),f.value=S}const B=E(()=>e.multiple||e.directory);function k(S,A){if(!S||S.length===0)return;const{onBeforeUpload:D}=e;S=B.value?S:[S[0]];const{max:Z,accept:F}=e;S=S.filter(({file:X,source:Y})=>Y==="dnd"&&(F!=null&&F.trim())?zo(X.name,X.type,F):!0),Z&&(S=S.slice(0,Z-p.value.length));const G=dt();Promise.all(S.map(({file:X,entry:Y})=>It(this,void 0,void 0,function*(){var ce;const re={id:dt(),batchId:G,name:X.name,status:"pending",percentage:0,file:X,url:null,type:X.type,thumbnailUrl:null,fullPath:(ce=Y==null?void 0:Y.fullPath)!==null&&ce!==void 0?ce:`/${X.webkitRelativePath||X.name}`};return!D||(yield D({file:re,fileList:p.value}))!==!1?re:null}))).then(X=>It(this,void 0,void 0,function*(){let Y=Promise.resolve();X.forEach(ce=>{Y=Y.then(bn).then(()=>{ce&&P(ce,A,{append:!0})})}),yield Y})).then(()=>{e.defaultUpload&&C()})}function C(S){const{method:A,action:D,withCredentials:Z,headers:F,data:G,name:X}=e,Y=S!==void 0?p.value.filter(re=>re.id===S):p.value,ce=S!==void 0;Y.forEach(re=>{const{status:be}=re;(be==="pending"||be==="error"&&ce)&&(e.customRequest?Bo({inst:{doChange:P,xhrMap:g,onFinish:e.onFinish,onError:e.onError},file:re,action:D,withCredentials:Z,headers:F,data:G,customRequest:e.customRequest}):jo({doChange:P,xhrMap:g,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},X,re,{method:A,action:D,withCredentials:Z,responseType:e.responseType,headers:F,data:G}))})}const P=(S,A,D={append:!1,remove:!1})=>{const{append:Z,remove:F}=D,G=Array.from(p.value),X=G.findIndex(Y=>Y.id===S.id);if(Z||F||~X){Z?G.push(S):F?G.splice(X,1):G.splice(X,1,S);const{onChange:Y}=e;Y&&Y({file:S,fileList:G,event:A}),O(G)}};function y(S){var A;if(S.thumbnailUrl)return S.thumbnailUrl;const{createThumbnailUrl:D}=e;return D?(A=D(S.file,S))!==null&&A!==void 0?A:S.url||"":S.url?S.url:S.file?xo(S.file):""}const M=E(()=>{const{common:{cubicBezierEaseInOut:S},self:{draggerColor:A,draggerBorder:D,draggerBorderHover:Z,itemColorHover:F,itemColorHoverError:G,itemTextColorError:X,itemTextColorSuccess:Y,itemTextColor:ce,itemIconColor:re,itemDisabledOpacity:be,lineHeight:ve,borderRadius:ge,fontSize:$e,itemBorderImageCardError:I,itemBorderImageCard:w}}=r.value;return{"--n-bezier":S,"--n-border-radius":ge,"--n-dragger-border":D,"--n-dragger-border-hover":Z,"--n-dragger-color":A,"--n-font-size":$e,"--n-item-color-hover":F,"--n-item-color-hover-error":G,"--n-item-disabled-opacity":be,"--n-item-icon-color":re,"--n-item-text-color":ce,"--n-item-text-color-error":X,"--n-item-text-color-success":Y,"--n-line-height":ve,"--n-item-border-image-card-error":I,"--n-item-border-image-card":w}}),N=i?pt("upload",void 0,M,e):void 0;vt(je,{mergedClsPrefixRef:t,mergedThemeRef:r,showCancelButtonRef:te(e,"showCancelButton"),showDownloadButtonRef:te(e,"showDownloadButton"),showRemoveButtonRef:te(e,"showRemoveButton"),showRetryButtonRef:te(e,"showRetryButton"),onRemoveRef:te(e,"onRemove"),onDownloadRef:te(e,"onDownload"),mergedFileListRef:p,triggerClassRef:te(e,"triggerClass"),triggerStyleRef:te(e,"triggerStyle"),shouldUseThumbnailUrlRef:te(e,"shouldUseThumbnailUrl"),renderIconRef:te(e,"renderIcon"),xhrMap:g,submit:C,doChange:P,showPreviewButtonRef:te(e,"showPreviewButton"),onPreviewRef:te(e,"onPreview"),getFileThumbnailUrlResolver:y,listTypeRef:te(e,"listType"),dragOverRef:s,openOpenFileDialog:b,draggerInsideRef:a,handleFileAddition:k,mergedDisabledRef:l.mergedDisabledRef,maxReachedRef:c,fileListClassRef:te(e,"fileListClass"),fileListStyleRef:te(e,"fileListStyle"),abstractRef:te(e,"abstract"),acceptRef:te(e,"accept"),cssVarsRef:i?void 0:M,themeClassRef:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,showTriggerRef:te(e,"showTrigger"),imageGroupPropsRef:te(e,"imageGroupProps"),mergedDirectoryDndRef:E(()=>{var S;return(S=e.directoryDnd)!==null&&S!==void 0?S:e.directory})});const V={clear:()=>{f.value=[]},submit:C,openOpenFileDialog:b};return Object.assign({mergedClsPrefix:t,draggerInsideRef:a,inputElRef:d,mergedTheme:r,dragOver:s,mergedMultiple:B,cssVars:i?void 0:M,themeClass:N==null?void 0:N.themeClass,onRender:N==null?void 0:N.onRender,handleFileInputChange:x},V)},render(){var e,t;const{draggerInsideRef:i,mergedClsPrefix:r,$slots:l,directory:c,onRender:f}=this;if(l.default&&!this.abstract){const d=l.default()[0];!((e=d==null?void 0:d.type)===null||e===void 0)&&e[qt]&&(i.value=!0)}const m=o("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${r}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:c||void 0,directory:c||void 0}));return this.abstract?o(Ie,null,(t=l.default)===null||t===void 0?void 0:t.call(l),o(mn,{to:"body"},m)):(f==null||f(),o("div",{class:[`${r}-upload`,i.value&&`${r}-upload--dragger-inside`,this.dragOver&&`${r}-upload--drag-over`,this.themeClass],style:this.cssVars},m,this.showTrigger&&this.listType!=="image-card"&&o(Xt,null,l),this.showFileList&&o(To,null,l)))}}),Uo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},No=ee("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Eo=[No],Fo=W({name:"Minus",render:function(t,i){return q(),ue("svg",Uo,Eo)}}),qo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Wo=ee("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),Vo=[Wo],Xo=W({name:"Plus",render:function(t,i){return q(),ue("svg",qo,Vo)}}),Go={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Yo=ee("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),Zo=[Yo],Ko=W({name:"ArrowUndoOutline",render:function(t,i){return q(),ue("svg",Go,Zo)}}),Jo={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Qo=At('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),ea=[Qo],ta=W({name:"DiceOutline",render:function(t,i){return q(),ue("svg",Jo,ea)}}),na={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},oa=At('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),aa=[oa],ia=W({name:"GameControllerOutline",render:function(t,i){return q(),ue("svg",na,aa)}}),vi=e=>{const t=pe.Post("api/posts/create",e,{name:"newPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},mi=e=>{const t=pe.Get("api/posts/"+e.post_id,{name:"postGetter",params:{binggan:e.binggan,thread_id:e.thread_id},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},wi=e=>{const t=pe.Delete("api/posts/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"deletePostDeleter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},bi=e=>{const t=pe.Put("api/posts/recover/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"recoverPostPutter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},la=e=>{const t=pe.Post("api/posts/create_roll",e,{name:"rollPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t};function ra(e,t,i){const r=new Date().getTime(),l=Sn.MD5(t+i+r+e).toString();return{timestamp:r,newPostKey:l}}const sa=W({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:i}){const r=ze(),l=Re(),c=e,f=E(()=>{let k=[];if(a.value>0&&s.value>0){for(var C=0;C<a.value;C++)k[C]=Math.floor(Math.random()*s.value)+1;return k.join()}else return null}),m=R(),d=R(),a=R(1),s=R(100),g=R(!1);function z(){g.value=!0}t({show:z});const p=i,{loading:b,send:x,onSuccess:O}=tt(k=>la(k),{immediate:!1});function B(){if(!a.value){window.$message.error("请填写骰子数量");return}if(!s.value){window.$message.error("请填写骰子数量");return}const k={binggan:l.binggan,thread_id:c.threadId,forum_id:c.forumId,roll_name:m.value,roll_event:d.value,roll_num:a.value,roll_range:s.value};x(k)}return O(()=>{p("refreshPostsList"),g.value=!1}),(k,C)=>(q(),se(n(Ae),{show:g.value,"onUpdate:show":C[6]||(C[6]=P=>g.value=P),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ke({maxWidth:n(r).modalMaxWidth}),title:"Roll点",closable:"",onClose:C[5]||(C[5]=P=>g.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:B,disabled:n(b)},{default:h(()=>[j("Roll it!")]),_:1},8,["disabled"]),u(n(de),{onClick:C[4]||(C[4]=P=>g.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(ye),null,{default:h(()=>[j(" 输出参考： ")]),_:1}),u(n(ye),null,{default:h(()=>[j(Pe(m.value?`「${m.value}」，`:"")+" "+Pe(d.value?`「${d.value}」的结果：`:"")+" "+Pe(`${a.value} d ${s.value} = 「${f.value}」`),1)]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("Roll点昵称")]),_:1}),u(n(Ce),{placeholder:"可留空",maxlength:100,value:m.value,"onUpdate:value":C[0]||(C[0]=P=>m.value=P)},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("Roll点事件")]),_:1}),u(n(Ce),{placeholder:"可留空",maxlength:100,value:d.value,"onUpdate:value":C[1]||(C[1]=P=>d.value=P)},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("骰子数量")]),_:1}),u(n(Fe),{max:100,min:1,placeholder:"必须填写",value:a.value,"onUpdate:value":C[2]||(C[2]=P=>a.value=P)},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"},class:"round"},{default:h(()=>[j("骰子大小")]),_:1}),u(n(Fe),{max:1e4,min:1,placeholder:"必须填写",value:s.value,"onUpdate:value":C[3]||(C[3]=P=>s.value=P)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),ua={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},da=ee("defs",null,null,-1),ca=ee("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),ha=ee("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),ga=[da,ca,ha],fa=W({name:"AudioMutedOutlined",render:function(t,i){return q(),ue("svg",ua,ga)}}),pa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},va=ee("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),ma=[va],wa=W({name:"MoneyCollectOutlined",render:function(t,i){return q(),ue("svg",pa,ma)}}),ba={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},xa=ee("g",{fill:"none"},[ee("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),ya=[xa],Ca=W({name:"Code24Regular",render:function(t,i){return q(),ue("svg",ba,ya)}}),ka={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},_a=ee("g",{fill:"none"},[ee("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),za=[_a],Ra=W({name:"DrawShape24Regular",render:function(t,i){return q(),ue("svg",ka,za)}}),Sa={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Pa=ee("g",{fill:"none"},[ee("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),Ia=[Pa],$a=W({name:"Eraser24Regular",render:function(t,i){return q(),ue("svg",Sa,Ia)}}),Ta=Re(),xi=e=>{const t=pe.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:Ta.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return t.meta={shouldRemind:!1},t},La=e=>{const t=pe.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},yi=e=>{const t=pe.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},st=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],Ma=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}],Ba=W({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:i}){const r=ze(),l=Re(),c=e,f=E(()=>{const k=[{value:1,label:"共通",available:!0}];return Ma.forEach(C=>{C.value===c.randomHeadsGroup&&k.push(C)}),k}),m=E(()=>{const k=st[a.value-1];if(a.value===1){const C=l.userData.my_battle_chara.filter(P=>!P.not_use).map((P,y)=>({value:y+240,label:P.name}));return k.concat(C)}else return k}),d=R(1),a=R(c.randomHeadsGroup),s=R(100);Qe(a,k=>{k===1?d.value=st[k-1][8].value:d.value=st[k-1][0].value},{immediate:!0});const{loading:g,send:z,onSuccess:p}=tt(k=>La(k),{immediate:!1});function b(k){const{timestamp:C,newPostKey:P}=ra(k.isTrusted,c.threadId,l.binggan),y={binggan:l.binggan,forum_id:c.forumId,thread_id:c.threadId,battle_olo:s.value,chara_id:d.value>=240?d.value-240:d.value,is_custom_chara:d.value>=240,chara_group:a.value-1,new_post_key:P,timestamp:C};z(y)}p(()=>{B("refreshPostsList"),x.value=!1});const x=R(!1);function O(){x.value=!0}t({show:O});const B=i;return(k,C)=>(q(),se(n(Ae),{show:x.value,"onUpdate:show":C[5]||(C[5]=P=>x.value=P),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ke({maxWidth:n(r).modalMaxWidth}),title:"表情包大乱斗！",closable:"",onClose:C[4]||(C[4]=P=>x.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:b,loading:n(g)},{default:h(()=>[j("提交")]),_:1},8,["loading"]),u(n(de),{onClick:C[3]||(C[3]=P=>x.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(ye),null,{default:h(()=>[j("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"3.2rem"}},{default:h(()=>[j("主题")]),_:1}),u(n(qe),{value:a.value,"onUpdate:value":C[0]||(C[0]=P=>a.value=P),options:f.value},null,8,["value","options"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"3.2rem"}},{default:h(()=>[j("角色")]),_:1}),u(n(qe),{value:d.value,"onUpdate:value":C[1]||(C[1]=P=>d.value=P),options:m.value},null,8,["value","options"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"3.2rem"}},{default:h(()=>[j("下注")]),_:1}),u(n(Fe),{value:s.value,"onUpdate:value":C[2]||(C[2]=P=>s.value=P),max:1e6,min:100,step:100,parse:n(jt),format:n(Ht),onKeyup:Ne(b,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Da=W({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:t,emit:i}){const r=ze(),l=R(0),c=R(),f=R(),m=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],d=E(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${f.value}</summary>${c.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${f.value}">${c.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${c.value}">`}]);Qe(l,()=>{c.value=d.value[l.value].inputDefault_1,f.value=d.value[l.value].inputDefault_2},{immediate:!0});function a(){z("insertCode",d.value[l.value].insertText),s.value=!1}const s=R(!1);function g(){s.value=!0}t({show:g});const z=i;return(p,b)=>(q(),se(n(Ae),{show:s.value,"onUpdate:show":b[5]||(b[5]=x=>s.value=x),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ke({maxWidth:n(r).modalMaxWidth}),title:"快捷代码",closable:"",onClose:b[4]||(b[4]=x=>s.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:a},{default:h(()=>[j("插入")]),_:1}),u(n(de),{onClick:b[3]||(b[3]=x=>s.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(ye),null,{default:h(()=>[j("代码预览：")]),_:1}),u(n(ye),null,{default:h(()=>[j(Pe(d.value[l.value].insertText),1)]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("代码内容")]),_:1}),u(n(qe),{value:l.value,"onUpdate:value":b[0]||(b[0]=x=>l.value=x),options:m},null,8,["value"])]),_:1}),Ke(u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j(Pe(d.value[l.value].prepend_1),1)]),_:1}),u(n(Ce),{value:c.value,"onUpdate:value":b[1]||(b[1]=x=>c.value=x),onKeyup:Ne(a,["enter"])},null,8,["value"])]),_:1},512),[[ut,d.value[l.value].inputEnable_1]]),Ke(u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j(Pe(d.value[l.value].prepend_2),1)]),_:1}),u(n(Ce),{value:f.value,"onUpdate:value":b[2]||(b[2]=x=>f.value=x),onKeyup:Ne(a,["enter"])},null,8,["value"])]),_:1},512),[[ut,d.value[l.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ci=()=>{const e=pe.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},Zt=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const i=pe.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return i.meta={shouldRemind:!0},i},Oa=["width","height"],Aa=["width","height"],ja=ee("div",null,"颜色",-1),Ha=ee("div",null,"画笔",-1),Ua=["onClick"],Na=ee("div",null,"操作",-1),Ea=["title","innerHTML","onClick"],Fa=W({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:t,emit:i}){const r=Re(),l=ze(),c=e,f=R(!1);function m(){f.value=!0}t({show:m});const d=i,a=R(),s=E(()=>{var I;return(I=a.value)==null?void 0:I.getContext("2d")}),g=R(),z=E(()=>{var I;return(I=g.value)==null?void 0:I.getContext("2d")}),p=new Image;let b=!1;const x={x:0,y:0,width:0,height:0},O=R([]),B=R([]),k=R([]),C=R({lineWidth:3,lineColor:"#111111",shadowBlur:1}),P=R(!1),y=R(!1);let M=0,N=0;const V=E(()=>window.innerWidth>836?796:window.innerWidth-36),S=E(()=>window.innerHeight>580?400:window.innerHeight-212),A=E(()=>[{title:"上一步",action:"prev",className:O.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:B.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:O.value.length||B.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:O.value.length||B.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:y.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),D=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function Z(){const I=new ImageData(V.value,S.value);k.value.push(I)}Je(()=>{Z()});function F(){s.value.lineWidth=C.value.lineWidth,s.value.shadowBlur=C.value.shadowBlur,s.value.shadowColor=C.value.lineColor,s.value.strokeStyle=C.value.lineColor,s.value.lineCap="round",s.value.lineJoin="round"}function G(I){if(b)if(y.value){const w=I.target;let v,_;I instanceof MouseEvent?(v=I.clientX-w.getBoundingClientRect().x,_=I.clientY-w.getBoundingClientRect().y):(v=I.changedTouches[0].clientX-w.getBoundingClientRect().x,_=I.changedTouches[0].clientY-w.getBoundingClientRect().y),g.value.height=g.value.height;let H={x:x.x+(v-M),y:x.y+(_-N),width:x.width,height:x.height};ve(p,H)}else{s.value.beginPath(),s.value.moveTo(M,N);const w=I.target;let v,_;I instanceof MouseEvent?(v=I.clientX-w.getBoundingClientRect().x,_=I.clientY-w.getBoundingClientRect().y):(v=I.changedTouches[0].clientX-w.getBoundingClientRect().x,_=I.changedTouches[0].clientY-w.getBoundingClientRect().y),s.value.globalCompositeOperation=P.value?"destination-out":"source-over",s.value.lineTo(v,_),[M,N]=[v,_],s.value.stroke()}}function X(I){if(y.value){const w=I.target;let v,_;I instanceof MouseEvent?(v=I.clientX-w.getBoundingClientRect().x,_=I.clientY-w.getBoundingClientRect().y):(v=I.changedTouches[0].clientX-w.getBoundingClientRect().x,_=I.changedTouches[0].clientY-w.getBoundingClientRect().y),x.x+=v-M,x.y+=_-N,b=!1}else{const w=s.value.getImageData(0,0,a.value.width,a.value.height);B.value.length?(k.value=[],k.value=k.value.concat(O.value),k.value.push(w),B.value=[]):k.value.push(w),b=!1}}function Y(I){if(y.value){const w=I.target;let v,_;I instanceof MouseEvent?(v=I.clientX-w.getBoundingClientRect().x,_=I.clientY-w.getBoundingClientRect().y):(v=I.changedTouches[0].clientX-w.getBoundingClientRect().x,_=I.changedTouches[0].clientY-w.getBoundingClientRect().y),M=v,N=_,b=!0}else{b=!0;const w=I.target;let v,_;I instanceof MouseEvent?(v=I.clientX-w.getBoundingClientRect().x,_=I.clientY-w.getBoundingClientRect().y):(v=I.changedTouches[0].clientX-w.getBoundingClientRect().x,_=I.changedTouches[0].clientY-w.getBoundingClientRect().y),F(),M=v,N=_;const H=s.value.getImageData(0,0,a.value.width,a.value.height);O.value.push(H)}}function ce(I){C.value.lineWidth=I,P.value=!1,y.value=!1}function re(I){switch(I){case"prev":if(O.value.length){const w=O.value.pop(),v=k.value[O.value.length+1];B.value.push(v),s.value.putImageData(w,0,0)}break;case"next":if(B.value.length){const w=B.value.pop(),v=k.value[k.value.length-B.value.length-2];O.value.push(v),s.value.putImageData(w,0,0)}break;case"clear":s.value.clearRect(0,0,a.value.width,a.value.height),O.value=[],B.value=[],k.value=[k.value[0]];break;case"eraser":P.value=!0;break;case"drag":y.value=!0;break}}function be(I){if(I.file.file){var w=new FileReader;w.readAsDataURL(I.file.file),w.onload=v=>{p.src=v.target.result,p.onload=function(){var _=g,H=p;x.width=H.width,x.height=H.height,H.width/H.height>=_.value.width/_.value.height?H.width>_.value.width&&(x.width=_.value.width,x.height=H.height*_.value.width/H.width):H.height>_.value.height&&(x.width=H.width*_.value.height/H.height,x.height=_.value.height),ve(H,x)}}}}function ve(I,w){z.value.drawImage(I,w.x,w.y,w.width,w.height)}const ge=R(!1);function $e(){let I=new Image;I.src=a.value.toDataURL("image/png"),I.onload=()=>{z.value.drawImage(I,0,0),w(g.value)};function w(_){_.toBlob(H=>{H&&v(H)},"image/png")}function v(_){const H={binggan:r.binggan,file:_,mode:"img",thread_id:c.threadId,forum_id:c.forumId};ge.value=!0,Zt(H).then(He=>{d("insertImage",He.file_url),ge.value=!1,f.value=!1}).catch(()=>{ge.value=!1})}}return(I,w)=>(q(),se(n(Ae),{show:f.value,"onUpdate:show":w[5]||(w[5]=v=>f.value=v),"display-directive":"show"},{default:h(()=>[u(n(Oe),{style:ke({maxWidth:n(l).modalMaxWidth}),title:"涂鸦板",closable:"",onClose:w[4]||(w[4]=v=>f.value=!1),size:"small","content-style":{padding:"0px"}},{default:h(()=>[ee("div",{id:"canvas-container",style:ke({width:V.value+"px",height:S.value+"px"})},[ee("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:g,width:V.value,height:S.value,onTouchmove:w[0]||(w[0]=ht(()=>{},["prevent"]))},null,40,Oa),ee("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:a,class:_t({painting:!y.value,dragging:y.value}),width:V.value,height:S.value,onTouchmove:[w[1]||(w[1]=ht(()=>{},["prevent"])),G],onMousedown:Y,onMouseup:X,onMousemove:G,onTouchstart:Y,onTouchend:X},null,42,Aa)],4),u(n(Pn),{"x-gap":"6",cols:4},{default:h(()=>[u(n(at),{span:"1"},{default:h(()=>[ja,u(n(In),{value:C.value.lineColor,"onUpdate:value":w[2]||(w[2]=v=>C.value.lineColor=v),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),u(n(at),{span:"1"},{default:h(()=>[Ha,u(n(le),{id:"canvas-brush",size:"small",align:"center"},{default:h(()=>[(q(),ue(Ie,null,Ee(D,(v,_)=>ee("span",{key:_,style:ke({fontSize:v.font_size+"px"}),onClick:H=>ce(v.lineWidth)},Pe(v.innerHTML),13,Ua)),64))]),_:1})]),_:1}),u(n(at),{span:"2"},{default:h(()=>[Na,u(n(le),{id:"canvas-control",size:"small"},{default:h(()=>[(q(!0),ue(Ie,null,Ee(A.value,(v,_)=>(q(),ue("span",{key:_,title:v.title,class:_t([v.className]),innerHTML:v.innerHTML,onClick:H=>re(v.action)},null,10,Ea))),128))]),_:1})]),_:1})]),_:1})]),action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(Yt),{"default-upload":!1,onChange:be,"show-file-list":!1},{default:h(()=>[u(n(de),null,{default:h(()=>[j("加载图片")]),_:1})]),_:1}),u(n(de),{type:"primary",onClick:$e,disabled:I.userIsLocked,loading:ge.value},{default:h(()=>[j("上传")]),_:1},8,["disabled","loading"]),u(n(de),{onClick:w[3]||(w[3]=v=>f.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),qa=["onClick"],Wa=["src"],Va=W({__name:"EmojiTab",props:{randomHeadsGroup:{default:0},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:t}){const i=Re(),r=ze(),l=e,c=R(),f=E(()=>{const p=On.filter(b=>!i.userData.emoji_excluded.includes(b.id)&&(b.headsId===0||b.headsId===l.randomHeadsGroup));return i.userData.my_emoji&&p.unshift({id:0,headsId:0,name:"自定义",emojis:i.userData.my_emoji}),p}),m=t;function d(p,b){m("appendEmoji",p,b==="自定义"),l.autoHide&&(c.value=-1)}let a=!1;function s(p,b){return o("span",{onClick:()=>g(b),innerHTML:p})}function g(p){p===c.value&&(a=!0,c.value=-1)}function z(p,b){return a?(a=!1,!1):!0}return(p,b)=>(q(),se(n(An),{type:"line","bar-width":0,animated:"",onBeforeLeave:z,size:n(r).isMobile?"small":"medium","default-value":-1,value:c.value,"onUpdate:value":b[0]||(b[0]=x=>c.value=x)},{default:h(()=>[(q(!0),ue(Ie,null,Ee(f.value,(x,O,B)=>(q(),se(n(zt),{name:x.id,tab:s(x.name,x.id)},{default:h(()=>[u(n(le),{size:"small",class:"emoji-container"},{default:h(()=>[(q(!0),ue(Ie,null,Ee(x.emojis,(k,C,P)=>(q(),ue("div",{class:"emoji-box",onClick:y=>d(k,x.name)},[ee("img",{src:k,class:"emoji-in-box"},null,8,Wa)],8,qa))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),u(n(zt),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),Xa=e=>{const t=pe.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ki=e=>{const t=pe.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ga=W({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:i}){const r=ze(),l=Re(),c=e,f=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],m=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],d=R(3e3),a=R(10),s=R(1),g=R(1),z=R(),p=R(),b=R([]),x=R(!1),O=R(1);function B(S){S===1&&O.value<5&&(O.value+=1),S===-1&&O.value>1&&(b.value.splice(O.value-1,1),O.value-=1)}const{loading:k,send:C,onSuccess:P}=tt(S=>Xa(S),{immediate:!1});function y(){if(z.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(p.value===void 0&&[2,3].includes(g.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(s.value===2&&d.value%a.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const S={binggan:l.binggan,forum_id:c.forumId,thread_id:c.threadId,hongbao_olo:d.value,hongbao_num:a.value,type:s.value,key_word_type:g.value,hongbao_key_word:z.value,hongbao_question:p.value,hongbao_message_json:b.value,hongbao_olo_hide:x.value};C(S)}P(()=>{V("refreshPostsList"),M.value=!1});const M=R(!1);function N(){M.value=!0}t({show:N});const V=i;return(S,A)=>(q(),se(n(Ae),{show:M.value,"onUpdate:show":A[11]||(A[11]=D=>M.value=D),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ke({maxWidth:n(r).modalMaxWidth}),title:"发起红包",closable:"",onClose:A[10]||(A[10]=D=>M.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:y,loading:n(k)},{default:h(()=>[j("提交")]),_:1},8,["loading"]),u(n(de),{onClick:A[9]||(A[9]=D=>M.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[ee("div",null,[u(n(ye),{depth:3},{default:h(()=>[j("温馨提示：")]),_:1}),j("在红包总额以外，会追加扣除7%手续费。 ")]),ee("div",null,[u(n(ye),{depth:3},{default:h(()=>[j("总共扣除：")]),_:1}),u(n(ye),{type:"warning"},{default:h(()=>[j(Pe(Math.ceil(d.value*(n(r).isDouble11?1.02:1.07))),1)]),_:1}),j("个奥利奥 ")]),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("红包类型")]),_:1}),u(n(qe),{value:g.value,"onUpdate:value":A[0]||(A[0]=D=>g.value=D),options:f},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("olo类型")]),_:1}),u(n(qe),{value:s.value,"onUpdate:value":A[1]||(A[1]=D=>s.value=D),options:m},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("红包个数")]),_:1}),u(n(Fe),{value:a.value,"onUpdate:value":A[2]||(A[2]=D=>a.value=D),max:50,min:5,step:5},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("olo总额")]),_:1}),u(n(Fe),{value:d.value,"onUpdate:value":A[3]||(A[3]=D=>d.value=D),max:1e6,min:3e3,step:1e3,parse:n(jt),format:n(Ht)},null,8,["value","parse","format"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("红包口令")]),_:1}),u(n(Ce),{value:z.value,"onUpdate:value":A[4]||(A[4]=D=>z.value=D),placeholder:"必填"},null,8,["value"])]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("口令提示")]),_:1}),u(n(Ce),{value:p.value,"onUpdate:value":A[5]||(A[5]=D=>p.value=D),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(q(!0),ue(Ie,null,Ee(O.value,D=>(q(),se(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"5.2rem"}},{default:h(()=>[j("回复留言")]),_:1}),u(n(Ce),{value:b.value[D-1],"onUpdate:value":Z=>b.value[D-1]=Z,placeholder:`#${D}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),u(n(le),{size:"small",align:"center"},{default:h(()=>[u(n(ye),{depth:3},{default:h(()=>[j("留言数量")]),_:1}),u(n(Be),{size:"tiny",circle:"",disabled:O.value===5,onClick:A[6]||(A[6]=D=>B(1))},{icon:h(()=>[u(n(xe),null,{default:h(()=>[u(n(Xo))]),_:1})]),_:1},8,["disabled"]),u(n(Be),{size:"tiny",circle:"",disabled:O.value===1,onClick:A[7]||(A[7]=D=>{B(-1)})},{icon:h(()=>[u(n(xe),null,{default:h(()=>[u(n(Fo))]),_:1})]),_:1},8,["disabled"]),u(n(xn),{checked:x.value,"onUpdate:checked":A[8]||(A[8]=D=>x.value=D),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ya=W({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:t}){const i=ze(),r=Re(),l=R(null),c=e,f=t;function m(g){var z=document.getElementsByTagName("body")[0],p=document.createElement("script");p.setAttribute("id","image-upload-js");var b=document.getElementById("upload-button");g=="mjj"&&(p.setAttribute("async","true"),p.setAttribute("src","https://mjj.today/sdk/pup.js"),p.setAttribute("data-url","https://mjj.today/upload"),p.setAttribute("data-auto-insert","html-embed"),b==null||b.setAttribute("data-chevereto-pup-trigger","")),g=="imgbb"&&(p.setAttribute("async","true"),p.setAttribute("src","https://imgbb.com/upload.js"),p.setAttribute("data-url","https://imgbb.com/upload"),p.setAttribute("data-auto-insert","html-embed-medium"),b==null||b.setAttribute("data-imgbb-trigger","")),g=="freeimage"&&(p.setAttribute("async","true"),p.setAttribute("src","https://freeimage.host/sdk/pup.js"),p.setAttribute("data-url","https://freeimage.host/upload"),p.setAttribute("data-auto-insert","html-embed-medium"),b==null||b.setAttribute("data-chevereto-pup-trigger","")),z.appendChild(p)}function d(){const g=document.getElementById("image-upload-js");g==null||g.remove()}Je(()=>{m(i.userCustom.imgHost)}),yn(()=>{d()});const a=R(!1),s=({file:g,data:z,headers:p,withCredentials:b,action:x,onFinish:O,onError:B,onProgress:k})=>{var C;if(g.file!==null){if(g.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(C=l.value)==null||C.clear();return}const P={binggan:r.binggan,file:g.file,mode:"img",thread_id:c.threadId,forum_id:c.forumId};a.value=!0,Zt(P).then(y=>{var M;f("insertImage",y.file_url),(M=l.value)==null||M.clear(),a.value=!1}).catch(()=>{var y;(y=l.value)==null||y.clear(),a.value=!1})}};return(g,z)=>g.forumId===419?(q(),se(n(Yt),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":s,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:l},{default:h(()=>[u(n(de),{style:{"margin-right":"auto"},disabled:g.userIsLocked,loading:a.value},{default:h(()=>[j("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(q(),se(n(de),{key:1,style:{"margin-right":"auto"},disabled:g.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:h(()=>[j("上传图片")]),_:1},8,["disabled"]))}}),Za=W({__name:"PingbiciModal",setup(e,{expose:t}){const i=ze(),r=Re(),l=R(),{loading:c,send:f,onSuccess:m}=tt(g=>Cn(g),{immediate:!1});function d(){if(!l.value){window.$message.error("请填写屏蔽词");return}const g={binggan:r.binggan,content_pingbici:l.value};f(g)}m(()=>{r.refreshUserData(),a.value=!1});const a=R(!1);function s(){a.value=!0}return t({show:s}),(g,z)=>(q(),se(n(Ae),{show:a.value,"onUpdate:show":z[3]||(z[3]=p=>a.value=p),"display-directive":"if"},{default:h(()=>[u(n(Oe),{style:ke({maxWidth:n(i).modalMaxWidth}),title:"追加屏蔽词",closable:"",onClose:z[2]||(z[2]=p=>a.value=!1),size:"small"},{action:h(()=>[u(n(le),{justify:"end"},{default:h(()=>[u(n(de),{type:"primary",onClick:d,loading:n(c),disabled:!l.value},{default:h(()=>[j("提交")]),_:1},8,["loading","disabled"]),u(n(de),{onClick:z[1]||(z[1]=p=>a.value=!1)},{default:h(()=>[j("关闭")]),_:1})]),_:1})]),default:h(()=>[u(n(le),{vertical:""},{default:h(()=>[u(n(ye),null,{default:h(()=>[j("暂时只做了“内容屏蔽词”的追加")]),_:1}),u(n(ie),null,{default:h(()=>[u(n(ae),{style:{width:"4.2rem"}},{default:h(()=>[j("屏蔽词")]),_:1}),u(n(Ce),{value:l.value,"onUpdate:value":z[0]||(z[0]=p=>l.value=p),max:255,onKeyup:Ne(d,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),_i=W({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:t,emit:i}){const r=Re(),l=ze(),c=R(null),f=R(null),m=R(null),d=R(null),a=R(null),s=R(null),g=R(null),z=e,p=E(()=>r.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(r.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),b=E(()=>r.userData.binggan.locked_ttl>0),x=R(r.userData.binggan.nickname||"= ="),O=R(""),B=R(""),k=R(!1),C=R(!1),P=E(()=>({class:{"nickname-input":!0,admin:C.value}})),y=R(!1),M=kn("emoji_auto_hide",!1);function N(){let w=[o(Ge,{checked:y.value,"onUpdate:checked":v=>y.value=v,label:"实时预览"}),o(Ge,{checked:M.value,"onUpdate:checked":v=>M.value=v,label:"表情包自动收起"})];return r.userData.binggan.admin!==0&&r.checkAdminForums(z.forumId)&&w.push(o(Ge,{checked:C.value,"onUpdate:checked":v=>C.value=v,label:"管理员"})),o(le,{style:"padding:6px 8px",vertical:!0},()=>w)}const V=[{key:"funcOption",type:"render",render:N}];Qe(C,w=>x.value=w?"管理员":"= =");function S(w){return w.selectionStart!=null?w.selectionStart:0}function A(w,v){const _=S(w),H=w.value,He=H.substring(0,_)+v+H.substring(_);B.value=He}function D(w){const v=document.getElementById("content-input");A(v,w),X(),v.focus()}function Z(){Rn({title:"要清空内容吗？",onPositiveClick:()=>B.value=""})}const F=R([""]);function G(){F.value.length>1&&(F.value.pop(),B.value=F.value.slice(-1)[0])}function X(){F.value.push(B.value??""),F.value.length>20&&F.value.shift()}function Y(w,v){D(`<img src='${w}' class='${v?"custom-emoji-img":"emoji-img"}'>`)}function ce(w){D(w)}function re(w){D(`<img src='${w}' />`)}function be(w){var v;B.value=w,X(),(v=c.value)==null||v.focus()}const ve=i;function ge(w){if(!w.isTrusted){const _={title:"错误",closable:!1,content:"请不要用脚本回复喔，可能会被系统判断为脚本并碎饼干。",positiveText:"确定"};window.$dialog.warning(_);return}new Promise(function(_,H){ve("contentCommit",{contentInput:B.value,nicknameInput:x.value,postWithAdmin:C.value,titleInput:O.value,isDelay:k.value,ist:w.isTrusted},_)}).then($e)}function $e(){O.value="",B.value="",k.value=!1}const I=R(!1);return t({quoteHandle:be,isTyping:I}),(w,v)=>(q(),se(n(le),{vertical:""},{default:h(()=>[u(n(le),{size:"small",wrap:!1,align:"center"},{default:h(()=>[u(n(ie),{style:{"max-width":"300px"}},{default:h(()=>[u(n(ae),{style:{width:"3.2rem"}},{default:h(()=>[j("昵称")]),_:1}),u(n(Ce),{maxlength:30,value:x.value,"onUpdate:value":v[0]||(v[0]=_=>x.value=_),"show-count":"","input-props":P.value},null,8,["value","input-props"])]),_:1}),u(n(_n),{trigger:"hover",options:V,placement:"bottom-start"},{default:h(()=>[u(n(de),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:h(()=>[j("功能")]),_:1})]),_:1})]),_:1}),w.mode==="thread"?(q(),se(n(ie),{key:0},{default:h(()=>[u(n(ae),{style:{width:"3.2rem"}},{default:h(()=>[j("标题")]),_:1}),u(n(Ce),{maxlength:100,value:O.value,"onUpdate:value":v[1]||(v[1]=_=>O.value=_),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):Ue("",!0),u(Va,{"auto-hide":n(M),"random-heads-group":w.randomHeadsGroup,onAppendEmoji:Y},null,8,["auto-hide","random-heads-group"]),u(n(le),{size:n(l).isMobile?"small":"medium",justify:"end",align:"center"},{default:h(()=>[w.mode==="post"?(q(),se(n(xe),{key:0,size:n(l).isMobile?28:32},{default:h(()=>[u(n(wa),{style:{cursor:"pointer"},onClick:v[2]||(v[2]=_=>{var H;return(H=f.value)==null?void 0:H.show()})})]),_:1},8,["size"])):Ue("",!0),w.mode==="post"?(q(),se(n(xe),{key:1,size:n(l).isMobile?28:32},{default:h(()=>[u(n(ia),{style:{cursor:"pointer"},onClick:v[3]||(v[3]=_=>{var H;return(H=m.value)==null?void 0:H.show()})})]),_:1},8,["size"])):Ue("",!0),w.mode==="post"?(q(),se(n(xe),{key:2,size:n(l).isMobile?28:32},{default:h(()=>[u(n(ta),{style:{cursor:"pointer"},onClick:v[4]||(v[4]=_=>{var H;return(H=d.value)==null?void 0:H.show()})})]),_:1},8,["size"])):Ue("",!0),u(n(xe),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(Ra),{style:{cursor:"pointer"},onClick:v[5]||(v[5]=_=>{var H;return(H=g.value)==null?void 0:H.show()})})]),_:1},8,["size"]),u(n(xe),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(Ca),{style:{cursor:"pointer"},onClick:v[6]||(v[6]=_=>{var H;return(H=s.value)==null?void 0:H.show()})})]),_:1},8,["size"]),u(n(xe),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(fa),{style:{cursor:"pointer"},onClick:v[7]||(v[7]=_=>{var H;return(H=a.value)==null?void 0:H.show()})})]),_:1},8,["size"]),u(n(jn),{vertical:""}),u(n(xe),{size:n(l).isMobile?28:32},{default:h(()=>[u(n(Ko),{style:{cursor:"pointer"},onClick:G})]),_:1},8,["size"]),u(n(xe),{size:n(l).isMobile?28:32},{default:h(()=>[u(n($a),{style:{cursor:"pointer"},onClick:Z})]),_:1},8,["size"])]),_:1},8,["size"]),u(n(Dn),{value:B.value,"onUpdate:value":v[8]||(v[8]=_=>B.value=_),type:"textarea",placeholder:p.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:c,style:{"border-radius":"10px"},"input-props":{id:"content-input"},disabled:b.value,onChange:X,onKeyup:v[9]||(v[9]=Ne(ht(_=>ge(_),["ctrl"]),["enter"])),onBlur:v[10]||(v[10]=_=>I.value=!1),onFocus:v[11]||(v[11]=_=>I.value=!0)},null,8,["value","placeholder","disabled"]),u(n(le),{justify:"end",align:"center"},{default:h(()=>[u(Ya,{"user-is-locked":b.value,"forum-id":w.forumId,"thread-id":w.threadId,onInsertImage:re},null,8,["user-is-locked","forum-id","thread-id"]),w.mode==="thread"?(q(),se(n(Ge),{key:0,checked:k.value,"onUpdate:checked":v[12]||(v[12]=_=>k.value=_)},{default:h(()=>[j("延时发送")]),_:1},8,["checked"])):Ue("",!0),u(n(zn),{placement:"bottom-start",trigger:"hover",disabled:n(l).isMobile},{trigger:h(()=>[u(n(de),{type:"primary",onClick:v[13]||(v[13]=_=>ge(_)),loading:w.handling,disabled:b.value},{default:h(()=>[j("提交")]),_:1},8,["loading","disabled"])]),default:h(()=>[j(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),u(Ga,{ref_key:"HongbaoModalCom",ref:f,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:v[14]||(v[14]=_=>ve("refreshPostsList"))},null,8,["thread-id","forum-id"]),u(Ba,{ref_key:"BattleModalCom",ref:m,"thread-id":w.threadId,"forum-id":w.forumId,"random-heads-group":w.randomHeadsGroup,onRefreshPostsList:v[15]||(v[15]=_=>ve("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),u(sa,{ref_key:"RollModalCom",ref:d,"thread-id":w.threadId,"forum-id":w.forumId,onRefreshPostsList:v[16]||(v[16]=_=>ve("refreshPostsList"))},null,8,["thread-id","forum-id"]),u(Za,{ref_key:"PingbiciModalCom",ref:a},null,512),u(Da,{ref_key:"CodeModalCom",ref:s,onInsertCode:ce},null,512),u(Fa,{ref_key:"DrawerModalCom",ref:g,onInsertImage:re,"user-is-locked":b.value,"forum-id":w.forumId,"thread-id":w.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}}),zi=[{id:1,name:"默认",random_heads:["https://z3.ax1x.com/2021/08/01/fSAAIg.png","https://z3.ax1x.com/2021/08/01/fSAeRs.png","https://z3.ax1x.com/2021/08/01/fSAViQ.png","https://z3.ax1x.com/2021/08/01/fSAZGj.png","https://z3.ax1x.com/2021/08/01/fSAkdS.png","https://z3.ax1x.com/2021/08/01/fSAmzn.png","https://z3.ax1x.com/2021/08/01/fSAuMq.png","https://z3.ax1x.com/2021/08/01/fSAKs0.png","https://z3.ax1x.com/2021/08/01/fSAMLV.png","https://z3.ax1x.com/2021/08/01/fSAlZT.png","https://z3.ax1x.com/2021/08/01/fSA1dU.png","https://z3.ax1x.com/2021/08/01/fSA3oF.png","https://z3.ax1x.com/2021/08/01/fSAGi4.png","https://z3.ax1x.com/2021/08/01/fSAYW9.png","https://z3.ax1x.com/2021/08/01/fSAJJJ.png","https://z3.ax1x.com/2021/08/01/fSAtzR.png","https://z3.ax1x.com/2021/08/01/fSAUQ1.png","https://z3.ax1x.com/2021/08/01/fSAsFe.png","https://z3.ax1x.com/2021/08/01/fSABdO.png","https://z3.ax1x.com/2021/08/01/fSADoD.png","https://z3.ax1x.com/2021/08/01/fSA0eK.png","https://z3.ax1x.com/2021/08/01/fSAyJH.png","https://z3.ax1x.com/2021/08/01/fSA6Wd.png","https://z3.ax1x.com/2021/08/01/fSAgSA.png","https://z3.ax1x.com/2021/08/01/fSA2QI.png","https://z3.ax1x.com/2021/08/01/fSARyt.png","https://z3.ax1x.com/2021/08/01/fSAWOP.png","https://z3.ax1x.com/2021/08/01/fSAhef.png","https://z3.ax1x.com/2021/08/01/fSA4w8.png","https://z3.ax1x.com/2021/08/01/fSA5TS.png","https://z3.ax1x.com/2021/08/01/fSAoFg.png","https://z3.ax1x.com/2021/08/01/fSATYQ.png","https://z3.ax1x.com/2021/08/01/fSA7Wj.png","https://z3.ax1x.com/2021/08/01/fSAbSs.png","https://z3.ax1x.com/2021/08/01/fSAqln.png","https://z3.ax1x.com/2021/08/01/fSALyq.png","https://z3.ax1x.com/2021/08/01/fSAOO0.png","https://z3.ax1x.com/2021/08/01/fSAjmV.png","https://z3.ax1x.com/2021/08/01/fSAvwT.png","https://z3.ax1x.com/2021/08/01/fSAxTU.png"]},{id:2,name:"咒岛",random_heads:["https://www.z4a.net/images/2021/04/28/1ec2f3b016cc3993d.png","https://www.z4a.net/images/2021/04/28/2c9d9c4cfced955f1.png","https://www.z4a.net/images/2021/04/28/3a72868d2ed97544e.png","https://www.z4a.net/images/2021/04/28/4a530a7008124f895.png","https://www.z4a.net/images/2021/04/28/16.png","https://www.z4a.net/images/2021/04/28/5c3d0f8f7e94c0f87.png","https://www.z4a.net/images/2021/04/28/6.png","https://www.z4a.net/images/2021/04/28/7.png","https://www.z4a.net/images/2021/04/28/8.png","https://www.z4a.net/images/2021/04/28/9.png","https://www.z4a.net/images/2021/04/28/17.png","https://www.z4a.net/images/2021/04/28/10a78173cca4d2b9e4.png","https://www.z4a.net/images/2021/04/28/116817e6f9946a883b.png","https://www.z4a.net/images/2021/04/28/12d6faaf27dd411273.png","https://www.z4a.net/images/2021/04/28/13cd6b9af2dee496c2.png","https://www.z4a.net/images/2021/04/28/158cb6d1c543151992.png","https://www.z4a.net/images/2021/04/28/191dbde0611454f9c4.png","https://www.z4a.net/images/2021/04/28/149dd44da8e8badd09.png","https://www.z4a.net/images/2021/04/28/189f30c4bbf3eb9015.png","https://www.z4a.net/images/2021/04/28/201161035e7d5b8c56.png","https://www.z4a.net/images/2021/04/28/21.png","https://www.z4a.net/images/2021/04/28/222dc14b16d6f5e3ad.png","https://www.z4a.net/images/2021/04/28/23.png","https://www.z4a.net/images/2021/04/28/24.png","https://www.z4a.net/images/2021/04/28/25.png","https://www.z4a.net/images/2021/04/28/26.png","https://www.z4a.net/images/2021/04/28/27.png","https://www.z4a.net/images/2021/04/28/28.png","https://www.z4a.net/images/2021/04/28/29.png","https://www.z4a.net/images/2021/04/28/30.png","https://www.z4a.net/images/2021/04/28/31.png","https://www.z4a.net/images/2021/04/28/32.png","https://www.z4a.net/images/2021/04/28/333753a209916c1bac.png","https://www.z4a.net/images/2021/04/28/34.png","https://www.z4a.net/images/2021/04/28/35.png","https://www.z4a.net/images/2021/04/28/36.png","https://www.z4a.net/images/2021/04/28/37.png","https://www.z4a.net/images/2021/04/28/38.png","https://www.z4a.net/images/2021/04/28/39.png","https://www.z4a.net/images/2021/04/28/40.png"]},{id:3,name:"国配",random_heads:["https://s2.ax1x.com/2020/03/04/3oNmCT.jpg","https://s2.ax1x.com/2020/03/04/3oNZ5V.jpg","https://s2.ax1x.com/2020/03/04/3oNVU0.jpg","https://s2.ax1x.com/2020/03/04/3oNEEq.jpg","https://s2.ax1x.com/2020/03/04/3oNkbn.jpg","https://s2.ax1x.com/2020/03/04/3oNFDs.jpg","https://s2.ax1x.com/2020/03/04/3oNiuj.jpg","https://s2.ax1x.com/2020/03/04/3oNCvQ.jpg","https://s2.ax1x.com/2020/03/04/3oN9gg.jpg","https://s2.ax1x.com/2020/03/04/3otx4f.jpg","https://s2.ax1x.com/2020/03/04/3otvUP.jpg","https://s2.ax1x.com/2020/03/04/3otjEt.jpg","https://s2.ax1x.com/2020/03/04/3otOHI.jpg","https://s2.ax1x.com/2020/03/04/3otLDA.jpg","https://s2.ax1x.com/2020/03/04/3otqud.jpg","https://s2.ax1x.com/2020/03/04/3otHjH.jpg","https://s2.ax1x.com/2020/03/04/3ot54K.jpg","https://s2.ax1x.com/2020/03/04/3ot4N6.jpg","https://s2.ax1x.com/2020/03/04/3ot6c4.jpg","https://s2.ax1x.com/2020/03/04/3otcjJ.jpg","https://i.loli.net/2020/05/12/fjzJG2tOKS9x75i.png","https://s2.ax1x.com/2020/03/04/3othAx.jpg","https://s2.ax1x.com/2020/03/04/3otWH1.jpg","https://i.loli.net/2020/05/12/RJkuylMqTDbhFYK.png","https://s2.ax1x.com/2020/03/04/3oaHvF.jpg","https://i.loli.net/2020/05/12/JniT3y5EjlHveCa.png","https://i.loli.net/2020/05/12/uLf37Dh4moSNWHl.png","https://i.loli.net/2020/05/12/4PDlehfWOJZoEcj.png","https://i.loli.net/2020/05/12/UznI9POMuTN5CdF.png","https://i.loli.net/2020/05/12/Ku24JNkQp6sedEb.png","https://i.loli.net/2020/05/12/zPiTZRcU2WxC65D.png","https://i.loli.net/2020/05/12/6JeYhNKMLsBQlFO.png","https://i.loli.net/2020/05/12/gIqU1VEXHAQ2ShG.png","https://i.loli.net/2020/05/12/RJOoTxZKvQtLNrA.png","https://i.loli.net/2020/05/12/WHtM9RFxsaCXUYp.png","https://i.loli.net/2020/05/12/KtVvfRUPzA4CDFi.png","https://i.loli.net/2020/05/12/XQWotbfrYi7dBp6.png","https://i.loli.net/2020/05/12/f4h65rGU7cRYwZ8.png","https://i.loli.net/2020/05/12/1HWeg4xdsX85kZT.png","https://i.loli.net/2020/05/12/J8uH6ClX4EGLifc.png"]},{id:4,name:"兵兵球",random_heads:["https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-01.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-02.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-03.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-04.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-05.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-06.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-07.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-08.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-09.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-10.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-11.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-12.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-13.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-14.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-15.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-16.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-17.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-18.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-19.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-20.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-21.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-22.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-23.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-24.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-25.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-26.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-27.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-28.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-29.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-30.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-31.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-32.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-33.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-34.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-35.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-36.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-37.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-38.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-39.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-40.gif"]}];export{Fo as M,wo as N,Xo as P,_i as _,bi as a,st as b,Ci as c,wi as d,xi as e,yi as f,ra as g,ki as h,vi as n,mi as p,zi as r};
