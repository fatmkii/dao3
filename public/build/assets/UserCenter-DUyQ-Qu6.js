var bn=Object.defineProperty,yn=Object.defineProperties;var _n=Object.getOwnPropertyDescriptors;var mt=Object.getOwnPropertySymbols;var wn=Object.prototype.hasOwnProperty,Sn=Object.prototype.propertyIsEnumerable;var vt=(n,e,t)=>e in n?bn(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ce=(n,e)=>{for(var t in e||(e={}))wn.call(e,t)&&vt(n,t,e[t]);if(mt)for(var t of mt(e))Sn.call(e,t)&&vt(n,t,e[t]);return n},we=(n,e)=>yn(n,_n(e));import{w as J,A as D,F as W,E as b,bd as Dn,be as Tn,an as Cn,bf as On,n as r,b as H,bg as le,av as xn,$ as N,bh as In,M as L,p as o,H as s,K as Y,z as f,ax as Me,v as y,a$ as xe,aY as ge,aZ as ue,ay as j,a_ as Ke,az as Z,aw as Q,D as Ce,t as O,O as Ne,R as nt,P as rt,T as ke,e as de,h as te,Z as Ft,aH as it,y as X,I as K,Q as ie,x as G,bi as Bt,bj as qt,L as fe,J as ee,B as Ue,b0 as Wt,S as me,q as Ie,C as Gt,bk as Je,ao as at,au as Vt,s as En,N as Yt,al as Mn,am as Nn,W as kn,a0 as bt,bl as yt,aI as _t,bm as je,bn as Pn,bo as wt,b4 as Rn,b3 as $n,a9 as Ln}from"./vendor-CYaCwXn6.js";import{u as ae,b as z,a as oe,l as zn,m as An,e as He,c as se,n as Un,o as jn,s as Hn,q as Fn,t as Bn,v as qn,_ as ot,x as Wn,y as Gn,z as Vn,d as Yn,A as Xn,B as Kn,C as Jn,D as Qn,E as Zn,F as er}from"./app-DlJXdrPO.js";import{u as st}from"./forums-UnT5QLoA.js";import{T as tr}from"./ThreadList-DnYmfsaZ.js";import{_ as nr,f as St}from"./emojiData-CzhGJNtk.js";import{i as rr,a as ir}from"./inputNumberFormat-DaYmlx6U.js";import"./showDialog-Dz7td-P1.js";import"./browseLogger-CPbjKXca.js";import"./Delete-DKLSUOmn.js";const ar={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 32 32"},or=b("path",{d:"M12 12h2v12h-2z",fill:"currentColor"},null,-1),sr=b("path",{d:"M18 12h2v12h-2z",fill:"currentColor"},null,-1),lr=b("path",{d:"M4 6v2h2v20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8h2V6zm4 22V8h16v20z",fill:"currentColor"},null,-1),ur=b("path",{d:"M12 2h8v2h-8z",fill:"currentColor"},null,-1),dr=[or,sr,lr,ur],cr=J({name:"TrashCan",render:function(e,t){return D(),W("svg",ar,dr)}});function Xt(n){let e=null;return()=>(e==null&&(e=n()),e)}function gr(n,e){return n.filter(t=>t!==e)}function fr(n,e){const t=new Set,i=l=>t.add(l);n.forEach(i),e.forEach(i);const a=[];return t.forEach(l=>a.push(l)),a}class hr{enter(e){const t=this.entered.length,i=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(e));return this.entered=fr(this.entered.filter(i),[e]),t===0&&this.entered.length>0}leave(e){const t=this.entered.length;return this.entered=gr(this.entered.filter(this.isNodeInDocument),e),t>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class pr{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach(i=>{const a=this.config.exposeProperties[i];a!=null&&(t[i]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Kt="__NATIVE_FILE__",Jt="__NATIVE_URL__",Qt="__NATIVE_TEXT__",Zt="__NATIVE_HTML__",Dt=Object.freeze(Object.defineProperty({__proto__:null,FILE:Kt,HTML:Zt,TEXT:Qt,URL:Jt},Symbol.toStringTag,{value:"Module"}));function Fe(n,e,t){const i=e.reduce((a,l)=>a||n.getData(l),"");return i!=null?i:t}const Qe={[Kt]:{exposeProperties:{files:n=>Array.prototype.slice.call(n.files),items:n=>n.items,dataTransfer:n=>n},matchesTypes:["Files"]},[Zt]:{exposeProperties:{html:(n,e)=>Fe(n,e,""),dataTransfer:n=>n},matchesTypes:["Html","text/html"]},[Jt]:{exposeProperties:{urls:(n,e)=>Fe(n,e,"").split(`
`),dataTransfer:n=>n},matchesTypes:["Url","text/uri-list"]},[Qt]:{exposeProperties:{text:(n,e)=>Fe(n,e,""),dataTransfer:n=>n},matchesTypes:["Text","text/plain"]}};function mr(n,e){const t=Qe[n];if(!t)throw new Error(`native type ${n} has no configuration`);const i=new pr(t);return i.loadDataTransfer(e),i}function Be(n){if(!n)return null;const e=Array.prototype.slice.call(n.types||[]);return Object.keys(Qe).filter(t=>{const i=Qe[t];return i!=null&&i.matchesTypes?i.matchesTypes.some(a=>e.indexOf(a)>-1):!1})[0]||null}const vr=Xt(()=>/firefox/i.test(navigator.userAgent)),en=Xt(()=>!!window.safari);class Tt{interpolate(e){const{xs:t,ys:i,c1s:a,c2s:l,c3s:d}=this;let u=t.length-1;if(e===t[u])return i[u];let c=0,g=d.length-1,p;for(;c<=g;){p=Math.floor(.5*(c+g));const v=t[p];if(v<e)c=p+1;else if(v>e)g=p-1;else return i[p]}u=Math.max(0,g);const h=e-t[u],m=h*h;return i[u]+a[u]*h+l[u]*m+d[u]*h*m}constructor(e,t){const{length:i}=e,a=[];for(let v=0;v<i;v++)a.push(v);a.sort((v,T)=>e[v]<e[T]?-1:1);const l=[],d=[];let u,c;for(let v=0;v<i-1;v++)u=e[v+1]-e[v],c=t[v+1]-t[v],l.push(u),d.push(c/u);const g=[d[0]];for(let v=0;v<l.length-1;v++){const T=d[v],w=d[v+1];if(T*w<=0)g.push(0);else{u=l[v];const _=l[v+1],x=u+_;g.push(3*x/((x+_)/T+(x+u)/w))}}g.push(d[d.length-1]);const p=[],h=[];let m;for(let v=0;v<g.length-1;v++){m=d[v];const T=g[v],w=1/l[v],_=T+g[v+1]-m-m;p.push((m-T-_)*w),h.push(_*w*w)}this.xs=e,this.ys=t,this.c1s=g,this.c2s=p,this.c3s=h}}const br=1;function tn(n){const e=n.nodeType===br?n:n.parentElement;if(!e)return null;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function Se(n){return{x:n.clientX,y:n.clientY}}function yr(n){var e;return n.nodeName==="IMG"&&(vr()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(n)))}function _r(n,e,t,i){let a=n?e.width:t,l=n?e.height:i;return en()&&n&&(l/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:l}}function wr(n,e,t,i,a){const l=yr(e),u=tn(l?n:e),c={x:t.x-u.x,y:t.y-u.y},{offsetWidth:g,offsetHeight:p}=n,{anchorX:h,anchorY:m}=i,{dragPreviewWidth:v,dragPreviewHeight:T}=_r(l,e,g,p),w=()=>{let I=new Tt([0,.5,1],[c.y,c.y/p*T,c.y+T-p]).interpolate(m);return en()&&l&&(I+=(window.devicePixelRatio-1)*T),I},_=()=>new Tt([0,.5,1],[c.x,c.x/g*v,c.x+v-g]).interpolate(h),{offsetX:x,offsetY:S}=a,M=x===0||x,A=S===0||S;return{x:M?x:_(),y:A?S:w()}}let Sr=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}};function Dr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ct(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Dr(n,a,t[a])})}return n}class Tr{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;(t=this.window)===null||t===void 0||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,i){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,i);const a=d=>this.handleDragStart(d,e),l=d=>this.handleSelectStart(d);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",l),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",l),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const i=d=>this.handleDragEnter(d,e),a=d=>this.handleDragOver(d,e),l=d=>this.handleDrop(d,e);return t.addEventListener("dragenter",i),t.addEventListener("dragover",a),t.addEventListener("drop",l),()=>{t.removeEventListener("dragenter",i),t.removeEventListener("dragover",a),t.removeEventListener("drop",l)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Ct({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions.get(e);return Ct({anchorX:.5,anchorY:.5,captureDraggingState:!1},t||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(Dt).some(t=>Dt[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=mr(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const t=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var i;return(i=this.rootElement)===null||i===void 0?void 0:i.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},t)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,i){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const l=this.sourceNodes.get(a);return l&&tn(l)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame!="undefined"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame!="undefined"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:l}=this;this.dragStartSourceIds=null;const d=Se(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(l||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:d});const{dataTransfer:u}=a,c=Be(u);if(this.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){const p=this.monitor.getSourceId(),h=this.sourceNodes.get(p),m=this.sourcePreviewNodes.get(p)||h;if(m){const{anchorX:v,anchorY:T,offsetX:w,offsetY:_}=this.getCurrentSourcePreviewNodeOptions(),M=wr(h,m,d,{anchorX:v,anchorY:T},{offsetX:w,offsetY:_});u.setDragImage(m,M.x,M.y)}}try{u==null||u.setData("application/json",{})}catch(p){}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:g}=this.getCurrentSourcePreviewNodeOptions();g?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(u&&!u.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:u}=a,c=Be(u);c&&this.beginDragNativeItem(c,u)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:l}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,l.length>0&&this.actions.hover(l,{clientOffset:Se(a)}),l.some(u=>this.monitor.canDropOnTarget(u))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var l;(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:l}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=Se(a),this.scheduleHover(l),(l||[]).some(u=>this.monitor.canDropOnTarget(u))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var l;a.preventDefault(),(l=this.currentNativeSource)===null||l===void 0||l.loadDataTransfer(a.dataTransfer)}else Be(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:l}=this;this.dropTargetIds=[],this.actions.hover(l,{clientOffset:Se(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const l=a.target;typeof l.dragDrop=="function"&&(l.tagName==="INPUT"||l.tagName==="SELECT"||l.tagName==="TEXTAREA"||l.isContentEditable||(a.preventDefault(),l.dragDrop()))},this.options=new Sr(t,i),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new hr(this.isNodeInDocument)}}const Cr=function(e,t,i){return new Tr(e,t,i)};function k(n,e,...t){if(Or()&&e===void 0)throw new Error("invariant requires an error message argument");if(!n){let i;if(e===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;i=new Error(e.replace(/%s/g,function(){return t[a++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}function Or(){return typeof process!="undefined"&&!0}var he;(function(n){n.mouse="mouse",n.touch="touch",n.keyboard="keyboard"})(he||(he={}));class xr{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,t,i,a;return(a=(i=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&i!==void 0?i:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&a!==void 0?a:0}get delayMouseStart(){var e,t,i,a;return(a=(i=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&i!==void 0?i:(t=this.args)===null||t===void 0?void 0:t.delay)!==null&&a!==void 0?a:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window!="undefined")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,t){this.args=e,this.context=t}}function Ir(n,e,t,i){return Math.sqrt(Math.pow(Math.abs(t-n),2)+Math.pow(Math.abs(i-e),2))}function Er(n,e,t,i,a){if(!a)return!1;const l=Math.atan2(i-e,t-n)*180/Math.PI+180;for(let d=0;d<a.length;++d){const u=a[d];if(u&&(u.start==null||l>=u.start)&&(u.end==null||l<=u.end))return!0}return!1}const Mr={Left:1,Right:2,Center:4},Nr={Left:0,Center:1,Right:2};function qe(n){return n.button===void 0||n.button===Nr.Left}function kr(n){return n.buttons===void 0||(n.buttons&Mr.Left)===0}function nn(n){return!!n.targetTouches}const Pr=1;function Rr(n){const e=n.nodeType===Pr?n:n.parentElement;if(!e)return;const{top:t,left:i}=e.getBoundingClientRect();return{x:i,y:t}}function $r(n,e){if(n.targetTouches.length===1)return Ee(n.targetTouches[0]);if(e&&n.touches.length===1&&n.touches[0].target===e.target)return Ee(n.touches[0])}function Ee(n,e){return nn(n)?$r(n,e):{x:n.clientX,y:n.clientY}}const be={[he.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[he.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[he.keyboard]:{keydown:"keydown"}};class ye{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(k(!ye.isSetUp,"Cannot have two Touch backends at the same time."),ye.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(ye.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,t,i,a=!1){const l=a;this.listenerTypes.forEach(function(d){const u=be[d][t];u&&e.addEventListener(u,i,l)})}removeEventListener(e,t,i,a=!1){const l=a;this.listenerTypes.forEach(function(d){const u=be[d][t];u&&e.removeEventListener(u,i,l)})}connectDragSource(e,t){const i=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",i),()=>{this.sourceNodes.delete(e),this.removeEventListener(t,"start",i)}}connectDragPreview(e,t,i){return this.sourcePreviewNodeOptions.set(e,i),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,t){const i=this.options.rootElement;if(!this.document||!i)return()=>{};const a=l=>{if(!this.document||!i||!this.monitor.isDragging())return;let d;switch(l.type){case be.mouse.move:d={x:l.clientX,y:l.clientY};break;case be.touch.move:var u,c;d={x:((u=l.touches[0])===null||u===void 0?void 0:u.clientX)||0,y:((c=l.touches[0])===null||c===void 0?void 0:c.clientY)||0};break}const g=d!=null?this.document.elementFromPoint(d.x,d.y):void 0,p=g&&t.contains(g);if(g===t||p)return this.handleMove(l,e)};return this.addEventListener(this.document.body,"move",a),this.targetNodes.set(e,t),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",a))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,t,i){this.getSourceClientOffset=a=>{const l=this.sourceNodes.get(a);return l&&Rr(l)},this.handleTopMoveStartCapture=a=>{qe(a)&&(this.moveStartSourceIds=[])},this.handleMoveStart=a=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(a)},this.handleTopMoveStart=a=>{if(!qe(a))return;const l=Ee(a);l&&(nn(a)&&(this.lastTargetTouchFallback=a.targetTouches[0]),this._mouseClientOffset=l),this.waitingForDelay=!1},this.handleTopMoveStartDelay=a=>{if(!qe(a))return;const l=a.type===be.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,a),l),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(a,l)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(l)},this.handleTopMove=a=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:l,dragOverTargetIds:d}=this,u=this.options.enableHoverOutsideTarget,c=Ee(a,this.lastTargetTouchFallback);if(!c)return;if(this._isScrolling||!this.monitor.isDragging()&&Er(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,c.x,c.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&l&&Ir(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,c.x,c.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(l,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const g=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(g),this.actions.publishDragSource(),a.cancelable&&a.preventDefault();const p=(d||[]).map(T=>this.targetNodes.get(T)).filter(T=>!!T),h=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(c.x,c.y,p):this.document.elementsFromPoint(c.x,c.y),m=[];for(const T in h){if(!h.hasOwnProperty(T))continue;let w=h[T];for(w!=null&&m.push(w);w;)w=w.parentElement,w&&m.indexOf(w)===-1&&m.push(w)}const v=m.filter(T=>p.indexOf(T)>-1).map(T=>this._getDropTargetId(T)).filter(T=>!!T).filter((T,w,_)=>_.indexOf(T)===w);if(u)for(const T in this.targetNodes){const w=this.targetNodes.get(T);if(g&&w&&w.contains(g)&&v.indexOf(T)===-1){v.unshift(T);break}}v.reverse(),this.actions.hover(v,{clientOffset:c})},this._getDropTargetId=a=>{const l=this.targetNodes.keys();let d=l.next();for(;d.done===!1;){const u=d.value;if(a===this.targetNodes.get(u))return u;d=l.next()}},this.handleTopMoveEndCapture=a=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!kr(a)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}a.cancelable&&a.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=a=>{a.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new xr(i,t),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(he.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(he.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(he.keyboard)}}const Lr=function(e,t={},i={}){return new ye(e,t,i)};function Ot(n,e,t){return Array.isArray(n)?(n.length=Math.max(n.length,e),n.splice(e,1,t),t):(n[e]=t,t)}var rn=Symbol.for("DndContextType");function zr(n){Dn(rn,n)}function Ar(){return Tn(rn)}function ne(n){return"Minified Redux error #"+n+"; visit https://redux.js.org/Errors?code="+n+" for the full message or use the non-minified dev environment for full errors. "}var xt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),We=function(){return Math.random().toString(36).substring(7).split("").join(".")},It={INIT:"@@redux/INIT"+We(),REPLACE:"@@redux/REPLACE"+We(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+We()}};function Ur(n){if(typeof n!="object"||n===null)return!1;for(var e=n;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function an(n,e,t){var i;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ne(0));if(typeof e=="function"&&typeof t=="undefined"&&(t=e,e=void 0),typeof t!="undefined"){if(typeof t!="function")throw new Error(ne(1));return t(an)(n,e)}if(typeof n!="function")throw new Error(ne(2));var a=n,l=e,d=[],u=d,c=!1;function g(){u===d&&(u=d.slice())}function p(){if(c)throw new Error(ne(3));return l}function h(w){if(typeof w!="function")throw new Error(ne(4));if(c)throw new Error(ne(5));var _=!0;return g(),u.push(w),function(){if(_){if(c)throw new Error(ne(6));_=!1,g();var S=u.indexOf(w);u.splice(S,1),d=null}}}function m(w){if(!Ur(w))throw new Error(ne(7));if(typeof w.type=="undefined")throw new Error(ne(8));if(c)throw new Error(ne(9));try{c=!0,l=a(l,w)}finally{c=!1}for(var _=d=u,x=0;x<_.length;x++){var S=_[x];S()}return w}function v(w){if(typeof w!="function")throw new Error(ne(10));a=w,m({type:It.REPLACE})}function T(){var w,_=h;return w={subscribe:function(S){if(typeof S!="object"||S===null)throw new Error(ne(11));function M(){S.next&&S.next(p())}M();var A=_(M);return{unsubscribe:A}}},w[xt]=function(){return this},w}return m({type:It.INIT}),i={dispatch:m,subscribe:h,getState:p,replaceReducer:v},i[xt]=T,i}function jr(n,e,t){return e.split(".").reduce((i,a)=>i&&i[a]?i[a]:t||null,n)}function Hr(n,e){return n.filter(t=>t!==e)}function on(n){return typeof n=="object"}function Fr(n,e){const t=new Map,i=l=>{t.set(l,t.has(l)?t.get(l)+1:1)};n.forEach(i),e.forEach(i);const a=[];return t.forEach((l,d)=>{l===1&&a.push(d)}),a}function Br(n,e){return n.filter(t=>e.indexOf(t)>-1)}const lt="dnd-core/INIT_COORDS",Pe="dnd-core/BEGIN_DRAG",ut="dnd-core/PUBLISH_DRAG_SOURCE",Re="dnd-core/HOVER",$e="dnd-core/DROP",Le="dnd-core/END_DRAG";function Et(n,e){return{type:lt,payload:{sourceClientOffset:e||null,clientOffset:n||null}}}const qr={type:lt,payload:{clientOffset:null,sourceClientOffset:null}};function Wr(n){return function(t=[],i={publishSource:!0}){const{publishSource:a=!0,clientOffset:l,getSourceClientOffset:d}=i,u=n.getMonitor(),c=n.getRegistry();n.dispatch(Et(l)),Gr(t,u,c);const g=Xr(t,u);if(g==null){n.dispatch(qr);return}let p=null;if(l){if(!d)throw new Error("getSourceClientOffset must be defined");Vr(d),p=d(g)}n.dispatch(Et(l,p));const m=c.getSource(g).beginDrag(u,g);if(m==null)return;Yr(m),c.pinSource(g);const v=c.getSourceType(g);return{type:Pe,payload:{itemType:v,item:m,sourceId:g,clientOffset:l||null,sourceClientOffset:p||null,isSourcePublic:!!a}}}}function Gr(n,e,t){k(!e.isDragging(),"Cannot call beginDrag while dragging."),n.forEach(function(i){k(t.getSource(i),"Expected sourceIds to be registered.")})}function Vr(n){k(typeof n=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Yr(n){k(on(n),"Item must be an object.")}function Xr(n,e){let t=null;for(let i=n.length-1;i>=0;i--)if(e.canDragSource(n[i])){t=n[i];break}return t}function Kr(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Kr(n,a,t[a])})}return n}function Qr(n){return function(t={}){const i=n.getMonitor(),a=n.getRegistry();Zr(i),ni(i).forEach((d,u)=>{const c=ei(d,u,a,i),g={type:$e,payload:{dropResult:Jr({},t,c)}};n.dispatch(g)})}}function Zr(n){k(n.isDragging(),"Cannot call drop while not dragging."),k(!n.didDrop(),"Cannot call drop twice during one drag operation.")}function ei(n,e,t,i){const a=t.getTarget(n);let l=a?a.drop(i,n):void 0;return ti(l),typeof l=="undefined"&&(l=e===0?{}:i.getDropResult()),l}function ti(n){k(typeof n=="undefined"||on(n),"Drop result must either be an object or undefined.")}function ni(n){const e=n.getTargetIds().filter(n.canDropOnTarget,n);return e.reverse(),e}function ri(n){return function(){const t=n.getMonitor(),i=n.getRegistry();ii(t);const a=t.getSourceId();return a!=null&&(i.getSource(a,!0).endDrag(t,a),i.unpinSource()),{type:Le}}}function ii(n){k(n.isDragging(),"Cannot call endDrag while not dragging.")}function Ze(n,e){return e===null?n===null:Array.isArray(n)?n.some(t=>t===e):n===e}function ai(n){return function(t,{clientOffset:i}={}){oi(t);const a=t.slice(0),l=n.getMonitor(),d=n.getRegistry(),u=l.getItemType();return li(a,d,u),si(a,l,d),ui(a,l,d),{type:Re,payload:{targetIds:a,clientOffset:i||null}}}}function oi(n){k(Array.isArray(n),"Expected targetIds to be an array.")}function si(n,e,t){k(e.isDragging(),"Cannot call hover while not dragging."),k(!e.didDrop(),"Cannot call hover after drop.");for(let i=0;i<n.length;i++){const a=n[i];k(n.lastIndexOf(a)===i,"Expected targetIds to be unique in the passed array.");const l=t.getTarget(a);k(l,"Expected targetIds to be registered.")}}function li(n,e,t){for(let i=n.length-1;i>=0;i--){const a=n[i],l=e.getTargetType(a);Ze(l,t)||n.splice(i,1)}}function ui(n,e,t){n.forEach(function(i){t.getTarget(i).hover(e,i)})}function di(n){return function(){if(n.getMonitor().isDragging())return{type:ut}}}function ci(n){return{beginDrag:Wr(n),publishDragSource:di(n),hover:ai(n),drop:Qr(n),endDrag:ri(n)}}class gi{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;function i(l){return(...d)=>{const u=l.apply(e,d);typeof u!="undefined"&&t(u)}}const a=ci(this);return Object.keys(a).reduce((l,d)=>{const u=a[d];return l[d]=i(u),l},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const i=this.store.getState().refCount>0;this.backend&&(i&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!i&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function fi(n,e){return{x:n.x+e.x,y:n.y+e.y}}function sn(n,e){return{x:n.x-e.x,y:n.y-e.y}}function hi(n){const{clientOffset:e,initialClientOffset:t,initialSourceClientOffset:i}=n;return!e||!t||!i?null:sn(fi(e,i),t)}function pi(n){const{clientOffset:e,initialClientOffset:t}=n;return!e||!t?null:sn(e,t)}const _e=[],dt=[];_e.__IS_NONE__=!0;dt.__IS_ALL__=!0;function mi(n,e){return n===_e?!1:n===dt||typeof e=="undefined"?!0:Br(e,n).length>0}class vi{subscribeToStateChange(e,t={}){const{handlerIds:i}=t;k(typeof e=="function","listener must be a function."),k(typeof i=="undefined"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const l=()=>{const d=this.store.getState(),u=d.stateId;try{u===a||u===a+1&&!mi(d.dirtyHandlerIds,i)||e()}finally{a=u}};return this.store.subscribe(l)}subscribeToOffsetChange(e){k(typeof e=="function","listener must be a function.");let t=this.store.getState().dragOffset;const i=()=>{const a=this.store.getState().dragOffset;a!==t&&(t=a,e())};return this.store.subscribe(i)}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return k(t,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if(k(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const i=this.registry.getTargetType(e),a=this.getItemType();return Ze(i,a)&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if(k(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const i=this.registry.getSourceType(e),a=this.getItemType();return i!==a?!1:t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:i}=t;if(!this.isDragging())return!1;const a=this.registry.getTargetType(e),l=this.getItemType();if(l&&!Ze(a,l))return!1;const d=this.getTargetIds();if(!d.length)return!1;const u=d.indexOf(e);return i?u===d.length-1:u>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return hi(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return pi(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const Mt=typeof global!="undefined"?global:self,ln=Mt.MutationObserver||Mt.WebKitMutationObserver;function un(n){return function(){const t=setTimeout(a,0),i=setInterval(a,50);function a(){clearTimeout(t),clearInterval(i),n()}}}function bi(n){let e=1;const t=new ln(n),i=document.createTextNode("");return t.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}const yi=typeof ln=="function"?bi:un;class _i{enqueueTask(e){const{queue:t,requestFlush:i}=this;t.length||(i(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let i=0,a=e.length-this.index;i<a;i++)e[i]=e[i+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=yi(this.flush),this.requestErrorThrow=un(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class wi{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}class Si{create(e){const t=this.freeTasks,i=t.length?t.pop():new wi(this.onError,a=>t[t.length]=a);return i.task=e,i}constructor(e){this.onError=e,this.freeTasks=[]}}const dn=new _i,Di=new Si(dn.registerPendingError);function Ti(n){dn.enqueueTask(Di.create(n))}const ct="dnd-core/ADD_SOURCE",gt="dnd-core/ADD_TARGET",ft="dnd-core/REMOVE_SOURCE",ze="dnd-core/REMOVE_TARGET";function Ci(n){return{type:ct,payload:{sourceId:n}}}function Oi(n){return{type:gt,payload:{targetId:n}}}function xi(n){return{type:ft,payload:{sourceId:n}}}function Ii(n){return{type:ze,payload:{targetId:n}}}function Ei(n){k(typeof n.canDrag=="function","Expected canDrag to be a function."),k(typeof n.beginDrag=="function","Expected beginDrag to be a function."),k(typeof n.endDrag=="function","Expected endDrag to be a function.")}function Mi(n){k(typeof n.canDrop=="function","Expected canDrop to be a function."),k(typeof n.hover=="function","Expected hover to be a function."),k(typeof n.drop=="function","Expected beginDrag to be a function.")}function et(n,e){if(e&&Array.isArray(n)){n.forEach(t=>et(t,!1));return}k(typeof n=="string"||typeof n=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var re;(function(n){n.SOURCE="SOURCE",n.TARGET="TARGET"})(re||(re={}));let Ni=0;function ki(){return Ni++}function Pi(n){const e=ki().toString();switch(n){case re.SOURCE:return`S${e}`;case re.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${n}`)}}function Nt(n){switch(n[0]){case"S":return re.SOURCE;case"T":return re.TARGET;default:throw new Error(`Cannot parse handler ID: ${n}`)}}function kt(n,e){const t=n.entries();let i=!1;do{const{done:a,value:[,l]}=t.next();if(l===e)return!0;i=!!a}while(!i);return!1}class Ri{addSource(e,t){et(e),Ei(t);const i=this.addHandler(re.SOURCE,e,t);return this.store.dispatch(Ci(i)),i}addTarget(e,t){et(e,!0),Mi(t);const i=this.addHandler(re.TARGET,e,t);return this.store.dispatch(Oi(i)),i}containsHandler(e){return kt(this.dragSources,e)||kt(this.dropTargets,e)}getSource(e,t=!1){return k(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return k(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return k(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return k(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Nt(e)===re.SOURCE}isTargetId(e){return Nt(e)===re.TARGET}removeSource(e){k(this.getSource(e),"Expected an existing source."),this.store.dispatch(xi(e)),Ti(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){k(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Ii(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);k(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){k(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,i){const a=Pi(e);return this.types.set(a,t),e===re.SOURCE?this.dragSources.set(a,i):e===re.TARGET&&this.dropTargets.set(a,i),a}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const $i=(n,e)=>n===e;function Li(n,e){return!n&&!e?!0:!n||!e?!1:n.x===e.x&&n.y===e.y}function zi(n,e,t=$i){if(n.length!==e.length)return!1;for(let i=0;i<n.length;++i)if(!t(n[i],e[i]))return!1;return!0}function Ai(n=_e,e){switch(e.type){case Re:break;case ct:case gt:case ze:case ft:return _e;case Pe:case ut:case Le:case $e:default:return dt}const{targetIds:t=[],prevTargetIds:i=[]}=e.payload,a=Fr(t,i);if(!(a.length>0||!zi(t,i)))return _e;const d=i[i.length-1],u=t[t.length-1];return d!==u&&(d&&a.push(d),u&&a.push(u)),a}function Ui(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ji(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Ui(n,a,t[a])})}return n}const Pt={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Hi(n=Pt,e){const{payload:t}=e;switch(e.type){case lt:case Pe:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case Re:return Li(n.clientOffset,t.clientOffset)?n:ji({},n,{clientOffset:t.clientOffset});case Le:case $e:return Pt;default:return n}}function Fi(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Fi(n,a,t[a])})}return n}const Bi={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function qi(n=Bi,e){const{payload:t}=e;switch(e.type){case Pe:return pe({},n,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case ut:return pe({},n,{isSourcePublic:!0});case Re:return pe({},n,{targetIds:t.targetIds});case ze:return n.targetIds.indexOf(t.targetId)===-1?n:pe({},n,{targetIds:Hr(n.targetIds,t.targetId)});case $e:return pe({},n,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case Le:return pe({},n,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return n}}function Wi(n=0,e){switch(e.type){case ct:case gt:return n+1;case ft:case ze:return n-1;default:return n}}function Gi(n=0){return n+1}function Vi(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Yi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{},i=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(t).filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),i.forEach(function(a){Vi(n,a,t[a])})}return n}function Xi(n={},e){return{dirtyHandlerIds:Ai(n.dirtyHandlerIds,{type:e.type,payload:Yi({},e.payload,{prevTargetIds:jr(n,"dragOperation.targetIds",[])})}),dragOffset:Hi(n.dragOffset,e),refCount:Wi(n.refCount,e),dragOperation:qi(n.dragOperation,e),stateId:Gi(n.stateId)}}function Ki(n,e=void 0,t={},i=!1){const a=Ji(i),l=new vi(a,new Ri(a)),d=new gi(a,l),u=n(d,e,t);return d.receiveBackend(u),d}function Ji(n){const e=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return an(Xi,n&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function Rt(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Qi(n){if(Array.isArray(n))return n}function Zi(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],a=!0,l=!1,d,u;try{for(t=t.call(n);!(a=(d=t.next()).done)&&(i.push(d.value),!(e&&i.length===e));a=!0);}catch(c){l=!0,u=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(l)throw u}}return i}}function ea(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ta(n,e){return Qi(n)||Zi(n,e)||na(n,e)||ea()}function na(n,e){if(n){if(typeof n=="string")return Rt(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rt(n,e)}}var $t=0,Oe=Symbol.for("__VUE_DND_CONTEXT_INSTANCE__");function ra(n){return"manager"in n&&n.manager}function ia(n){if(ra(n)){var e=n.manager;return[e,!1]}var t=aa(n.backend,n.context,n.options,n.debugMode),i=!n.context;return[t,i]}function aa(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:cn(),t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=e;return a[Oe]||(a[Oe]=Ki(n,e,t,i)),a[Oe]}function cn(){return typeof globalThis!="undefined"?globalThis:typeof global!="undefined"?global:window}const oa=J({name:"DndProvider",props:{manager:{type:Object},backend:{type:Function},context:{type:Object},options:{type:Object},debugMode:{type:Boolean}},setup:function(e,t){var i=t.slots,a=ta(ia(e),2),l=a[0],d=a[1];d&&++$t,Cn(function(){if(d){var c=cn();--$t===0&&(c[Oe]=null)}}),zr(l);var u;return function(){var c;return(u=(c=i.default)===null||c===void 0?void 0:c.call(i))!==null&&u!==void 0?u:null}}});function sa(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ge=!1,Ve=!1,la=function(){function n(t){sa(this,n),this.sourceId=null,this.internalMonitor=t.getMonitor()}var e=n.prototype;return e.receiveHandlerId=function(i){this.sourceId=i},e.getHandlerId=function(){return this.sourceId},e.canDrag=function(){k(!Ge,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ge=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ge=!1}},e.isDragging=function(){if(!this.sourceId)return!1;k(!Ve,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ve=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ve=!1}},e.subscribeToStateChange=function(i,a){return this.internalMonitor.subscribeToStateChange(i,a)},e.isDraggingSource=function(i){return this.internalMonitor.isDraggingSource(i)},e.isOverTarget=function(i,a){return this.internalMonitor.isOverTarget(i,a)},e.getTargetIds=function(){return this.internalMonitor.getTargetIds()},e.isSourcePublic=function(){return this.internalMonitor.isSourcePublic()},e.getSourceId=function(){return this.internalMonitor.getSourceId()},e.subscribeToOffsetChange=function(i){return this.internalMonitor.subscribeToOffsetChange(i)},e.canDragSource=function(i){return this.internalMonitor.canDragSource(i)},e.canDropOnTarget=function(i){return this.internalMonitor.canDropOnTarget(i)},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},n}();function ua(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ye=!1,da=function(){function n(t){ua(this,n),this.targetId=null,this.internalMonitor=t.getMonitor()}var e=n.prototype;return e.receiveHandlerId=function(i){this.targetId=i},e.getHandlerId=function(){return this.targetId},e.subscribeToStateChange=function(i,a){return this.internalMonitor.subscribeToStateChange(i,a)},e.canDrop=function(){if(!this.targetId)return!1;k(!Ye,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Ye=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Ye=!1}},e.isOver=function(i){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,i):!1},e.getItemType=function(){return this.internalMonitor.getItemType()},e.getItem=function(){return this.internalMonitor.getItem()},e.getDropResult=function(){return this.internalMonitor.getDropResult()},e.didDrop=function(){return this.internalMonitor.didDrop()},e.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},n}(),ca=function(n){"@swc/helpers - typeof";return n&&typeof Symbol!="undefined"&&n.constructor===Symbol?"symbol":typeof n};function ga(n){return n?n.__v_isVNode===!0:!1}function fa(n){return n?n.__v_skip:!1}function ha(n){return ga(n)&&ca(n.type)!=="symbol"}function pa(){throw new Error("Only native element nodes can now be passed to Vue DnD connectors.You can either wrap Component into a <div>, or turn it into a drag source or a drop target itself.")}function ma(n){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(fa(e)&&pa(),!ha(e)){var i=e;return n(i,t),i}}}function gn(n){var e={};return Object.keys(n).forEach(function(t){var i=n[t];if(t.endsWith("Ref"))e[t]=n[t];else{var a=ma(i);e[t]=function(){return a}}}),e}function tt(n,e,t,i){let a=t?t.call(i,n,e):void 0;if(a!==void 0)return!!a;if(n===e)return!0;if(typeof n!="object"||!n||typeof e!="object"||!e)return!1;const l=Object.keys(n),d=Object.keys(e);if(l.length!==d.length)return!1;const u=Object.prototype.hasOwnProperty.bind(e);for(let c=0;c<l.length;c++){const g=l[c];if(!u(g))return!1;const p=n[g],h=e[g];if(a=t?t.call(i,p,h,g):void 0,a===!1||a===void 0&&p!==h)return!1}return!0}function va(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function ba(n,e,t){return e&&Lt(n.prototype,e),t&&Lt(n,t),n}var ya=function(){function n(t){var i=this;va(this,n),this.hooks=gn({dragSource:function(a,l){i.clearDragSource(),i.dragSourceOptions=l||null,i.dragSourceNode=a,i.reconnectDragSource()},dragPreview:function(a,l){i.clearDragPreview(),i.dragPreviewOptions=l||null,i.dragPreviewNode=a,i.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceOptionsInternal=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var e=n.prototype;return e.receiveHandlerId=function(i){this.handlerId!==i&&(this.handlerId=i,this.reconnect())},e.reconnect=function(){var i=this.reconnectDragSource();this.reconnectDragPreview(i)},e.reconnectDragSource=function(){var i=this.dragSource,a=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return a&&this.disconnectDragSource(),this.handlerId?i?(a&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=i,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,i,this.dragSourceOptions)),a):(this.lastConnectedDragSource=i,a):a},e.reconnectDragPreview=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,a=this.dragPreview,l=i||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(l&&this.disconnectDragPreview(),!!this.handlerId){if(!a){this.lastConnectedDragPreview=a;return}l&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=a,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,a,this.dragPreviewOptions))}},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didConnectedDragSourceChange=function(){return this.lastConnectedDragSource!==this.dragSource},e.didConnectedDragPreviewChange=function(){return this.lastConnectedDragPreview!==this.dragPreview},e.didDragSourceOptionsChange=function(){return!tt(this.lastConnectedDragSourceOptions,this.dragSourceOptions)},e.didDragPreviewOptionsChange=function(){return!tt(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)},e.disconnectDragSource=function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)},e.disconnectDragPreview=function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null)},e.clearDragSource=function(){this.dragSourceNode=null},e.clearDragPreview=function(){this.dragPreviewNode=null},ba(n,[{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(i){this.dragSourceOptionsInternal=i}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(i){this.dragPreviewOptionsInternal=i}},{key:"dragSource",get:function(){return this.dragSourceNode}},{key:"dragPreview",get:function(){return this.dragPreviewNode}}]),n}();function _a(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zt(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function wa(n,e,t){return e&&zt(n.prototype,e),t&&zt(n,t),n}var Sa=function(){function n(t){var i=this;_a(this,n),this.hooks=gn({dropTarget:function(a,l){i.clearDropTarget(),i.dropTargetOptions=l,On(a)?i.dropTargetRef=a:i.dropTargetNode=a,i.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var e=n.prototype;return e.reconnect=function(){var i=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();i&&this.disconnectDropTarget();var a=this.dropTarget;if(this.handlerId){if(!a){this.lastConnectedDropTarget=a;return}i&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=a,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,a,this.dropTargetOptions))}},e.receiveHandlerId=function(i){i!==this.handlerId&&(this.handlerId=i,this.reconnect())},e.didHandlerIdChange=function(){return this.lastConnectedHandlerId!==this.handlerId},e.didDropTargetChange=function(){return this.lastConnectedDropTarget!==this.dropTarget},e.didOptionsChange=function(){return!tt(this.lastConnectedDropTargetOptions,this.dropTargetOptions)},e.disconnectDropTarget=function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)},e.clearDropTarget=function(){this.dropTargetRef=null,this.dropTargetNode=null},wa(n,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(i){this.dropTargetOptionsInternal=i}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.value}}]),n}();function Da(n,e,t){var i=r(t).getRegistry(),a=i.addTarget(r(n),r(e));return[a,function(){return i.removeTarget(a)}]}function Ta(n,e,t){var i=t.getRegistry(),a=i.addSource(n,e);return[a,function(){return i.removeSource(a)}]}function Ca(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Oa=function(){function n(t,i,a){Ca(this,n),this.spec=t,this.monitor=i,this.connector=a}var e=n.prototype;return e.beginDrag=function(){var i=this.spec,a=this.monitor,l=null;return typeof i.item=="object"?l=i.item:typeof i.item=="function"?l=i.item(a):l={},l!=null?l:null},e.canDrag=function(){var i=this.spec,a=this.monitor;return typeof i.canDrag=="boolean"?i.canDrag:typeof i.canDrag=="function"?i.canDrag(a):!0},e.isDragging=function(i,a){var l=this.spec,d=this.monitor,u=l.isDragging;return u?u(d):a===i.getSourceId()},e.endDrag=function(){var i=this.spec,a=this.monitor,l=this.connector,d=i.end;d&&d(a.getItem(),a),l.reconnect()},n}();function xa(n,e,t){var i=H(function(){return new Oa(r(n),r(e),r(t))});return le(function(){i.value.spec=r(n)}),i}function ve(){var n=Ar();return k(n!=null,"Expected drag drop context"),n}function Ia(n){return H(function(){var e=r(n).type;return k(e!=null,"spec.type must be defined"),e})}function At(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ea(n){if(Array.isArray(n))return n}function Ma(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],a=!0,l=!1,d,u;try{for(t=t.call(n);!(a=(d=t.next()).done)&&(i.push(d.value),!(e&&i.length===e));a=!0);}catch(c){l=!0,u=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(l)throw u}}return i}}function Na(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ka(n,e){return Ea(n)||Ma(n,e)||Pa(n,e)||Na()}function Pa(n,e){if(n){if(typeof n=="string")return At(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return At(n,e)}}function Ra(n,e,t){var i=ve(),a=xa(n,e,t),l=Ia(n);le(function(u){if(r(l)!=null){var c=ka(Ta(r(l),r(a),r(i)),2),g=c[0],p=c[1];r(e).receiveHandlerId(g),r(t).receiveHandlerId(g),u(p)}})}function fn(n){return H(function(){return typeof n=="function"?n():n})}function $a(){var n=ve();return H(function(){return new la(r(n))})}function La(n,e){var t=ve(),i=H(function(){return new ya(r(t).getBackend())});return le(function(a){i.value.dragSourceOptions=r(n)||null,r(i).reconnect(),a(function(){i.value.disconnectDragSource()})}),le(function(a){i.value.dragPreviewOptions=r(e)||null,r(i).reconnect(),a(function(){i.value.disconnectDragPreview()})}),i}var za=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var i,a,l;if(Array.isArray(e)){if(i=e.length,i!=t.length)return!1;for(a=i;a--!==0;)if(!n(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),i=l.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=i;a--!==0;){var d=l[a];if(!n(e[d],t[d]))return!1}return!0}return e!==e&&t!==t};const hn=xn(za);function Aa(n,e,t){var i=N(r(e)(r(n))),a=function(){var l=r(e)(r(n));hn(i.value,l)||(i.value=l,t&&t())};return le(a),[i,a]}function Ut(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Ua(n){if(Array.isArray(n))return n}function ja(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],a=!0,l=!1,d,u;try{for(t=t.call(n);!(a=(d=t.next()).done)&&(i.push(d.value),!(e&&i.length===e));a=!0);}catch(c){l=!0,u=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(l)throw u}}return i}}function Ha(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fa(n,e){return Ua(n)||ja(n,e)||Ba(n,e)||Ha()}function Ba(n,e){if(n){if(typeof n=="string")return Ut(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ut(n,e)}}function qa(n,e,t){var i=Fa(Aa(n,e,t),2),a=i[0],l=i[1];return le(function(u){var c=r(n).getHandlerId();c!=null&&u(r(n).subscribeToStateChange(l,{handlerIds:[c]}))}),a}function pn(n,e,t){var i=function(){return{}};return qa(e,n||i,function(){return r(t).reconnect()})}function ht(n,e){var t=In({el:null,options:r(e)});le(function(){n(t)},{flush:"post"});var i=function(a,l){Ot(t,"el",a);var d=r(e)||l;return hn(t.options,d)||Ot(t,"options",d),r(a)};return i}function Wa(n,e){return ht(function(t){r(n).hooks.dragSource()(t.el,t.options)},H(function(){return r(e).options}))}function Ga(n,e){return ht(function(t){r(n).hooks.dragPreview()(t.el,t.options)},H(function(){return r(e).previewOptions}))}function Va(n){var e=fn(n),t=$a(),i=La(H(function(){return r(e).options}),H(function(){return r(e).previewOptions}));return Ra(e,t,i),[pn(H(function(){return r(e).collect||function(){return{}}}),t,i),Wa(i,e),Ga(i,e)]}function Ya(n){return H(function(){var e=r(n).accept;return k(e!=null,"accept must be defined"),Array.isArray(e)?e:[e]})}function Xa(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var Ka=function(){function n(t,i){Xa(this,n),this.spec=t,this.monitor=i}var e=n.prototype;return e.canDrop=function(){var i=this.spec,a=this.monitor;return i.canDrop?i.canDrop(a.getItem(),a):!0},e.hover=function(){var i=this.spec,a=this.monitor;i.hover&&i.hover(a.getItem(),a)},e.drop=function(){var i=this.spec,a=this.monitor;if(i.drop)return i.drop(a.getItem(),a)},n}();function Ja(n,e){var t=H(function(){return new Ka(r(n),r(e))});return le(function(){t.value.spec=r(n)}),t}function jt(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Qa(n){if(Array.isArray(n))return n}function Za(n,e){var t=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],a=!0,l=!1,d,u;try{for(t=t.call(n);!(a=(d=t.next()).done)&&(i.push(d.value),!(e&&i.length===e));a=!0);}catch(c){l=!0,u=c}finally{try{!a&&t.return!=null&&t.return()}finally{if(l)throw u}}return i}}function eo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function to(n,e){return Qa(n)||Za(n,e)||no(n,e)||eo()}function no(n,e){if(n){if(typeof n=="string")return jt(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(t);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jt(n,e)}}function ro(n,e,t){var i=ve(),a=Ja(n,e),l=Ya(n);le(function(u){var c=to(Da(l,a,i),2),g=c[0],p=c[1];r(e).receiveHandlerId(g),r(t).receiveHandlerId(g),u(p)})}function io(){var n=ve();return H(function(){return new da(r(n))})}function ao(n){var e=ve(),t=H(function(){return new Sa(r(e).getBackend())});return le(function(i){t.value.dropTargetOptions=r(n)||null,t.value.reconnect(),i(function(){return t.value.disconnectDropTarget()})}),t}function oo(n,e){return ht(function(t){r(n).hooks.dropTarget()(t.el,t.options)},H(function(){return r(e).options}))}function mn(n){var e=fn(n),t=io(),i=ao(H(function(){return r(e).options}));return ro(e,t,i),[pn(H(function(){return r(e).collect||function(){return{}}}),t,i),oo(i,e)]}const so=b("span",null,"可以解决AC娘在芝麻锅中看不清的问题",-1),lo=J({__name:"TabCommon",setup(n){const e=ae(),t=e.userCustom,i=[{value:"top",label:"放在顶部"},{value:"center",label:"放在中间"},{value:"bottom",label:"放在底部"}],a=[{value:"imgbb",label:"(推荐)imgbb"},{value:"freeimage",label:"freeimage"},{value:"imgimg",label:"imgimg"},{value:"helloimg",label:"helloimg"},{value:"picui",label:"picui"},{value:"imgwang",label:"ImgWang"},{value:"picgo",label:"(要注册)picgo"}],l={id:0,created_at:"2021-04-28 00:44:23",is_deleted:0,thread_id:0,battle_id:null,hongbao_id:null,floor:0,random_head:1,created_by_admin:0,content:"<span class='quote-content'>这是引用内容 <br>@№0 = = 2021-04-28 00:44:23</span><br>这是预览模式，可以确认上面设定的式样是否满意。<br>这是第二行。<br>这是第三行。",nickname:"= =",is_your_post:!0,hongbao_data:null},d=[{id:0,sub_id:0,forum_id:1,vote_question_id:null,gamble_question_id:null,crowd_id:null,hongbao_id:null,nickname:"= =",title:"这是预览模式，可以确认上面设定的式样是否满意。",sub_title:"[预览]",random_heads_group:1,posts_num:100,title_color:null,anti_jingfen:!1,nissin_date:null,has_nissined:!1,can_battle:!1,is_delay:!1,locked_by_coin:0,is_private:!1,created_at:null,updated_at:null}];return(u,c)=>(D(),L(r(O),{vertical:"",size:"small"},{default:o(()=>[s(r(Y),{title:"一般设定",size:"small"},{"header-extra":o(()=>[s(r(z),{onClick:r(e).userCustomReset},{default:o(()=>[f("恢复默认")]),_:1},8,["onClick"])]),default:o(()=>[s(r(Me),{ref:"formRef",model:r(t),"label-placement":"left","label-width":"auto",size:r(e).isMobile?"small":"medium",style:{"max-height":"655px","overflow-y":"auto"}},{default:o(()=>[s(r(y),{depth:3},{default:o(()=>[f("这些设定保存在本设备，不跟随饼干")]),_:1}),s(r(xe),{cols:"1 600:2","x-gap":12},{default:o(()=>[s(r(ge),{style:{"max-width":"280px"}},{default:o(()=>[s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:o(()=>[f("功能选项 ")]),_:1})]),_:1}),s(r(j),{label:"图床选择",path:"loudspeakerPosition"},{default:o(()=>[s(r(Ke),{value:r(t).imgHost,"onUpdate:value":c[0]||(c[0]=g=>r(t).imgHost=g),options:a,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),s(r(j),{label:"自动涮锅时遇红包停止",path:"hongbaoThenStop"},{default:o(()=>[s(r(Z),{value:r(t).hongbaoThenStop,"onUpdate:value":c[1]||(c[1]=g=>r(t).hongbaoThenStop=g)},null,8,["value"])]),_:1}),s(r(j),{label:"自动涮锅时页面不动",path:"holdPageWhenListening"},{default:o(()=>[s(r(Z),{value:r(t).holdPageWhenListening,"onUpdate:value":c[2]||(c[2]=g=>r(t).holdPageWhenListening=g)},null,8,["value"])]),_:1}),s(r(j),{label:"减少弹出提示",path:"lessToast"},{default:o(()=>[s(r(Z),{value:r(t).lessToast,"onUpdate:value":c[3]||(c[3]=g=>r(t).lessToast=g)},null,8,["value"])]),_:1})]),_:1}),s(r(ge),{style:{"max-width":"280px"}},{default:o(()=>[s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:o(()=>[f("基本外观 ")]),_:1})]),_:1}),s(r(j),{label:"传统式回复框",path:"postLegacyMode"},{default:o(()=>[s(r(Z),{value:r(t).postLegacyMode,"onUpdate:value":c[4]||(c[4]=g=>r(t).postLegacyMode=g)},null,8,["value"])]),_:1}),s(r(j),{label:"大喇叭和标题单色",path:"monochromeMode"},{default:o(()=>[s(r(Z),{value:r(t).monochromeMode,"onUpdate:value":c[5]||(c[5]=g=>r(t).monochromeMode=g)},null,8,["value"])]),_:1}),s(r(j),{label:"侧边栏放左边",path:"sidebarLeft"},{default:o(()=>[s(r(Z),{value:r(t).sidebarLeft,"onUpdate:value":c[6]||(c[6]=g=>r(t).sidebarLeft=g)},null,8,["value"])]),_:1}),s(r(j),{label:"大喇叭位置",path:"loudspeakerPosition"},{default:o(()=>[s(r(Ke),{value:r(t).loudspeakerPosition,"onUpdate:value":c[7]||(c[7]=g=>r(t).loudspeakerPosition=g),options:i,"menu-props":{style:{borderRadius:"10px"}}},null,8,["value"])]),_:1}),s(r(j),{label:"最大引用层数",path:"quoteMax"},{default:o(()=>[s(r(Q),{value:r(t).quoteMax,"onUpdate:value":c[8]||(c[8]=g=>r(t).quoteMax=g),max:6,min:1,step:1},{suffix:o(()=>[f(" 层 ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"回复行数限高",path:"foldMaxLine"},{default:o(()=>[s(r(Q),{value:r(t).foldMaxLine,"onUpdate:value":c[9]||(c[9]=g=>r(t).foldMaxLine=g),max:99,min:6,step:1},{suffix:o(()=>[f(" 行 ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"表情包白色背景",path:"emojiWhiteBack"},{default:o(()=>[s(r(Ce),{trigger:"hover"},{trigger:o(()=>[s(r(Z),{value:r(t).emojiWhiteBack,"onUpdate:value":c[10]||(c[10]=g=>r(t).emojiWhiteBack=g)},null,8,["value"])]),default:o(()=>[so]),_:1})]),_:1})]),_:1}),s(r(ge),{style:{"max-width":"280px"}},{default:o(()=>[s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:o(()=>[f("字体大小 ")]),_:1})]),_:1}),s(r(j),{label:"回复内容",path:"fontSizePost"},{default:o(()=>[s(r(Q),{value:r(t).fontSizePost,"onUpdate:value":c[11]||(c[11]=g=>r(t).fontSizePost=g),max:24,min:10,step:.5},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"引用内容",path:"fontSizeQuote"},{default:o(()=>[s(r(Q),{value:r(t).fontSizeQuote,"onUpdate:value":c[12]||(c[12]=g=>r(t).fontSizeQuote=g),max:24,min:10,step:.5},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"回复脚注",path:"fontSizeFooter"},{default:o(()=>[s(r(Q),{value:r(t).fontSizeFooter,"onUpdate:value":c[13]||(c[13]=g=>r(t).fontSizeFooter=g),max:22,min:8,step:.5},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"主题列表",path:"fontSizeThreadList"},{default:o(()=>[s(r(Q),{value:r(t).fontSizeThreadList,"onUpdate:value":c[14]||(c[14]=g=>r(t).fontSizeThreadList=g),max:24,min:10,step:.5},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"主题列表脚注",path:"fontSizeThreadListFooter"},{default:o(()=>[s(r(Q),{value:r(t).fontSizeThreadListFooter,"onUpdate:value":c[15]||(c[15]=g=>r(t).fontSizeThreadListFooter=g),max:22,min:8,step:.5},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"输入框",path:"fontSizeInput"},{default:o(()=>[s(r(Q),{value:r(t).fontSizeInput,"onUpdate:value":c[16]||(c[16]=g=>r(t).fontSizeInput=g),max:24,min:10,step:.5},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1})]),_:1}),s(r(ge),{style:{"max-width":"280px"}},{default:o(()=>[s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:o(()=>[f("间距相关 ")]),_:1})]),_:1}),s(r(j),{label:"回复内容行距",path:"lineHeightPost"},{default:o(()=>[s(r(Q),{value:r(t).lineHeightPost,"onUpdate:value":c[17]||(c[17]=g=>r(t).lineHeightPost=g),max:40,min:16,step:2},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"回复内容上下间距",path:"postInnerMargin"},{default:o(()=>[s(r(Q),{value:r(t).postInnerMargin,"onUpdate:value":c[18]||(c[18]=g=>r(t).postInnerMargin=g),max:30,min:0,step:1},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"回复卡片四周空白",path:"postCardPadding"},{default:o(()=>[s(r(Q),{value:r(t).postCardPadding,"onUpdate:value":c[19]||(c[19]=g=>r(t).postCardPadding=g),max:20,min:4,step:1},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"主题内容上下间距",path:"threadListInnerMargin"},{default:o(()=>[s(r(Q),{value:r(t).threadListInnerMargin,"onUpdate:value":c[20]||(c[20]=g=>r(t).threadListInnerMargin=g),max:30,min:0,step:1},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1}),s(r(j),{label:"主题卡片四周空白",path:"threadListCardPadding"},{default:o(()=>[s(r(Q),{value:r(t).threadListCardPadding,"onUpdate:value":c[21]||(c[21]=g=>r(t).threadListCardPadding=g),max:20,min:4,step:1},{suffix:o(()=>[f(" px ")]),_:1},8,["value"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","size"])]),_:1}),s(r(ue),{style:{"margin-top":"2px","margin-bottom":"2px"}}),s(nr,{"post-data":l,"forum-id":0,"preview-mode":!0}),s(r(ue),{style:{"margin-top":"2px","margin-bottom":"2px"}}),s(tr,{"threads-list-data":d,"show-this":!0})]),_:1}))}}),uo={class:"bank-item"},co={style:{"margin-left":"auto"}},go={style:{"margin-left":"auto"}},fo=b("div",null,[f(" 存粮没有利息、提前开仓扣12% "),b("br"),f(" （那有什么用啊！） ")],-1),De=10,ho=J({__name:"TabBank",setup(n){Ne(R=>({bcc33106:r(i).dividerColor}));const e=oe(),t=ae();st(),nt(),rt();const i=ke(),a=N(!1),l=N(),d=N(1e4),u=N(de.tz().add(2,"day").format("YYYY-MM-DD 00:00:00")),c=N({pageSize:De}),g=[{title:"存入时间",key:"created_at",resizable:!0},{title:"存粮",key:"olo",resizable:!0},{title:"标签",key:"description",resizable:!0},{title:"到期时间",key:"expire_date",resizable:!0},{title:"操作",key:"controller",render:T,resizable:!0}],p=N(1),h=H(()=>(p.value-1)*De);function m(R){return de().subtract(1,"day").isAfter(R)||de().add(1,"year").isBefore(de(R))}const v=H(()=>S.value.map(R=>R.olo).reduce((R,U)=>R+U,0));function T(R,U){return me(z,{onClick:()=>E(R.id,R.isExpired),size:"tiny",type:R.isExpired?"success":"warning",innerHTML:R.isExpired?"到期开仓":"提前开仓"})}const{loading:w,data:_,send:x}=te(R=>zn(R),{immediate:!1,initialData:[]});e.binggan!==null&&x({binggan:e.binggan});const S=H(()=>_.value.map(R=>we(ce({},R),{isExpired:de().isAfter(R.expire_date)}))),{loading:M,send:A,onSuccess:P}=te(R=>An(R),{immediate:!1});P(()=>{e.refreshUserData(),x({binggan:e.binggan}),a.value=!1});function I(){if(d.value===null){window.$message.error("请输入要存入的olo");return}const R={title:"存入粮仓",closable:!1,content:"要往粮仓存入olo吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const U={binggan:e.binggan,olo:d.value,description:l.value,expire_date:u.value};A(U)}};window.$dialog.success(R)}function E(R,U){function F(){const $={binggan:e.binggan,deposit_id:R,confirm_penalty:!U};Un($).then(()=>{e.refreshUserData(),x({binggan:e.binggan})})}if(U){const $={title:"取出到期的存粮",closable:!1,content:"要取出存粮吗？因为已经到期，不收取手续费。",positiveText:"确定",negativeText:"取消",onPositiveClick:F};window.$dialog.success($)}else{const $={title:"提前取出存粮",closable:!1,content:"确定要提前取出存粮吗？将会扣除12%的奥利奥喔",positiveText:"确定",negativeText:"取消",onPositiveClick:F};window.$dialog.warning($)}}return(R,U)=>(D(),L(r(O),{align:"center"},{default:o(()=>[s(r(z),{type:"primary",onClick:U[0]||(U[0]=F=>a.value=!0)},{default:o(()=>[f("我要存粮")]),_:1}),s(r(Y),{title:"我的粮仓",size:"small"},Ft({default:o(()=>[r(t).isMobile?X("",!0):(D(),L(r(it),{key:0,columns:g,data:S.value,pagination:c.value,loading:r(w),bordered:!1},null,8,["data","pagination","loading"])),r(t).isMobile?(D(),W(K,{key:1},[S.value.length>0?(D(),L(r(O),{key:0,vertical:"",align:"start",size:"small"},{default:o(()=>[(D(!0),W(K,null,ie(S.value.slice(h.value,h.value+De),F=>(D(),W("div",uo,[F.description?(D(),L(r(O),{key:0,style:{"margin-bottom":"6px"}},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("存粮标签：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(F.description),1)]),_:2},1024)])]),_:2},1024)):X("",!0),s(r(O),{style:{"margin-bottom":"6px"}},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("存入时间：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(F.created_at),1)]),_:2},1024)]),b("div",co,[s(r(y),{depth:3},{default:o(()=>[f("存粮：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(F.olo),1)]),_:2},1024)])]),_:2},1024),s(r(O),{style:{"margin-bottom":"6px"}},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("到期时间：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(F.expire_date),1)]),_:2},1024)]),b("div",go,[F.isExpired?X("",!0):(D(),L(r(z),{key:0,size:"tiny",type:"warning",onClick:$=>E(F.id,F.isExpired)},{default:o(()=>[f("提前开仓")]),_:2},1032,["onClick"])),F.isExpired?(D(),L(r(z),{key:1,size:"tiny",type:"success",onClick:$=>E(F.id,F.isExpired)},{default:o(()=>[f("到期开仓")]),_:2},1032,["onClick"])):X("",!0)])]),_:2},1024)]))),256)),s(r(Bt),{page:p.value,"onUpdate:page":U[1]||(U[1]=F=>p.value=F),"item-count":S.value.length,"page-size":De,size:"small",style:{"margin-left":"auto"}},null,8,["page","item-count"])]),_:1})):(D(),L(r(qt),{key:1}))],64)):X("",!0)]),_:2},[S.value.length>0?{name:"header-extra",fn:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("粮仓总计：")]),_:1}),b("span",null,G(v.value),1)])]),key:"0"}:void 0]),1024),s(r(fe),{show:a.value,"onUpdate:show":U[7]||(U[7]=F=>a.value=F),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),title:"存粮",closable:"",onClose:U[6]||(U[6]=F=>a.value=!1),size:"small"},{action:o(()=>[s(r(O),{justify:"end"},{default:o(()=>[s(r(z),{type:"primary",loading:r(M),disabled:r(M),onClick:I},{default:o(()=>[f("提交")]),_:1},8,["loading","disabled"]),s(r(z),{onClick:U[5]||(U[5]=F=>a.value=!1)},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[s(r(O),{vertical:""},{default:o(()=>[fo,s(r(Ue),null,{default:o(()=>[s(r(He),{style:{width:"5.2rem"}},{default:o(()=>[f("存粮标签")]),_:1}),s(r(se),{value:l.value,"onUpdate:value":U[2]||(U[2]=F=>l.value=F),placeholder:"可选"},null,8,["value"])]),_:1}),s(r(Ue),null,{default:o(()=>[s(r(He),{style:{width:"5.2rem"}},{default:o(()=>[f("olo总额")]),_:1}),s(r(Q),{value:d.value,"onUpdate:value":U[3]||(U[3]=F=>d.value=F),max:1e6,min:10,step:1e4,parse:r(rr),format:r(ir)},null,8,["value","parse","format"])]),_:1}),s(r(Ue),null,{default:o(()=>[s(r(He),{style:{width:"5.2rem"}},{default:o(()=>[f("到期日期")]),_:1}),s(r(Wt),{"formatted-value":u.value,"onUpdate:formattedValue":U[4]||(U[4]=F=>u.value=F),"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetime","is-date-disabled":m},null,8,["formatted-value"])]),_:1}),s(r(y),{depth:3},{default:o(()=>[f("存粮时间最短1天，最长1年")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}});function pt(n){if(!navigator.clipboard){var e=document.createElement("textarea");e.value=n,document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e);return}navigator.clipboard.writeText(n)}const po={key:0},mo=b("span",{style:{"margin-left":"6px"}},"暂停使用后，大乱斗时不显示选项",-1),vo=["src"],bo=b("h4",null,"骰子语句：",-1),yo=b("p",null,"1~10指投出1~10点时候的语句，如此类推。",-1),_o=b("h4",null,"替换词会被自动替换为相应内容：",-1),wo=b("p",null,[f("%rand_num —— 骰子数字（必须有） "),b("br"),f(" %name —— 本角色名字 "),b("br"),f(" %opponent —— 对手名字")],-1),So=b("span",null,"将代码填入下述框就可以导入角色数据",-1),Do=b("span",null,"可以将下面代码复制下来分享给别人",-1),To=J({__name:"TabChara",setup(n){const e=oe(),t=ae(),i=N(null),a=N(!1),l=N(!1),d=N(!1),u=N(),c=H(()=>JSON.stringify(_.value[g.value])),g=N(0),p=H(()=>_.value.map((P,I)=>({value:I,label:P.name}))),h=[{label:"等待",varName:"wait"},{label:"参战",varName:"against"},{label:"攻击",varName:"attack"},{label:"胜利",varName:"win"},{label:"失败",varName:"lose"}],m=ce(ce({name:{required:!0,message:"请输入角色名称",trigger:"blur"}},h.reduce((P,{label:I,varName:E})=>(P[`heads.${E}`]={required:!0,message:"请输入头像地址",trigger:"blur"},P),{})),Array.from({length:10},(P,I)=>I).reduce((P,I)=>(P[`messages.${I}`]={required:!0,validator:(E,R)=>{const U=/%rand_num/;return R===null?new Error("请输入战斗语音"):U.test(R)?!0:new Error("必须包含%rand_num（上面有使用说明）")},trigger:"blur"},P),{}));function v(){if(u.value===void 0){window.$message.error("请输入角色数据");return}try{_.value[g.value]=JSON.parse(u.value)}catch(P){window.$message.error("输入数据的格式有误，请重新尝试");return}window.$message.success("已导入角色数据"),l.value=!1}function T(){pt(c.value),window.$message.success("已复制到剪贴板")}const{loading:w,data:_,send:x}=te(P=>jn(P),{immediate:!1,initialData:[]});e.binggan!==null&&x({binggan:e.binggan});const{loading:S,send:M}=te(P=>Hn(P),{immediate:!1});function A(){var P;(P=i.value)==null||P.validate(I=>{if(I)window.$message.error("请确认信息填写完整");else{const E=ce({binggan:e.binggan,chara_id:g.value},_.value[g.value]);M(E)}})}return(P,I)=>(D(),L(r(O),{vertical:""},{default:o(()=>[s(r(Y),{title:"我的角色",size:"small"},Ft({default:o(()=>[!r(w)&&r(_).length>0?(D(),W(K,{key:0},[s(r(O),{size:"small",justify:"end",align:"center"},{default:o(()=>[s(r(z),{onClick:I[1]||(I[1]=E=>l.value=!0)},{default:o(()=>[f("导入角色")]),_:1}),s(r(z),{onClick:I[2]||(I[2]=E=>d.value=!0)},{default:o(()=>[f("导出角色")]),_:1})]),_:1}),s(r(Me),{ref_key:"formRef",ref:i,model:r(_)[g.value],"label-placement":"left","label-width":"auto",rules:m,size:r(t).isMobile?"small":"medium"},{default:o(()=>[s(r(xe),{cols:"1 1000:2","x-gap":12},{default:o(()=>[s(r(ge),{style:{"max-width":"500px"}},{default:o(()=>[s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:o(()=>[f(" 角色名 ")]),_:1})]),_:1}),s(r(j),{label:"角色名",path:"name"},{default:o(()=>[s(r(se),{value:r(_)[g.value].name,"onUpdate:value":I[3]||(I[3]=E=>r(_)[g.value].name=E),placeholder:"你的角色的名称"},null,8,["value"])]),_:1}),s(r(j),{label:"暂停使用",path:"not_use"},{default:o(()=>[s(r(Z),{value:r(_)[g.value].not_use,"onUpdate:value":I[4]||(I[4]=E=>r(_)[g.value].not_use=E)},null,8,["value"]),mo]),_:1}),s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem"}},{default:o(()=>[f(" 头像组 ")]),_:1})]),_:1}),(D(),W(K,null,ie(h,(E,R)=>s(r(j),{label:E.label,path:`heads.${E.varName}`},{default:o(()=>[s(r(se),{value:r(_)[g.value].heads[E.varName],"onUpdate:value":U=>r(_)[g.value].heads[E.varName]=U},null,8,["value","onUpdate:value"]),b("img",{src:r(_)[g.value].heads[E.varName],style:{"max-height":"34px"}},null,8,vo)]),_:2},1032,["label","path"])),64))]),_:1}),s(r(ge),{style:{"max-width":"500px"}},{default:o(()=>[s(r(ue),{dashed:"",style:{"margin-top":"8px","margin-bottom":"8px"}},{default:o(()=>[s(r(y),{depth:"3",style:{"font-size":"0.875rem",cursor:"pointer"},onClick:I[5]||(I[5]=E=>a.value=!0)},{default:o(()=>[f(" 战斗语音（使用说明？） ")]),_:1})]),_:1}),(D(),W(K,null,ie(10,E=>s(r(j),{label:`骰子${E*10-9}~${E*10}`,path:`messages.${E-1}`},{default:o(()=>[s(r(se),{value:r(_)[g.value].messages[E-1],"onUpdate:value":R=>r(_)[g.value].messages[E-1]=R},null,8,["value","onUpdate:value"])]),_:2},1032,["label","path"])),64))]),_:1})]),_:1})]),_:1},8,["model","size"])],64)):X("",!0)]),_:2},[!r(w)&&r(_).length>0?{name:"header-extra",fn:o(()=>[s(r(y),{depth:3,style:{"flex-shrink":"0"}},{default:o(()=>[f(" 选择要编辑的角色 ")]),_:1}),s(r(Ke),{value:g.value,"onUpdate:value":I[0]||(I[0]=E=>g.value=E),options:p.value,"consistent-menu-width":!1},null,8,["value","options"])]),key:"0"}:void 0,!r(w)&&r(_).length===0?{name:"header-extra",fn:o(()=>[s(r(y),{depth:3},{default:o(()=>[f(" 你尚未拥有角色槽位，"),r(t).isMobile?(D(),W("br",po)):X("",!0),f("请在“饼干升级”处购买 ")]),_:1})]),key:"1"}:void 0]),1024),!r(w)&&r(_).length>0?(D(),W(K,{key:0},[s(r(O),{size:"small",justify:"end",align:"center"},{default:o(()=>[s(r(y),{depth:3},{default:o(()=>[f(" 各个角色要分别点提交喔 ")]),_:1}),s(r(z),{type:"primary",loading:r(S),disabled:r(S),onClick:A},{default:o(()=>[f("提交当前角色")]),_:1},8,["loading","disabled"])]),_:1}),s(r(fe),{show:a.value,"onUpdate:show":I[7]||(I[7]=E=>a.value=E),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),closable:"",onClose:I[6]||(I[6]=E=>a.value=!1),size:"small",title:"战斗语音使用说明"},{default:o(()=>[bo,yo,_o,wo]),_:1},8,["style"])]),_:1},8,["show"]),s(r(fe),{show:l.value,"onUpdate:show":I[11]||(I[11]=E=>l.value=E),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),closable:"",onClose:I[10]||(I[10]=E=>l.value=!1),size:"small",title:"导入角色数据"},{action:o(()=>[s(r(O),{justify:"end"},{default:o(()=>[s(r(z),{onClick:v,type:"primary"},{default:o(()=>[f("导入")]),_:1}),s(r(z),{onClick:I[9]||(I[9]=E=>l.value=!1)},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[s(r(O),{vertical:""},{default:o(()=>[So,s(r(Ie),{value:u.value,"onUpdate:value":I[8]||(I[8]=E=>u.value=E),type:"textarea",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]),s(r(fe),{show:d.value,"onUpdate:show":I[14]||(I[14]=E=>d.value=E),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),closable:"",onClose:I[13]||(I[13]=E=>d.value=!1),size:"small",title:"导出角色数据"},{action:o(()=>[s(r(O),{justify:"end"},{default:o(()=>[s(r(z),{onClick:T},{default:o(()=>[f("复制")]),_:1}),s(r(z),{onClick:I[12]||(I[12]=E=>d.value=!1)},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[s(r(O),{vertical:""},{default:o(()=>[Do,s(r(Ie),{value:c.value,type:"textarea",readonly:"",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])],64)):X("",!0)]),_:1}))}}),Co=b("span",null,"可自由输入名称的定制饼干，并可选择魂穿到新饼干",-1),Oo=b("span",null,"10万 olo",-1),xo={key:0,style:{"line-height":"1.5rem"}},Io=b("span",null,"将原有饼干的所有数据都转移到定制饼干",-1),Eo=b("br",null,null,-1),Mo=b("span",null,"包括：olo、粮仓、饼干等级、表情包、屏蔽词、成就和成就进度",-1),No=b("br",null,null,-1),ko=b("span",null,"不包括：回帖主题等（也就是不能操作原有饼干的回帖）",-1),Po=b("br",null,null,-1),Ro=b("br",null,null,-1),$o=J({__name:"TabCustom",setup(n){const e=oe(),t=ae(),i=N(null),a=N({bingganApply:null,password:null,passwordRepeat:null,transferBinggan:!1}),l={bingganApply:{required:!0,validator:(p,h)=>{const m=/^[a-zA-Z0-9_]+$/;if(h===null)return new Error("请输入要定制的饼干");if(m.test(h)){if(h.length<7)return new Error("最少需要7个字符");if(h.length>16)return new Error("最多16个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},password:{required:!0,validator:(p,h)=>{const m=/^[a-zA-Z0-9_]+$/;if(h===null)return new Error("请输入密码");if(m.test(h)){if(h.length<7)return new Error("最少需要7个字符");if(h.length>20)return new Error("最多20个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},passwordRepeat:{required:!0,validator:(p,h)=>h===a.value.password,message:"密码不一致",trigger:"blur"}},{loading:d,send:u,onSuccess:c}=te(p=>Fn(p),{immediate:!1});c(()=>{if(a.value.transferBinggan){const p={title:"将退出原有饼干",closable:!1,content:"已经魂穿，原有饼干已碎。请以重新导入新饼干。",positiveText:"确定",onPositiveClick:()=>{Bn(e.binggan).then(()=>{qn(),window.location.href="/"})}};window.$dialog.warning(p)}else e.refreshUserData(),a.value.password=null,a.value.passwordRepeat=null});function g(){var p;(p=i.value)==null||p.validate(h=>{if(h)window.$message.error("请确认信息填写完整");else{const m={title:"申请定制饼干",closable:!1,content:`申请的定制饼干：${a.value.bingganApply}`,positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{const v={binggan:e.binggan,binggan_apply:a.value.bingganApply,password:a.value.password,transfer_binggan:a.value.transferBinggan};u(v)}};window.$dialog.success(m)}})}return(p,h)=>(D(),L(r(Y),{title:"定制饼干",size:"small"},{default:o(()=>[s(r(O),{vertical:""},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("说明：")]),_:1}),Co]),b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("价格：")]),_:1}),Oo]),s(r(Me),{ref_key:"formRef",ref:i,model:a.value,"label-placement":"left","label-width":"auto",style:{"max-width":"400px"},rules:l,size:r(t).isMobile?"small":"medium"},{default:o(()=>[s(r(j),{label:"定制饼干",path:"bingganApply"},{default:o(()=>[s(r(se),{value:a.value.bingganApply,"onUpdate:value":h[0]||(h[0]=m=>a.value.bingganApply=m),placeholder:"7~16个字符(字母、数字、下划线)",maxlength:16,minlength:7},null,8,["value"])]),_:1}),s(r(j),{label:"密码",path:"password"},{default:o(()=>[s(r(se),{value:a.value.password,"onUpdate:value":h[1]||(h[1]=m=>a.value.password=m),placeholder:"7~20个字符(字母、数字、下划线)",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),s(r(j),{label:"重复密码",path:"passwordRepeat"},{default:o(()=>[s(r(se),{value:a.value.passwordRepeat,"onUpdate:value":h[2]||(h[2]=m=>a.value.passwordRepeat=m),placeholder:"再次输入密码",type:"password",maxlength:20,minlength:7,"show-password-on":"click",onKeyup:Gt(g,["enter"])},null,8,["value"])]),_:1}),s(r(j),{label:"魂穿新饼干",path:"transferBinggan"},{default:o(()=>[s(r(Z),{value:a.value.transferBinggan,"onUpdate:value":h[3]||(h[3]=m=>a.value.transferBinggan=m)},null,8,["value"])]),_:1}),a.value.transferBinggan?(D(),W("div",xo,[s(r(y),{depth:3},{default:o(()=>[f("魂穿说明：")]),_:1}),Io,Eo,Mo,No,ko,Po,s(r(y),{type:"error",style:{"font-size":"1.125rem"}},{default:o(()=>[f("现有饼干会被碎掉")]),_:1}),Ro])):X("",!0)]),_:1},8,["model","size"]),s(r(O),{size:"small",align:"center"},{default:o(()=>[s(r(z),{type:"primary",loading:r(d),disabled:r(d),onClick:g},{default:o(()=>[f("提交")]),_:1},8,["loading","disabled"]),s(r(y),{depth:3},{default:o(()=>[f("请务必保存好饼干和密码喔")]),_:1})]),_:1})]),_:1})]),_:1}))}}),Lo=["data-handler-id"],zo=["src"],Ao=J({__name:"Emoji",props:{emojiSrc:{},index:{}},emits:["deleteEmoji","moveCard"],setup(n,{emit:e}){const t=n,i=e,a=N(),[l,d]=mn({accept:"emojiImg",collect(v){return{handlerId:v.getHandlerId()}},hover(v,T){var M;if(!a.value)return;const w=v.index,_=t.index;if(w===_)return;const x=(M=a.value)==null?void 0:M.getBoundingClientRect();(x.bottom-x.top)/2,T.getClientOffset().y-x.top,i("moveCard",w,_),v.index=_}}),[u,c]=Va({type:"emojiImg",item:()=>({index:t.index}),collect:v=>({isDragging:v.isDragging()}),end:(v,T)=>{const w=T.getDropResult();v&&(w==null?void 0:w.name)==="Dustbin"&&i("deleteEmoji",v.index)}}),{handlerId:g}=Je(l),{isDragging:p}=Je(u),h=H(()=>r(p)?0:1),m=v=>{a.value=c(d(v))};return(v,T)=>(D(),W("div",{ref:m,class:"emoji-box draggable",style:ee({opacity:h.value}),"data-handler-id":r(g)},[b("img",{src:v.emojiSrc,class:"emoji-in-box"},null,8,zo)],12,Lo))}}),Uo=ot(Ao,[["__scopeId","data-v-c3f2b658"]]),jo=J({__name:"ExportEmojiModal",setup(n,{expose:e}){const t=ae(),i=N(""),a=N(""),l=N(!1);function d(c,g){l.value=!0,i.value=c,a.value=g}e({show:d});function u(){pt(i.value),window.$message.success("已复制到剪贴板")}return(c,g)=>(D(),L(r(fe),{show:l.value,"onUpdate:show":g[2]||(g[2]=p=>l.value=p),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),title:a.value,closable:"",onClose:g[1]||(g[1]=p=>l.value=!1),size:"small"},{action:o(()=>[s(r(O),{justify:"end"},{default:o(()=>[s(r(z),{onClick:u},{default:o(()=>[f("复制")]),_:1}),s(r(z),{onClick:g[0]||(g[0]=p=>l.value=!1)},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[s(r(O),{vertical:""},{default:o(()=>[s(r(y),null,{default:o(()=>[f("可以用来复制给别人")]),_:1}),s(r(Ie),{value:i.value,type:"textarea",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:8}},null,8,["value"])]),_:1})]),_:1},8,["style","title"])]),_:1},8,["show"]))}}),Ho=n=>(Mn("data-v-7a5725ef"),n=n(),Nn(),n),Fo=Ho(()=>b("span",null,"启用点击删除功能",-1)),Bo={class:"emoji-box"},qo=["src"],Wo=J({__name:"TabEmojis",setup(n){Ne(C=>({"4e867efa":r(t).textColor1}));const e=oe(),t=ke(),i=N(null),a=St.map(C=>C.id),l=N(a.filter(C=>!e.userData.emoji_excluded.includes(C))),d=H(()=>a.filter(C=>!l.value.includes(C))),u=N([]);function c(C){Array.isArray(C)?u.value=C.map((B,q)=>({emojiSrc:B,id:q})):u.value=[]}e.userLoginStatus===!0&&c(e.userData.my_emoji),at(()=>e.userDataLoading,C=>{C===!1&&c(e.userData.my_emoji)});const g=(C,B)=>{const q=u.value[C];u.value.splice(C,1),u.value.splice(B,0,q)},[p,h]=mn(()=>({accept:"emojiImg",drop:()=>({name:"Dustbin"}),collect:C=>({isOver:C.isOver(),canDrop:C.canDrop()})})),{canDrop:m,isOver:v}=Je(p),T=H(()=>r(m)&&r(v)),w=H(()=>r(T)?t.value.tagColor:t.value.cardColor);function _(C){u.value.splice(C,1)}const x=N(!1);function S(C){x.value===!0&&u.value.splice(C,1)}const M=N(!1),A=N(""),P=H(()=>{var C;return(C=A.value)==null?void 0:C.split(/[\n,，]+/).filter(B=>B!="")});function I(){M.value=!1;const C=P.value.map((B,q)=>({emojiSrc:B,id:q+u.value.length}));u.value=u.value.concat(C),A.value=""}function E(){let C=u.value.map(B=>B.emojiSrc);C=C.filter((B,q)=>C.indexOf(B)===q),u.value=C.map((B,q)=>({emojiSrc:B,id:q}))}function R(){M.value===!0&&I();const C={binggan:e.binggan,my_emoji:u.value.map(B=>B.emojiSrc),emoji_excluded:d.value};F(C)}const{loading:U,send:F,onSuccess:$}=te(C=>Wn(C),{immediate:!1,initialData:[]});$(()=>e.refreshUserData());function V(){var C;(C=i.value)==null||C.show(u.value.map(B=>B.emojiSrc).join(`,
`),"我的表情包")}return(C,B)=>(D(),L(r(O),{vertical:""},{default:o(()=>[s(r(Y),{title:"官方表情包",size:"small"},{"header-extra":o(()=>[s(r(y),{depth:3,style:{"font-size":"0.875rem"}},{default:o(()=>[f("可以关闭不想要的表情包")]),_:1})]),default:o(()=>[s(r(Vt),{value:l.value,"onUpdate:value":B[0]||(B[0]=q=>l.value=q)},{default:o(()=>[s(r(O),{size:"small"},{default:o(()=>[(D(!0),W(K,null,ie(r(St),q=>(D(),L(r(En),{value:q.id,label:q.name},null,8,["value","label"]))),256))]),_:1})]),_:1},8,["value"])]),_:1}),s(r(Y),{title:"我的表情包",size:"small"},{"header-extra":o(()=>[s(r(O),{size:"small",align:"center",wrap:!0},{default:o(()=>[s(r(y),{depth:3,style:{"font-size":"0.875rem"}},{default:o(()=>[f("可拖拽排序")]),_:1}),s(r(z),{onClick:E},{default:o(()=>[f("去重")]),_:1}),M.value?X("",!0):(D(),L(r(z),{key:0,type:"primary",onClick:B[1]||(B[1]=q=>M.value=!0)},{default:o(()=>[f("追加")]),_:1}))]),_:1})]),default:o(()=>[s(r(O),{size:"small",style:{"margin-bottom":"6px"}},{default:o(()=>[s(r(Z),{value:x.value,"onUpdate:value":B[2]||(B[2]=q=>x.value=q)},null,8,["value"]),Fo]),_:1}),s(r(O),{size:"small",style:{"touch-action":"none"}},{default:o(()=>[(D(!0),W(K,null,ie(u.value,(q,Ae)=>(D(),L(Uo,{key:q.id,emojiSrc:q.emojiSrc,index:Ae,onClick:vn=>S(Ae),onMoveCard:g,onDeleteEmoji:_},null,8,["emojiSrc","index","onClick"]))),128))]),_:1}),b("div",{ref:r(h),class:"emoji-trash",style:ee({backgroundColor:w.value})},[s(r(y),{depth:3},{default:o(()=>[f("拖到这里删除")]),_:1}),s(r(Yt),{size:28},{default:o(()=>[s(r(cr))]),_:1})],4)]),_:1}),M.value?(D(),L(r(Y),{key:0,title:"待追加的表情包",size:"small",class:"dash-line"},{"header-extra":o(()=>[s(r(O),{size:"small"},{default:o(()=>[s(r(z),{type:"primary",onClick:I},{default:o(()=>[f("追加")]),_:1}),s(r(z),{type:"default",onClick:B[3]||(B[3]=q=>{M.value=!1,A.value=""})},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[s(r(O),{size:"small"},{default:o(()=>[(D(!0),W(K,null,ie(P.value,(q,Ae,vn)=>(D(),W("div",Bo,[b("img",{src:q,class:"emoji-in-box"},null,8,qo)]))),256))]),_:1}),s(r(Ie),{type:"textarea",value:A.value,"onUpdate:value":B[4]||(B[4]=q=>A.value=q),placeholder:"在这里贴网址追加表情包。可以一次多个，每行一个。",style:{"border-radius":"10px","margin-top":"6px"},autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1})):X("",!0),s(r(O),{align:"center",justify:"end"},{default:o(()=>[s(r(y),{depth:3,style:{"font-size":"0.875rem"}},{default:o(()=>[f("上面所有变更都要提交后才生效喔")]),_:1}),s(r(z),{onClick:V},{default:o(()=>[f("导出")]),_:1}),s(r(z),{onClick:R,type:"primary",loading:r(U),disabled:r(U)},{default:o(()=>[f("提交")]),_:1},8,["loading","disabled"])]),_:1}),s(jo,{ref_key:"ExportEmojiModalCom",ref:i},null,512)]),_:1}))}}),Go=ot(Wo,[["__scopeId","data-v-7a5725ef"]]),Vo={class:"income-item"},Yo={style:{"margin-left":"auto"}},Xo={key:0,style:{"margin-top":"6px"}},Te=30,Ko=J({__name:"TabIncome",setup(n){Ne($=>({f2e6aaa0:r(t).dividerColor})),oe();const e=ae();st(),nt(),rt();const t=ke(),i=N([de.tz().valueOf(),de.tz().valueOf()]),a=N({pageSize:Te}),l=[{title:"时间",key:"created_at",resizable:!0},{title:"收支",key:"olo",resizable:!0},{title:"内容",key:"content",resizable:!0},{title:"主题",key:"thread",render:F,ellipsis:!0,resizable:!0}],d=H(()=>A.value?[{label:"加载中...",key:"loading"}]:[{label:"当月统计："+P.value.sum_month,key:"monthSum"},{label:"全年统计："+P.value.sum_year,key:"yearSum"}]),u=["default_in","default_out","battle_in","battle_out","hongbao_in","hongbao_out","reward_out","reward_in","gamble_out","gamble_in","bank_in","bank_out","post","penalty"],c=[{label:"全部",value:"all"}],g=[{label:"回帖",value:"post"},{label:"乱斗",value:"battle_in"},{label:"红包",value:"hongbao_in"},{label:"打赏",value:"reward_in"},{label:"菠菜",value:"gamble_in"},{label:"粮仓",value:"bank_in"},{label:"其他",value:"default_in"}],p=[{label:"乱斗",value:"battle_out"},{label:"红包",value:"hongbao_out"},{label:"打赏",value:"reward_out"},{label:"菠菜",value:"gamble_out"},{label:"粮仓",value:"bank_out"},{label:"罚款",value:"penalty"},{label:"其他",value:"default_out"}],h=N(["all"]);function m($){return me(Vt,{value:h.value,"onUpdate:value":V=>{const C=V.filter(q=>!h.value.includes(q)),B=h.value.filter(q=>!V.includes(q));C.includes("all")?h.value=["all"]:B.includes("all")?h.value=u:C.length!==0&&!C.includes("all")?h.value=V.filter(q=>q!=="all"):B.length!==0&&V.length===0?h.value=["all"]:h.value=V}},()=>[me(O,{style:"padding:6px 8px",vertical:!0},()=>[Array.from($).map(V=>me(Yn,{value:V.value,label:V.label}))])])}const v=[{key:"filterOptions",type:"render",render:()=>m(c)},{label:"📈收入",key:"in",children:[{key:"filterOptionsIn",type:"render",render:()=>m(g)}]},{label:"📉支出",key:"out",children:[{key:"filterOptionsOut",type:"render",render:()=>m(p)}]}];function T($){return de().add(1,"day").isBefore($)||de(16409664e5).isAfter($)}const w=N(1),_=H(()=>(w.value-1)*Te),{loading:x,data:S,send:M}=te($=>Gn($),{immediate:!1,initialData:[]}),{loading:A,data:P,send:I}=te($=>Vn($),{immediate:!1,initialData:{sum_year:0,sum_month:0}}),E=H(()=>S.value.map($=>$.olo).reduce(($,V)=>$+V,0));at([i,h],()=>R("day")),kn(()=>R("day"));function R($){if(i.value===null)window.$message.error("需要选择日期");else{const V={start_ts:i.value[0],end_ts:i.value[1],type:h.value.includes("all")?null:h.value};$==="day"&&M(V),$==="sum"&&I(V)}}function U($){return{name:"thread",params:{threadId:$.thread_id,page:$.floor===null?1:Math.ceil(($.floor+1)/200)},hash:$.floor===null?void 0:"#f_"+$.floor}}function F($,V){return $.thread_id!==null?me(yt,{to:U($),target:"_blank",innerHTML:$.thread_title}):""}return($,V)=>(D(),L(r(O),{size:"small"},{default:o(()=>[s(r(Wt),{value:i.value,"onUpdate:value":V[0]||(V[0]=C=>i.value=C),type:"daterange","update-value-on-close":"",size:r(e).isMobile?"small":"medium","is-date-disabled":T,style:{"max-width":"300px"}},null,8,["value","size"]),s(r(bt),{trigger:r(e).isMobile?"click":"hover",options:v,placement:"bottom-start"},{default:o(()=>[s(r(z),null,{default:o(()=>[f("筛选")]),_:1})]),_:1},8,["trigger"]),s(r(z),{type:"primary",onClick:V[1]||(V[1]=C=>R("day")),loading:r(x)},{default:o(()=>[f(" 查询 ")]),_:1},8,["loading"]),s(r(Y),{title:"收支记录",size:"small"},{"header-extra":o(()=>[s(r(O),{size:"small",align:"center"},{default:o(()=>[f(" 区间小计："+G(E.value)+" ",1),s(r(bt),{trigger:"click",placement:"bottom-end",options:d.value},{default:o(()=>[s(r(z),{size:"small",onClick:V[2]||(V[2]=C=>R("sum"))},{default:o(()=>[f("月年总计")]),_:1})]),_:1},8,["options"])]),_:1})]),default:o(()=>[r(e).isMobile?X("",!0):(D(),L(r(it),{key:0,columns:l,data:r(S),pagination:a.value,bordered:!1,loading:r(x)},null,8,["data","pagination","loading"])),r(e).isMobile?(D(),W(K,{key:1},[r(S).length>0?(D(),L(r(O),{key:0,vertical:"",align:"start",size:"small"},{default:o(()=>[(D(!0),W(K,null,ie(r(S).slice(_.value,_.value+Te),C=>(D(),W("div",Vo,[s(r(O),null,{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("时间：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(C.created_at),1)]),_:2},1024)]),b("div",Yo,[s(r(y),{depth:3},{default:o(()=>[f("收支：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(C.olo),1)]),_:2},1024)])]),_:2},1024),s(r(O),{style:{"margin-top":"6px"}},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("内容：")]),_:1}),s(r(y),null,{default:o(()=>[f(G(C.content),1)]),_:2},1024)])]),_:2},1024),C.thread_id!==null?(D(),W("div",Xo,[s(r(y),{depth:3},{default:o(()=>[f("主题：")]),_:1}),s(r(yt),{to:U(C)},{default:o(()=>[f(G(C.thread_title),1)]),_:2},1032,["to"])])):X("",!0)]))),256)),s(r(Bt),{page:w.value,"onUpdate:page":V[3]||(V[3]=C=>w.value=C),"item-count":r(S).length,"page-size":Te,size:"small",style:{"margin-left":"auto"}},null,8,["page","item-count"])]),_:1})):(D(),L(r(qt),{key:1}))],64)):X("",!0)]),_:1})]),_:1}))}}),Jo=ot(Ko,[["__scopeId","data-v-bd174d32"]]),Qo={key:0},Zo=b("img",{src:"https://wmimg.com/i/1547/2025/02/67adf151e06c9.png",style:{"max-width":"100%"}},null,-1),es={key:0,style:{"margin-left":"auto"}},ts={key:1,style:{"margin-left":"auto"}},ns=J({__name:"TabLevelup",setup(n){const e=oe(),t=ae(),i=N(!1),a=N(!1),l={title_pingbici:{name:"标题屏蔽词",min:1e3,max:4e3,intervel:200,olo:4e3},content_pingbici:{name:"内容屏蔽词",min:1e3,max:4e3,intervel:200,olo:4e3},fjf_pingbici:{name:"FJF黑名单",min:1e3,max:4e3,intervel:200,olo:4e3},my_emoji:{name:"我的表情包",min:5e3,max:3e4,intervel:1e3,olo:2e4},my_battle_chara:{name:"大乱斗角色",min:0,max:3,intervel:1,olo:5e4}},d=[{title:"项目",key:"name",resizable:!0},{title:"目前容量",key:"value",resizable:!0},{title:"操作",key:"controller",render:c,resizable:!0}],u=H(()=>[{name:"标题屏蔽词",value:h.value.title_pingbici,mode:"title_pingbici"},{name:"内容屏蔽词",value:h.value.content_pingbici,mode:"content_pingbici"},{name:"FJF黑名单",value:h.value.fjf_pingbici,mode:"fjf_pingbici"},{name:"我的表情包",value:h.value.my_emoji,mode:"my_emoji"},{name:"大乱斗角色",value:h.value.my_battle_chara,mode:"my_battle_chara"}]);function c(M){return me(z,{onClick:()=>T(M.mode),size:"tiny",type:"success",innerHTML:"升级"})}const g={title_pingbici:0,content_pingbici:0,fjf_pingbici:0,my_emoji:0,my_battle_chara:0},{loading:p,data:h,send:m}=te(M=>Xn(M),{immediate:!1,initialData:g});e.binggan!==null&&m({binggan:e.binggan});const v=N("title_pingbici");function T(M){v.value=M,a.value=!0}const{loading:w,send:_,onSuccess:x}=te(M=>Kn(M),{immediate:!1});x(()=>{e.refreshUserData(),m({binggan:e.binggan}),a.value=!1});function S(M){const A={binggan:e.binggan,mode:M};_(A)}return(M,A)=>(D(),L(r(O),{vertical:""},{default:o(()=>[s(r(Y),{title:"升级饼干",size:"small"},{"header-extra":o(()=>[s(r(y),{depth:3},{default:o(()=>[f(" 说明：可支付olo升级饼干，"),r(t).isMobile?(D(),W("br",Qo)):X("",!0),f("增加屏蔽词、表情包等的容量。 ")]),_:1})]),default:o(()=>[s(r(it),{columns:d,data:u.value,bordered:!1,loading:r(p)},null,8,["data","loading"])]),_:1}),s(r(O),{size:"small"},{default:o(()=>[s(r(z),{onClick:A[0]||(A[0]=P=>i.value=!0)},{default:o(()=>[f("查看价格表")]),_:1})]),_:1}),s(r(fe),{show:i.value,"onUpdate:show":A[3]||(A[3]=P=>i.value=P),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),title:"升级饼干价目表",closable:"",onClose:A[2]||(A[2]=P=>i.value=!1),size:"small"},{action:o(()=>[s(r(O),{justify:"end"},{default:o(()=>[s(r(z),{onClick:A[1]||(A[1]=P=>i.value=!1)},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[Zo]),_:1},8,["style"])]),_:1},8,["show"]),s(r(fe),{show:a.value,"onUpdate:show":A[7]||(A[7]=P=>a.value=P),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),title:"升级饼干",closable:"",onClose:A[6]||(A[6]=P=>a.value=!1),size:"small"},{action:o(()=>[s(r(O),{justify:"end"},{default:o(()=>[s(r(z),{type:"primary",disabled:r(h)[v.value]>=l[v.value].max||r(w),loading:r(w),onClick:A[4]||(A[4]=P=>S(v.value))},{default:o(()=>[f("升级！")]),_:1},8,["disabled","loading"]),s(r(z),{onClick:A[5]||(A[5]=P=>a.value=!1)},{default:o(()=>[f("关闭")]),_:1})]),_:1})]),default:o(()=>[s(r(O),{vertical:"",size:"small"},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("项目：")]),_:1}),b("span",null,G(l[v.value].name),1)]),b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("升级容量：")]),_:1}),b("span",null," +"+G(l[v.value].intervel)+" "+G(v.value==="my_battle_chara"?"角色槽":"字符"),1)]),b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("最大容量：")]),_:1}),b("span",null,G(l[v.value].max)+" "+G(v.value==="my_battle_chara"?"角色槽":"字符"),1)]),b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("本次消费：")]),_:1}),s(r(y),{type:"warning"},{default:o(()=>[f(G(l[v.value].olo)+" 个olo",1)]),_:1})]),r(h)[v.value]>=l[v.value].max?(D(),W("span",es,"嗷，这个项目已经塞满了！无法继续升级。")):(D(),W("span",ts,"确定要升级这个项目吗？"))]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}}),Xe={1:{name:"好的开始是成功的一半",describe:"拥有10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac56d523730.png"},2:{name:"千仓万箱",describe:"拥有50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac56d51f77b.png"},3:{name:"财富自由",describe:"拥有100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac56d525d98.png"},4:{name:"锅中首富",describe:"拥有500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac56d536c09.png"},10:{name:"你的赌技从914到419，无人不知无人不晓",describe:"获得全部大乱斗成就",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67adf165b1c74.png"},11:{name:"一鸣惊人",describe:"通过大乱斗获得5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac579910aa7.png"},12:{name:"常胜将军",describe:"通过大乱斗获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac579911fea.png"},13:{name:"赌仙在世",describe:"通过大乱斗获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5799131be.png"},14:{name:"今夜做梦也会笑",describe:"通过大乱斗获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac57994db3b.png"},15:{name:"赌场收割者",describe:"通过大乱斗获得1000w个olo",threshold:1e7,img:"https://wmimg.com/i/1547/2025/02/67ac5799460b4.png"},16:{name:"没能让大人玩得尽兴真是抱歉",describe:"通过大乱斗获得1亿个olo（哇）",threshold:1e8,img:"https://wmimg.com/i/1547/2025/02/67adf207457de.png"},21:{name:"出师不利",describe:"由于大乱斗失去5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac5807e03e7.png"},22:{name:"一败涂地",describe:"由于大乱斗失去10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5807df0a7.png"},23:{name:"家徒四壁",describe:"由于大乱斗失去50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5807e022b.png"},24:{name:"倾家荡产",describe:"由于大乱斗失去100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5807e556c.png"},25:{name:"空中飞人",describe:"由于大乱斗失去1000w个olo",threshold:1e7,img:"https://wmimg.com/i/1547/2025/02/67ac5807e89f4.png"},26:{name:"进数码缅北，割赛博腰子",describe:"由于大乱斗失去1亿个olo（嗷..）",threshold:1e8,img:"https://wmimg.com/i/1547/2025/02/67adf2074feb7.png"},31:{name:"天降横财",describe:"通过红包获得5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac58734520b.png"},32:{name:"时来运转",describe:"通过红包获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac58735a3df.png"},33:{name:"鸿运当头",describe:"通过红包获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac587353008.png"},34:{name:"天选之子",describe:"通过红包获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac587355efa.png"},35:{name:"金玉满堂",describe:"通过红包获得500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac58735bbae.png"},41:{name:"元元之民",describe:"派发红包合计5w个olo",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac58f4ce626.png"},42:{name:"乐善好施",describe:"派发红包合计10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac58f4b4bf2.png"},43:{name:"行善积德",describe:"派发红包合计50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cecc4.png"},44:{name:"有钱就是任性",describe:"派发红包合计100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cf827.png"},45:{name:"普度众生",describe:"派发红包合计500w个olo",threshold:5e6,img:"https://wmimg.com/i/1547/2025/02/67ac58f4cfa4f.png"},51:{name:"无人在意",describe:"发起大乱斗没人接",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac59564c9a6.png"},61:{name:"手滑了一下",describe:"删了一个楼",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac59965e0e3.png"},81:{name:"轻轻松松",describe:"发表了1000个回帖",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac59e1364f7.png"},82:{name:"小菜一碟",describe:"发表了5000个回帖",threshold:5e3,img:"https://wmimg.com/i/1547/2025/02/67ac59d68d455.png"},83:{name:"火锅劳模",describe:"发表了1w个回帖",threshold:1e4,img:"https://wmimg.com/i/1547/2025/02/67ac59d6bf0c6.png"},84:{name:"决战紫禁之巅",describe:"发表了5w个回帖",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac59d6c9d80.png"},85:{name:"火锅有你了不起",describe:"发表了10w个回帖",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac59d6cc83e.png"},111:{name:"双赢才是最好的",describe:"大乱斗平局",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac5a1e8fe3c.png"},141:{name:"我要变强",describe:"饼干升到5级",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c3dc8.png"},142:{name:"潮到出水",describe:"饼干升到10级",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c6546.png"},143:{name:"表情包大户",describe:"饼干升到20级",threshold:20,img:"https://wmimg.com/i/1547/2025/02/67ac5a41cdaf7.png"},144:{name:"神仙饼干",describe:"饼干升到40级",threshold:40,img:"https://wmimg.com/i/1547/2025/02/67ac5a41c2650.png"},161:{name:"得来全不费功夫",describe:"通过打赏获得10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a0c02.png"},162:{name:"得道多助",describe:"通过打赏获得50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5a79525fd.png"},163:{name:"全凭本事",describe:"通过打赏获得100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a227a.png"},164:{name:"嘀——全款已到账",describe:"通过打赏获得200w个olo",threshold:2e6,img:"https://wmimg.com/i/1547/2025/02/67ac5a79a576a.png"},171:{name:"种瓜得瓜",describe:"打赏出去10w个olo",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5ac11b503.png"},172:{name:"手有余香",describe:"打赏出去50w个olo",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16bd3c.png"},173:{name:"春蚕蜡炬",describe:"打赏出去100w个olo",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16dfd6.png"},174:{name:"羽化飞升",describe:"打赏出去200w个olo",threshold:2e6,img:"https://wmimg.com/i/1547/2025/02/67ac5ac16d324.png"},221:{name:"喜鹊落枝头",describe:"连续赢得3次大乱斗",threshold:3,img:"https://wmimg.com/i/1547/2025/02/67ac5b384cc45.png"},222:{name:"春风得意马蹄疾",describe:"连续赢得5次大乱斗",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5b37ef849.png"},223:{name:"福无双至今日至",describe:"连续赢得8次大乱斗",threshold:8,img:"https://wmimg.com/i/1547/2025/02/67ac5b3847665.png"},224:{name:"紫气东来保你发财",describe:"连续赢得10次大乱斗",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5b384ce4b.png"},231:{name:"脚踩瓜皮",describe:"连续输掉3次大乱斗",threshold:3,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d3d36.png"},232:{name:"凉水塞牙",describe:"连续输掉5次大乱斗",threshold:5,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d49bf.png"},233:{name:"点背不能怨社会",describe:"连续输掉8次大乱斗",threshold:8,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d35e7.png"},234:{name:"人生不如意十有八九",describe:"连续输掉10次大乱斗",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5b76d9b56.png"},241:{name:"日进斗金",describe:"粮仓存粮5w",threshold:5e4,img:"https://wmimg.com/i/1547/2025/02/67ac5bb67277c.png"},242:{name:"堆金积玉",describe:"粮仓存粮10w",threshold:1e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6950c6.png"},243:{name:"富甲一方",describe:"粮仓存粮30w",threshold:3e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6aa9b4.png"},244:{name:"腰缠万贯",describe:"粮仓存粮50w",threshold:5e5,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6ac0f3.png"},245:{name:"富有四海",describe:"粮仓存粮100w",threshold:1e6,img:"https://wmimg.com/i/1547/2025/02/67ac5bb6b345a.png"},271:{name:"锣鼓喧天",describe:"发布1个大喇叭",threshold:1,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a39eba.png"},272:{name:"鞭炮齐鸣",describe:"发布10个大喇叭",threshold:10,img:"https://wmimg.com/i/1547/2025/02/67ac5c5aa1b40.png"},273:{name:"红旗招展",describe:"发布50个大喇叭",threshold:50,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a48a44.png"},274:{name:"人山人海",describe:"发布100个大喇叭",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5c5a97ca9.png"}},Ht={52:{name:"透明人",describe:"发起大乱斗100次没人接",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5c912c4fc.png"},62:{name:"你是五嬷吗",describe:"进行了100次删楼",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5cabe47fb.png"},71:{name:"归零！",describe:"olo归零",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5cd7564a7.png"},91:{name:"万中有一",describe:"抢到第10000楼",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5cf92298c.png"},101:{name:"元元的爱",describe:"大乱斗掷出101点",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d207d9cb.png"},112:{name:"火锅之神也被你薅秃了",describe:"大乱斗平局100次",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5d40ebea9.png"},121:{name:"小火锅的负责人是个骗子",describe:"红包抢到0个olo",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d5661e30.png"},131:{name:"个人财产+1",describe:"申请1个定制饼干",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5d6a3b080.png"},151:{name:"小火锅二周年",describe:"我们要一直在一起 — 至少十年吧！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5e518512e.png"},152:{name:"国庆节快乐",describe:"伟大的祖国节日快乐",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5da089b51.png"},153:{name:"龙年快乐",describe:"2024年小火锅龙年祝福",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5dafba36d.png"},154:{name:"小火锅三周年快乐~！",describe:"3.0也同时上线喔",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5e623e456.png"},155:{name:"小火锅3.0",describe:"诶？我来测试咒岛3.0？真的假的？！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5eb407ea4.png"},156:{name:"蛇年快乐",describe:"2025年小火锅蛇年祝福",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67adf2702ea00.png"},157:{name:"小火锅四周年！",describe:"要和我们玩一辈子nmq吗？",threshold:0,img:"https://wmimg.com/i/1547/2025/04/680e1e444e060.png"},181:{name:"皇家御用画宗",describe:"大触快教教我画画",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ecfaa6b8.png"},182:{name:"小火锅守护者",describe:"我来组成小火锅锅底！",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ecf9f4b5.png"},183:{name:"小火锅终末旅行",describe:"既有开始，必有终结",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5ee87bc2d.png"},201:{name:"ac娘",describe:"\\\\ ac娘，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1e7d5d2.png"},202:{name:"鹦鹉鸡",describe:"\\\\ 鹦鹉鸡，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1eeabbc.png"},203:{name:"咪子鱼",describe:"\\\\ 咪子鱼，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1eec3a5.png"},204:{name:"小黑猫",describe:"\\\\ 小黑猫，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f47f9f.png"},205:{name:"麻将脸",describe:"\\\\ 麻将脸，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f47a4d.png"},206:{name:"小恐龙",describe:"\\\\ 小恐龙，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edf0b5.png"},207:{name:"TD猫",describe:"\\\\ TD猫，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edf3f7.png"},208:{name:"小豆泥",describe:"\\\\ 小豆泥，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee7b93.png"},209:{name:"小企鹅",describe:"\\\\ 小企鹅，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee73d1.png"},210:{name:"小黄脸",describe:"\\\\ 小黄脸，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f43b86.png"},211:{name:"FUFU",describe:"\\\\ FUFU，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5f1edc377.png"},212:{name:"小火锅第一届表情包萌",describe:"全军出击！",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f458fb.png"},213:{name:"燃起来了！",describe:"擦出爱的火花",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac5f1f4c6d7.png"},214:{name:"为冠军的小豆泥献上喝彩",describe:"尊贵的小豆泥陛下火遍全球天下第一帝锅",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5f1ee73f1.png"},215:{name:"当你凝视深渊时",describe:"深渊喵了一声",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde4533.png"},216:{name:"药水哥",describe:"\\\\ 药水哥，出道！//",threshold:500,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde50c6.png"},217:{name:"小火锅第二届表情包萌",describe:"再来一次",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde38bc.png"},218:{name:"勇夺第一！",describe:"至少不要被淘汰",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde242e.png"},219:{name:"遗憾离场",describe:"希望还能回来",threshold:0,img:"https://wmimg.com/i/1547/2025/02/67ac5fcde1447.png"},251:{name:"今朝有米今朝吃",describe:"明日无米啃枯枝（提前开仓累计30w）",threshold:3e5,img:"https://wmimg.com/i/1547/2025/02/67ac602c39365.png"},261:{name:"小火锅第一届出道萌",describe:"出道萌投票100票",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac6078074a3.png"},262:{name:"成为大家的爱豆",describe:"出道萌投票1000票",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac6077f2162.png"},263:{name:"药药切克闹",describe:"民推之光药水哥",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac6078084ac.png"},264:{name:"小火锅第二届出道萌",describe:"出道萌投票100票",threshold:100,img:"https://wmimg.com/i/1547/2025/02/67ac60deb67be.png"},265:{name:"我会回来的！",describe:"出道萌投票1000票",threshold:1e3,img:"https://wmimg.com/i/1547/2025/02/67ac60deab3b5.png"},266:{name:"他如闪电般归来",describe:"药水哥回到他忠诚的小火锅",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac60deca4e7.png"},270:{name:"吼那么大声干嘛啦",describe:"撤回一个大喇叭",threshold:null,img:"https://wmimg.com/i/1547/2025/02/67ac61081b481.png"}},rs=["src"],is=["src"],as=["src"],os=["src"],ss=["src"],ls=J({__name:"TabMedal",setup(n){Ne(_=>({"0adc9ec8":r(d)}));const e=oe(),t=ae(),i=N(!1),a=N(),l=N(!1),d=t.isMobile?"0.70rem":"0.875rem",u=H(()=>{if(!h.value)return[];const _=[];for(const x in Xe){const S=h.value.includes(Number(x));(l.value||S)&&_.push(we(ce({},Xe[x]),{id:Number(x),hasMedal:S,img:S?Xe[x].img:"https://wmimg.com/i/1547/2025/02/67adf16c41bd5.png"}))}return _}),c=H(()=>{if(!h.value)return[];const _=[];for(const x in Ht){const S=h.value.includes(Number(x));S&&_.push(we(ce({},Ht[x]),{id:Number(x),hasMedal:S}))}return _});function g(_){a.value=_,i.value=!0;const x={binggan:e.binggan,medal_id:_.id};w(x)}const{loading:p,data:h,send:m}=te(_=>Jn(_),{immediate:!1,initialData:[]});e.binggan!==null&&m({binggan:e.binggan});const{loading:v,data:T,send:w}=te(_=>Qn(_),{immediate:!1});return(_,x)=>(D(),L(r(O),{vertical:""},{default:o(()=>[s(r(_t),{show:r(p)},{default:o(()=>[s(r(Y),{title:"成就徽章",size:"small"},{"header-extra":o(()=>[s(r(Z),{value:l.value,"onUpdate:value":x[0]||(x[0]=S=>l.value=S)},null,8,["value"]),s(r(y),{style:{"margin-left":"6px"}},{default:o(()=>[f("显示未获得的成就 ")]),_:1})]),default:o(()=>[!r(t).isMobile&&c.value.length>0?(D(),L(r(O),{key:0,size:[4,0]},{default:o(()=>[(D(!0),W(K,null,ie(c.value,S=>(D(),L(r(O),{vertical:"",align:"center",class:"medal-box",onClick:M=>g(S)},{default:o(()=>[b("img",{src:S.img,class:"medal-img"},null,8,rs),s(r(y),{class:"medal-text"},{default:o(()=>[f(G(S.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0),r(t).isMobile&&c.value.length>0?(D(),L(r(xe),{key:1,"x-gap":"4",cols:5},{default:o(()=>[(D(!0),W(K,null,ie(c.value,S=>(D(),L(r(ge),{align:"center",class:"medal-box-mobile",onClick:M=>g(S)},{default:o(()=>[b("img",{src:S.img,class:"medal-img-mobile"},null,8,is),s(r(y),{class:"medal-text"},{default:o(()=>[f(G(S.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0),r(t).isMobile?X("",!0):(D(),L(r(O),{key:2,size:[4,0]},{default:o(()=>[(D(!0),W(K,null,ie(u.value,S=>(D(),L(r(O),{vertical:"",align:"center",class:"medal-box",onClick:M=>g(S)},{default:o(()=>[b("img",{src:S.img,class:"medal-img"},null,8,as),s(r(y),{class:"medal-text"},{default:o(()=>[f(G(S.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})),r(t).isMobile?(D(),L(r(xe),{key:3,"x-gap":"4",cols:5},{default:o(()=>[(D(!0),W(K,null,ie(u.value,S=>(D(),L(r(ge),{align:"center",class:"medal-box-mobile",onClick:M=>g(S)},{default:o(()=>[b("img",{src:S.img,class:"medal-img-mobile"},null,8,os),s(r(y),{class:"medal-text"},{default:o(()=>[f(G(S.name),1)]),_:2},1024)]),_:2},1032,["onClick"]))),256))]),_:1})):X("",!0)]),_:1})]),_:1},8,["show"]),s(r(fe),{show:i.value,"onUpdate:show":x[2]||(x[2]=S=>i.value=S),"display-directive":"if"},{default:o(()=>[s(r(Y),{style:ee({maxWidth:r(t).modalMaxWidth}),closable:"",onClose:x[1]||(x[1]=S=>i.value=!1),size:"small"},{default:o(()=>[s(r(O),{vertical:"",align:"center",class:"medal-box-modal"},{default:o(()=>{var S;return[b("img",{src:(S=a.value)==null?void 0:S.img,style:{"max-width":"100%"}},null,8,ss),s(r(y),{style:{"font-size":"1rem"}},{default:o(()=>{var M;return[f(G((M=a.value)==null?void 0:M.name),1)]}),_:1}),s(r(y),{style:{"font-size":"1rem"}},{default:o(()=>{var M;return[f(G((M=a.value)==null?void 0:M.describe),1)]}),_:1}),s(r(_t),{show:r(v)},{default:o(()=>[r(T)!==void 0||!r(v)?(D(),W(K,{key:0},[r(T).medal_created_at!==null?(D(),L(r(y),{key:0,style:{"font-size":"1rem"}},{default:o(()=>[f(G(r(T).medal_created_at),1)]),_:1})):X("",!0),r(T).medal_created_at===null&&r(T).progress!==null?(D(),L(r(y),{key:1,style:{"font-size":"1rem"}},{default:o(()=>[f(G(r(T).progress)+" / "+G(r(T).threshold),1)]),_:1})):X("",!0)],64)):X("",!0)]),_:1},8,["show"])]}),_:1})]),_:1},8,["style"])]),_:1},8,["show"])]),_:1}))}}),us=b("span",null,"新饼干无密码。建议尽快设定密码，以免饼干遗失。",-1),ds=J({__name:"TabPassword",setup(n){const e=oe(),t=ae(),i=N(null),a=N({passwordOld:null,passwordNew:null,passwordRepeat:null}),l={passwordOld:{required:!1},passwordNew:{required:!0,validator:(p,h)=>{const m=/^[a-zA-Z0-9_]+$/;if(h===null)return new Error("请输入密码");if(m.test(h)){if(h.length<7)return new Error("最少需要7个字符");if(h.length>20)return new Error("最多20个字符")}else return new Error("只能是数字、英文、下划线");return!0},trigger:"blur"},passwordRepeat:{required:!0,validator:(p,h)=>h===a.value.passwordNew,message:"密码不一致",trigger:"blur"}},{loading:d,send:u,onSuccess:c}=te(p=>Zn(p),{immediate:!1});c(()=>{a.value.passwordOld=null,a.value.passwordNew=null,a.value.passwordRepeat=null});function g(){var p;(p=i.value)==null||p.validate(h=>{if(h)window.$message.error("请确认信息填写完整");else{const m={binggan:e.binggan,old_password:a.value.passwordOld,new_password:a.value.passwordNew};u(m)}})}return(p,h)=>(D(),L(r(Y),{title:"密码设定",size:"small"},{default:o(()=>[s(r(O),{vertical:""},{default:o(()=>[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("说明：")]),_:1}),us]),s(r(Me),{ref_key:"formRef",ref:i,model:a.value,"label-placement":"left","label-width":"auto",style:{"max-width":"400px"},rules:l,size:r(t).isMobile?"small":"medium"},{default:o(()=>[s(r(j),{label:"旧密码",path:"passwordOld"},{default:o(()=>[s(r(se),{value:a.value.passwordOld,"onUpdate:value":h[0]||(h[0]=m=>a.value.passwordOld=m),placeholder:"(选填)如果未设定密码可以留空",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),s(r(j),{label:"密码",path:"passwordNew"},{default:o(()=>[s(r(se),{value:a.value.passwordNew,"onUpdate:value":h[1]||(h[1]=m=>a.value.passwordNew=m),placeholder:"7~20个字符(字母、数字、下划线)",type:"password",maxlength:20,minlength:7,"show-password-on":"click"},null,8,["value"])]),_:1}),s(r(j),{label:"重复密码",path:"passwordRepeat"},{default:o(()=>[s(r(se),{value:a.value.passwordRepeat,"onUpdate:value":h[2]||(h[2]=m=>a.value.passwordRepeat=m),placeholder:"再次输入密码",type:"password",maxlength:20,minlength:7,"show-password-on":"click",onKeyup:Gt(g,["enter"])},null,8,["value"])]),_:1})]),_:1},8,["model","size"]),s(r(O),{size:"small",align:"center"},{default:o(()=>[s(r(z),{type:"primary",loading:r(d),disabled:r(d),onClick:g},{default:o(()=>[f("提交")]),_:1},8,["loading","disabled"]),s(r(y),{depth:3},{default:o(()=>[f("请务必保存好新密码喔")]),_:1})]),_:1})]),_:1})]),_:1}))}}),cs=b("span",null,"这个保存在本地，不用点提交",-1),gs=b("span",null,"这个保存在本地，不用点提交",-1),fs=b("span",null,"关闭屏蔽词功能，可以提升一点性能",-1),hs=J({__name:"TabPingbici",setup(n){const e=oe(),t=ae();N(null);const i=N({content_pingbici:[],title_pingbici:[],fjf_pingbici:[]}),a=N(e.userData.binggan.use_pingbici);e.userLoginStatus===!0&&(i.value=e.userData.pingbici,a.value=e.userData.binggan.use_pingbici),at(()=>e.userDataLoading,p=>{p===!1&&(i.value=e.userData.pingbici,a.value=e.userData.binggan.use_pingbici)});function l(p){i.value[p]=i.value[p].filter((h,m)=>i.value[p].indexOf(h)===m)}function d(){const p=ce({binggan:e.binggan,use_pingbici:a.value},i.value);c(p)}const{loading:u,send:c,onSuccess:g}=te(p=>er(p),{immediate:!1,initialData:[]});return g(()=>e.refreshUserData()),(p,h)=>(D(),L(r(O),{vertical:""},{default:o(()=>[s(r(Y),{title:"标题屏蔽词",size:"small"},{"header-extra":o(()=>[s(r(z),{onClick:h[1]||(h[1]=m=>l("title_pingbici"))},{default:o(()=>[f("去重")]),_:1})]),default:o(()=>[s(r(je),{value:i.value.title_pingbici,"onUpdate:value":h[0]||(h[0]=m=>i.value.title_pingbici=m)},null,8,["value"])]),_:1}),s(r(Y),{title:"内容屏蔽词",size:"small"},{"header-extra":o(()=>[s(r(z),{onClick:h[3]||(h[3]=m=>l("content_pingbici"))},{default:o(()=>[f("去重")]),_:1})]),default:o(()=>[s(r(je),{value:i.value.content_pingbici,"onUpdate:value":h[2]||(h[2]=m=>i.value.content_pingbici=m)},null,8,["value"])]),_:1}),s(r(Y),{title:"FJF小尾巴和固马屏蔽词",size:"small"},{"header-extra":o(()=>[s(r(z),{onClick:h[5]||(h[5]=m=>l("fjf_pingbici"))},{default:o(()=>[f("去重")]),_:1})]),default:o(()=>[s(r(je),{value:i.value.fjf_pingbici,"onUpdate:value":h[4]||(h[4]=m=>i.value.fjf_pingbici=m)},null,8,["value"]),s(r(y),{depth:3,style:{"font-size":"0.875rem"}},{default:o(()=>[f("注意：同一个饼干在不同FJF主题中，小尾巴会改变")]),_:1})]),_:1}),s(r(O),{align:"center",justify:"start"},{default:o(()=>[s(r(Ce),{trigger:"hover"},{trigger:o(()=>[b("div",null,[s(r(Z),{value:r(t).userCustom.hidePingbiciFloor,"onUpdate:value":h[6]||(h[6]=m=>r(t).userCustom.hidePingbiciFloor=m)},null,8,["value"]),s(r(y),{style:{"margin-left":"6px"}},{default:o(()=>[f("完全隐藏楼层 ")]),_:1})])]),default:o(()=>[cs]),_:1}),s(r(Ce),{trigger:"hover"},{trigger:o(()=>[b("div",null,[s(r(Z),{value:r(t).userCustom.pingbiciIngnoreCase,"onUpdate:value":h[7]||(h[7]=m=>r(t).userCustom.pingbiciIngnoreCase=m)},null,8,["value"]),s(r(y),{style:{"margin-left":"6px"}},{default:o(()=>[f("忽略大小写 ")]),_:1})])]),default:o(()=>[gs]),_:1})]),_:1}),s(r(O),{align:"center",justify:"end"},{default:o(()=>[s(r(Ce),{trigger:"hover"},{trigger:o(()=>[b("div",null,[s(r(Z),{value:a.value,"onUpdate:value":h[8]||(h[8]=m=>a.value=m)},null,8,["value"]),s(r(y),{style:{"margin-left":"6px"}},{default:o(()=>[f("启用 ")]),_:1})])]),default:o(()=>[fs]),_:1}),s(r(z),{type:"primary",onClick:d,loading:r(u),disabled:r(u)},{default:o(()=>[f("提交")]),_:1},8,["loading","disabled"])]),_:1})]),_:1}))}}),ps=b("img",{src:"/ui/my-binggan.png",style:{"max-height":"40px"}},null,-1),ms={style:{display:"flex","align-items":"center",gap:"4px"}},vs=b("img",{src:"/ui/binggan-level.png",style:{"max-height":"40px"}},null,-1),bs=b("img",{src:"/ui/my-olo.png",style:{"max-height":"40px"}},null,-1),ys=b("img",{src:"/ui/bank-olo.png",style:{"max-height":"40px"}},null,-1),_s=J({__name:"UserCard",setup(n){const e=oe(),t=ae(),i=N(!0);function a(){pt(e.binggan),window.$message.success("已将饼干复制到粘贴板，请保存好喔！")}return e.refreshUserData(),(l,d)=>(D(),L(r(Y),{hoverable:"",size:"small"},{default:o(()=>[s(r(O),{justify:"space-around",vertical:r(t).isMobile,size:r(t).isMobile?"small":"medium"},{default:o(()=>[s(r(O),{vertical:!r(t).isMobile,align:"start"},{default:o(()=>[ps,b("div",null,[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("我的饼干")]),_:1})]),b("div",ms,[s(r(y),{depth:2,style:ee({fontSize:r(t).isMobile?"0.875rem":"1rem",cursor:i.value?"pointer":"auto"}),onClick:d[0]||(d[0]=u=>i.value=!1)},{default:o(()=>[f(G(i.value?"*点击显示*":r(e).binggan),1)]),_:1},8,["style"]),s(r(Yt),{size:r(t).isMobile?18:20},{default:o(()=>[s(r(Pn),{style:{cursor:"pointer"},onClick:a})]),_:1},8,["size"])])])]),_:1},8,["vertical"]),s(r(O),{vertical:!r(t).isMobile,align:"start"},{default:o(()=>[vs,b("div",null,[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("饼干等级")]),_:1})]),b("div",null,[s(r(y),{depth:2,style:ee({fontSize:r(t).isMobile?"0.875rem":"1rem"})},{default:o(()=>{var u;return[f(G((u=r(e).userData)==null?void 0:u.binggan.user_lv),1)]}),_:1},8,["style"])])])]),_:1},8,["vertical"]),s(r(O),{vertical:!r(t).isMobile,align:"start"},{default:o(()=>[bs,b("div",null,[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("奥利奥")]),_:1})]),b("div",null,[s(r(y),{depth:2,style:ee({fontSize:r(t).isMobile?"0.875rem":"1rem"})},{default:o(()=>{var u;return[s(r(wt),{from:0,to:(u=r(e).userData)==null?void 0:u.binggan.coin,"show-separator":"",duration:2e3},null,8,["to"])]}),_:1},8,["style"])])])]),_:1},8,["vertical"]),s(r(O),{vertical:!r(t).isMobile,align:"start"},{default:o(()=>[ys,b("div",null,[b("div",null,[s(r(y),{depth:3},{default:o(()=>[f("粮仓奥利奥")]),_:1})]),b("div",null,[s(r(y),{depth:2,style:ee({fontSize:r(t).isMobile?"0.875rem":"1rem"})},{default:o(()=>{var u;return[s(r(wt),{from:0,to:(u=r(e).userData)==null?void 0:u.binggan.coin_in_bank,"show-separator":"",duration:2e3},null,8,["to"])]}),_:1},8,["style"])])])]),_:1},8,["vertical"])]),_:1},8,["vertical","size"])]),_:1}))}}),ws=b("div",{style:{height:"50px"}},null,-1),Ps=J({__name:"UserCenter",setup(n){oe();const e=ae();st(),nt(),rt(),ke();const t=N();document.title="个人中心";const i=[{name:"medals",tab:"我的成就",component:ls},{name:"common",tab:"一般设定",component:lo},{name:"pingbici",tab:"屏蔽词",component:hs},{name:"emojis",tab:"表情包",component:Go},{name:"chara",tab:"我的角色",component:To},{name:"bank",tab:"我的粮仓",component:ho},{name:"income",tab:"收支记录",component:Jo},{name:"levelup",tab:"升级饼干",component:ns},{name:"customBinggan",tab:"定制饼干",component:$o},{name:"password",tab:"密码设定",component:ds}];return(a,l)=>(D(),L(r(O),{vertical:"",style:{"margin-top":"8px"}},{default:o(()=>[s(r(oa),{backend:r(e).isMobile?r(Lr):r(Cr)},{default:o(()=>[s(r(_s)),s(r(Rn),{type:"line","bar-width":r(e).isMobile?0:void 0,animated:"",size:r(e).isMobile?"small":"large",value:t.value,"onUpdate:value":l[0]||(l[0]=d=>t.value=d)},{default:o(()=>[(D(),W(K,null,ie(i,d=>s(r($n),{name:d.name,tab:d.tab,key:d.name},{default:o(()=>[(D(),L(Ln(d.component)))]),_:2},1032,["name","tab"])),64))]),_:1},8,["bar-width","size","value"])]),_:1},8,["backend"]),ws]),_:1}))}});export{Ps as default};
