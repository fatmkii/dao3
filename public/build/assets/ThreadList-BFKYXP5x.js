import{w as q,K as I,P as N,L as A,g as E,U as Q,A as r,M as d,o as n,F as g,Q as b,_ as L,m as s,s as y,E as z,H as i,J as c,D as T,z as l,v as t,x as h,t as k,ai as U,aj as V}from"./vendor-B725aRmw.js";import{d as G,s as J}from"./showDialog-YwmjYZbS.js";import{u as K}from"./browseLogger-CFnKZSj3.js";import{u as O,b as x,_ as X}from"./app-DwjKfYBl.js";const Y=u=>(U("data-v-3819a25a"),u=u(),V(),u),Z=Y(()=>c("span",{style:{"margin-left":"auto"}},null,-1)),D={key:0},ee=q({__name:"ThreadList",props:{threadsListData:{},showThis:{type:Boolean},newWindowToPost:{type:Boolean,default:!1}},emits:["withdrawDelayThreadSuccess"],setup(u,{expose:S,emit:P}){I(o=>({"07aae8c0":s(_).hoverColor,"4be6a5f4":s(_).textColor1}));const a=O(),_=N(),C=A(),M=u,W=P,v=K(),m=v.data;function F(){v.reload()}S({reloadBrowseLogger:F});function j(o){const w={name:"thread",params:{threadId:o,page:Math.ceil((m.value[o].floor+1)/200)},hash:`#f_${m.value[o].floor}`};if(M.newWindowToPost){const p=C.resolve(w);window.open(p.href,"_blank")}else C.push(w)}const{loading:B,send:H,onSuccess:R}=E(o=>G(o),{immediate:!1});R(()=>{W("withdrawDelayThreadSuccess")});function $(o){J({title:"要撤回延时主题吗？",onPositiveClick:()=>{H(o)}})}return(o,w)=>{const p=Q("router-link");return o.showThis?(r(),d(s(y),{key:0,vertical:"",size:2},{default:n(()=>[(r(!0),g(L,null,b(o.threadsListData,e=>(r(),d(s(z),{size:"small",bordered:!0,key:e.id,class:"thread-cards","content-style":{padding:s(a).userCustom.threadListCardPadding+"px"},hoverable:""},{default:n(()=>[i(s(y),{vertical:"",size:[0,0]},{default:n(()=>[c("div",{style:T({color:e.title_color&&!s(a).userCustom.monochromeMode?e.title_color:s(_).textColor1,fontSize:s(a).userCustom.fontSizeThreadList+"px",lineHeight:1.5}),class:"thread-title"},[l(t(e.sub_title)+" "+t(e.vote_question_id?"🗳️":"")+" "+t(e.gamble_question_id?"🎲":"")+" "+t(e.crowd_id?"💰":"")+" "+t(e.hongbao_id?"🧧":"")+" ",1),i(p,{to:{name:"thread",params:{threadId:e.id}},style:T({color:e.title_color&&!s(a).userCustom.monochromeMode?e.title_color:s(_).textColor1,pointerEvents:e.is_delay?"none":void 0}),target:o.newWindowToPost?"_blank":!1},{default:n(()=>[l(t(e.title),1)]),_:2},1032,["to","style","target"]),e.posts_num>200?(r(),d(p,{key:0,to:{name:"thread",params:{threadId:e.id,page:Math.ceil((e.posts_num+1)/200)}},target:o.newWindowToPost?"_blank":!1},{default:n(()=>[l(" ["+t(Math.ceil((e.posts_num+1)/200))+"] ",1)]),_:2},1032,["to","target"])):h("",!0),s(m)[e.id]?(r(),d(s(x),{key:1,size:"tiny",type:"primary",onClick:f=>j(e.id)},{default:n(()=>{var f;return[l(" ["+t((f=s(m)[e.id])==null?void 0:f.floor)+"楼] ",1)]}),_:2},1032,["onClick"])):h("",!0),e.is_your_thread?(r(),d(s(x),{key:2,size:"tiny",type:"warning",disabled:s(B),onClick:f=>$(e.id)},{default:n(()=>[l("撤回")]),_:2},1032,["disabled","onClick"])):h("",!0)],4),i(s(y),{size:"small",class:"thread-title-secondary",style:T({fontSize:s(a).userCustom.fontSizeThreadListFooter+"px",marginTop:s(a).userCustom.threadListInnerMargin+"px",lineHeight:1.5})},{default:n(()=>[c("span",null,[i(s(k),{depth:"3"},{default:n(()=>[l("最新回复:")]),_:1}),l(" "+t(e.updated_at),1)]),c("span",null,[i(s(k),{depth:"3"},{default:n(()=>[l("发帖人:")]),_:1}),l(" "+t(e.nickname),1)]),Z,l(" "+t(e.posts_num>1200?"🔥":"")+" ",1),e.locked_by_coin>0?(r(),g("span",D,"🔒"+t(e.locked_by_coin),1)):h("",!0),c("span",null,[i(s(k),{depth:"3"},{default:n(()=>[l("Re:")]),_:1}),l(" "+t(e.posts_num),1)])]),_:2},1032,["style"])]),_:2},1024)]),_:2},1032,["content-style"]))),128))]),_:1})):(r(),d(s(y),{key:1,vertical:"",size:2},{default:n(()=>[(r(),g(L,null,b(50,e=>i(s(z),{class:"threads-card-skeleton"})),64))]),_:1}))}}}),le=X(ee,[["__scopeId","data-v-3819a25a"]]);export{le as T};
