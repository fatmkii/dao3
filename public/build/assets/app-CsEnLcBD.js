const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Home-BcmD5Hi9.js","assets/vendor-C-2co6ae.js","assets/globalSetting-l-WeQ9XX.js","assets/shuffle-Bl2z5mvo.js","assets/forums-BGaTqZw2.js","assets/Home-Dm4jxpRK.css","assets/404-BtxDNffc.js","assets/ForumPage-vLNXhH3F.js","assets/subtitles-DW7M559j.js","assets/loudspeaker-B409tdOb.js","assets/LoudspeakerComponent-P4rW1-Oq.js","assets/LoudspeakerComponent-CeWHoYH8.css","assets/ThreadList-5hdIrHT8.js","assets/showDialog-DillYkkx.js","assets/browseLogger-CQ2mW6GL.js","assets/ThreadList-eFolxItn.css","assets/ForumPage-BlNKp2zl.css","assets/ThreadPage-BWkCAX17.js","assets/emojiData-DzIUolgl.js","assets/emojiData-CoBvb0_v.css","assets/PostInput.vue_vue_type_script_setup_true_lang-Ca9ZLeMx.js","assets/inputNumberFormat-BPxWRFt_.js","assets/PostInput-B6_TgcdH.css","assets/admin-ejhZ9tk1.js","assets/ThreadPage-BLNm3zp0.css","assets/NewThread-CG60i1M1.js","assets/UserCenter-nklpKbFC.js","assets/UserCenter-QlP951R7.css","assets/AdminCenter-CDg2no0v.js","assets/AdminCenter-CG8Hwt0M.css","assets/LoudspeakerPage-DS4Yj92L.js","assets/LoudspeakerPage-B3s9d63i.css","assets/EmojiContest-D4OBeFVI.js","assets/EmojiContest-F3lSZ_az.css"])))=>i.map(i=>d[i]);
import{c as Le,a as Me,d as Z,t as k,l as _,b as U,u as be,e as Re,f as ee,G as te,V as oe,g as j,n as I,h as Ee,i as O,j as y,k as De,m as C,N as Be,o as $,r as _e,p as P,q as o,B as Ae,s as W,v as q,w as V,x as n,y as Y,z as ze,A as $e,C as Ue,D as re,E as u,F as ae,H as se,I as M,J as S,K as G,L as g,M as de,O as ce,P as H,Q as Ce,R as je,S as L,T as ne,U as ye,W as Se,X as Ge,Y as He,Z as N,_ as Ne,$ as Oe,a0 as We,a1 as qe,a2 as Ve,a3 as Ye,a4 as me,a5 as Qe,a6 as Je,a7 as Ke,a8 as Xe,a9 as Ze,aa as et,ab as tt,ac as ot,ad as rt,ae as at,af as st}from"./vendor-C-2co6ae.js";const nt="modulepreload",lt=function(e){return"/build/"+e},pe={},E=function(t,r,s){let a=Promise.resolve();if(r&&r.length>0){let l=function(f){return Promise.all(f.map(c=>Promise.resolve(c).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=d?.nonce||d?.getAttribute("nonce");a=l(r.map(f=>{if(f=lt(f),f in pe)return;pe[f]=!0;const c=f.endsWith(".css"),v=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${v}`))return;const b=document.createElement("link");if(b.rel=c?"stylesheet":nt,c||(b.as="script"),b.crossOrigin="",b.href=f,m&&b.setAttribute("nonce",m),document.head.appendChild(b),c)return new Promise((x,T)=>{b.addEventListener("load",x),b.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${f}`)))})}))}function i(d){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=d,window.dispatchEvent(m),!m.defaultPrevented)throw d}return a.then(d=>{for(const m of d||[])m.status==="rejected"&&i(m.reason);return t().catch(i)})},it=[{path:"/",name:"Homepage",component:()=>E(()=>import("./Home-BcmD5Hi9.js"),__vite__mapDeps([0,1,2,3,4,5]))},{path:"/:pathMatch(.*)*",name:"Page404",component:()=>E(()=>import("./404-BtxDNffc.js"),__vite__mapDeps([6,1]))},{path:"/forum/:forumId/:page?",name:"forum",props:e=>({forumId:parseInt(e.params.forumId),page:e.params.page?parseInt(e.params.page):1,search:e.query.search,delay:e.query.delay==="true"}),component:()=>E(()=>import("./ForumPage-vLNXhH3F.js"),__vite__mapDeps([7,1,4,8,3,9,10,11,12,13,14,15,16]))},{path:"/thread/:threadId/:page?",name:"thread",props:e=>({threadId:parseInt(e.params.threadId),page:e.params.page?parseInt(e.params.page):1,search:e.query.search}),component:()=>E(()=>import("./ThreadPage-BWkCAX17.js"),__vite__mapDeps([17,1,18,13,4,19,9,20,21,22,10,11,23,14,24]))},{path:"/new-thread/:forumId",name:"new-thread",props:e=>({forumId:parseInt(e.params.forumId)}),component:()=>E(()=>import("./NewThread-CG60i1M1.js"),__vite__mapDeps([25,1,13,4,20,18,19,21,22,8]))},{path:"/user-center",component:()=>E(()=>import("./UserCenter-nklpKbFC.js"),__vite__mapDeps([26,1,4,12,13,14,15,18,19,21,27])),name:"user-center"},{path:"/admin-center",component:()=>E(()=>import("./AdminCenter-CDg2no0v.js"),__vite__mapDeps([28,1,23,4,21,29])),name:"admin-center"},{path:"/loudspeaker",component:()=>E(()=>import("./LoudspeakerPage-DS4Yj92L.js"),__vite__mapDeps([30,1,23,2,9,31])),name:"loudspeaker"},{path:"/emoji-moe",component:()=>E(()=>import("./EmojiContest-D4OBeFVI.js"),__vite__mapDeps([32,1,3,33])),name:"emoji-moe"}],ut=Le({history:Me(),routes:it,scrollBehavior(e,t,r){return r||(e.hash?!1:{top:0})}}),R=Z("commonStore",()=>{const e=k(!1),t=k(0),r=k(document.body.clientWidth),s=k(document.body.clientWidth<1200),a=_(()=>r.value>=532?"500px":r.value-32+"px");window.addEventListener("resize",()=>{s.value=document.body.clientWidth<1200,r.value=document.body.clientWidth});const i=k(!0);function d(){const x=document.getElementById("app").offsetWidth-24;return Math.ceil(x*250/920)+"px"}const m=k(d());window.addEventListener("resize",()=>m.value=d());const l=_(()=>{const b=[{month:6,date:18},{month:11,date:11},{month:1,date:28},{month:1,date:29}],x=U.tz();let T=!1;return b.forEach(z=>{x.month()+1===z.month&&x.date()===z.date&&(T=!0)}),T}),f=_(()=>U.tz().month()===9),c=be("user_custom",{version:240505,imgHost:"imgbb",hongbaoThenStop:!1,holdPageWhenListening:!1,lessToast:!1,postLegacyMode:!1,monochromeMode:!1,sidebarLeft:!1,loudspeakerPosition:"bottom",quoteMax:3,foldMaxLine:16,emojiWhiteBack:!1,lineHeightPost:28,fontSizePost:16,fontSizeQuote:16,fontSizeFooter:14,fontSizeThreadList:16,fontSizeThreadListFooter:14,fontSizeInput:16,threadListCardPadding:12,threadListInnerMargin:6,postCardPadding:12,postInnerMargin:12,hidePingbiciFloor:!1,pingbiciIngnoreCase:!1},localStorage,{mergeDefaults:!0});function v(){const b={title:"重置设定",closable:!1,content:"确定要重置所有一般设定吗？",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{c.value.quoteMax=3,c.value.foldMaxLine=16,c.value.lineHeightPost=28,c.value.fontSizePost=16,c.value.fontSizeQuote=16,c.value.fontSizeFooter=14,c.value.fontSizeThreadList=16,c.value.fontSizeThreadListFooter=14,c.value.fontSizeInput=16,c.value.threadListCardPadding=12,c.value.threadListInnerMargin=6,c.value.postCardPadding=12,c.value.postInnerMargin=12,c.value.emojiWhiteBack=!1}};window.$dialog.warning(b)}return{unauthModalShow:e,requestErrorCode:t,isMobile:s,clientWidth:r,showTopbarNav:i,bannerHeight:m,isDouble11:l,isOctober:f,userCustom:c,modalMaxWidth:a,userCustomReset:v}}),ge={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"rgba(249, 249, 249, 1)"},Button:{colorPrimary:"#32BA32FF"},Card:{color:"#fafffa80"}},dt={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#f5f6f8",primaryColor:"#333639FF"},Button:{colorPrimary:"#333639FF"},Card:{color:"#FFFFFF80"},Tabs:{tabTextColorActiveLine:"#18A058FF",tabTextColorHoverLine:"#18A058FF"}},ct={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',textColor1:"rgba(255, 255, 255, 0.73)",textColor2:"rgba(255, 255, 255, 0.66)"},Card:{colorEmbedded:"rgba(44, 44, 50, 1)",color:"rgba(44, 44, 50, 0.5)"}},mt={common:{fontFamily:'v-sans, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol","Microsoft YaHei"',bodyColor:"#eefaee"},Card:{color:"#fafffa80",borderColor:"rgba(233, 245, 234, 1)"},Button:{colorPrimary:"#52b051FF",colorHoverPrimary:"#3ba251FF",color:"#ffffffFF",colorHover:"#ffffffFF",colorPressed:"#ffffffFF",colorFocus:"#ffffffFF",colorDisabled:"#ffffffFF",colorPressedPrimary:"#3a9958FF",borderPressedPrimary:"0px",borderFocusPrimary:"0px",borderDisabledPrimary:"0px",borderHoverPrimary:"0px",borderPrimary:"0px",colorSecondary:"rgba(46, 51, 56, .05)",colorTertiary:"rgba(46, 51, 56, .05)",textColorTertiary:"rgb(118, 124, 130)"}},fe={topBarBackgroudColor:"#FFF",sidebarColor:"#90d590",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},pt={topBarBackgroudColor:"#FFF",sidebarColor:"#aaaaaa",postItemBorderColor:"#111111",postFooterColor:"#767C82FF"},gt={topBarBackgroudColor:"#18181CFF",sidebarColor:"#316c58",postItemBorderColor:"#FFFFFF17",postFooterColor:"#FFFFFF85"},ft={topBarBackgroudColor:"#fafffaFF",sidebarColor:"#52b051",postItemBorderColor:"#5FB878",postFooterColor:"#5FB878"},le=Z("themeStore",()=>{const e=be("theme","green");function t(d){e.value=d}const r=_(()=>({light:null,sfw:null,dark:Re,green:null})[e.value]||null),s=_(()=>({light:ge,sfw:dt,dark:ct,green:mt})[e.value]||ge),a=_(()=>({light:{strong:!0,secondary:!0,tertiary:!1},sfw:{strong:!0,secondary:!1,tertiary:!0},dark:{strong:!0,secondary:!0,tertiary:!1},green:{strong:!1,secondary:!1,tertiary:!1}})[e.value]||{strong:!0,secondary:!0,tertiary:!1}),i=_(()=>({light:fe,sfw:pt,dark:gt,green:ft})[e.value]||fe);return{themeClass:r,themeOverrideClass:s,themeChange:t,buttonThemeAttr:a,themeColor:i}}),p=ee({statesHook:oe,requestAdapter:te(),beforeRequest:e=>{e.config.headers.Accept="application/json";const t=localStorage.getItem("Token");t&&(e.config.headers.Authorization="Bearer "+t)},responded:{onSuccess:async(e,t)=>{const r=R();if(e.status>=400){if(r.requestErrorCode=e.status,e.status==401)throw r.unauthModalShow=!0,new Error(e.statusText,{cause:{code:e.status}});const a=await e.json();throw a.message?(window.$message.error(JSON.stringify(a.message),{closable:!0,duration:5e3}),new Error(a.message,{cause:{code:a.code}})):(window.$message.error(e.statusText,{closable:!0,duration:5e3}),new Error(e.statusText,{cause:{code:a.code}}))}const s=await e.json();if(s.code!==200)throw r.requestErrorCode=s.code,s.code==21499?(r.unauthModalShow=!0,new Error(s.message,{cause:{code:s.code}})):(window.$message.error(JSON.stringify(s.message),{closable:!0,duration:5e3}),new Error(s.message,{cause:{code:s.code}}));return t.meta?.shouldRemind&&!r.userCustom.lessToast&&window.$message.success(s.message),s.data},onError:(e,t)=>{throw window.$message.error("嗷！好像网络出错了。"),e},onComplete:async e=>{}},errorLogger:!1,cacheLogger:!1}),ht=ee({statesHook:oe,requestAdapter:te(),responded:{onSuccess:async(e,t)=>await e.json(),onError:(e,t)=>{throw window.$message.error("嗷！好像网络出错了。"),e},onComplete:async e=>{}},errorLogger:!1,cacheLogger:!1});ee({statesHook:oe,requestAdapter:te(),beforeRequest:e=>{},responded:{onSuccess:async(e,t)=>{if(e.status>=400)throw new Error(e.statusText);return e},onError:(e,t)=>{},onComplete:async e=>{}},errorLogger:!1,cacheLogger:!1});const vt=e=>p.Post("/api/user/show",{binggan:e},{name:"userDataGetter",params:{},localCache:{mode:"placeholder",expire:3600*1e3},hitSource:[/^user(?!DataGetter).*$/,"newPostPoster","pingbiciAddPoster","pingbiciSetPoster","myEmojisAddPoster","myEmojisSetPoster","bankDepositPoster","bankWithdrawPoster","newCustomBingganPoster","battleCreatePoster","battleChanllengerRollPoster","hongbaoPostCreatePoster","hongbaoPostStorePoster","hongbaoStorePoster","newLoudspeakerPoster","deletePostDeleter","recoverPostPutter","newThreadPoster","threadChangeColorPoster","delayThreadDeleter"]}),bt=e=>p.Post("api/user/register",{register_key:e},{name:"userRegisterPoster",params:{},localCache:null,hitSource:[]}),Ht=e=>{const t=p.Post("api/user/reward",e,{name:"userRewardPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Nt=e=>{const t=p.Post("api/user/water_unlock",e,{name:"waterUnlockPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Ot=e=>{const t=p.Post("api/user/my_emoji_set",e,{name:"myEmojisSetPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Wt=e=>{const t=p.Post("api/user/my_emoji_add",e,{name:"myEmojisAddPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},_t=()=>{const e=p.Get("api/user/check_reg_record",{name:"checkRegisterRecordPoster",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},qt=e=>{const t=p.Post("api/income/show_day_v2",e,{name:"incomeDataGetter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Vt=e=>{const t=p.Get("api/income/show_sum_v2",{name:"incomeSumDataGetter",params:e,localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Yt=e=>{const t=p.Post("api/user/pingbici_set",e,{name:"pingbiciSetPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Qt=e=>{const t=p.Post("api/user/pingbici_add",e,{name:"pingbiciAddPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Jt=e=>{const t=p.Post("api/user/show_medals",e,{name:"getMedalsDataPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Kt=e=>{const t=p.Post("api/user/show_medal_progress",e,{name:"getMedalProgressPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Xt=e=>{const t=p.Post("api/user/show_bank",e,{name:"getBankDataPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Zt=e=>{const t=p.Post("api/user/bank_deposit",e,{name:"bankDepositPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},eo=e=>{const t=p.Post("api/user/bank_withdraw",e,{name:"bankWithdrawPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},to=e=>{const t=p.Get("api/user/user_lv_show",{name:"getUserLevelGetter",params:e,localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},oo=e=>{const t=p.Post("api/user/user_lv_up",e,{name:"userLevelUpPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ro=e=>{const t=p.Post("api/user/create_custom",e,{name:"newCustomBingganPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},ao=e=>{const t=p.Get("api/user/my_battle_chara",{name:"getUserLevelGetter",params:e,localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},so=e=>{const t=p.Post("api/user/my_battle_chara_set",e,{name:"setUserCharaPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Q=Z("userStore",()=>{const e=k(!1),t=localStorage.getItem("Binggan"),r=localStorage.getItem("Token"),s={binggan:{nickname:"= =",coin:0,coin_in_bank:0,use_pingbici:!1,new_msg:!1,user_lv:0,locked_ttl:0},my_battle_chara:[],emoji_excluded:[],pingbici:{content_pingbici:[],fjf_pingbici:[],title_pingbici:[]},my_emoji:[]},{loading:a,data:i,onSuccess:d,send:m}=j(vt,{initialData:s,immediate:!1});t&&r&&(e.value=!0,m(t));function l(){m(t)}function f(v){return v===void 0||a.value||i.value.binggan.admin_forums===void 0?!1:i.value.binggan.admin_forums.includes(v)}const c=_(()=>{const v=i.value.binggan.admin??0;return{isForumAdmin:v>=1,isNormalAdmin:v>=10,isSeniorAdmin:v>=20,isSuperAdmin:v>=99}});return{userDataLoading:a,userData:i,userLoginStatus:e,binggan:t,admin:c,refreshUserData:l,checkAdminForums:f}}),Ct=I({setup(){window.$dialog=Ee()}}),we=(e,t)=>{const r=e.__vccOpts||e;for(const[s,a]of t)r[s]=a;return r};function yt(e,t,r,s,a,i){return y(),O("div")}const St=we(Ct,[["render",yt]]),wt=I({setup(){window.$message=De()}});function Pt(e,t,r,s,a,i){return y(),O("div")}const kt=we(wt,[["render",Pt]]),Ft=(e,t)=>p.Post("/api/login",{binggan:e,password:t},{name:"userLoginPoster",params:{},localCache:null}),It=e=>p.Post("/api/logout",{binggan:e},{name:"userLogoutPoster",params:{},localCache:null}),no=e=>{const t=p.Post("/api/set_password",e,{name:"userSetPasswordPoster",params:{},localCache:null});return t.meta={shouldRemind:!0},t};function Pe(){localStorage.removeItem("Binggan"),localStorage.removeItem("Token"),window.location.href="/"}const xt={size:"1rem"},B=(e,t=xt)=>{let r="1rem";return typeof t.size=="string"?r=t.size:typeof t.size=="number"&&(r=t.size+"rem"),()=>C(Be,{size:r,color:t.color},{default:()=>C(e)})},lo=()=>{const e=p.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},io=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const r=p.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return r.meta={shouldRemind:!0},r},uo=e=>{const t=new FormData;t.append("file",e.file);const r=ht.Post(e.url,t,{name:"uploadImageToPublicPoster",params:{},localCache:null,hitSource:[]});return r.meta={shouldRemind:!0},r},Tt=()=>{const e=p.Get("api/new_binggan_check",{name:"newBingganCheckGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e};function Lt(e){var t,r,s="",a;for(e+="",t=0,r=e.length;t<r;t++)a=e.charCodeAt(t).toString(16),s+=a.length<2?"0"+a:a;return s}function Mt(e){var t=document.createElement("canvas"),r=t.getContext("2d"),s=e;r.textBaseline="top",r.font="14px 'Arial'",r.textBaseline="alphabetic",r.fillStyle="#f60",r.fillRect(125,1,62,20),r.fillStyle="#069",r.fillText(s,2,15),r.fillStyle="rgba(102, 204, 0, 0.7)",r.fillText(s,4,17);var a=t.toDataURL().replace("data:image/png;base64,",""),i=atob(a),d=Lt(i.slice(-16,-12));return d}function Rt(){const e="XiaoHuoGuoCpttmm",t="abcdef0123456789",r=$.enc.Utf8.parse(e);var a={iv:$.enc.Utf8.parse(t),mode:$.mode.CBC,padding:$.pad.Pkcs7};const i=Mt("BrowserLeaks,com <canvas> 1.0"),d=$.MD5(navigator.userAgent).toString().substr(0,8);return $.AES.encrypt("XiaoHuoGuo"+i+d,r,a).toString()}const A=I({__name:"FButton",setup(e){const t=R(),r=le(),s=_e(),a=_(()=>({...s,...r.buttonThemeAttr})),i=_(()=>t.isMobile?"small":"medium");return(d,m)=>(y(),P(o(Ae),W({round:"",size:i.value},a.value),q({_:2},[V(d.$slots,(l,f,c)=>({name:f,fn:n(()=>[Y(d.$slots,f)])}))]),1040,["size"]))}}),he=I({__name:"FInput",props:{autoSize:{type:Boolean,default:!1}},setup(e){const t=R(),r=e,s=_(()=>r.autoSize&&t.isMobile?"small":"medium");return(a,i)=>(y(),P(o(ze),W({round:"",size:s.value},a.$attrs),q({_:2},[V(a.$slots,(d,m,l)=>({name:m,fn:n(()=>[Y(a.$slots,m)])}))]),1040,["size"]))}}),ve=I({__name:"FInputGroupLabel",props:{round:{type:Boolean,default:!0},autoSize:{type:Boolean,default:!1}},setup(e){const t=R(),r=_e(),s=e,a=s.round?{"border-bottom-left-radius":"17px","border-top-left-radius":"17px"}:void 0,i=_(()=>({...r,style:a})),d=_(()=>s.autoSize&&t.isMobile?"small":"medium");return(m,l)=>(y(),P(o($e),W({size:d.value},i.value),q({_:2},[V(m.$slots,(f,c,v)=>({name:c,fn:n(()=>[Y(m.$slots,c)])}))]),1040,["size"]))}}),Et=I({__name:"FCheckbox",setup(e){const t=R(),r=_(()=>t.isMobile?"small":"medium");return(s,a)=>(y(),P(o(Ue),W({size:r.value},s.$attrs),q({_:2},[V(s.$slots,(i,d,m)=>({name:d,fn:n(()=>[Y(s.$slots,d)])}))]),1040,["size"]))}}),Dt=I({__name:"LoginModal",emits:["submitRegister"],setup(e,{expose:t,emit:r}){const s=R(),a=Q(),i=k(!1);t({show:()=>i.value=!0});const m=k(""),l=k(""),f=_(()=>v.value.enable?"领取饼干开放中！":"领取饼干尚未开放"),c=_(()=>U(v.value.next_date*1e3).format("YYYY年M月D日")),{data:v}=j(Tt,{initialData:{enable:!1,next_date:0}}),{data:b}=j(_t(),{initialData:{reg_record_TTL:-2}}),x=_(()=>{if(!(b.value?.reg_record_TTL<=0))return`在${Math.floor(b.value?.reg_record_TTL/3600)}小时后才能再次领取饼干。`}),T=()=>{K(m.value,l.value),l.value=""},{loading:z,onSuccess:F,data:w,send:K}=j(Ft,{immediate:!1});F(()=>{localStorage.Token=w.value.token,localStorage.Binggan=w.value.binggan,window.location.href="/"});const ie=()=>{xe(Rt())},{loading:ke,onSuccess:Fe,onError:Ie,data:X,send:xe}=j(bt,{immediate:!1});Fe(()=>{a.binggan=X.value.binggan,localStorage.Token=X.value.token,localStorage.Binggan=X.value.binggan,i.value=!1,Te("submitRegister")}),Ie(ue=>{window.$dialog.error({title:"申请饼干失败",content:ue.error.message})});const Te=r;return(ue,h)=>(y(),P(o(re),{show:i.value,"onUpdate:show":h[4]||(h[4]=D=>i.value=D),"display-directive":"if"},{default:n(()=>[u(o(ae),{style:se({maxWidth:o(s).modalMaxWidth}),title:"欢迎来到小火锅！",closable:"",onClose:h[3]||(h[3]=D=>i.value=!1),size:"small"},{action:n(()=>[u(o(M),{justify:"end"},{default:n(()=>[o(b).reg_record_TTL>0?(y(),P(o(L),{key:0,style:{"margin-right":"auto"}},{default:n(()=>[g(H(x.value),1)]),_:1})):G("",!0),u(o(A),{onClick:h[2]||(h[2]=D=>i.value=!1)},{default:n(()=>[...h[11]||(h[11]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[u(o(M),{vertical:""},{default:n(()=>[h[10]||(h[10]=S("div",null,[g("这里是私人论坛小火锅，欢迎来玩！"),S("br"),g("QQ小火锅避难群：156840110 "),S("br"),g("使用前需要在下面领取或者导入饼干喔")],-1)),u(o(de),null,{default:n(()=>[u(o(ve),{style:{width:"3.2rem"}},{default:n(()=>[...h[5]||(h[5]=[g("饼干",-1)])]),_:1}),u(o(he),{value:m.value,"onUpdate:value":h[0]||(h[0]=D=>m.value=D),placeholder:"请输入饼干",maxlength:"16",onKeyup:ce(T,["enter"])},null,8,["value"])]),_:1}),u(o(de),null,{default:n(()=>[u(o(ve),{style:{width:"3.2rem"},class:"round"},{default:n(()=>[...h[6]||(h[6]=[g("密码",-1)])]),_:1}),u(o(he),{type:"password",placeholder:"（可留空）请输入密码","show-password-on":"mousedown",value:l.value,"onUpdate:value":h[1]||(h[1]=D=>l.value=D),onKeyup:ce(T,["enter"])},null,8,["value"])]),_:1}),u(o(M),null,{default:n(()=>[u(o(A),{type:"warning",disabled:o(ke)||!o(v).enable||o(b).reg_record_TTL>0,onClick:ie},{default:n(()=>[g(H(f.value),1)]),_:1},8,["disabled"]),u(o(A),{style:{"margin-left":"auto"},type:"primary",onClick:T,disabled:o(z)},{default:n(()=>[...h[7]||(h[7]=[g("导入饼干",-1)])]),_:1},8,["disabled"])]),_:1}),o(v).enable?G("",!0):(y(),O(Ce,{key:0},[u(o(je),{trigger:"hover"},{trigger:n(()=>[...h[8]||(h[8]=[S("span",null,"领取饼干为定期开放（点击查看开放时间）",-1)])]),default:n(()=>[h[9]||(h[9]=S("span",null,[g("开放时间为："),S("br"),g("每月第1日、春节(3天)、国庆(3天)、"),S("br"),g("端午、中秋、618和双十一")],-1))]),_:1}),S("div",null,"下次开放："+H(c.value),1)],64))]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Bt=I({__name:"RegisterHintModal",setup(e,{expose:t}){const r=Q(),s=R(),a=k(!1);t({show:()=>a.value=!0});function d(){a.value=!1,window.location.href="/"}return(m,l)=>{const f=ne("router-link");return y(),P(o(re),{show:a.value,"onUpdate:show":l[1]||(l[1]=c=>a.value=c),"display-directive":"if"},{default:n(()=>[u(o(ae),{style:se({maxWidth:o(s).modalMaxWidth}),title:"欢迎加入小火锅！",closable:"",onClose:l[0]||(l[0]=c=>a.value=!1),size:"small"},{action:n(()=>[u(o(M),{justify:"end"},{default:n(()=>[u(o(A),{onClick:d},{default:n(()=>[...l[11]||(l[11]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[u(o(M),{vertical:"",size:"medium",style:{"word-wrap":"break-word"}},{default:n(()=>[S("div",null,[l[2]||(l[2]=g("你的饼干是：",-1)),u(o(L),{strong:"",type:"info",style:{"font-size":"1.5rem"}},{default:n(()=>[g(H(o(r).binggan),1)]),_:1}),l[3]||(l[3]=S("br",null,null,-1)),l[4]||(l[4]=g("（之后在个人中心也可以查看）",-1))]),u(o(L),{depth:"2"},{default:n(()=>[...l[5]||(l[5]=[g("① 饼干就是你的小火锅账号。请保存好，不要泄露喔！",-1)])]),_:1}),u(o(L),{depth:"2"},{default:n(()=>[l[7]||(l[7]=g("② 为了账号安全，",-1)),u(o(L),{strong:"",type:"error"},{default:n(()=>[...l[6]||(l[6]=[g("建议尽快在个人中心设定密码。",-1)])]),_:1})]),_:1}),u(o(L),{depth:"2"},{default:n(()=>[l[9]||(l[9]=g("③ 请务必遵守",-1)),u(f,{to:"/thread/13351"},{default:n(()=>[...l[8]||(l[8]=[g("小火锅版规",-1)])]),_:1}),l[10]||(l[10]=g("喔！",-1))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"])}}}),At=I({__name:"TopBar",setup(e){ye(F=>({"51bb01be":o(l).textColor1,"241e0506":o(m).themeColor.topBarBackgroudColor,"8a612fe6":o(l).dividerColor}));const t=Q(),r=R(),s=Ge(),a=He(),i=k(null),d=k(null),m=le(),l=Se(),f=[{label:"魔芋锅",key:"sfw",icon:B(N,{color:"#F9F9F9"})},{label:"白汤锅",key:"light",icon:B(N,{color:"#d9efd9"})},{label:"芝麻锅",key:"dark",icon:B(N,{color:"#101014"})},{label:"青菜锅",key:"green",icon:B(N,{color:"#53A551"})},{type:"render",key:"monochrome",render:c}];function c(){return C(M,{style:"padding:6px 8px",vertical:!0},()=>[C(Et,{checked:r.userCustom.monochromeMode,"onUpdate:checked":F=>r.userCustom.monochromeMode=F,label:"单色模式"})])}function v(){return C(M,{vertical:!0},()=>[C("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[C("img",{style:"max-height: 40px;",src:"/ui/my-binggan.png"}),C("div",null,[C("div",null,[C(L,{depth:3},{default:()=>"我的饼干"})]),C("div",{style:"font-size: 1rem;"},[C(L,{depth:2},{default:()=>t.binggan})])])]),C("div",{style:"display: flex; align-items: center; padding: 4px 8px;"},[C("img",{style:"max-height: 40px;",src:"/ui/my-olo.png"}),C("div",null,[C("div",null,[C(L,{depth:3},{default:()=>"奥利奥"})]),C("div",{style:"font-size: 1rem;"},[C(L,{depth:2},{default:()=>t.userData.binggan.coin})])])])])}const b=_(()=>{const F=[{key:"header",type:"render",render:v},{key:"header-divider",type:"divider"},{label:"个人中心",key:"profile",icon:B(Ne,{size:"1.25rem"}),props:{onClick:()=>s.push("/user-center")}},{label:"退出饼干",key:"logout",icon:B(Oe,{size:"1.25rem"}),props:{onClick:x}}];return t.admin.isForumAdmin&&F.splice(3,0,{label:"管理中心",key:"admin",icon:B(We,{size:"1.25rem"}),props:{onClick:()=>s.push("/admin-center")}}),F});function x(){const F={title:"退出饼干",closable:!1,content:"确定要退出饼干吗？请务必先记下自己的饼干喔。",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{It(t.binggan).then(()=>{Pe(),window.location.href="/"})}};window.$dialog.warning(F)}function T(){t.refreshUserData()}function z(){d.value?.show()}return qe(()=>{!(localStorage.getItem("Binggan")&&localStorage.getItem("Token"))&&a.path=="/"&&i.value?.show()}),(F,w)=>{const K=ne("router-link");return y(),P(o(M),{class:"top-bar",align:"center",wrap:!1},{default:n(()=>[S("img",{src:"/favicon.png",alt:"",onClick:w[0]||(w[0]=ie=>F.$router.push("/"))}),Ve(u(K,{to:"/"},{default:n(()=>[...w[1]||(w[1]=[g(" 小火锅 ",-1)])]),_:1},512),[[Ye,o(r).showTopbarNav]]),w[4]||(w[4]=S("div",{id:"topbar-nav",style:{"flex-shrink":"1",overflow:"hidden"}},null,-1)),w[5]||(w[5]=S("div",{id:"topbar-func"},null,-1)),u(o(me),{trigger:o(r).isMobile?"click":"hover",options:f,onSelect:o(m).themeChange},{default:n(()=>[...w[2]||(w[2]=[S("img",{src:"/ui/skin.png",style:{"margin-left":"auto"},class:"img-icon"},null,-1)])]),_:1},8,["trigger","onSelect"]),o(t).userLoginStatus?(y(),P(o(me),{key:0,trigger:o(r).isMobile?"click":"hover",options:b.value},{default:n(()=>[S("img",{src:"/ui/user-center.png",onMouseenter:T,class:"img-icon"},null,32)]),_:1},8,["trigger","options"])):G("",!0),!o(t).userDataLoading&&!o(t).userLoginStatus?(y(),P(o(A),{key:1,type:"primary",onClick:i.value?.show},{default:n(()=>[...w[3]||(w[3]=[g(" 导入饼干 ",-1)])]),_:1},8,["onClick"])):G("",!0),!o(t).userDataLoading&&!o(t).userLoginStatus?(y(),O(Ce,{key:2},[u(Dt,{ref_key:"LoginModalCom",ref:i,onSubmitRegister:z},null,512),u(Bt,{ref_key:"registerHintModalCom",ref:d},null,512)],64)):G("",!0)]),_:1})}}}),zt={style:{"margin-left":"auto"}},$t=I({__name:"UnauthModal",setup(e){const t=R(),r=_(()=>t.requestErrorCode===401?"你未导入饼干，或者饼干的登录信息已失效。请申请或重新导入饼干。":t.requestErrorCode===21499?"嗷……你的饼干被碎了。请申请或重新导入饼干。":"");return(s,a)=>(y(),P(o(re),{show:o(t).unauthModalShow,"onUpdate:show":a[2]||(a[2]=i=>o(t).unauthModalShow=i),"display-directive":"if"},{default:n(()=>[u(o(ae),{style:se({maxWidth:o(t).modalMaxWidth}),closable:"",onClose:a[1]||(a[1]=i=>o(t).unauthModalShow=!1),size:"small"},{action:n(()=>[u(o(M),{justify:"end"},{default:n(()=>[u(o(A),{onClick:o(Pe),type:"primary"},{default:n(()=>[...a[4]||(a[4]=[g("导入饼干",-1)])]),_:1},8,["onClick"]),u(o(A),{onClick:a[0]||(a[0]=i=>o(t).unauthModalShow=!1)},{default:n(()=>[...a[5]||(a[5]=[g("关闭",-1)])]),_:1})]),_:1})]),default:n(()=>[u(o(M),{vertical:""},{default:n(()=>[a[3]||(a[3]=S("img",{src:"https://wmimg.com/i/1547/2025/02/67adef97e42d8.png",alt:"需要饼干才能进入喔"},null,-1)),S("div",zt,H(r.value),1)]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ut=I({__name:"App",setup(e){ye(i=>({"569fcae7":o(s).userCustom.fontSizeQuote+"px","4f154f2c":o(r).textColor3,"4c417994":o(r).warningColor,fbf9aa24:o(r).primaryColor,"34b79c30":o(r).errorColor,"175e64d6":o(t).themeColor.postFooterColor,"7d36bd43":a.value}));const t=le(),r=Se();Q();const s=R(),a=_(()=>s.userCustom.emojiWhiteBack?"#FFFFFF":void 0);return(i,d)=>{const m=ne("router-view");return y(),P(o(Je),{theme:o(t).themeClass,"theme-overrides":o(t).themeOverrideClass,locale:o(Qe)},{default:n(()=>[u(o(Ke)),u(o(Xe),null,{default:n(()=>[u(kt)]),_:1}),u(o(Ze),null,{default:n(()=>[u(St)]),_:1}),u(At),u(m,null,{default:n(({Component:l})=>[(y(),P(et,{include:"ThreadPage,NewThread"},[(y(),P(tt(l)))],1024))]),_:1}),u($t)]),_:1},8,["theme","theme-overrides","locale"])}}});U.extend(ot);U.extend(rt);U.tz.setDefault("Asia/Shanghai");const jt=at(),J=st({});J.component("app",Ut);J.use(ut);J.use(jt);J.mount("#app");export{to as A,oo as B,Jt as C,Kt as D,no as E,Yt as F,Wt as G,we as _,Q as a,A as b,he as c,Et as d,ve as e,Ht as f,p as g,le as h,lo as i,io as j,uo as k,Xt as l,Zt as m,eo as n,ao as o,Qt as p,ro as q,B as r,so as s,It as t,R as u,Pe as v,Nt as w,Ot as x,qt as y,Vt as z};
