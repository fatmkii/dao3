import{ac as Ct,b4 as wo,d as j,$,T as gn,b5 as We,S as i,w as Z,y as vn,b6 as Ke,b7 as Ae,b8 as Je,b9 as ot,ba as qe,bb as ct,bc as rt,af as Me,ah as Le,E as Dt,I as He,a4 as kt,bd as yt,be as tn,bf as nn,bg as on,b3 as Nn,Z as ie,X as A,bh as Vn,Y,a0 as oe,bi as Ft,K as Ge,a6 as $e,V as Tt,a3 as de,a2 as St,q as ht,ak as Be,a7 as At,bj as Hn,bk as rn,ae as xo,bl as yo,bm as Co,bn as ko,ad as Ht,ab as Rt,bo as So,bp as Ro,bq as _e,aO as Ue,ag as mn,al as Ee,aX as jn,br as Fn,aj as bn,bs as _o,bt as zo,bu as $o,aq as Io,bv as ze,e as _t,am as kn,a9 as Po,bw as En,a8 as Bo,bx as Mo,W as Sn,by as Do,aD as Rn,bz as ln,bA as To,bB as Ao,C as et,ax as pe,m as Ne,b1 as an,as as Lo,aC as Fe,aw as sn,bC as _n,a_ as st,aB as qn,ay as Wn,az as Gn,aA as Xn,bD as Uo,bE as un,bF as je,bG as Wt,bH as Yn,aF as Oo,J as Et,au as Zn,ar as zn,x as No,bI as Vo,A as re,F as ke,j as fe,aH as Kn,bJ as Ie,b as it,o as Xe,g as Ho,c as qt,M as Ce,f as m,H as p,a as h,k as be,n as Se,z as W,h as Oe,s as Qe,i as ft,aJ as pt,aI as zt,Q as $t,N as Te,bK as jo,bL as Fo,bM as dn,aN as $n,aW as Eo,p as qo,v as Wo,G as mt,bN as Go}from"./app-D_NcfV-1.js";import{_ as Lt,s as Xo}from"./showDialog-Dk5mzPwV.js";import{u as Yo}from"./forums-CTMV1z6R.js";import{_ as Ve}from"./FInput.vue_vue_type_script_setup_true_lang-BVGcDoli.js";import{N as ve,c as Zo,_ as me}from"./index-npC4OXOH.js";import{u as wn}from"./use-locale-DCgCYyuK.js";import{N as xn,E as Ko}from"./Input-HQSPwFoy.js";import{A as Jn,a as In,b as Jo,N as Qo}from"./Tabs-B-Uzicsn.js";import{a as er,b as It}from"./Ellipsis-CfMnH8ho.js";import{e as tr}from"./emojiData-a0Hcov0e.js";import{a as nr}from"./Checkbox-l2O7OzjD.js";import{c as or}from"./_createCompounder-C2dm3Y_Y.js";import{d as Qn}from"./download-sglA049O.js";function rr(e){if(typeof e=="number")return{"":e.toString()};const t={};return e.split(/ +/).forEach(n=>{if(n==="")return;const[o,r]=n.split(":");r===void 0?t[""]=o:t[o]=r}),t}function ut(e,t){var n;if(e==null)return;const o=rr(e);if(t===void 0)return o[""];if(typeof t=="string")return(n=o[t])!==null&&n!==void 0?n:o[""];if(Array.isArray(t)){for(let r=t.length-1;r>=0;--r){const l=t[r];if(l in o)return o[l]}return o[""]}else{let r,l=-1;return Object.keys(o).forEach(s=>{const c=Number(s);!Number.isNaN(c)&&t>=c&&c>=l&&(l=c,r=o[s])}),r}}function eo(e,t,n){t/=100,n/=100;const o=t*Math.min(n,1-n)+n;return[e,o?(2-2*n/o)*100:0,o*100]}function jt(e,t,n){t/=100,n/=100;const o=n-n*t/2,r=Math.min(o,1-o);return[e,r?(n-o)/r*100:0,o*100]}function Ze(e,t,n){t/=100,n/=100;let o=(r,l=(r+e/60)%6)=>n-n*t*Math.max(Math.min(l,4-l,1),0);return[o(5)*255,o(3)*255,o(1)*255]}function cn(e,t,n){e/=255,t/=255,n/=255;let o=Math.max(e,t,n),r=o-Math.min(e,t,n),l=r&&(o==e?(t-n)/r:o==t?2+(n-e)/r:4+(e-t)/r);return[60*(l<0?l+6:l),o&&r/o*100,o*100]}function hn(e,t,n){e/=255,t/=255,n/=255;let o=Math.max(e,t,n),r=o-Math.min(e,t,n),l=1-Math.abs(o+o-r-1),s=r&&(o==e?(t-n)/r:o==t?2+(n-e)/r:4+(e-t)/r);return[60*(s<0?s+6:s),l?r/l*100:0,(o+o-r)*50]}function fn(e,t,n){t/=100,n/=100;let o=t*Math.min(n,1-n),r=(l,s=(l+e/30)%12)=>n-o*Math.max(Math.min(s-3,9-s,1),-1);return[r(0)*255,r(8)*255,r(4)*255]}function ir(e){var t;const n=(t=e.dirs)===null||t===void 0?void 0:t.find(({dir:o})=>o===Ct);return!!(n&&n.value===!1)}const lr={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function ar(e){return`(min-width: ${e}px)`}const bt={};function sr(e=lr){if(!wo)return j(()=>[]);if(typeof window.matchMedia!="function")return j(()=>[]);const t=$({}),n=Object.keys(e),o=(r,l)=>{r.matches?t.value[l]=!0:t.value[l]=!1};return n.forEach(r=>{const l=e[r];let s,c;bt[l]===void 0?(s=window.matchMedia(ar(l)),s.addEventListener?s.addEventListener("change",d=>{c.forEach(a=>{a(d,r)})}):s.addListener&&s.addListener(d=>{c.forEach(a=>{a(d,r)})}),c=new Set,bt[l]={mql:s,cbs:c}):(s=bt[l].mql,c=bt[l].cbs),c.add(o),s.matches&&c.forEach(d=>{d(s,r)})}),gn(()=>{n.forEach(r=>{const{cbs:l}=bt[e[r]];l.has(o)&&l.delete(o)})}),j(()=>{const{value:r}=t;return n.filter(l=>r[l])})}var ur=or(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const dr=We("attach",i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z"}))))),cr=We("trash",i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("path",{d:"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("rect",{x:"32",y:"64",width:"448",height:"80",rx:"16",ry:"16",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("line",{x1:"312",y1:"240",x2:"200",y2:"352",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}),i("line",{x1:"312",y1:"352",x2:"200",y2:"240",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),hr=We("download",i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z"}))))),fr=Z({name:"Remove",render(){return i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("line",{x1:"400",y1:"256",x2:"112",y2:"256",style:`
        fill: none;
        stroke: currentColor;
        stroke-linecap: round;
        stroke-linejoin: round;
        stroke-width: 32px;
      `}))}}),pr=We("cancel",i("svg",{viewBox:"0 0 16 16",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},i("g",{fill:"currentColor","fill-rule":"nonzero"},i("path",{d:"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z"}))))),gr=We("retry",i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i("path",{d:"M320,146s24.36-12-64-12A160,160,0,1,0,416,294",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;"}),i("polyline",{points:"256 58 336 138 256 218",style:"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;"}))),vr=We("rotateClockwise",i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z",fill:"currentColor"}),i("path",{d:"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z",fill:"currentColor"}))),mr=We("rotateClockwise",i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z",fill:"currentColor"}),i("path",{d:"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z",fill:"currentColor"}))),br=We("zoomIn",i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z",fill:"currentColor"}),i("path",{d:"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z",fill:"currentColor"}))),wr=We("zoomOut",i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z",fill:"currentColor"}),i("path",{d:"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z",fill:"currentColor"}))),xr=Z({name:"ResizeSmall",render(){return i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},i("g",{fill:"none"},i("path",{d:"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z",fill:"currentColor"})))}}),yr=vn&&"loading"in document.createElement("img"),Cr=(e={})=>{var t;const{root:n=null}=e;return{hash:`${e.rootMargin||"0px 0px 0px 0px"}-${Array.isArray(e.threshold)?e.threshold.join(","):(t=e.threshold)!==null&&t!==void 0?t:"0"}`,options:Object.assign(Object.assign({},e),{root:(typeof n=="string"?document.querySelector(n):n)||document.documentElement})}},Gt=new WeakMap,Xt=new WeakMap,Yt=new WeakMap,kr=(e,t,n)=>{if(!e)return()=>{};const o=Cr(t),{root:r}=o.options;let l;const s=Gt.get(r);s?l=s:(l=new Map,Gt.set(r,l));let c,d;l.has(o.hash)?(d=l.get(o.hash),d[1].has(e)||(c=d[0],d[1].add(e),c.observe(e))):(c=new IntersectionObserver(f=>{f.forEach(k=>{if(k.isIntersecting){const v=Xt.get(k.target),w=Yt.get(k.target);v&&v(),w&&(w.value=!0)}})},o.options),c.observe(e),d=[c,new Set([e])],l.set(o.hash,d));let a=!1;const u=()=>{a||(Xt.delete(e),Yt.delete(e),a=!0,d[1].has(e)&&(d[0].unobserve(e),d[1].delete(e)),d[1].size<=0&&l.delete(o.hash),l.size||Gt.delete(r))};return Xt.set(e,u),Yt.set(e,n),u};function Sr(e,t){switch(e[0]){case"hex":return t?"#000000FF":"#000000";case"rgb":return t?"rgba(0, 0, 0, 1)":"rgb(0, 0, 0)";case"hsl":return t?"hsla(0, 0%, 0%, 1)":"hsl(0, 0%, 0%)";case"hsv":return t?"hsva(0, 0%, 0%, 1)":"hsv(0, 0%, 0%)"}return"#000000"}function Pt(e){return e===null?null:/^ *#/.test(e)?"hex":e.includes("rgb")?"rgb":e.includes("hsl")?"hsl":e.includes("hsv")?"hsv":null}function Rr(e){return e=Math.round(e),e>=360?359:e<0?0:e}function _r(e){return e=Math.round(e*100)/100,e>1?1:e<0?0:e}const zr={rgb:{hex(e){return Ke(Ae(e))},hsl(e){const[t,n,o,r]=Ae(e);return Je([...hn(t,n,o),r])},hsv(e){const[t,n,o,r]=Ae(e);return ot([...cn(t,n,o),r])}},hex:{rgb(e){return qe(Ae(e))},hsl(e){const[t,n,o,r]=Ae(e);return Je([...hn(t,n,o),r])},hsv(e){const[t,n,o,r]=Ae(e);return ot([...cn(t,n,o),r])}},hsl:{hex(e){const[t,n,o,r]=ct(e);return Ke([...fn(t,n,o),r])},rgb(e){const[t,n,o,r]=ct(e);return qe([...fn(t,n,o),r])},hsv(e){const[t,n,o,r]=ct(e);return ot([...eo(t,n,o),r])}},hsv:{hex(e){const[t,n,o,r]=rt(e);return Ke([...Ze(t,n,o),r])},rgb(e){const[t,n,o,r]=rt(e);return qe([...Ze(t,n,o),r])},hsl(e){const[t,n,o,r]=rt(e);return Je([...jt(t,n,o),r])}}};function to(e,t,n){return n=n||Pt(e),n?n===t?e:zr[n][t](e):null}const dt="12px",$r=12,tt="6px",Ir=6,Pr="linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)",Br=Z({name:"HueSlider",props:{clsPrefix:{type:String,required:!0},hue:{type:Number,required:!0},onUpdateHue:{type:Function,required:!0},onComplete:Function},setup(e){const t=$(null);function n(l){t.value&&(Me("mousemove",document,o),Me("mouseup",document,r),o(l))}function o(l){const{value:s}=t;if(!s)return;const{width:c,left:d}=s.getBoundingClientRect(),a=Rr((l.clientX-d-Ir)/(c-$r)*360);e.onUpdateHue(a)}function r(){var l;Le("mousemove",document,o),Le("mouseup",document,r),(l=e.onComplete)===null||l===void 0||l.call(e)}return{railRef:t,handleMouseDown:n}},render(){const{clsPrefix:e}=this;return i("div",{class:`${e}-color-picker-slider`,style:{height:dt,borderRadius:tt}},i("div",{ref:"railRef",style:{boxShadow:"inset 0 0 2px 0 rgba(0, 0, 0, .24)",boxSizing:"border-box",backgroundImage:Pr,height:dt,borderRadius:tt,position:"relative"},onMousedown:this.handleMouseDown},i("div",{style:{position:"absolute",left:tt,right:tt,top:0,bottom:0}},i("div",{class:`${e}-color-picker-handle`,style:{left:`calc((${this.hue}%) / 359 * 100 - ${tt})`,borderRadius:tt,width:dt,height:dt}},i("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:`hsl(${this.hue}, 100%, 50%)`,borderRadius:tt,width:dt,height:dt}})))))}}),wt="12px",Mr=12,nt="6px",Dr=Z({name:"AlphaSlider",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},alpha:{type:Number,default:0},onUpdateAlpha:{type:Function,required:!0},onComplete:Function},setup(e){const t=$(null);function n(l){!t.value||!e.rgba||(Me("mousemove",document,o),Me("mouseup",document,r),o(l))}function o(l){const{value:s}=t;if(!s)return;const{width:c,left:d}=s.getBoundingClientRect(),a=(l.clientX-d)/(c-Mr);e.onUpdateAlpha(_r(a))}function r(){var l;Le("mousemove",document,o),Le("mouseup",document,r),(l=e.onComplete)===null||l===void 0||l.call(e)}return{railRef:t,railBackgroundImage:j(()=>{const{rgba:l}=e;return l?`linear-gradient(to right, rgba(${l[0]}, ${l[1]}, ${l[2]}, 0) 0%, rgba(${l[0]}, ${l[1]}, ${l[2]}, 1) 100%)`:""}),handleMouseDown:n}},render(){const{clsPrefix:e}=this;return i("div",{class:`${e}-color-picker-slider`,ref:"railRef",style:{height:wt,borderRadius:nt},onMousedown:this.handleMouseDown},i("div",{style:{borderRadius:nt,position:"absolute",left:0,right:0,top:0,bottom:0,overflow:"hidden"}},i("div",{class:`${e}-color-picker-checkboard`}),i("div",{class:`${e}-color-picker-slider__image`,style:{backgroundImage:this.railBackgroundImage}})),this.rgba&&i("div",{style:{position:"absolute",left:nt,right:nt,top:0,bottom:0}},i("div",{class:`${e}-color-picker-handle`,style:{left:`calc(${this.alpha*100}% - ${nt})`,borderRadius:nt,width:wt,height:wt}},i("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:qe(this.rgba),borderRadius:nt,width:wt,height:wt}}))))}}),Ut="12px",Ot="6px",Tr=Z({name:"Pallete",props:{clsPrefix:{type:String,required:!0},rgba:{type:Array,default:null},displayedHue:{type:Number,required:!0},displayedSv:{type:Array,required:!0},onUpdateSV:{type:Function,required:!0},onComplete:Function},setup(e){const t=$(null);function n(l){t.value&&(Me("mousemove",document,o),Me("mouseup",document,r),o(l))}function o(l){const{value:s}=t;if(!s)return;const{width:c,height:d,left:a,bottom:u}=s.getBoundingClientRect(),f=(u-l.clientY)/d,k=(l.clientX-a)/c,v=100*(k>1?1:k<0?0:k),w=100*(f>1?1:f<0?0:f);e.onUpdateSV(v,w)}function r(){var l;Le("mousemove",document,o),Le("mouseup",document,r),(l=e.onComplete)===null||l===void 0||l.call(e)}return{palleteRef:t,handleColor:j(()=>{const{rgba:l}=e;return l?`rgb(${l[0]}, ${l[1]}, ${l[2]})`:""}),handleMouseDown:n}},render(){const{clsPrefix:e}=this;return i("div",{class:`${e}-color-picker-pallete`,onMousedown:this.handleMouseDown,ref:"palleteRef"},i("div",{class:`${e}-color-picker-pallete__layer`,style:{backgroundImage:`linear-gradient(90deg, white, hsl(${this.displayedHue}, 100%, 50%))`}}),i("div",{class:`${e}-color-picker-pallete__layer ${e}-color-picker-pallete__layer--shadowed`,style:{backgroundImage:"linear-gradient(180deg, rgba(0, 0, 0, 0%), rgba(0, 0, 0, 100%))"}}),this.rgba&&i("div",{class:`${e}-color-picker-handle`,style:{width:Ut,height:Ut,borderRadius:Ot,left:`calc(${this.displayedSv[0]}% - ${Ot})`,bottom:`calc(${this.displayedSv[1]}% - ${Ot})`}},i("div",{class:`${e}-color-picker-handle__fill`,style:{backgroundColor:this.handleColor,borderRadius:Ot,width:Ut,height:Ut}})))}}),yn=Dt("n-color-picker");function Ar(e){return/^\d{1,3}\.?\d*$/.test(e.trim())?Math.max(0,Math.min(parseInt(e),255)):!1}function Lr(e){return/^\d{1,3}\.?\d*$/.test(e.trim())?Math.max(0,Math.min(parseInt(e),360)):!1}function Ur(e){return/^\d{1,3}\.?\d*$/.test(e.trim())?Math.max(0,Math.min(parseInt(e),100)):!1}function Or(e){const t=e.trim();return/^#[0-9a-fA-F]+$/.test(t)?[4,5,7,9].includes(t.length):!1}function Nr(e){return/^\d{1,3}\.?\d*%$/.test(e.trim())?Math.max(0,Math.min(parseInt(e)/100,100)):!1}const Vr={paddingSmall:"0 4px"},Pn=Z({name:"ColorInputUnit",props:{label:{type:String,required:!0},value:{type:[Number,String],default:null},showAlpha:Boolean,onUpdateValue:{type:Function,required:!0}},setup(e){const t=$(""),{themeRef:n}=He(yn,null);kt(()=>{t.value=o()});function o(){const{value:s}=e;if(s===null)return"";const{label:c}=e;return c==="HEX"?s:c==="A"?`${Math.floor(s*100)}%`:String(Math.floor(s))}function r(s){t.value=s}function l(s){let c,d;switch(e.label){case"HEX":d=Or(s),d&&e.onUpdateValue(s),t.value=o();break;case"H":c=Lr(s),c===!1?t.value=o():e.onUpdateValue(c);break;case"S":case"L":case"V":c=Ur(s),c===!1?t.value=o():e.onUpdateValue(c);break;case"A":c=Nr(s),c===!1?t.value=o():e.onUpdateValue(c);break;case"R":case"G":case"B":c=Ar(s),c===!1?t.value=o():e.onUpdateValue(c);break}}return{mergedTheme:n,inputValue:t,handleInputChange:l,handleInputUpdateValue:r}},render(){const{mergedTheme:e}=this;return i(xn,{size:"small",placeholder:this.label,theme:e.peers.Input,themeOverrides:e.peerOverrides.Input,builtinThemeOverrides:Vr,value:this.inputValue,onUpdateValue:this.handleInputUpdateValue,onChange:this.handleInputChange,style:this.label==="A"?"flex-grow: 1.25;":""})}}),Hr=Z({name:"ColorInput",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},modes:{type:Array,required:!0},showAlpha:{type:Boolean,required:!0},value:{type:String,default:null},valueArr:{type:Array,default:null},onUpdateValue:{type:Function,required:!0},onUpdateMode:{type:Function,required:!0}},setup(e){return{handleUnitUpdateValue(t,n){const{showAlpha:o}=e;if(e.mode==="hex"){e.onUpdateValue((o?Ke:yt)(n));return}let r;switch(e.valueArr===null?r=[0,0,0,0]:r=Array.from(e.valueArr),e.mode){case"hsv":r[t]=n,e.onUpdateValue((o?ot:on)(r));break;case"rgb":r[t]=n,e.onUpdateValue((o?qe:nn)(r));break;case"hsl":r[t]=n,e.onUpdateValue((o?Je:tn)(r));break}}}},render(){const{clsPrefix:e,modes:t}=this;return i("div",{class:`${e}-color-picker-input`},i("div",{class:`${e}-color-picker-input__mode`,onClick:this.onUpdateMode,style:{cursor:t.length===1?"":"pointer"}},this.mode.toUpperCase()+(this.showAlpha?"A":"")),i(ve,null,{default:()=>{const{mode:n,valueArr:o,showAlpha:r}=this;if(n==="hex"){let l=null;try{l=o===null?null:(r?Ke:yt)(o)}catch{}return i(Pn,{label:"HEX",showAlpha:r,value:l,onUpdateValue:s=>{this.handleUnitUpdateValue(0,s)}})}return(n+(r?"a":"")).split("").map((l,s)=>i(Pn,{label:l.toUpperCase(),value:o===null?null:o[s],onUpdateValue:c=>{this.handleUnitUpdateValue(s,c)}}))}}))}}),jr=Z({name:"ColorPickerTrigger",props:{clsPrefix:{type:String,required:!0},value:{type:String,default:null},hsla:{type:Array,default:null},disabled:Boolean,onClick:Function},setup(e){const{colorPickerSlots:t,renderLabelRef:n}=He(yn,null);return()=>{const{hsla:o,value:r,clsPrefix:l,onClick:s,disabled:c}=e,d=t.label||n.value;return i("div",{class:[`${l}-color-picker-trigger`,c&&`${l}-color-picker-trigger--disabled`],onClick:c?void 0:s},i("div",{class:`${l}-color-picker-trigger__fill`},i("div",{class:`${l}-color-picker-checkboard`}),i("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:o?Je(o):""}}),r&&o?i("div",{class:`${l}-color-picker-trigger__value`,style:{color:o[2]>50||o[3]<.5?"black":"white"}},d?d(r):r):null))}}});function Fr(e,t){if(t==="hsv"){const[n,o,r,l]=rt(e);return qe([...Ze(n,o,r),l])}return e}function Er(e){const t=document.createElement("canvas").getContext("2d");return t?(t.fillStyle=e,t.fillStyle):"#000000"}const qr=Z({name:"ColorPickerSwatches",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},swatches:{type:Array,required:!0},onUpdateColor:{type:Function,required:!0}},setup(e){const t=j(()=>e.swatches.map(l=>{const s=Pt(l);return{value:l,mode:s,legalValue:Fr(l,s)}}));function n(l){const{mode:s}=e;let{value:c,mode:d}=l;return d||(d="hex",/^[a-zA-Z]+$/.test(c)?c=Er(c):(Nn("color-picker",`color ${c} in swatches is invalid.`),c="#000000")),d===s?c:to(c,s,d)}function o(l){e.onUpdateColor(n(l))}function r(l,s){l.key==="Enter"&&o(s)}return{parsedSwatchesRef:t,handleSwatchSelect:o,handleSwatchKeyDown:r}},render(){const{clsPrefix:e}=this;return i("div",{class:`${e}-color-picker-swatches`},this.parsedSwatchesRef.map(t=>i("div",{class:`${e}-color-picker-swatch`,tabindex:0,onClick:()=>{this.handleSwatchSelect(t)},onKeydown:n=>{this.handleSwatchKeyDown(n,t)}},i("div",{class:`${e}-color-picker-swatch__fill`,style:{background:t.legalValue}}))))}}),Wr=Z({name:"ColorPreview",props:{clsPrefix:{type:String,required:!0},mode:{type:String,required:!0},color:{type:String,default:null,validator:e=>{const t=Pt(e);return!!(!e||t&&t!=="hsv")}},onUpdateColor:{type:Function,required:!0}},setup(e){function t(n){var o;const r=n.target.value;(o=e.onUpdateColor)===null||o===void 0||o.call(e,to(r.toUpperCase(),e.mode,"hex")),n.stopPropagation()}return{handleChange:t}},render(){const{clsPrefix:e}=this;return i("div",{class:`${e}-color-picker-preview__preview`},i("span",{class:`${e}-color-picker-preview__fill`,style:{background:this.color||"#000000"}}),i("input",{class:`${e}-color-picker-preview__input`,type:"color",value:this.color,onChange:this.handleChange}))}}),Gr=ie([A("color-picker",`
 display: inline-block;
 box-sizing: border-box;
 height: var(--n-height);
 font-size: var(--n-font-size);
 width: 100%;
 position: relative;
 `),A("color-picker-panel",`
 margin: 4px 0;
 width: 240px;
 font-size: var(--n-panel-font-size);
 color: var(--n-text-color);
 background-color: var(--n-color);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 box-shadow: var(--n-box-shadow);
 `,[Vn(),A("input",`
 text-align: center;
 `)]),A("color-picker-checkboard",`
 background: white; 
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[ie("&::after",`
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 12px 12px;
 background-position: 0 0, 0 6px, 6px -6px, -6px 0px;
 background-repeat: repeat;
 content: "";
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `)]),A("color-picker-slider",`
 margin-bottom: 8px;
 position: relative;
 box-sizing: border-box;
 `,[Y("image",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `),ie("&::after",`
 content: "";
 position: absolute;
 border-radius: inherit;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 pointer-events: none;
 `)]),A("color-picker-handle",`
 z-index: 1;
 box-shadow: 0 0 2px 0 rgba(0, 0, 0, .45);
 position: absolute;
 background-color: white;
 overflow: hidden;
 `,[Y("fill",`
 box-sizing: border-box;
 border: 2px solid white;
 `)]),A("color-picker-pallete",`
 height: 180px;
 position: relative;
 margin-bottom: 8px;
 cursor: crosshair;
 `,[Y("layer",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[oe("shadowed",`
 box-shadow: inset 0 0 2px 0 rgba(0, 0, 0, .24);
 `)])]),A("color-picker-preview",`
 display: flex;
 `,[Y("sliders",`
 flex: 1 0 auto;
 `),Y("preview",`
 position: relative;
 height: 30px;
 width: 30px;
 margin: 0 0 8px 6px;
 border-radius: 50%;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 overflow: hidden;
 `),Y("fill",`
 display: block;
 width: 30px;
 height: 30px;
 `),Y("input",`
 position: absolute;
 top: 0;
 left: 0;
 width: 30px;
 height: 30px;
 opacity: 0;
 z-index: 1;
 `)]),A("color-picker-input",`
 display: flex;
 align-items: center;
 `,[A("input",`
 flex-grow: 1;
 flex-basis: 0;
 `),Y("mode",`
 width: 72px;
 text-align: center;
 `)]),A("color-picker-control",`
 padding: 12px;
 `),A("color-picker-action",`
 display: flex;
 margin-top: -4px;
 border-top: 1px solid var(--n-divider-color);
 padding: 8px 12px;
 justify-content: flex-end;
 `,[A("button","margin-left: 8px;")]),A("color-picker-trigger",`
 border: var(--n-border);
 height: 100%;
 box-sizing: border-box;
 border-radius: var(--n-border-radius);
 transition: border-color .3s var(--n-bezier);
 cursor: pointer;
 `,[Y("value",`
 white-space: nowrap;
 position: relative;
 `),Y("fill",`
 border-radius: var(--n-border-radius);
 position: absolute;
 display: flex;
 align-items: center;
 justify-content: center;
 left: 4px;
 right: 4px;
 top: 4px;
 bottom: 4px;
 `),oe("disabled","cursor: not-allowed"),A("color-picker-checkboard",`
 border-radius: var(--n-border-radius);
 `,[ie("&::after",`
 --n-block-size: calc((var(--n-height) - 8px) / 3);
 background-size: calc(var(--n-block-size) * 2) calc(var(--n-block-size) * 2);
 background-position: 0 0, 0 var(--n-block-size), var(--n-block-size) calc(-1 * var(--n-block-size)), calc(-1 * var(--n-block-size)) 0px; 
 `)])]),A("color-picker-swatches",`
 display: grid;
 grid-gap: 8px;
 flex-wrap: wrap;
 position: relative;
 grid-template-columns: repeat(auto-fill, 18px);
 margin-top: 10px;
 `,[A("color-picker-swatch",`
 width: 18px;
 height: 18px;
 background-image: linear-gradient(45deg, #DDD 25%, #0000 25%), linear-gradient(-45deg, #DDD 25%, #0000 25%), linear-gradient(45deg, #0000 75%, #DDD 75%), linear-gradient(-45deg, #0000 75%, #DDD 75%);
 background-size: 8px 8px;
 background-position: 0px 0, 0px 4px, 4px -4px, -4px 0px;
 background-repeat: repeat;
 `,[Y("fill",`
 position: relative;
 width: 100%;
 height: 100%;
 border-radius: 3px;
 box-shadow: rgba(0, 0, 0, .15) 0px 0px 0px 1px inset;
 cursor: pointer;
 `),ie("&:focus",`
 outline: none;
 `,[Y("fill",[ie("&::after",`
 position: absolute;
 top: 0;
 right: 0;
 bottom: 0;
 left: 0;
 background: inherit;
 filter: blur(2px);
 content: "";
 `)])])])])]),Xr=Object.assign(Object.assign({},$e.props),{value:String,show:{type:Boolean,default:void 0},defaultShow:Boolean,defaultValue:String,modes:{type:Array,default:()=>["rgb","hex","hsl"]},placement:{type:String,default:"bottom-start"},to:rn.propTo,showAlpha:{type:Boolean,default:!0},showPreview:Boolean,swatches:Array,disabled:{type:Boolean,default:void 0},actions:{type:Array,default:null},internalActions:Array,size:String,renderLabel:Function,onComplete:Function,onConfirm:Function,"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array]}),Yr=Z({name:"ColorPicker",props:Xr,setup(e,{slots:t}){const n=$(null);let o=null;const r=Ft(e),{mergedSizeRef:l,mergedDisabledRef:s}=r,{localeRef:c}=wn("global"),{mergedClsPrefixRef:d,namespaceRef:a,inlineThemeDisabled:u}=Ge(e),f=$e("ColorPicker","-color-picker",Gr,Ro,e,d);Tt(yn,{themeRef:f,renderLabelRef:de(e,"renderLabel"),colorPickerSlots:t});const k=$(e.defaultShow),v=St(de(e,"show"),k);function w(g){const{onUpdateShow:T,"onUpdate:show":q}=e;T&&_e(T,g),q&&_e(q,g),k.value=g}const{defaultValue:x}=e,U=$(x===void 0?Sr(e.modes,e.showAlpha):x),R=St(de(e,"value"),U),y=$([R.value]),_=$(0),M=j(()=>Pt(R.value)),{modes:z}=e,L=$(Pt(R.value)||z[0]||"rgb");function V(){const{modes:g}=e,{value:T}=L,q=g.findIndex(J=>J===T);~q?L.value=g[(q+1)%g.length]:L.value="rgb"}let D,P,E,O,N,G,Q,K;const ee=j(()=>{const{value:g}=R;if(!g)return null;switch(M.value){case"hsv":return rt(g);case"hsl":return[D,P,E,K]=ct(g),[...eo(D,P,E),K];case"rgb":case"hex":return[N,G,Q,K]=Ae(g),[...cn(N,G,Q),K]}}),le=j(()=>{const{value:g}=R;if(!g)return null;switch(M.value){case"rgb":case"hex":return Ae(g);case"hsv":return[D,P,O,K]=rt(g),[...Ze(D,P,O),K];case"hsl":return[D,P,E,K]=ct(g),[...fn(D,P,E),K]}}),ae=j(()=>{const{value:g}=R;if(!g)return null;switch(M.value){case"hsl":return ct(g);case"hsv":return[D,P,O,K]=rt(g),[...jt(D,P,O),K];case"rgb":case"hex":return[N,G,Q,K]=Ae(g),[...hn(N,G,Q),K]}}),we=j(()=>{switch(L.value){case"rgb":case"hex":return le.value;case"hsv":return ee.value;case"hsl":return ae.value}}),xe=$(0),ce=$(1),ge=$([0,0]);function C(g,T){const{value:q}=ee,J=xe.value,ue=q?q[3]:1;ge.value=[g,T];const{showAlpha:se}=e;switch(L.value){case"hsv":B((se?ot:on)([J,g,T,ue]),"cursor");break;case"hsl":B((se?Je:tn)([...jt(J,g,T),ue]),"cursor");break;case"rgb":B((se?qe:nn)([...Ze(J,g,T),ue]),"cursor");break;case"hex":B((se?Ke:yt)([...Ze(J,g,T),ue]),"cursor");break}}function b(g){xe.value=g;const{value:T}=ee;if(!T)return;const[,q,J,ue]=T,{showAlpha:se}=e;switch(L.value){case"hsv":B((se?ot:on)([g,q,J,ue]),"cursor");break;case"rgb":B((se?qe:nn)([...Ze(g,q,J),ue]),"cursor");break;case"hex":B((se?Ke:yt)([...Ze(g,q,J),ue]),"cursor");break;case"hsl":B((se?Je:tn)([...jt(g,q,J),ue]),"cursor");break}}function I(g){switch(L.value){case"hsv":[D,P,O]=ee.value,B(ot([D,P,O,g]),"cursor");break;case"rgb":[N,G,Q]=le.value,B(qe([N,G,Q,g]),"cursor");break;case"hex":[N,G,Q]=le.value,B(Ke([N,G,Q,g]),"cursor");break;case"hsl":[D,P,E]=ae.value,B(Je([D,P,E,g]),"cursor");break}ce.value=g}function B(g,T){T==="cursor"?o=g:o=null;const{nTriggerFormChange:q,nTriggerFormInput:J}=r,{onUpdateValue:ue,"onUpdate:value":se}=e;ue&&_e(ue,g),se&&_e(se,g),q(),J(),U.value=g}function te(g){B(g,"input"),mn(Re)}function Re(g=!0){const{value:T}=R;if(T){const{nTriggerFormChange:q,nTriggerFormInput:J}=r,{onComplete:ue}=e;ue&&ue(T);const{value:se}=y,{value:ye}=_;g&&(se.splice(ye+1,se.length,T),_.value=ye+1),q(),J()}}function Ye(){const{value:g}=_;g-1<0||(B(y.value[g-1],"input"),Re(!1),_.value=g-1)}function lt(){const{value:g}=_;g<0||g+1>=y.value.length||(B(y.value[g+1],"input"),Re(!1),_.value=g+1)}function at(){B(null,"input"),w(!1)}function De(){const{value:g}=R,{onConfirm:T}=e;T&&T(g),w(!1)}const H=j(()=>_.value>=1),X=j(()=>{const{value:g}=y;return g.length>1&&_.value<g.length-1});ht(v,g=>{g||(y.value=[R.value],_.value=0)}),kt(()=>{if(!(o&&o===R.value)){const{value:g}=ee;g&&(xe.value=g[0],ce.value=g[3],ge.value=[g[1],g[2]])}o=null});const F=j(()=>{const{value:g}=l,{common:{cubicBezierEaseInOut:T},self:{textColor:q,color:J,panelFontSize:ue,boxShadow:se,border:ye,borderRadius:he,dividerColor:Pe,[Be("height",g)]:vt,[Be("fontSize",g)]:bo}}=f.value;return{"--n-bezier":T,"--n-text-color":q,"--n-color":J,"--n-panel-font-size":ue,"--n-font-size":bo,"--n-box-shadow":se,"--n-border":ye,"--n-border-radius":he,"--n-height":vt,"--n-divider-color":Pe}}),ne=u?At("color-picker",j(()=>l.value[0]),F,e):void 0;function S(){var g;const{value:T}=le,{value:q}=xe,{internalActions:J,modes:ue,actions:se}=e,{value:ye}=f,{value:he}=d;return i("div",{class:[`${he}-color-picker-panel`,ne==null?void 0:ne.themeClass.value],onDragstart:Pe=>{Pe.preventDefault()},style:u?void 0:F.value},i("div",{class:`${he}-color-picker-control`},i(Tr,{clsPrefix:he,rgba:T,displayedHue:q,displayedSv:ge.value,onUpdateSV:C,onComplete:Re}),i("div",{class:`${he}-color-picker-preview`},i("div",{class:`${he}-color-picker-preview__sliders`},i(Br,{clsPrefix:he,hue:q,onUpdateHue:b,onComplete:Re}),e.showAlpha?i(Dr,{clsPrefix:he,rgba:T,alpha:ce.value,onUpdateAlpha:I,onComplete:Re}):null),e.showPreview?i(Wr,{clsPrefix:he,mode:L.value,color:le.value&&yt(le.value),onUpdateColor:Pe=>{B(Pe,"input")}}):null),i(Hr,{clsPrefix:he,showAlpha:e.showAlpha,mode:L.value,modes:ue,onUpdateMode:V,value:R.value,valueArr:we.value,onUpdateValue:te}),((g=e.swatches)===null||g===void 0?void 0:g.length)&&i(qr,{clsPrefix:he,mode:L.value,swatches:e.swatches,onUpdateColor:Pe=>{B(Pe,"input")}})),se!=null&&se.length?i("div",{class:`${he}-color-picker-action`},se.includes("confirm")&&i(Ue,{size:"small",onClick:De,theme:ye.peers.Button,themeOverrides:ye.peerOverrides.Button},{default:()=>c.value.confirm}),se.includes("clear")&&i(Ue,{size:"small",onClick:at,disabled:!R.value,theme:ye.peers.Button,themeOverrides:ye.peerOverrides.Button},{default:()=>c.value.clear})):null,t.action?i("div",{class:`${he}-color-picker-action`},{default:t.action}):J?i("div",{class:`${he}-color-picker-action`},J.includes("undo")&&i(Ue,{size:"small",onClick:Ye,disabled:!H.value,theme:ye.peers.Button,themeOverrides:ye.peerOverrides.Button},{default:()=>c.value.undo}),J.includes("redo")&&i(Ue,{size:"small",onClick:lt,disabled:!X.value,theme:ye.peers.Button,themeOverrides:ye.peerOverrides.Button},{default:()=>c.value.redo})):null)}return{mergedClsPrefix:d,namespace:a,selfRef:n,hsla:ae,rgba:le,mergedShow:v,mergedDisabled:s,isMounted:Hn(),adjustedTo:rn(e),mergedValue:R,handleTriggerClick(){w(!0)},handleClickOutside(g){var T;!((T=n.value)===null||T===void 0)&&T.contains(xo(g))||w(!1)},renderPanel:S,cssVars:u?void 0:F,themeClass:ne==null?void 0:ne.themeClass,onRender:ne==null?void 0:ne.onRender}},render(){const{$slots:e,mergedClsPrefix:t,onRender:n}=this;return n==null||n(),i("div",{class:[this.themeClass,`${t}-color-picker`],ref:"selfRef",style:this.cssVars},i(yo,null,{default:()=>[i(Co,null,{default:()=>i(jr,{clsPrefix:t,value:this.mergedValue,hsla:this.hsla,disabled:this.mergedDisabled,onClick:this.handleTriggerClick},{label:e.label})}),i(ko,{placement:this.placement,show:this.mergedShow,containerClass:this.namespace,teleportDisabled:this.adjustedTo===rn.tdkey,to:this.adjustedTo},{default:()=>i(Ht,{name:"fade-in-scale-up-transition",appear:this.isMounted},{default:()=>this.mergedShow?Rt(this.renderPanel(),[[So,this.handleClickOutside,void 0,{capture:!0}]]):null})})]}))}}),Bn=1,no=Dt("n-grid"),oo=1,Zr={span:{type:[Number,String],default:oo},offset:{type:[Number,String],default:0},suffix:Boolean,privateOffset:Number,privateSpan:Number,privateColStart:Number,privateShow:{type:Boolean,default:!0}},Zt=Z({__GRID_ITEM__:!0,name:"GridItem",alias:["Gi"],props:Zr,setup(){const{isSsrRef:e,xGapRef:t,itemStyleRef:n,overflowRef:o,layoutShiftDisabledRef:r}=He(no),l=jn();return{overflow:o,itemStyle:n,layoutShiftDisabled:r,mergedXGap:j(()=>Ee(t.value||0)),deriveStyle:()=>{e.value;const{privateSpan:s=oo,privateShow:c=!0,privateColStart:d=void 0,privateOffset:a=0}=l.vnode.props,{value:u}=t,f=Ee(u||0);return{display:c?"":"none",gridColumn:`${d??`span ${s}`} / span ${s}`,marginLeft:a?`calc((100% - (${s} - 1) * ${f}) / ${s} * ${a} + ${f} * ${a})`:""}}}},render(){var e,t;if(this.layoutShiftDisabled){const{span:n,offset:o,mergedXGap:r}=this;return i("div",{style:{gridColumn:`span ${n} / span ${n}`,marginLeft:o?`calc((100% - (${n} - 1) * ${r}) / ${n} * ${o} + ${r} * ${o})`:""}},this.$slots)}return i("div",{style:[this.itemStyle,this.deriveStyle()]},(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e,{overflow:this.overflow}))}}),Kr=e=>{const{textColorDisabled:t}=e;return{iconColorDisabled:t}},Jr=Fn({name:"InputNumber",common:bn,peers:{Button:_o,Input:zo},self:Kr}),Qr=Jr,ei=e=>{const{primaryColor:t,opacityDisabled:n,borderRadius:o,textColor3:r}=e;return Object.assign(Object.assign({},$o),{iconColor:r,textColor:"white",loadingColor:t,opacityDisabled:n,railColor:"rgba(0, 0, 0, .14)",railColorActive:t,buttonBoxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)",buttonColor:"#FFF",railBorderRadiusSmall:o,railBorderRadiusMedium:o,railBorderRadiusLarge:o,buttonBorderRadiusSmall:o,buttonBorderRadiusMedium:o,buttonBorderRadiusLarge:o,boxShadowFocus:`0 0 0 2px ${Io(t,{alpha:.2})}`})},ti={name:"Switch",common:bn,self:ei},ni=ti,oi={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},ro=24,Kt="__ssr__",ri={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:ro},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}},ii=Z({name:"Grid",inheritAttrs:!1,props:ri,setup(e){const{mergedClsPrefixRef:t,mergedBreakpointsRef:n}=Ge(e),o=/^\d+$/,r=$(void 0),l=sr((n==null?void 0:n.value)||oi),s=ze(()=>!!(e.itemResponsive||!o.test(e.cols.toString())||!o.test(e.xGap.toString())||!o.test(e.yGap.toString()))),c=j(()=>{if(s.value)return e.responsive==="self"?r.value:l.value}),d=ze(()=>{var R;return(R=Number(ut(e.cols.toString(),c.value)))!==null&&R!==void 0?R:ro}),a=ze(()=>ut(e.xGap.toString(),c.value)),u=ze(()=>ut(e.yGap.toString(),c.value)),f=R=>{r.value=R.contentRect.width},k=R=>{En(f,R)},v=$(!1),w=j(()=>{if(e.responsive==="self")return k}),x=$(!1),U=$();return _t(()=>{const{value:R}=U;R&&R.hasAttribute(Kt)&&(R.removeAttribute(Kt),x.value=!0)}),Tt(no,{layoutShiftDisabledRef:de(e,"layoutShiftDisabled"),isSsrRef:x,itemStyleRef:de(e,"itemStyle"),xGapRef:a,overflowRef:v}),{isSsr:!vn,contentEl:U,mergedClsPrefix:t,style:j(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:Ee(e.xGap),rowGap:Ee(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${d.value}, minmax(0, 1fr))`,columnGap:Ee(a.value),rowGap:Ee(u.value)}),isResponsive:s,responsiveQuery:c,responsiveCols:d,handleResize:w,overflow:v}},render(){if(this.layoutShiftDisabled)return i("div",kn({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var t,n,o,r,l,s,c;this.overflow=!1;const d=Bo(Mo(this)),a=[],{collapsed:u,collapsedRows:f,responsiveCols:k,responsiveQuery:v}=this;d.forEach(y=>{var _,M,z,L,V;if(((_=y==null?void 0:y.type)===null||_===void 0?void 0:_.__GRID_ITEM__)!==!0)return;if(ir(y)){const E=Sn(y);E.props?E.props.privateShow=!1:E.props={privateShow:!1},a.push({child:E,rawChildSpan:0});return}y.dirs=((M=y.dirs)===null||M===void 0?void 0:M.filter(({dir:E})=>E!==Ct))||null,((z=y.dirs)===null||z===void 0?void 0:z.length)===0&&(y.dirs=null);const D=Sn(y),P=Number((V=ut((L=D.props)===null||L===void 0?void 0:L.span,v))!==null&&V!==void 0?V:Bn);P!==0&&a.push({child:D,rawChildSpan:P})});let w=0;const x=(t=a[a.length-1])===null||t===void 0?void 0:t.child;if(x!=null&&x.props){const y=(n=x.props)===null||n===void 0?void 0:n.suffix;y!==void 0&&y!==!1&&(w=Number((r=ut((o=x.props)===null||o===void 0?void 0:o.span,v))!==null&&r!==void 0?r:Bn),x.props.privateSpan=w,x.props.privateColStart=k+1-w,x.props.privateShow=(l=x.props.privateShow)!==null&&l!==void 0?l:!0)}let U=0,R=!1;for(const{child:y,rawChildSpan:_}of a){if(R&&(this.overflow=!0),!R){const M=Number((c=ut((s=y.props)===null||s===void 0?void 0:s.offset,v))!==null&&c!==void 0?c:0),z=Math.min(_+M,k);if(y.props?(y.props.privateSpan=z,y.props.privateOffset=M):y.props={privateSpan:z,privateOffset:M},u){const L=U%k;z+L>k&&(U+=k-L),z+U+w>f*k?R=!0:U+=z}}R&&(y.props?y.props.privateShow!==!0&&(y.props.privateShow=!1):y.props={privateShow:!1})}return i("div",kn({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[Kt]:this.isSsr||void 0},this.$attrs),a.map(({child:y})=>y))};return this.isResponsive&&this.responsive==="self"?i(Po,{onResize:this.handleResize},{default:e}):e()}}),Cn=Object.assign(Object.assign({},$e.props),{onPreviewPrev:Function,onPreviewNext:Function,showToolbar:{type:Boolean,default:!0},showToolbarTooltip:Boolean}),io=Dt("n-image");function li(){return{toolbarIconColor:"rgba(255, 255, 255, .9)",toolbarColor:"rgba(0, 0, 0, .35)",toolbarBoxShadow:"none",toolbarBorderRadius:"24px"}}const ai=Fn({name:"Image",common:bn,peers:{Tooltip:Do},self:li}),si=i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z",fill:"currentColor"})),ui=i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z",fill:"currentColor"})),di=i("svg",{viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i("path",{d:"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z",fill:"currentColor"})),ci=i("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 1024 1024"},i("path",{fill:"currentColor",d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"})),hi=ie([ie("body >",[A("image-container","position: fixed;")]),A("image-preview-container",`
 position: fixed;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 `),A("image-preview-overlay",`
 z-index: -1;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 background: rgba(0, 0, 0, .3);
 `,[Rn()]),A("image-preview-toolbar",`
 z-index: 1;
 position: absolute;
 left: 50%;
 transform: translateX(-50%);
 border-radius: var(--n-toolbar-border-radius);
 height: 48px;
 bottom: 40px;
 padding: 0 12px;
 background: var(--n-toolbar-color);
 box-shadow: var(--n-toolbar-box-shadow);
 color: var(--n-toolbar-icon-color);
 transition: color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[A("base-icon",`
 padding: 0 8px;
 font-size: 28px;
 cursor: pointer;
 `),Rn()]),A("image-preview-wrapper",`
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 pointer-events: none;
 `,[Vn()]),A("image-preview",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: all;
 margin: auto;
 max-height: calc(100vh - 32px);
 max-width: calc(100vw - 32px);
 transition: transform .3s var(--n-bezier);
 `),A("image",`
 display: inline-flex;
 max-height: 100%;
 max-width: 100%;
 `,[ln("preview-disabled",`
 cursor: pointer;
 `),ie("img",`
 border-radius: inherit;
 `)])]),Nt=32,lo=Z({name:"ImagePreview",props:Object.assign(Object.assign({},Cn),{onNext:Function,onPrev:Function,clsPrefix:{type:String,required:!0}}),setup(e){const t=$e("Image","-image",hi,ai,e,de(e,"clsPrefix"));let n=null;const o=$(null),r=$(null),l=$(void 0),s=$(!1),c=$(!1),{localeRef:d}=wn("Image");function a(){const{value:H}=r;if(!n||!H)return;const{style:X}=H,F=n.getBoundingClientRect(),ne=F.left+F.width/2,S=F.top+F.height/2;X.transformOrigin=`${ne}px ${S}px`}function u(H){var X,F;switch(H.key){case" ":H.preventDefault();break;case"ArrowLeft":(X=e.onPrev)===null||X===void 0||X.call(e);break;case"ArrowRight":(F=e.onNext)===null||F===void 0||F.call(e);break;case"Escape":B();break}}ht(s,H=>{H?Me("keydown",document,u):Le("keydown",document,u)}),gn(()=>{Le("keydown",document,u)});let f=0,k=0,v=0,w=0,x=0,U=0,R=0,y=0,_=!1;function M(H){const{clientX:X,clientY:F}=H;v=X-f,w=F-k,En(I)}function z(H){const{mouseUpClientX:X,mouseUpClientY:F,mouseDownClientX:ne,mouseDownClientY:S}=H,g=ne-X,T=S-F,q=`vertical${T>0?"Top":"Bottom"}`,J=`horizontal${g>0?"Left":"Right"}`;return{moveVerticalDirection:q,moveHorizontalDirection:J,deltaHorizontal:g,deltaVertical:T}}function L(H){const{value:X}=o;if(!X)return{offsetX:0,offsetY:0};const F=X.getBoundingClientRect(),{moveVerticalDirection:ne,moveHorizontalDirection:S,deltaHorizontal:g,deltaVertical:T}=H||{};let q=0,J=0;return F.width<=window.innerWidth?q=0:F.left>0?q=(F.width-window.innerWidth)/2:F.right<window.innerWidth?q=-(F.width-window.innerWidth)/2:S==="horizontalRight"?q=Math.min((F.width-window.innerWidth)/2,x-(g??0)):q=Math.max(-((F.width-window.innerWidth)/2),x-(g??0)),F.height<=window.innerHeight?J=0:F.top>0?J=(F.height-window.innerHeight)/2:F.bottom<window.innerHeight?J=-(F.height-window.innerHeight)/2:ne==="verticalBottom"?J=Math.min((F.height-window.innerHeight)/2,U-(T??0)):J=Math.max(-((F.height-window.innerHeight)/2),U-(T??0)),{offsetX:q,offsetY:J}}function V(H){Le("mousemove",document,M),Le("mouseup",document,V);const{clientX:X,clientY:F}=H;_=!1;const ne=z({mouseUpClientX:X,mouseUpClientY:F,mouseDownClientX:R,mouseDownClientY:y}),S=L(ne);v=S.offsetX,w=S.offsetY,I()}const D=He(io,null);function P(H){var X,F;if((F=(X=D==null?void 0:D.previewedImgPropsRef.value)===null||X===void 0?void 0:X.onMousedown)===null||F===void 0||F.call(X,H),H.button!==0)return;const{clientX:ne,clientY:S}=H;_=!0,f=ne-v,k=S-w,x=v,U=w,R=ne,y=S,I(),Me("mousemove",document,M),Me("mouseup",document,V)}function E(H){var X,F;(F=(X=D==null?void 0:D.previewedImgPropsRef.value)===null||X===void 0?void 0:X.onDblclick)===null||F===void 0||F.call(X,H);const ne=ce();G=G===ne?1:ne,I()}const O=1.5;let N=0,G=1,Q=0;function K(){G=1,N=0}function ee(){var H;K(),Q=0,(H=e.onPrev)===null||H===void 0||H.call(e)}function le(){var H;K(),Q=0,(H=e.onNext)===null||H===void 0||H.call(e)}function ae(){Q-=90,I()}function we(){Q+=90,I()}function xe(){const{value:H}=o;if(!H)return 1;const{innerWidth:X,innerHeight:F}=window,ne=Math.max(1,H.naturalHeight/(F-Nt)),S=Math.max(1,H.naturalWidth/(X-Nt));return Math.max(3,ne*2,S*2)}function ce(){const{value:H}=o;if(!H)return 1;const{innerWidth:X,innerHeight:F}=window,ne=H.naturalHeight/(F-Nt),S=H.naturalWidth/(X-Nt);return ne<1&&S<1?1:Math.max(ne,S)}function ge(){const H=xe();G<H&&(N+=1,G=Math.min(H,Math.pow(O,N)),I())}function C(){if(G>.5){const H=G;N-=1,G=Math.max(.5,Math.pow(O,N));const X=H-G;I(!1);const F=L();G+=X,I(!1),G-=X,v=F.offsetX,w=F.offsetY,I()}}function b(){const H=l.value;H&&Qn(H,void 0)}function I(H=!0){var X;const{value:F}=o;if(!F)return;const{style:ne}=F,S=Ne((X=D==null?void 0:D.previewedImgPropsRef.value)===null||X===void 0?void 0:X.style);let g="";if(typeof S=="string")g=S+";";else for(const q in S)g+=`${ur(q)}: ${S[q]};`;const T=`transform-origin: center; transform: translateX(${v}px) translateY(${w}px) rotate(${Q}deg) scale(${G});`;_?ne.cssText=g+"cursor: grabbing; transition: none;"+T:ne.cssText=g+"cursor: grab;"+T+(H?"":"transition: none;"),H||F.offsetHeight}function B(){s.value=!s.value,c.value=!0}function te(){G=ce(),N=Math.ceil(Math.log(G)/Math.log(O)),v=0,w=0,I()}const Re={setPreviewSrc:H=>{l.value=H},setThumbnailEl:H=>{n=H},toggleShow:B};function Ye(H,X){if(e.showToolbarTooltip){const{value:F}=t;return i(er,{to:!1,theme:F.peers.Tooltip,themeOverrides:F.peerOverrides.Tooltip,keepAliveOnHover:!1},{default:()=>d.value[X],trigger:()=>H})}else return H}const lt=j(()=>{const{common:{cubicBezierEaseInOut:H},self:{toolbarIconColor:X,toolbarBorderRadius:F,toolbarBoxShadow:ne,toolbarColor:S}}=t.value;return{"--n-bezier":H,"--n-toolbar-icon-color":X,"--n-toolbar-color":S,"--n-toolbar-border-radius":F,"--n-toolbar-box-shadow":ne}}),{inlineThemeDisabled:at}=Ge(),De=at?At("image-preview",void 0,lt,e):void 0;return Object.assign({previewRef:o,previewWrapperRef:r,previewSrc:l,show:s,appear:Hn(),displayed:c,previewedImgProps:D==null?void 0:D.previewedImgPropsRef,handleWheel(H){H.preventDefault()},handlePreviewMousedown:P,handlePreviewDblclick:E,syncTransformOrigin:a,handleAfterLeave:()=>{K(),Q=0,c.value=!1},handleDragStart:H=>{var X,F;(F=(X=D==null?void 0:D.previewedImgPropsRef.value)===null||X===void 0?void 0:X.onDragstart)===null||F===void 0||F.call(X,H),H.preventDefault()},zoomIn:ge,zoomOut:C,handleDownloadClick:b,rotateCounterclockwise:ae,rotateClockwise:we,handleSwitchPrev:ee,handleSwitchNext:le,withTooltip:Ye,resizeToOrignalImageSize:te,cssVars:at?void 0:lt,themeClass:De==null?void 0:De.themeClass,onRender:De==null?void 0:De.onRender},Re)},render(){var e,t;const{clsPrefix:n}=this;return i(et,null,(t=(e=this.$slots).default)===null||t===void 0?void 0:t.call(e),i(To,{show:this.show},{default:()=>{var o;return this.show||this.displayed?((o=this.onRender)===null||o===void 0||o.call(this),Rt(i("div",{class:[`${n}-image-preview-container`,this.themeClass],style:this.cssVars,onWheel:this.handleWheel},i(Ht,{name:"fade-in-transition",appear:this.appear},{default:()=>this.show?i("div",{class:`${n}-image-preview-overlay`,onClick:this.toggleShow}):null}),this.showToolbar?i(Ht,{name:"fade-in-transition",appear:this.appear},{default:()=>{if(!this.show)return null;const{withTooltip:r}=this;return i("div",{class:`${n}-image-preview-toolbar`},this.onPrev?i(et,null,r(i(pe,{clsPrefix:n,onClick:this.handleSwitchPrev},{default:()=>si}),"tipPrevious"),r(i(pe,{clsPrefix:n,onClick:this.handleSwitchNext},{default:()=>ui}),"tipNext")):null,r(i(pe,{clsPrefix:n,onClick:this.rotateCounterclockwise},{default:()=>i(mr,null)}),"tipCounterclockwise"),r(i(pe,{clsPrefix:n,onClick:this.rotateClockwise},{default:()=>i(vr,null)}),"tipClockwise"),r(i(pe,{clsPrefix:n,onClick:this.resizeToOrignalImageSize},{default:()=>i(xr,null)}),"tipOriginalSize"),r(i(pe,{clsPrefix:n,onClick:this.zoomOut},{default:()=>i(wr,null)}),"tipZoomOut"),r(i(pe,{clsPrefix:n,onClick:this.zoomIn},{default:()=>i(br,null)}),"tipZoomIn"),r(i(pe,{clsPrefix:n,onClick:this.handleDownloadClick},{default:()=>ci}),"tipDownload"),r(i(pe,{clsPrefix:n,onClick:this.toggleShow},{default:()=>di}),"tipClose"))}}):null,i(Ht,{name:"fade-in-scale-up-transition",onAfterLeave:this.handleAfterLeave,appear:this.appear,onEnter:this.syncTransformOrigin,onBeforeLeave:this.syncTransformOrigin},{default:()=>{const{previewedImgProps:r={}}=this;return Rt(i("div",{class:`${n}-image-preview-wrapper`,ref:"previewWrapperRef"},i("img",Object.assign({},r,{draggable:!1,onMousedown:this.handlePreviewMousedown,onDblclick:this.handlePreviewDblclick,class:[`${n}-image-preview`,r.class],key:this.previewSrc,src:this.previewSrc,ref:"previewRef",onDragstart:this.handleDragStart}))),[[Ct,this.show]])}})),[[Ao,{enabled:this.show}]])):null}}))}}),ao=Dt("n-image-group"),fi=Cn,pi=Z({name:"ImageGroup",props:fi,setup(e){let t;const{mergedClsPrefixRef:n}=Ge(e),o=`c${an()}`,r=jn(),l=d=>{var a;t=d,(a=c.value)===null||a===void 0||a.setPreviewSrc(d)};function s(d){var a,u;if(!(r!=null&&r.proxy))return;const k=r.proxy.$el.parentElement.querySelectorAll(`[data-group-id=${o}]:not([data-error=true])`);if(!k.length)return;const v=Array.from(k).findIndex(w=>w.dataset.previewSrc===t);~v?l(k[(v+d+k.length)%k.length].dataset.previewSrc):l(k[0].dataset.previewSrc),d===1?(a=e.onPreviewNext)===null||a===void 0||a.call(e):(u=e.onPreviewPrev)===null||u===void 0||u.call(e)}Tt(ao,{mergedClsPrefixRef:n,setPreviewSrc:l,setThumbnailEl:d=>{var a;(a=c.value)===null||a===void 0||a.setThumbnailEl(d)},toggleShow:()=>{var d;(d=c.value)===null||d===void 0||d.toggleShow()},groupId:o});const c=$(null);return{mergedClsPrefix:n,previewInstRef:c,next:()=>{s(1)},prev:()=>{s(-1)}}},render(){return i(lo,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:this.mergedClsPrefix,ref:"previewInstRef",onPrev:this.prev,onNext:this.next,showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},this.$slots)}}),gi=Object.assign({alt:String,height:[String,Number],imgProps:Object,previewedImgProps:Object,lazy:Boolean,intersectionObserverOptions:Object,objectFit:{type:String,default:"fill"},previewSrc:String,fallbackSrc:String,width:[String,Number],src:String,previewDisabled:Boolean,loadDescription:String,onError:Function,onLoad:Function},Cn),vi=Z({name:"Image",props:gi,inheritAttrs:!1,setup(e){const t=$(null),n=$(!1),o=$(null),r=He(ao,null),{mergedClsPrefixRef:l}=r||Ge(e),s={click:()=>{if(e.previewDisabled||n.value)return;const a=e.previewSrc||e.src;if(r){r.setPreviewSrc(a),r.setThumbnailEl(t.value),r.toggleShow();return}const{value:u}=o;u&&(u.setPreviewSrc(a),u.setThumbnailEl(t.value),u.toggleShow())}},c=$(!e.lazy);_t(()=>{var a;(a=t.value)===null||a===void 0||a.setAttribute("data-group-id",(r==null?void 0:r.groupId)||"")}),_t(()=>{if(e.lazy&&e.intersectionObserverOptions){let a;const u=kt(()=>{a==null||a(),a=void 0,a=kr(t.value,e.intersectionObserverOptions,c)});gn(()=>{u(),a==null||a()})}}),kt(()=>{var a;e.src||((a=e.imgProps)===null||a===void 0||a.src),n.value=!1});const d=$(!1);return Tt(io,{previewedImgPropsRef:de(e,"previewedImgProps")}),Object.assign({mergedClsPrefix:l,groupId:r==null?void 0:r.groupId,previewInstRef:o,imageRef:t,showError:n,shouldStartLoading:c,loaded:d,mergedOnClick:a=>{var u,f;s.click(),(f=(u=e.imgProps)===null||u===void 0?void 0:u.onClick)===null||f===void 0||f.call(u,a)},mergedOnError:a=>{if(!c.value)return;n.value=!0;const{onError:u,imgProps:{onError:f}={}}=e;u==null||u(a),f==null||f(a)},mergedOnLoad:a=>{const{onLoad:u,imgProps:{onLoad:f}={}}=e;u==null||u(a),f==null||f(a),d.value=!0}},s)},render(){var e,t;const{mergedClsPrefix:n,imgProps:o={},loaded:r,$attrs:l,lazy:s}=this,c=(t=(e=this.$slots).placeholder)===null||t===void 0?void 0:t.call(e),d=this.src||o.src,a=i("img",Object.assign(Object.assign({},o),{ref:"imageRef",width:this.width||o.width,height:this.height||o.height,src:this.showError?this.fallbackSrc:s&&this.intersectionObserverOptions?this.shouldStartLoading?d:void 0:d,alt:this.alt||o.alt,"aria-label":this.alt||o.alt,onClick:this.mergedOnClick,onError:this.mergedOnError,onLoad:this.mergedOnLoad,loading:yr&&s&&!this.intersectionObserverOptions?"lazy":"eager",style:[o.style||"",c&&!r?{height:"0",width:"0",visibility:"hidden"}:"",{objectFit:this.objectFit}],"data-error":this.showError,"data-preview-src":this.previewSrc||this.src}));return i("div",Object.assign({},l,{role:"none",class:[l.class,`${n}-image`,(this.previewDisabled||this.showError)&&`${n}-image--preview-disabled`]}),this.groupId?a:i(lo,{theme:this.theme,themeOverrides:this.themeOverrides,clsPrefix:n,ref:"previewInstRef",showToolbar:this.showToolbar,showToolbarTooltip:this.showToolbarTooltip},{default:()=>a}),!r&&c)}});function mi(e){return e==null||typeof e=="string"&&e.trim()===""?null:Number(e)}function bi(e){return e.includes(".")&&(/^(-)?\d+.*(\.|0)$/.test(e)||/^\.\d+$/.test(e))}function Jt(e){return e==null?!0:!Number.isNaN(e)}function Mn(e,t){return e==null?"":t===void 0?String(e):e.toFixed(t)}function Qt(e){if(e===null)return null;if(typeof e=="number")return e;{const t=Number(e);return Number.isNaN(t)?null:t}}const wi=ie([A("input-number-suffix",`
 display: inline-block;
 margin-right: 10px;
 `),A("input-number-prefix",`
 display: inline-block;
 margin-left: 10px;
 `)]),Dn=800,Tn=100,xi=Object.assign(Object.assign({},$e.props),{autofocus:Boolean,loading:{type:Boolean,default:void 0},placeholder:String,defaultValue:{type:Number,default:null},value:Number,step:{type:[Number,String],default:1},min:[Number,String],max:[Number,String],size:String,disabled:{type:Boolean,default:void 0},validator:Function,bordered:{type:Boolean,default:void 0},showButton:{type:Boolean,default:!0},buttonPlacement:{type:String,default:"right"},inputProps:Object,readonly:Boolean,clearable:Boolean,keyboard:{type:Object,default:{}},updateValueOnInput:{type:Boolean,default:!0},parse:Function,format:Function,precision:Number,status:String,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onClear:[Function,Array],onChange:[Function,Array]}),Bt=Z({name:"InputNumber",props:xi,setup(e){const{mergedBorderedRef:t,mergedClsPrefixRef:n,mergedRtlRef:o}=Ge(e),r=$e("InputNumber","-input-number",wi,Qr,e,n),{localeRef:l}=wn("InputNumber"),s=Ft(e),{mergedSizeRef:c,mergedDisabledRef:d,mergedStatusRef:a}=s,u=$(null),f=$(null),k=$(null),v=$(e.defaultValue),w=de(e,"value"),x=St(w,v),U=$(""),R=S=>{const g=String(S).split(".")[1];return g?g.length:0},y=S=>{const g=[e.min,e.max,e.step,S].map(T=>T===void 0?0:R(T));return Math.max(...g)},_=ze(()=>{const{placeholder:S}=e;return S!==void 0?S:l.value.placeholder}),M=ze(()=>{const S=Qt(e.step);return S!==null?S===0?1:Math.abs(S):1}),z=ze(()=>{const S=Qt(e.min);return S!==null?S:null}),L=ze(()=>{const S=Qt(e.max);return S!==null?S:null}),V=S=>{const{value:g}=x;if(S===g){P();return}const{"onUpdate:value":T,onUpdateValue:q,onChange:J}=e,{nTriggerFormInput:ue,nTriggerFormChange:se}=s;J&&_e(J,S),q&&_e(q,S),T&&_e(T,S),v.value=S,ue(),se()},D=({offset:S,doUpdateIfValid:g,fixPrecision:T,isInputing:q})=>{const{value:J}=U;if(q&&bi(J))return!1;const ue=(e.parse||mi)(J);if(ue===null)return g&&V(null),null;if(Jt(ue)){const se=R(ue),{precision:ye}=e;if(ye!==void 0&&ye<se&&!T)return!1;let he=parseFloat((ue+S).toFixed(ye??y(ue)));if(Jt(he)){const{value:Pe}=L,{value:vt}=z;if(Pe!==null&&he>Pe){if(!g||q)return!1;he=Pe}if(vt!==null&&he<vt){if(!g||q)return!1;he=vt}return e.validator&&!e.validator(he)?!1:(g&&V(he),he)}}return!1},P=()=>{const{value:S}=x;if(Jt(S)){const{format:g,precision:T}=e;g?U.value=g(S):S===null||T===void 0||R(S)>T?U.value=Mn(S,void 0):U.value=Mn(S,T)}else U.value=String(S)};P();const E=ze(()=>D({offset:0,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})===!1),O=ze(()=>{const{value:S}=x;if(e.validator&&S===null)return!1;const{value:g}=M;return D({offset:-g,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1}),N=ze(()=>{const{value:S}=x;if(e.validator&&S===null)return!1;const{value:g}=M;return D({offset:+g,doUpdateIfValid:!1,isInputing:!1,fixPrecision:!1})!==!1});function G(S){const{onFocus:g}=e,{nTriggerFormFocus:T}=s;g&&_e(g,S),T()}function Q(S){var g,T;if(S.target===((g=u.value)===null||g===void 0?void 0:g.wrapperElRef))return;const q=D({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0});if(q!==!1){const se=(T=u.value)===null||T===void 0?void 0:T.inputElRef;se&&(se.value=String(q||"")),x.value===q&&P()}else P();const{onBlur:J}=e,{nTriggerFormBlur:ue}=s;J&&_e(J,S),ue(),mn(()=>{P()})}function K(S){const{onClear:g}=e;g&&_e(g,S)}function ee(){const{value:S}=N;if(!S){te();return}const{value:g}=x;if(g===null)e.validator||V(xe());else{const{value:T}=M;D({offset:T,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}function le(){const{value:S}=O;if(!S){B();return}const{value:g}=x;if(g===null)e.validator||V(xe());else{const{value:T}=M;D({offset:-T,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})}}const ae=G,we=Q;function xe(){if(e.validator)return null;const{value:S}=z,{value:g}=L;return S!==null?Math.max(0,S):g!==null?Math.min(0,g):0}function ce(S){K(S),V(null)}function ge(S){var g,T,q;!((g=k.value)===null||g===void 0)&&g.$el.contains(S.target)&&S.preventDefault(),!((T=f.value)===null||T===void 0)&&T.$el.contains(S.target)&&S.preventDefault(),(q=u.value)===null||q===void 0||q.activate()}let C=null,b=null,I=null;function B(){I&&(window.clearTimeout(I),I=null),C&&(window.clearInterval(C),C=null)}function te(){Ye&&(window.clearTimeout(Ye),Ye=null),b&&(window.clearInterval(b),b=null)}function Re(){B(),I=window.setTimeout(()=>{C=window.setInterval(()=>{le()},Tn)},Dn),Me("mouseup",document,B,{once:!0})}let Ye=null;function lt(){te(),Ye=window.setTimeout(()=>{b=window.setInterval(()=>{ee()},Tn)},Dn),Me("mouseup",document,te,{once:!0})}const at=()=>{b||ee()},De=()=>{C||le()};function H(S){var g,T;if(S.key==="Enter"){if(S.target===((g=u.value)===null||g===void 0?void 0:g.wrapperElRef))return;D({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&((T=u.value)===null||T===void 0||T.deactivate())}else if(S.key==="ArrowUp"){if(!N.value||e.keyboard.ArrowUp===!1)return;S.preventDefault(),D({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&ee()}else if(S.key==="ArrowDown"){if(!O.value||e.keyboard.ArrowDown===!1)return;S.preventDefault(),D({offset:0,doUpdateIfValid:!0,isInputing:!1,fixPrecision:!0})!==!1&&le()}}function X(S){U.value=S,e.updateValueOnInput&&!e.format&&!e.parse&&e.precision===void 0&&D({offset:0,doUpdateIfValid:!0,isInputing:!0,fixPrecision:!1})}ht(x,()=>{P()});const F={focus:()=>{var S;return(S=u.value)===null||S===void 0?void 0:S.focus()},blur:()=>{var S;return(S=u.value)===null||S===void 0?void 0:S.blur()},select:()=>{var S;return(S=u.value)===null||S===void 0?void 0:S.select()}},ne=Lo("InputNumber",o,n);return Object.assign(Object.assign({},F),{rtlEnabled:ne,inputInstRef:u,minusButtonInstRef:f,addButtonInstRef:k,mergedClsPrefix:n,mergedBordered:t,uncontrolledValue:v,mergedValue:x,mergedPlaceholder:_,displayedValueInvalid:E,mergedSize:c,mergedDisabled:d,displayedValue:U,addable:N,minusable:O,mergedStatus:a,handleFocus:ae,handleBlur:we,handleClear:ce,handleMouseDown:ge,handleAddClick:at,handleMinusClick:De,handleAddMousedown:lt,handleMinusMousedown:Re,handleKeyDown:H,handleUpdateDisplayedValue:X,mergedTheme:r,inputThemeOverrides:{paddingSmall:"0 8px 0 10px",paddingMedium:"0 8px 0 12px",paddingLarge:"0 8px 0 14px"},buttonThemeOverrides:j(()=>{const{self:{iconColorDisabled:S}}=r.value,[g,T,q,J]=Ae(S);return{textColorTextDisabled:`rgb(${g}, ${T}, ${q})`,opacityDisabled:`${J}`}})})},render(){const{mergedClsPrefix:e,$slots:t}=this,n=()=>i(_n,{text:!0,disabled:!this.minusable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleMinusClick,onMousedown:this.handleMinusMousedown,ref:"minusButtonInstRef"},{icon:()=>sn(t["minus-icon"],()=>[i(pe,{clsPrefix:e},{default:()=>i(fr,null)})])}),o=()=>i(_n,{text:!0,disabled:!this.addable||this.mergedDisabled||this.readonly,focusable:!1,theme:this.mergedTheme.peers.Button,themeOverrides:this.mergedTheme.peerOverrides.Button,builtinThemeOverrides:this.buttonThemeOverrides,onClick:this.handleAddClick,onMousedown:this.handleAddMousedown,ref:"addButtonInstRef"},{icon:()=>sn(t["add-icon"],()=>[i(pe,{clsPrefix:e},{default:()=>i(Jn,null)})])});return i("div",{class:[`${e}-input-number`,this.rtlEnabled&&`${e}-input-number--rtl`]},i(xn,{ref:"inputInstRef",autofocus:this.autofocus,status:this.mergedStatus,bordered:this.mergedBordered,loading:this.loading,value:this.displayedValue,onUpdateValue:this.handleUpdateDisplayedValue,theme:this.mergedTheme.peers.Input,themeOverrides:this.mergedTheme.peerOverrides.Input,builtinThemeOverrides:this.inputThemeOverrides,size:this.mergedSize,placeholder:this.mergedPlaceholder,disabled:this.mergedDisabled,readonly:this.readonly,textDecoration:this.displayedValueInvalid?"line-through":void 0,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeydown:this.handleKeyDown,onMousedown:this.handleMouseDown,onClear:this.handleClear,clearable:this.clearable,inputProps:this.inputProps,internalLoadingBeforeSuffix:!0},{prefix:()=>{var r;return this.showButton&&this.buttonPlacement==="both"?[n(),Fe(t.prefix,l=>l?i("span",{class:`${e}-input-number-prefix`},l):null)]:(r=t.prefix)===null||r===void 0?void 0:r.call(t)},suffix:()=>{var r;return this.showButton?[Fe(t.suffix,l=>l?i("span",{class:`${e}-input-number-suffix`},l):null),this.buttonPlacement==="right"?n():null,o()]:(r=t.suffix)===null||r===void 0?void 0:r.call(t)}}))}}),yi=ie([A("progress",{display:"inline-block"},[A("progress-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 `),oe("line",`
 width: 100%;
 display: block;
 `,[A("progress-content",`
 display: flex;
 align-items: center;
 `,[A("progress-graph",{flex:1})]),A("progress-custom-content",{marginLeft:"14px"}),A("progress-icon",`
 width: 30px;
 padding-left: 14px;
 height: var(--n-icon-size-line);
 line-height: var(--n-icon-size-line);
 font-size: var(--n-icon-size-line);
 `,[oe("as-text",`
 color: var(--n-text-color-line-outer);
 text-align: center;
 width: 40px;
 font-size: var(--n-font-size);
 padding-left: 4px;
 transition: color .3s var(--n-bezier);
 `)])]),oe("circle, dashboard",{width:"120px"},[A("progress-custom-content",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 `),A("progress-text",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: inherit;
 font-size: var(--n-font-size-circle);
 color: var(--n-text-color-circle);
 font-weight: var(--n-font-weight-circle);
 transition: color .3s var(--n-bezier);
 white-space: nowrap;
 `),A("progress-icon",`
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 color: var(--n-icon-color);
 font-size: var(--n-icon-size-circle);
 `)]),oe("multiple-circle",`
 width: 200px;
 color: inherit;
 `,[A("progress-text",`
 font-weight: var(--n-font-weight-circle);
 color: var(--n-text-color-circle);
 position: absolute;
 left: 50%;
 top: 50%;
 transform: translateX(-50%) translateY(-50%);
 display: flex;
 align-items: center;
 justify-content: center;
 transition: color .3s var(--n-bezier);
 `)]),A("progress-content",{position:"relative"}),A("progress-graph",{position:"relative"},[A("progress-graph-circle",[ie("svg",{verticalAlign:"bottom"}),A("progress-graph-circle-fill",`
 stroke: var(--n-fill-color);
 transition:
 opacity .3s var(--n-bezier),
 stroke .3s var(--n-bezier),
 stroke-dasharray .3s var(--n-bezier);
 `,[oe("empty",{opacity:0})]),A("progress-graph-circle-rail",`
 transition: stroke .3s var(--n-bezier);
 overflow: hidden;
 stroke: var(--n-rail-color);
 `)]),A("progress-graph-line",[oe("indicator-inside",[A("progress-graph-line-rail",`
 height: 16px;
 line-height: 16px;
 border-radius: 10px;
 `,[A("progress-graph-line-fill",`
 height: inherit;
 border-radius: 10px;
 `),A("progress-graph-line-indicator",`
 background: #0000;
 white-space: nowrap;
 text-align: right;
 margin-left: 14px;
 margin-right: 14px;
 height: inherit;
 font-size: 12px;
 color: var(--n-text-color-line-inner);
 transition: color .3s var(--n-bezier);
 `)])]),oe("indicator-inside-label",`
 height: 16px;
 display: flex;
 align-items: center;
 `,[A("progress-graph-line-rail",`
 flex: 1;
 transition: background-color .3s var(--n-bezier);
 `),A("progress-graph-line-indicator",`
 background: var(--n-fill-color);
 font-size: 12px;
 transform: translateZ(0);
 display: flex;
 vertical-align: middle;
 height: 16px;
 line-height: 16px;
 padding: 0 10px;
 border-radius: 10px;
 position: absolute;
 white-space: nowrap;
 color: var(--n-text-color-line-inner);
 transition:
 right .2s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `)]),A("progress-graph-line-rail",`
 position: relative;
 overflow: hidden;
 height: var(--n-rail-height);
 border-radius: 5px;
 background-color: var(--n-rail-color);
 transition: background-color .3s var(--n-bezier);
 `,[A("progress-graph-line-fill",`
 background: var(--n-fill-color);
 position: relative;
 border-radius: 5px;
 height: inherit;
 width: 100%;
 max-width: 0%;
 transition:
 background-color .3s var(--n-bezier),
 max-width .2s var(--n-bezier);
 `,[oe("processing",[ie("&::after",`
 content: "";
 background-image: var(--n-line-bg-processing);
 animation: progress-processing-animation 2s var(--n-bezier) infinite;
 `)])])])])])]),ie("@keyframes progress-processing-animation",`
 0% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 100%;
 opacity: 1;
 }
 66% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 100% {
 position: absolute;
 left: 0;
 top: 0;
 bottom: 0;
 right: 0;
 opacity: 0;
 }
 `)]),Ci={success:i(qn,null),error:i(Wn,null),warning:i(Gn,null),info:i(Xn,null)},ki=Z({name:"ProgressLine",props:{clsPrefix:{type:String,required:!0},percentage:{type:Number,default:0},railColor:String,railStyle:[String,Object],fillColor:String,status:{type:String,required:!0},indicatorPlacement:{type:String,required:!0},indicatorTextColor:String,unit:{type:String,default:"%"},processing:{type:Boolean,required:!0},showIndicator:{type:Boolean,required:!0},height:[String,Number],railBorderRadius:[String,Number],fillBorderRadius:[String,Number]},setup(e,{slots:t}){const n=j(()=>st(e.height)),o=j(()=>e.railBorderRadius!==void 0?st(e.railBorderRadius):e.height!==void 0?st(e.height,{c:.5}):""),r=j(()=>e.fillBorderRadius!==void 0?st(e.fillBorderRadius):e.railBorderRadius!==void 0?st(e.railBorderRadius):e.height!==void 0?st(e.height,{c:.5}):"");return()=>{const{indicatorPlacement:l,railColor:s,railStyle:c,percentage:d,unit:a,indicatorTextColor:u,status:f,showIndicator:k,fillColor:v,processing:w,clsPrefix:x}=e;return i("div",{class:`${x}-progress-content`,role:"none"},i("div",{class:`${x}-progress-graph`,"aria-hidden":!0},i("div",{class:[`${x}-progress-graph-line`,{[`${x}-progress-graph-line--indicator-${l}`]:!0}]},i("div",{class:`${x}-progress-graph-line-rail`,style:[{backgroundColor:s,height:n.value,borderRadius:o.value},c]},i("div",{class:[`${x}-progress-graph-line-fill`,w&&`${x}-progress-graph-line-fill--processing`],style:{maxWidth:`${e.percentage}%`,backgroundColor:v,height:n.value,lineHeight:n.value,borderRadius:r.value}},l==="inside"?i("div",{class:`${x}-progress-graph-line-indicator`,style:{color:u}},t.default?t.default():`${d}${a}`):null)))),k&&l==="outside"?i("div",null,t.default?i("div",{class:`${x}-progress-custom-content`,style:{color:u},role:"none"},t.default()):f==="default"?i("div",{role:"none",class:`${x}-progress-icon ${x}-progress-icon--as-text`,style:{color:u}},d,a):i("div",{class:`${x}-progress-icon`,"aria-hidden":!0},i(pe,{clsPrefix:x},{default:()=>Ci[f]}))):null)}}}),Si={success:i(qn,null),error:i(Wn,null),warning:i(Gn,null),info:i(Xn,null)},Ri=Z({name:"ProgressCircle",props:{clsPrefix:{type:String,required:!0},status:{type:String,required:!0},strokeWidth:{type:Number,required:!0},fillColor:String,railColor:String,railStyle:[String,Object],percentage:{type:Number,default:0},offsetDegree:{type:Number,default:0},showIndicator:{type:Boolean,required:!0},indicatorTextColor:String,unit:String,viewBoxWidth:{type:Number,required:!0},gapDegree:{type:Number,required:!0},gapOffsetDegree:{type:Number,default:0}},setup(e,{slots:t}){function n(o,r,l){const{gapDegree:s,viewBoxWidth:c,strokeWidth:d}=e,a=50,u=0,f=a,k=0,v=2*a,w=50+d/2,x=`M ${w},${w} m ${u},${f}
      a ${a},${a} 0 1 1 ${k},${-v}
      a ${a},${a} 0 1 1 ${-k},${v}`,U=Math.PI*2*a,R={stroke:l,strokeDasharray:`${o/100*(U-s)}px ${c*8}px`,strokeDashoffset:`-${s/2}px`,transformOrigin:r?"center":void 0,transform:r?`rotate(${r}deg)`:void 0};return{pathString:x,pathStyle:R}}return()=>{const{fillColor:o,railColor:r,strokeWidth:l,offsetDegree:s,status:c,percentage:d,showIndicator:a,indicatorTextColor:u,unit:f,gapOffsetDegree:k,clsPrefix:v}=e,{pathString:w,pathStyle:x}=n(100,0,r),{pathString:U,pathStyle:R}=n(d,s,o),y=100+l;return i("div",{class:`${v}-progress-content`,role:"none"},i("div",{class:`${v}-progress-graph`,"aria-hidden":!0},i("div",{class:`${v}-progress-graph-circle`,style:{transform:k?`rotate(${k}deg)`:void 0}},i("svg",{viewBox:`0 0 ${y} ${y}`},i("g",null,i("path",{class:`${v}-progress-graph-circle-rail`,d:w,"stroke-width":l,"stroke-linecap":"round",fill:"none",style:x})),i("g",null,i("path",{class:[`${v}-progress-graph-circle-fill`,d===0&&`${v}-progress-graph-circle-fill--empty`],d:U,"stroke-width":l,"stroke-linecap":"round",fill:"none",style:R}))))),a?i("div",null,t.default?i("div",{class:`${v}-progress-custom-content`,role:"none"},t.default()):c!=="default"?i("div",{class:`${v}-progress-icon`,"aria-hidden":!0},i(pe,{clsPrefix:v},{default:()=>Si[c]})):i("div",{class:`${v}-progress-text`,style:{color:u},role:"none"},i("span",{class:`${v}-progress-text__percentage`},d),i("span",{class:`${v}-progress-text__unit`},f))):null)}}});function An(e,t,n=100){return`m ${n/2} ${n/2-e} a ${e} ${e} 0 1 1 0 ${2*e} a ${e} ${e} 0 1 1 0 -${2*e}`}const _i=Z({name:"ProgressMultipleCircle",props:{clsPrefix:{type:String,required:!0},viewBoxWidth:{type:Number,required:!0},percentage:{type:Array,default:[0]},strokeWidth:{type:Number,required:!0},circleGap:{type:Number,required:!0},showIndicator:{type:Boolean,required:!0},fillColor:{type:Array,default:()=>[]},railColor:{type:Array,default:()=>[]},railStyle:{type:Array,default:()=>[]}},setup(e,{slots:t}){const n=j(()=>e.percentage.map((r,l)=>`${Math.PI*r/100*(e.viewBoxWidth/2-e.strokeWidth/2*(1+2*l)-e.circleGap*l)*2}, ${e.viewBoxWidth*8}`));return()=>{const{viewBoxWidth:o,strokeWidth:r,circleGap:l,showIndicator:s,fillColor:c,railColor:d,railStyle:a,percentage:u,clsPrefix:f}=e;return i("div",{class:`${f}-progress-content`,role:"none"},i("div",{class:`${f}-progress-graph`,"aria-hidden":!0},i("div",{class:`${f}-progress-graph-circle`},i("svg",{viewBox:`0 0 ${o} ${o}`},u.map((k,v)=>i("g",{key:v},i("path",{class:`${f}-progress-graph-circle-rail`,d:An(o/2-r/2*(1+2*v)-l*v,r,o),"stroke-width":r,"stroke-linecap":"round",fill:"none",style:[{strokeDashoffset:0,stroke:d[v]},a[v]]}),i("path",{class:[`${f}-progress-graph-circle-fill`,k===0&&`${f}-progress-graph-circle-fill--empty`],d:An(o/2-r/2*(1+2*v)-l*v,r,o),"stroke-width":r,"stroke-linecap":"round",fill:"none",style:{strokeDasharray:n.value[v],strokeDashoffset:0,stroke:c[v]}})))))),s&&t.default?i("div",null,i("div",{class:`${f}-progress-text`},t.default())):null)}}}),zi=Object.assign(Object.assign({},$e.props),{processing:Boolean,type:{type:String,default:"line"},gapDegree:Number,gapOffsetDegree:Number,status:{type:String,default:"default"},railColor:[String,Array],railStyle:[String,Array],color:[String,Array],viewBoxWidth:{type:Number,default:100},strokeWidth:{type:Number,default:7},percentage:[Number,Array],unit:{type:String,default:"%"},showIndicator:{type:Boolean,default:!0},indicatorPosition:{type:String,default:"outside"},indicatorPlacement:{type:String,default:"outside"},indicatorTextColor:String,circleGap:{type:Number,default:1},height:Number,borderRadius:[String,Number],fillBorderRadius:[String,Number],offsetDegree:Number}),$i=Z({name:"Progress",props:zi,setup(e){const t=j(()=>e.indicatorPlacement||e.indicatorPosition),n=j(()=>{if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),{mergedClsPrefixRef:o,inlineThemeDisabled:r}=Ge(e),l=$e("Progress","-progress",yi,Uo,e,o),s=j(()=>{const{status:d}=e,{common:{cubicBezierEaseInOut:a},self:{fontSize:u,fontSizeCircle:f,railColor:k,railHeight:v,iconSizeCircle:w,iconSizeLine:x,textColorCircle:U,textColorLineInner:R,textColorLineOuter:y,lineBgProcessing:_,fontWeightCircle:M,[Be("iconColor",d)]:z,[Be("fillColor",d)]:L}}=l.value;return{"--n-bezier":a,"--n-fill-color":L,"--n-font-size":u,"--n-font-size-circle":f,"--n-font-weight-circle":M,"--n-icon-color":z,"--n-icon-size-circle":w,"--n-icon-size-line":x,"--n-line-bg-processing":_,"--n-rail-color":k,"--n-rail-height":v,"--n-text-color-circle":U,"--n-text-color-line-inner":R,"--n-text-color-line-outer":y}}),c=r?At("progress",j(()=>e.status[0]),s,e):void 0;return{mergedClsPrefix:o,mergedIndicatorPlacement:t,gapDeg:n,cssVars:r?void 0:s,themeClass:c==null?void 0:c.themeClass,onRender:c==null?void 0:c.onRender}},render(){const{type:e,cssVars:t,indicatorTextColor:n,showIndicator:o,status:r,railColor:l,railStyle:s,color:c,percentage:d,viewBoxWidth:a,strokeWidth:u,mergedIndicatorPlacement:f,unit:k,borderRadius:v,fillBorderRadius:w,height:x,processing:U,circleGap:R,mergedClsPrefix:y,gapDeg:_,gapOffsetDegree:M,themeClass:z,$slots:L,onRender:V}=this;return V==null||V(),i("div",{class:[z,`${y}-progress`,`${y}-progress--${e}`,`${y}-progress--${r}`],style:t,"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":d,role:e==="circle"||e==="line"||e==="dashboard"?"progressbar":"none"},e==="circle"||e==="dashboard"?i(Ri,{clsPrefix:y,status:r,showIndicator:o,indicatorTextColor:n,railColor:l,fillColor:c,railStyle:s,offsetDegree:this.offsetDegree,percentage:d,viewBoxWidth:a,strokeWidth:u,gapDegree:_===void 0?e==="dashboard"?75:0:_,gapOffsetDegree:M,unit:k},L):e==="line"?i(ki,{clsPrefix:y,status:r,showIndicator:o,indicatorTextColor:n,railColor:l,fillColor:c,railStyle:s,percentage:d,processing:U,indicatorPlacement:f,unit:k,fillBorderRadius:w,railBorderRadius:v,height:x},L):e==="multiple-circle"?i(_i,{clsPrefix:y,strokeWidth:u,railColor:l,fillColor:c,railStyle:s,viewBoxWidth:a,percentage:d,showIndicator:o,circleGap:R},L):null)}}),Ii=A("switch",`
 height: var(--n-height);
 min-width: var(--n-width);
 vertical-align: middle;
 user-select: none;
 -webkit-user-select: none;
 display: inline-flex;
 outline: none;
 justify-content: center;
 align-items: center;
`,[Y("children-placeholder",`
 height: var(--n-rail-height);
 display: flex;
 flex-direction: column;
 overflow: hidden;
 pointer-events: none;
 visibility: hidden;
 `),Y("rail-placeholder",`
 display: flex;
 flex-wrap: none;
 `),Y("button-placeholder",`
 width: calc(1.75 * var(--n-rail-height));
 height: var(--n-rail-height);
 `),A("base-loading",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 font-size: calc(var(--n-button-width) - 4px);
 color: var(--n-loading-color);
 transition: color .3s var(--n-bezier);
 `,[un({left:"50%",top:"50%",originalTransform:"translateX(-50%) translateY(-50%)"})]),Y("checked, unchecked",`
 transition: color .3s var(--n-bezier);
 color: var(--n-text-color);
 box-sizing: border-box;
 position: absolute;
 white-space: nowrap;
 top: 0;
 bottom: 0;
 display: flex;
 align-items: center;
 line-height: 1;
 `),Y("checked",`
 right: 0;
 padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),Y("unchecked",`
 left: 0;
 justify-content: flex-end;
 padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));
 `),ie("&:focus",[Y("rail",`
 box-shadow: var(--n-box-shadow-focus);
 `)]),oe("round",[Y("rail","border-radius: calc(var(--n-rail-height) / 2);",[Y("button","border-radius: calc(var(--n-button-height) / 2);")])]),ln("disabled",[ln("icon",[oe("rubber-band",[oe("pressed",[Y("rail",[Y("button","max-width: var(--n-button-width-pressed);")])]),Y("rail",[ie("&:active",[Y("button","max-width: var(--n-button-width-pressed);")])]),oe("active",[oe("pressed",[Y("rail",[Y("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])]),Y("rail",[ie("&:active",[Y("button","left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));")])])])])])]),oe("active",[Y("rail",[Y("button","left: calc(100% - var(--n-button-width) - var(--n-offset))")])]),Y("rail",`
 overflow: hidden;
 height: var(--n-rail-height);
 min-width: var(--n-rail-width);
 border-radius: var(--n-rail-border-radius);
 cursor: pointer;
 position: relative;
 transition:
 opacity .3s var(--n-bezier),
 background .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 background-color: var(--n-rail-color);
 `,[Y("button-icon",`
 color: var(--n-icon-color);
 transition: color .3s var(--n-bezier);
 font-size: calc(var(--n-button-height) - 4px);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 line-height: 1;
 `,[un()]),Y("button",`
 align-items: center; 
 top: var(--n-offset);
 left: var(--n-offset);
 height: var(--n-button-height);
 width: var(--n-button-width-pressed);
 max-width: var(--n-button-width);
 border-radius: var(--n-button-border-radius);
 background-color: var(--n-button-color);
 box-shadow: var(--n-button-box-shadow);
 box-sizing: border-box;
 cursor: inherit;
 content: "";
 position: absolute;
 transition:
 background-color .3s var(--n-bezier),
 left .3s var(--n-bezier),
 opacity .3s var(--n-bezier),
 max-width .3s var(--n-bezier),
 box-shadow .3s var(--n-bezier);
 `)]),oe("active",[Y("rail","background-color: var(--n-rail-color-active);")]),oe("loading",[Y("rail",`
 cursor: wait;
 `)]),oe("disabled",[Y("rail",`
 cursor: not-allowed;
 opacity: .5;
 `)])]),Pi=Object.assign(Object.assign({},$e.props),{size:{type:String,default:"medium"},value:{type:[String,Number,Boolean],default:void 0},loading:Boolean,defaultValue:{type:[String,Number,Boolean],default:!1},disabled:{type:Boolean,default:void 0},round:{type:Boolean,default:!0},"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},railStyle:Function,rubberBand:{type:Boolean,default:!0},onChange:[Function,Array]});let xt;const Ca=Z({name:"Switch",props:Pi,setup(e){xt===void 0&&(typeof CSS<"u"?typeof CSS.supports<"u"?xt=CSS.supports("width","max(1px)"):xt=!1:xt=!0);const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Ge(e),o=$e("Switch","-switch",Ii,ni,e,t),r=Ft(e),{mergedSizeRef:l,mergedDisabledRef:s}=r,c=$(e.defaultValue),d=de(e,"value"),a=St(d,c),u=j(()=>a.value===e.checkedValue),f=$(!1),k=$(!1),v=j(()=>{const{railStyle:D}=e;if(D)return D({focused:k.value,checked:u.value})});function w(D){const{"onUpdate:value":P,onChange:E,onUpdateValue:O}=e,{nTriggerFormInput:N,nTriggerFormChange:G}=r;P&&_e(P,D),O&&_e(O,D),E&&_e(E,D),c.value=D,N(),G()}function x(){const{nTriggerFormFocus:D}=r;D()}function U(){const{nTriggerFormBlur:D}=r;D()}function R(){e.loading||s.value||(a.value!==e.checkedValue?w(e.checkedValue):w(e.uncheckedValue))}function y(){k.value=!0,x()}function _(){k.value=!1,U(),f.value=!1}function M(D){e.loading||s.value||D.key===" "&&(a.value!==e.checkedValue?w(e.checkedValue):w(e.uncheckedValue),f.value=!1)}function z(D){e.loading||s.value||D.key===" "&&(D.preventDefault(),f.value=!0)}const L=j(()=>{const{value:D}=l,{self:{opacityDisabled:P,railColor:E,railColorActive:O,buttonBoxShadow:N,buttonColor:G,boxShadowFocus:Q,loadingColor:K,textColor:ee,iconColor:le,[Be("buttonHeight",D)]:ae,[Be("buttonWidth",D)]:we,[Be("buttonWidthPressed",D)]:xe,[Be("railHeight",D)]:ce,[Be("railWidth",D)]:ge,[Be("railBorderRadius",D)]:C,[Be("buttonBorderRadius",D)]:b},common:{cubicBezierEaseInOut:I}}=o.value;let B,te,Re;return xt?(B=`calc((${ce} - ${ae}) / 2)`,te=`max(${ce}, ${ae})`,Re=`max(${ge}, calc(${ge} + ${ae} - ${ce}))`):(B=Ee((je(ce)-je(ae))/2),te=Ee(Math.max(je(ce),je(ae))),Re=je(ce)>je(ae)?ge:Ee(je(ge)+je(ae)-je(ce))),{"--n-bezier":I,"--n-button-border-radius":b,"--n-button-box-shadow":N,"--n-button-color":G,"--n-button-width":we,"--n-button-width-pressed":xe,"--n-button-height":ae,"--n-height":te,"--n-offset":B,"--n-opacity-disabled":P,"--n-rail-border-radius":C,"--n-rail-color":E,"--n-rail-color-active":O,"--n-rail-height":ce,"--n-rail-width":ge,"--n-width":Re,"--n-box-shadow-focus":Q,"--n-loading-color":K,"--n-text-color":ee,"--n-icon-color":le}}),V=n?At("switch",j(()=>l.value[0]),L,e):void 0;return{handleClick:R,handleBlur:_,handleFocus:y,handleKeyup:M,handleKeydown:z,mergedRailStyle:v,pressed:f,mergedClsPrefix:t,mergedValue:a,checked:u,mergedDisabled:s,cssVars:n?void 0:L,themeClass:V==null?void 0:V.themeClass,onRender:V==null?void 0:V.onRender}},render(){const{mergedClsPrefix:e,mergedDisabled:t,checked:n,mergedRailStyle:o,onRender:r,$slots:l}=this;r==null||r();const{checked:s,unchecked:c,icon:d,"checked-icon":a,"unchecked-icon":u}=l,f=!(Wt(d)&&Wt(a)&&Wt(u));return i("div",{role:"switch","aria-checked":n,class:[`${e}-switch`,this.themeClass,f&&`${e}-switch--icon`,n&&`${e}-switch--active`,t&&`${e}-switch--disabled`,this.round&&`${e}-switch--round`,this.loading&&`${e}-switch--loading`,this.pressed&&`${e}-switch--pressed`,this.rubberBand&&`${e}-switch--rubber-band`],tabindex:this.mergedDisabled?void 0:0,style:this.cssVars,onClick:this.handleClick,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyup:this.handleKeyup,onKeydown:this.handleKeydown},i("div",{class:`${e}-switch__rail`,"aria-hidden":"true",style:o},Fe(s,k=>Fe(c,v=>k||v?i("div",{"aria-hidden":!0,class:`${e}-switch__children-placeholder`},i("div",{class:`${e}-switch__rail-placeholder`},i("div",{class:`${e}-switch__button-placeholder`}),k),i("div",{class:`${e}-switch__rail-placeholder`},i("div",{class:`${e}-switch__button-placeholder`}),v)):null)),i("div",{class:`${e}-switch__button`},Fe(d,k=>Fe(a,v=>Fe(u,w=>i(Yn,null,{default:()=>this.loading?i(Oo,{key:"loading",clsPrefix:e,strokeWidth:20}):this.checked&&(v||k)?i("div",{class:`${e}-switch__button-icon`,key:v?"checked-icon":"icon"},v||k):!this.checked&&(w||k)?i("div",{class:`${e}-switch__button-icon`,key:w?"unchecked-icon":"icon"},w||k):null})))),Fe(s,k=>k&&i("div",{key:"checked",class:`${e}-switch__checked`},k)),Fe(c,k=>k&&i("div",{key:"unchecked",class:`${e}-switch__unchecked`},k)))))}}),gt=Dt("n-upload"),so="__UPLOAD_DRAGGER__",Bi=Z({name:"UploadDragger",[so]:!0,setup(e,{slots:t}){const n=He(gt,null);return n||Et("upload-dragger","`n-upload-dragger` must be placed inside `n-upload`."),()=>{const{mergedClsPrefixRef:{value:o},mergedDisabledRef:{value:r},maxReachedRef:{value:l}}=n;return i("div",{class:[`${o}-upload-dragger`,(r||l)&&`${o}-upload-dragger--disabled`]},t)}}});var pn=function(e,t,n,o){function r(l){return l instanceof n?l:new n(function(s){s(l)})}return new(n||(n=Promise))(function(l,s){function c(u){try{a(o.next(u))}catch(f){s(f)}}function d(u){try{a(o.throw(u))}catch(f){s(f)}}function a(u){u.done?l(u.value):r(u.value).then(c,d)}a((o=o.apply(e,t||[])).next())})};const uo=e=>e.includes("image/"),Ln=(e="")=>{const t=e.split("/"),o=t[t.length-1].split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(o)||[""])[0]},Un=/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i,co=e=>{if(e.type)return uo(e.type);const t=Ln(e.name||"");if(Un.test(t))return!0;const n=e.thumbnailUrl||e.url||"",o=Ln(n);return!!(/^data:image\//.test(n)||Un.test(o))};function Mi(e){return pn(this,void 0,void 0,function*(){return yield new Promise(t=>{if(!e.type||!uo(e.type)){t("");return}t(window.URL.createObjectURL(e))})})}const Di=vn&&window.FileReader&&window.File;function Ti(e){return e.isDirectory}function Ai(e){return e.isFile}function Li(e,t){return pn(this,void 0,void 0,function*(){const n=[];function o(r){return pn(this,void 0,void 0,function*(){for(const l of r)if(l){if(t&&Ti(l)){const s=l.createReader();try{const c=yield new Promise((d,a)=>{s.readEntries(d,a)});yield o(c)}catch{}}else if(Ai(l))try{const s=yield new Promise((c,d)=>{l.file(c,d)});n.push({file:s,entry:l,source:"dnd"})}catch{}}})}return yield o(e),n})}function Mt(e){const{id:t,name:n,percentage:o,status:r,url:l,file:s,thumbnailUrl:c,type:d,fullPath:a,batchId:u}=e;return{id:t,name:n,percentage:o??null,status:r,url:l??null,file:s??null,thumbnailUrl:c??null,type:d??null,fullPath:a??null,batchId:u??null}}function Ui(e,t,n){return e=e.toLowerCase(),t=t.toLocaleLowerCase(),n=n.toLocaleLowerCase(),n.split(",").map(r=>r.trim()).filter(Boolean).some(r=>{if(r.startsWith(".")){if(e.endsWith(r))return!0}else if(r.includes("/")){const[l,s]=t.split("/"),[c,d]=r.split("/");if((c==="*"||l&&c&&c===l)&&(d==="*"||s&&d&&d===s))return!0}else return!0;return!1})}const ho=Z({name:"UploadTrigger",props:{abstract:Boolean},setup(e,{slots:t}){const n=He(gt,null);n||Et("upload-trigger","`n-upload-trigger` must be placed inside `n-upload`.");const{mergedClsPrefixRef:o,mergedDisabledRef:r,maxReachedRef:l,listTypeRef:s,dragOverRef:c,openOpenFileDialog:d,draggerInsideRef:a,handleFileAddition:u,mergedDirectoryDndRef:f,triggerClassRef:k,triggerStyleRef:v}=n,w=j(()=>s.value==="image-card");function x(){r.value||l.value||d()}function U(M){M.preventDefault(),c.value=!0}function R(M){M.preventDefault(),c.value=!0}function y(M){M.preventDefault(),c.value=!1}function _(M){var z;if(M.preventDefault(),!a.value||r.value||l.value){c.value=!1;return}const L=(z=M.dataTransfer)===null||z===void 0?void 0:z.items;L!=null&&L.length?Li(Array.from(L).map(V=>V.webkitGetAsEntry()),f.value).then(V=>{u(V)}).finally(()=>{c.value=!1}):c.value=!1}return()=>{var M;const{value:z}=o;return e.abstract?(M=t.default)===null||M===void 0?void 0:M.call(t,{handleClick:x,handleDrop:_,handleDragOver:U,handleDragEnter:R,handleDragLeave:y}):i("div",{class:[`${z}-upload-trigger`,(r.value||l.value)&&`${z}-upload-trigger--disabled`,w.value&&`${z}-upload-trigger--image-card`,k.value],style:v.value,onClick:x,onDrop:_,onDragover:U,onDragenter:R,onDragleave:y},w.value?i(Bi,null,{default:()=>sn(t.default,()=>[i(pe,{clsPrefix:z},{default:()=>i(Jn,null)})])}):t)}}}),Oi=Z({name:"UploadProgress",props:{show:Boolean,percentage:{type:Number,required:!0},status:{type:String,required:!0}},setup(){return{mergedTheme:He(gt).mergedThemeRef}},render(){return i(Zn,null,{default:()=>this.show?i($i,{type:"line",showIndicator:!1,percentage:this.percentage,status:this.status,height:2,theme:this.mergedTheme.peers.Progress,themeOverrides:this.mergedTheme.peerOverrides.Progress}):null})}}),Ni=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},i("g",{fill:"none"},i("path",{d:"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z",fill:"currentColor"}))),Vi=i("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"},i("g",{fill:"none"},i("path",{d:"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z",fill:"currentColor"})));var Hi=function(e,t,n,o){function r(l){return l instanceof n?l:new n(function(s){s(l)})}return new(n||(n=Promise))(function(l,s){function c(u){try{a(o.next(u))}catch(f){s(f)}}function d(u){try{a(o.throw(u))}catch(f){s(f)}}function a(u){u.done?l(u.value):r(u.value).then(c,d)}a((o=o.apply(e,t||[])).next())})};const Vt={paddingMedium:"0 3px",heightMedium:"24px",iconSizeMedium:"18px"},ji=Z({name:"UploadFile",props:{clsPrefix:{type:String,required:!0},file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const t=He(gt),n=$(null),o=$(""),r=j(()=>{const{file:z}=e;return z.status==="finished"?"success":z.status==="error"?"error":"info"}),l=j(()=>{const{file:z}=e;if(z.status==="error")return"error"}),s=j(()=>{const{file:z}=e;return z.status==="uploading"}),c=j(()=>{if(!t.showCancelButtonRef.value)return!1;const{file:z}=e;return["uploading","pending","error"].includes(z.status)}),d=j(()=>{if(!t.showRemoveButtonRef.value)return!1;const{file:z}=e;return["finished"].includes(z.status)}),a=j(()=>{if(!t.showDownloadButtonRef.value)return!1;const{file:z}=e;return["finished"].includes(z.status)}),u=j(()=>{if(!t.showRetryButtonRef.value)return!1;const{file:z}=e;return["error"].includes(z.status)}),f=ze(()=>o.value||e.file.thumbnailUrl||e.file.url),k=j(()=>{if(!t.showPreviewButtonRef.value)return!1;const{file:{status:z},listType:L}=e;return["finished"].includes(z)&&f.value&&L==="image-card"});function v(){t.submit(e.file.id)}function w(z){z.preventDefault();const{file:L}=e;["finished","pending","error"].includes(L.status)?U(L):["uploading"].includes(L.status)?y(L):Nn("upload","The button clicked type is unknown.")}function x(z){z.preventDefault(),R(e.file)}function U(z){const{xhrMap:L,doChange:V,onRemoveRef:{value:D},mergedFileListRef:{value:P}}=t;Promise.resolve(D?D({file:Object.assign({},z),fileList:P}):!0).then(E=>{if(E===!1)return;const O=Object.assign({},z,{status:"removed"});L.delete(z.id),V(O,void 0,{remove:!0})})}function R(z){const{onDownloadRef:{value:L}}=t;Promise.resolve(L?L(Object.assign({},z)):!0).then(V=>{V!==!1&&Qn(z.url,z.name)})}function y(z){const{xhrMap:L}=t,V=L.get(z.id);V==null||V.abort(),U(Object.assign({},z))}function _(){const{onPreviewRef:{value:z}}=t;if(z)z(e.file);else if(e.listType==="image-card"){const{value:L}=n;if(!L)return;L.click()}}const M=()=>Hi(this,void 0,void 0,function*(){const{listType:z}=e;z!=="image"&&z!=="image-card"||t.shouldUseThumbnailUrlRef.value(e.file)&&(o.value=yield t.getFileThumbnailUrlResolver(e.file))});return kt(()=>{M()}),{mergedTheme:t.mergedThemeRef,progressStatus:r,buttonType:l,showProgress:s,disabled:t.mergedDisabledRef,showCancelButton:c,showRemoveButton:d,showDownloadButton:a,showRetryButton:u,showPreviewButton:k,mergedThumbnailUrl:f,shouldUseThumbnailUrl:t.shouldUseThumbnailUrlRef,renderIcon:t.renderIconRef,imageRef:n,handleRemoveOrCancelClick:w,handleDownloadClick:x,handleRetryClick:v,handlePreviewClick:_}},render(){const{clsPrefix:e,mergedTheme:t,listType:n,file:o,renderIcon:r}=this;let l;const s=n==="image";s||n==="image-card"?l=!this.shouldUseThumbnailUrl(o)||!this.mergedThumbnailUrl?i("span",{class:`${e}-upload-file-info__thumbnail`},r?r(o):co(o)?i(pe,{clsPrefix:e},{default:()=>Ni}):i(pe,{clsPrefix:e},{default:()=>Vi})):i("a",{rel:"noopener noreferer",target:"_blank",href:o.url||void 0,class:`${e}-upload-file-info__thumbnail`,onClick:this.handlePreviewClick},n==="image-card"?i(vi,{src:this.mergedThumbnailUrl||void 0,previewSrc:o.url||void 0,alt:o.name,ref:"imageRef"}):i("img",{src:this.mergedThumbnailUrl||void 0,alt:o.name})):l=i("span",{class:`${e}-upload-file-info__thumbnail`},r?r(o):i(pe,{clsPrefix:e},{default:()=>i(dr,null)}));const d=i(Oi,{show:this.showProgress,percentage:o.percentage||0,status:this.progressStatus}),a=n==="text"||n==="image";return i("div",{class:[`${e}-upload-file`,`${e}-upload-file--${this.progressStatus}-status`,o.url&&o.status!=="error"&&n!=="image-card"&&`${e}-upload-file--with-url`,`${e}-upload-file--${n}-type`]},i("div",{class:`${e}-upload-file-info`},l,i("div",{class:`${e}-upload-file-info__name`},a&&(o.url&&o.status!=="error"?i("a",{rel:"noopener noreferer",target:"_blank",href:o.url||void 0,onClick:this.handlePreviewClick},o.name):i("span",{onClick:this.handlePreviewClick},o.name)),s&&d),i("div",{class:[`${e}-upload-file-info__action`,`${e}-upload-file-info__action--${n}-type`]},this.showPreviewButton?i(Ue,{key:"preview",quaternary:!0,type:this.buttonType,onClick:this.handlePreviewClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Vt},{icon:()=>i(pe,{clsPrefix:e},{default:()=>i(Ko,null)})}):null,(this.showRemoveButton||this.showCancelButton)&&!this.disabled&&i(Ue,{key:"cancelOrTrash",theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,quaternary:!0,builtinThemeOverrides:Vt,type:this.buttonType,onClick:this.handleRemoveOrCancelClick},{icon:()=>i(Yn,null,{default:()=>this.showRemoveButton?i(pe,{clsPrefix:e,key:"trash"},{default:()=>i(cr,null)}):i(pe,{clsPrefix:e,key:"cancel"},{default:()=>i(pr,null)})})}),this.showRetryButton&&!this.disabled&&i(Ue,{key:"retry",quaternary:!0,type:this.buttonType,onClick:this.handleRetryClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Vt},{icon:()=>i(pe,{clsPrefix:e},{default:()=>i(gr,null)})}),this.showDownloadButton?i(Ue,{key:"download",quaternary:!0,type:this.buttonType,onClick:this.handleDownloadClick,theme:t.peers.Button,themeOverrides:t.peerOverrides.Button,builtinThemeOverrides:Vt},{icon:()=>i(pe,{clsPrefix:e},{default:()=>i(hr,null)})}):null)),!s&&d)}}),Fi=Z({name:"UploadFileList",setup(e,{slots:t}){const n=He(gt,null);n||Et("upload-file-list","`n-upload-file-list` must be placed inside `n-upload`.");const{abstractRef:o,mergedClsPrefixRef:r,listTypeRef:l,mergedFileListRef:s,fileListClassRef:c,fileListStyleRef:d,cssVarsRef:a,themeClassRef:u,maxReachedRef:f,showTriggerRef:k,imageGroupPropsRef:v}=n,w=j(()=>l.value==="image-card"),x=()=>s.value.map(R=>i(ji,{clsPrefix:r.value,key:R.id,file:R,listType:l.value})),U=()=>w.value?i(pi,Object.assign({},v.value),{default:x}):i(Zn,{group:!0},{default:x});return()=>{const{value:R}=r,{value:y}=o;return i("div",{class:[`${R}-upload-file-list`,w.value&&`${R}-upload-file-list--grid`,y?u==null?void 0:u.value:void 0,c.value],style:[y&&a?a.value:"",d.value]},U(),k.value&&!f.value&&w.value&&i(ho,null,t))}}}),Ei=ie([A("upload","width: 100%;",[oe("dragger-inside",[A("upload-trigger",`
 display: block;
 `)]),oe("drag-over",[A("upload-dragger",`
 border: var(--n-dragger-border-hover);
 `)])]),A("upload-dragger",`
 cursor: pointer;
 box-sizing: border-box;
 width: 100%;
 text-align: center;
 border-radius: var(--n-border-radius);
 padding: 24px;
 opacity: 1;
 transition:
 opacity .3s var(--n-bezier),
 border-color .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 background-color: var(--n-dragger-color);
 border: var(--n-dragger-border);
 `,[ie("&:hover",`
 border: var(--n-dragger-border-hover);
 `),oe("disabled",`
 cursor: not-allowed;
 `)]),A("upload-trigger",`
 display: inline-block;
 box-sizing: border-box;
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ie("+",[A("upload-file-list","margin-top: 8px;")]),oe("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `),oe("image-card",`
 width: 96px;
 height: 96px;
 `,[A("base-icon",`
 font-size: 24px;
 `),A("upload-dragger",`
 padding: 0;
 height: 100%;
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `)])]),A("upload-file-list",`
 line-height: var(--n-line-height);
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 `,[ie("a, img","outline: none;"),oe("disabled",`
 opacity: var(--n-item-disabled-opacity);
 cursor: not-allowed;
 `,[A("upload-file","cursor: not-allowed;")]),oe("grid",`
 display: grid;
 grid-template-columns: repeat(auto-fill, 96px);
 grid-gap: 8px;
 margin-top: 0;
 `),A("upload-file",`
 display: block;
 box-sizing: border-box;
 cursor: default;
 padding: 0px 12px 0 6px;
 transition: background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 `,[zn(),A("progress",[zn({foldPadding:!0})]),ie("&:hover",`
 background-color: var(--n-item-color-hover);
 `,[A("upload-file-info",[Y("action",`
 opacity: 1;
 `)])]),oe("image-type",`
 border-radius: var(--n-border-radius);
 text-decoration: underline;
 text-decoration-color: #0000;
 `,[A("upload-file-info",`
 padding-top: 0px;
 padding-bottom: 0px;
 width: 100%;
 height: 100%;
 display: flex;
 justify-content: space-between;
 align-items: center;
 padding: 6px 0;
 `,[A("progress",`
 padding: 2px 0;
 margin-bottom: 0;
 `),Y("name",`
 padding: 0 8px;
 `),Y("thumbnail",`
 width: 32px;
 height: 32px;
 font-size: 28px;
 display: flex;
 justify-content: center;
 align-items: center;
 `,[ie("img",`
 width: 100%;
 `)])])]),oe("text-type",[A("progress",`
 box-sizing: border-box;
 padding-bottom: 6px;
 margin-bottom: 6px;
 `)]),oe("image-card-type",`
 position: relative;
 width: 96px;
 height: 96px;
 border: var(--n-item-border-image-card);
 border-radius: var(--n-border-radius);
 padding: 0;
 display: flex;
 align-items: center;
 justify-content: center;
 transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);
 border-radius: var(--n-border-radius);
 overflow: hidden;
 `,[A("progress",`
 position: absolute;
 left: 8px;
 bottom: 8px;
 right: 8px;
 width: unset;
 `),A("upload-file-info",`
 padding: 0;
 width: 100%;
 height: 100%;
 `,[Y("thumbnail",`
 width: 100%;
 height: 100%;
 display: flex;
 flex-direction: column;
 align-items: center;
 justify-content: center;
 font-size: 36px;
 `,[ie("img",`
 width: 100%;
 `)])]),ie("&::before",`
 position: absolute;
 z-index: 1;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 border-radius: inherit;
 opacity: 0;
 transition: opacity .2s var(--n-bezier);
 content: "";
 `),ie("&:hover",[ie("&::before","opacity: 1;"),A("upload-file-info",[Y("thumbnail","opacity: .12;")])])]),oe("error-status",[ie("&:hover",`
 background-color: var(--n-item-color-hover-error);
 `),A("upload-file-info",[Y("name","color: var(--n-item-text-color-error);"),Y("thumbnail","color: var(--n-item-text-color-error);")]),oe("image-card-type",`
 border: var(--n-item-border-image-card-error);
 `)]),oe("with-url",`
 cursor: pointer;
 `,[A("upload-file-info",[Y("name",`
 color: var(--n-item-text-color-success);
 text-decoration-color: var(--n-item-text-color-success);
 `,[ie("a",`
 text-decoration: underline;
 `)])])]),A("upload-file-info",`
 position: relative;
 padding-top: 6px;
 padding-bottom: 6px;
 display: flex;
 flex-wrap: nowrap;
 `,[Y("thumbnail",`
 font-size: 18px;
 opacity: 1;
 transition: opacity .2s var(--n-bezier);
 color: var(--n-item-icon-color);
 `,[A("base-icon",`
 margin-right: 2px;
 vertical-align: middle;
 transition: color .3s var(--n-bezier);
 `)]),Y("action",`
 padding-top: inherit;
 padding-bottom: inherit;
 position: absolute;
 right: 0;
 top: 0;
 bottom: 0;
 width: 80px;
 display: flex;
 align-items: center;
 transition: opacity .2s var(--n-bezier);
 justify-content: flex-end;
 opacity: 0;
 `,[A("button",[ie("&:not(:last-child)",{marginRight:"4px"}),A("base-icon",[ie("svg",[un()])])]),oe("image-type",`
 position: relative;
 max-width: 80px;
 width: auto;
 `),oe("image-card-type",`
 z-index: 2;
 position: absolute;
 width: 100%;
 height: 100%;
 left: 0;
 right: 0;
 bottom: 0;
 top: 0;
 display: flex;
 justify-content: center;
 align-items: center;
 `)]),Y("name",`
 color: var(--n-item-text-color);
 flex: 1;
 display: flex;
 justify-content: center;
 text-overflow: ellipsis;
 overflow: hidden;
 flex-direction: column;
 text-decoration-color: #0000;
 font-size: var(--n-font-size);
 transition:
 color .3s var(--n-bezier),
 text-decoration-color .3s var(--n-bezier); 
 `,[ie("a",`
 color: inherit;
 text-decoration: underline;
 `)])])])]),A("upload-file-input",`
 display: none;
 width: 0;
 height: 0;
 opacity: 0;
 `)]);var On=function(e,t,n,o){function r(l){return l instanceof n?l:new n(function(s){s(l)})}return new(n||(n=Promise))(function(l,s){function c(u){try{a(o.next(u))}catch(f){s(f)}}function d(u){try{a(o.throw(u))}catch(f){s(f)}}function a(u){u.done?l(u.value):r(u.value).then(c,d)}a((o=o.apply(e,t||[])).next())})};function qi(e,t,n){const{doChange:o,xhrMap:r}=e;let l=0;function s(d){var a;let u=Object.assign({},t,{status:"error",percentage:l});r.delete(t.id),u=Mt(((a=e.onError)===null||a===void 0?void 0:a.call(e,{file:u,event:d}))||u),o(u,d)}function c(d){var a;if(e.isErrorState){if(e.isErrorState(n)){s(d);return}}else if(n.status<200||n.status>=300){s(d);return}let u=Object.assign({},t,{status:"finished",percentage:l});r.delete(t.id),u=Mt(((a=e.onFinish)===null||a===void 0?void 0:a.call(e,{file:u,event:d}))||u),o(u,d)}return{handleXHRLoad:c,handleXHRError:s,handleXHRAbort(d){const a=Object.assign({},t,{status:"removed",file:null,percentage:l});r.delete(t.id),o(a,d)},handleXHRProgress(d){const a=Object.assign({},t,{status:"uploading"});if(d.lengthComputable){const u=Math.ceil(d.loaded/d.total*100);a.percentage=u,l=u}o(a,d)}}}function Wi(e){const{inst:t,file:n,data:o,headers:r,withCredentials:l,action:s,customRequest:c}=e,{doChange:d}=e.inst;let a=0;c({file:n,data:o,headers:r,withCredentials:l,action:s,onProgress(u){const f=Object.assign({},n,{status:"uploading"}),k=u.percent;f.percentage=k,a=k,d(f)},onFinish(){var u;let f=Object.assign({},n,{status:"finished",percentage:a});f=Mt(((u=t.onFinish)===null||u===void 0?void 0:u.call(t,{file:f}))||f),d(f)},onError(){var u;let f=Object.assign({},n,{status:"error",percentage:a});f=Mt(((u=t.onError)===null||u===void 0?void 0:u.call(t,{file:f}))||f),d(f)}})}function Gi(e,t,n){const o=qi(e,t,n);n.onabort=o.handleXHRAbort,n.onerror=o.handleXHRError,n.onload=o.handleXHRLoad,n.upload&&(n.upload.onprogress=o.handleXHRProgress)}function fo(e,t){return typeof e=="function"?e({file:t}):e||{}}function Xi(e,t,n){const o=fo(t,n);o&&Object.keys(o).forEach(r=>{e.setRequestHeader(r,o[r])})}function Yi(e,t,n){const o=fo(t,n);o&&Object.keys(o).forEach(r=>{e.append(r,o[r])})}function Zi(e,t,n,{method:o,action:r,withCredentials:l,responseType:s,headers:c,data:d}){const a=new XMLHttpRequest;a.responseType=s,e.xhrMap.set(n.id,a),a.withCredentials=l;const u=new FormData;if(Yi(u,d,n),n.file!==null&&u.append(t,n.file),Gi(e,n,a),r!==void 0){a.open(o.toUpperCase(),r),Xi(a,c,n),a.send(u);const f=Object.assign({},n,{status:"uploading"});e.doChange(f)}}const Ki=Object.assign(Object.assign({},$e.props),{name:{type:String,default:"file"},accept:String,action:String,customRequest:Function,directory:Boolean,directoryDnd:{type:Boolean,default:void 0},method:{type:String,default:"POST"},multiple:Boolean,showFileList:{type:Boolean,default:!0},data:[Object,Function],headers:[Object,Function],withCredentials:Boolean,responseType:{type:String,default:""},disabled:{type:Boolean,default:void 0},onChange:Function,onRemove:Function,onFinish:Function,onError:Function,onBeforeUpload:Function,isErrorState:Function,onDownload:Function,defaultUpload:{type:Boolean,default:!0},fileList:Array,"onUpdate:fileList":[Function,Array],onUpdateFileList:[Function,Array],fileListClass:String,fileListStyle:[String,Object],defaultFileList:{type:Array,default:()=>[]},showCancelButton:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showDownloadButton:Boolean,showRetryButton:{type:Boolean,default:!0},showPreviewButton:{type:Boolean,default:!0},listType:{type:String,default:"text"},onPreview:Function,shouldUseThumbnailUrl:{type:Function,default:e=>Di?co(e):!1},createThumbnailUrl:Function,abstract:Boolean,max:Number,showTrigger:{type:Boolean,default:!0},imageGroupProps:Object,inputProps:Object,triggerClass:String,triggerStyle:[String,Object],renderIcon:Function}),po=Z({name:"Upload",props:Ki,setup(e){e.abstract&&e.listType==="image-card"&&Et("upload","when the list-type is image-card, abstract is not supported.");const{mergedClsPrefixRef:t,inlineThemeDisabled:n}=Ge(e),o=$e("Upload","-upload",Ei,Vo,e,t),r=Ft(e),l=j(()=>{const{max:P}=e;return P!==void 0?v.value.length>=P:!1}),s=$(e.defaultFileList),c=de(e,"fileList"),d=$(null),a={value:!1},u=$(!1),f=new Map,k=St(c,s),v=j(()=>k.value.map(Mt));function w(){var P;(P=d.value)===null||P===void 0||P.click()}function x(P){const E=P.target;y(E.files?Array.from(E.files).map(O=>({file:O,entry:null,source:"input"})):null,P),E.value=""}function U(P){const{"onUpdate:fileList":E,onUpdateFileList:O}=e;E&&_e(E,P),O&&_e(O,P),s.value=P}const R=j(()=>e.multiple||e.directory);function y(P,E){if(!P||P.length===0)return;const{onBeforeUpload:O}=e;P=R.value?P:[P[0]];const{max:N,accept:G}=e;P=P.filter(({file:K,source:ee})=>ee==="dnd"&&(G!=null&&G.trim())?Ui(K.name,K.type,G):!0),N&&(P=P.slice(0,N-v.value.length));const Q=an();Promise.all(P.map(({file:K,entry:ee})=>On(this,void 0,void 0,function*(){var le;const ae={id:an(),batchId:Q,name:K.name,status:"pending",percentage:0,file:K,url:null,type:K.type,thumbnailUrl:null,fullPath:(le=ee==null?void 0:ee.fullPath)!==null&&le!==void 0?le:`/${K.webkitRelativePath||K.name}`};return!O||(yield O({file:ae,fileList:v.value}))!==!1?ae:null}))).then(K=>On(this,void 0,void 0,function*(){let ee=Promise.resolve();K.forEach(le=>{ee=ee.then(mn).then(()=>{le&&M(le,E,{append:!0})})}),yield ee})).then(()=>{e.defaultUpload&&_()})}function _(P){const{method:E,action:O,withCredentials:N,headers:G,data:Q,name:K}=e,ee=P!==void 0?v.value.filter(ae=>ae.id===P):v.value,le=P!==void 0;ee.forEach(ae=>{const{status:we}=ae;(we==="pending"||we==="error"&&le)&&(e.customRequest?Wi({inst:{doChange:M,xhrMap:f,onFinish:e.onFinish,onError:e.onError},file:ae,action:O,withCredentials:N,headers:G,data:Q,customRequest:e.customRequest}):Zi({doChange:M,xhrMap:f,onFinish:e.onFinish,onError:e.onError,isErrorState:e.isErrorState},K,ae,{method:E,action:O,withCredentials:N,responseType:e.responseType,headers:G,data:Q}))})}const M=(P,E,O={append:!1,remove:!1})=>{const{append:N,remove:G}=O,Q=Array.from(v.value),K=Q.findIndex(ee=>ee.id===P.id);if(N||G||~K){N?Q.push(P):G?Q.splice(K,1):Q.splice(K,1,P);const{onChange:ee}=e;ee&&ee({file:P,fileList:Q,event:E}),U(Q)}};function z(P){var E;if(P.thumbnailUrl)return P.thumbnailUrl;const{createThumbnailUrl:O}=e;return O?(E=O(P.file,P))!==null&&E!==void 0?E:P.url||"":P.url?P.url:P.file?Mi(P.file):""}const L=j(()=>{const{common:{cubicBezierEaseInOut:P},self:{draggerColor:E,draggerBorder:O,draggerBorderHover:N,itemColorHover:G,itemColorHoverError:Q,itemTextColorError:K,itemTextColorSuccess:ee,itemTextColor:le,itemIconColor:ae,itemDisabledOpacity:we,lineHeight:xe,borderRadius:ce,fontSize:ge,itemBorderImageCardError:C,itemBorderImageCard:b}}=o.value;return{"--n-bezier":P,"--n-border-radius":ce,"--n-dragger-border":O,"--n-dragger-border-hover":N,"--n-dragger-color":E,"--n-font-size":ge,"--n-item-color-hover":G,"--n-item-color-hover-error":Q,"--n-item-disabled-opacity":we,"--n-item-icon-color":ae,"--n-item-text-color":le,"--n-item-text-color-error":K,"--n-item-text-color-success":ee,"--n-line-height":xe,"--n-item-border-image-card-error":C,"--n-item-border-image-card":b}}),V=n?At("upload",void 0,L,e):void 0;Tt(gt,{mergedClsPrefixRef:t,mergedThemeRef:o,showCancelButtonRef:de(e,"showCancelButton"),showDownloadButtonRef:de(e,"showDownloadButton"),showRemoveButtonRef:de(e,"showRemoveButton"),showRetryButtonRef:de(e,"showRetryButton"),onRemoveRef:de(e,"onRemove"),onDownloadRef:de(e,"onDownload"),mergedFileListRef:v,triggerClassRef:de(e,"triggerClass"),triggerStyleRef:de(e,"triggerStyle"),shouldUseThumbnailUrlRef:de(e,"shouldUseThumbnailUrl"),renderIconRef:de(e,"renderIcon"),xhrMap:f,submit:_,doChange:M,showPreviewButtonRef:de(e,"showPreviewButton"),onPreviewRef:de(e,"onPreview"),getFileThumbnailUrlResolver:z,listTypeRef:de(e,"listType"),dragOverRef:u,openOpenFileDialog:w,draggerInsideRef:a,handleFileAddition:y,mergedDisabledRef:r.mergedDisabledRef,maxReachedRef:l,fileListClassRef:de(e,"fileListClass"),fileListStyleRef:de(e,"fileListStyle"),abstractRef:de(e,"abstract"),acceptRef:de(e,"accept"),cssVarsRef:n?void 0:L,themeClassRef:V==null?void 0:V.themeClass,onRender:V==null?void 0:V.onRender,showTriggerRef:de(e,"showTrigger"),imageGroupPropsRef:de(e,"imageGroupProps"),mergedDirectoryDndRef:j(()=>{var P;return(P=e.directoryDnd)!==null&&P!==void 0?P:e.directory})});const D={clear:()=>{s.value=[]},submit:_,openOpenFileDialog:w};return Object.assign({mergedClsPrefix:t,draggerInsideRef:a,inputElRef:d,mergedTheme:o,dragOver:u,mergedMultiple:R,cssVars:n?void 0:L,themeClass:V==null?void 0:V.themeClass,onRender:V==null?void 0:V.onRender,handleFileInputChange:x},D)},render(){var e,t;const{draggerInsideRef:n,mergedClsPrefix:o,$slots:r,directory:l,onRender:s}=this;if(r.default&&!this.abstract){const d=r.default()[0];!((e=d==null?void 0:d.type)===null||e===void 0)&&e[so]&&(n.value=!0)}const c=i("input",Object.assign({},this.inputProps,{ref:"inputElRef",type:"file",class:`${o}-upload-file-input`,accept:this.accept,multiple:this.mergedMultiple,onChange:this.handleFileInputChange,webkitdirectory:l||void 0,directory:l||void 0}));return this.abstract?i(et,null,(t=r.default)===null||t===void 0?void 0:t.call(r),i(No,{to:"body"},c)):(s==null||s(),i("div",{class:[`${o}-upload`,n.value&&`${o}-upload--dragger-inside`,this.dragOver&&`${o}-upload--drag-over`,this.themeClass],style:this.cssVars},c,this.showTrigger&&this.listType!=="image-card"&&i(ho,null,r),this.showFileList&&i(Fi,null,r)))}}),Ji={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},Qi=fe("path",{d:"M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),el=[Qi],tl=Z({name:"Minus",render:function(t,n){return re(),ke("svg",Ji,el)}}),nl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 448 512"},ol=fe("path",{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",fill:"currentColor"},null,-1),rl=[ol],il=Z({name:"Plus",render:function(t,n){return re(),ke("svg",nl,rl)}}),ll={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},al=fe("path",{d:"M240 424v-96c116.4 0 159.39 33.76 208 96c0-119.23-39.57-240-208-240V88L64 256z",fill:"none",stroke:"currentColor","stroke-linejoin":"round","stroke-width":"32"},null,-1),sl=[al],ul=Z({name:"ArrowUndoOutline",render:function(t,n){return re(),ke("svg",ll,sl)}}),dl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},cl=Kn('<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M448 341.37V170.61A32 32 0 0 0 432.11 143l-152-88.46a47.94 47.94 0 0 0-48.24 0L79.89 143A32 32 0 0 0 64 170.61v170.76A32 32 0 0 0 79.89 369l152 88.46a48 48 0 0 0 48.24 0l152-88.46A32 32 0 0 0 448 341.37z"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M69 153.99l187 110l187-110"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M256 463.99v-200"></path><ellipse cx="256" cy="152" rx="24" ry="16" fill="currentColor"></ellipse><ellipse cx="208" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="112" cy="328" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="296" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="240" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="304" cy="384" rx="16" ry="24" fill="currentColor"></ellipse><ellipse cx="400" cy="328" rx="16" ry="24" fill="currentColor"></ellipse>',10),hl=[cl],fl=Z({name:"DiceOutline",render:function(t,n){return re(),ke("svg",dl,hl)}}),pl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},gl=Kn('<path d="M467.51 248.83c-18.4-83.18-45.69-136.24-89.43-149.17A91.5 91.5 0 0 0 352 96c-26.89 0-48.11 16-96 16s-69.15-16-96-16a99.09 99.09 0 0 0-27.2 3.66C89 112.59 61.94 165.7 43.33 248.83c-19 84.91-15.56 152 21.58 164.88c26 9 49.25-9.61 71.27-37c25-31.2 55.79-40.8 119.82-40.8s93.62 9.6 118.66 40.8c22 27.41 46.11 45.79 71.42 37.16c41.02-14.01 40.44-79.13 21.43-165.04z" fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32"></path><circle cx="292" cy="224" r="20" fill="currentColor"></circle><path d="M336 288a20 20 0 1 1 20-19.95A20 20 0 0 1 336 288z" fill="currentColor"></path><circle cx="336" cy="180" r="20" fill="currentColor"></circle><circle cx="380" cy="224" r="20" fill="currentColor"></circle><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M160 176v96"></path><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="32" d="M208 224h-96"></path>',7),vl=[gl],ml=Z({name:"GameControllerOutline",render:function(t,n){return re(),ke("svg",pl,vl)}}),ka=e=>{const t=Ie.Post("api/posts/create",e,{name:"newPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Sa=e=>{const t=Ie.Get("api/posts/"+e.post_id,{name:"postGetter",params:{binggan:e.binggan,thread_id:e.thread_id},localCache:null,hitSource:[]});return t.meta={shouldRemind:!1},t},Ra=e=>{const t=Ie.Delete("api/posts/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"deletePostDeleter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},_a=e=>{const t=Ie.Put("api/posts/recover/"+e.post_id,{binggan:e.binggan,thread_id:e.thread_id},{name:"recoverPostPutter",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},bl=e=>{const t=Ie.Post("api/posts/create_roll",e,{name:"rollPostPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t};function wl(e,t,n){const o=new Date().getTime(),r=Zo.MD5(t+n+o+e).toString();return{timestamp:o,newPostKey:r}}const xl=Z({__name:"RollModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:n}){it();const o=Xe();Ho();const r=e,l=j(()=>{const y=window.innerWidth;return y>=532?"500px":y-32+"px"}),s=j(()=>{let y=[];if(a.value>0&&u.value>0){for(var _=0;_<a.value;_++)y[_]=Math.floor(Math.random()*u.value)+1;return y.join()}else return null}),c=$(),d=$(),a=$(1),u=$(100),f=$(!1);function k(){f.value=!0}t({show:k});const v=n,{loading:w,send:x,onSuccess:U}=qt(y=>bl(y),{immediate:!1});function R(){if(!a.value){window.$message.error("请填写骰子数量");return}if(!u.value){window.$message.error("请填写骰子数量");return}const y={binggan:o.binggan,thread_id:r.threadId,forum_id:r.forumId,roll_name:c.value,roll_event:d.value,roll_num:a.value,roll_range:u.value};x(y)}return U(()=>{v("refreshPostsList"),f.value=!1}),(y,_)=>(re(),Ce(h(pt),{show:f.value,"onUpdate:show":_[6]||(_[6]=M=>f.value=M),"display-directive":"if"},{default:m(()=>[p(h(ft),{style:Ne({maxWidth:l.value}),title:"Roll点",closable:"",onClose:_[5]||(_[5]=M=>f.value=!1),size:"small"},{action:m(()=>[p(h(be),{justify:"end"},{default:m(()=>[p(h(Se),{type:"primary",onClick:R,disabled:h(w)},{default:m(()=>[W("Roll it!")]),_:1},8,["disabled"]),p(h(Se),{onClick:_[4]||(_[4]=M=>f.value=!1)},{default:m(()=>[W("关闭")]),_:1})]),_:1})]),default:m(()=>[p(h(be),{vertical:""},{default:m(()=>[p(h(Oe),null,{default:m(()=>[W(" 输出参考： ")]),_:1}),p(h(Oe),null,{default:m(()=>[W(Qe(c.value?`「${c.value}」，`:"")+" "+Qe(d.value?`「${d.value}」的结果：`:"")+" "+Qe(`${a.value} d ${u.value} = 「${s.value}」`),1)]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"},class:"round"},{default:m(()=>[W("Roll点昵称")]),_:1}),p(h(Ve),{placeholder:"可留空",maxlength:100,value:c.value,"onUpdate:value":_[0]||(_[0]=M=>c.value=M)},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"},class:"round"},{default:m(()=>[W("Roll点事件")]),_:1}),p(h(Ve),{placeholder:"可留空",maxlength:100,value:d.value,"onUpdate:value":_[1]||(_[1]=M=>d.value=M)},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"},class:"round"},{default:m(()=>[W("骰子数量")]),_:1}),p(h(Bt),{max:100,min:1,placeholder:"必须填写",value:a.value,"onUpdate:value":_[2]||(_[2]=M=>a.value=M)},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"},class:"round"},{default:m(()=>[W("骰子大小")]),_:1}),p(h(Bt),{max:1e4,min:1,placeholder:"必须填写",value:u.value,"onUpdate:value":_[3]||(_[3]=M=>u.value=M)},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),yl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Cl=fe("defs",null,null,-1),kl=fe("path",{d:"M682 455V311l-76 76v68c-.1 50.7-42 92.1-94 92c-19.1.1-36.8-5.4-52-15l-54 55c29.1 22.4 65.9 36 106 36c93.8 0 170-75.1 170-168z",fill:"currentColor"},null,-1),Sl=fe("path",{d:"M833 446h-60c-4.4 0-8 3.6-8 8c0 140.3-113.7 254-254 254c-63 0-120.7-23-165-61l-54 54c48.9 43.2 110.8 72.3 179 81v102H326c-13.9 0-24.9 14.3-25 32v36c.1 4.4 2.9 8 6 8h408c3.2 0 6-3.6 6-8v-36c0-17.7-11-32-25-32H547V782c165.3-17.9 294-157.9 294-328c0-4.4-3.6-8-8-8zm13.1-377.7l-43.5-41.9c-3.1-3-8.1-3-11.2.1l-129 129C634.3 101.2 577 64 511 64c-93.9 0-170 75.3-170 168v224c0 6.7.4 13.3 1.2 19.8l-68 68c-10.5-27.9-16.3-58.2-16.2-89.8c-.2-4.4-3.8-8-8-8h-60c-4.4 0-8 3.6-8 8c0 53 12.5 103 34.6 147.4l-137 137c-3.1 3.1-3.1 8.2 0 11.3l42.7 42.7c3.1 3.1 8.2 3.1 11.3 0L846.2 79.8l.1-.1c3.1-3.2 3-8.3-.2-11.4zM417 401V232c0-50.6 41.9-92 94-92c46 0 84.1 32.3 92.3 74.7L417 401z",fill:"currentColor"},null,-1),Rl=[Cl,kl,Sl],_l=Z({name:"AudioMutedOutlined",render:function(t,n){return re(),ke("svg",yl,Rl)}}),zl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},$l=fe("path",{d:"M911.5 700.7a8 8 0 0 0-10.3-4.8L840 718.2V180c0-37.6-30.4-68-68-68H252c-37.6 0-68 30.4-68 68v538.2l-61.3-22.3c-.9-.3-1.8-.5-2.7-.5c-4.4 0-8 3.6-8 8V763c0 3.3 2.1 6.3 5.3 7.5L501 910.1c7.1 2.6 14.8 2.6 21.9 0l383.8-139.5c3.2-1.2 5.3-4.2 5.3-7.5v-59.6c0-1-.2-1.9-.5-2.8zM512 837.5l-256-93.1V184h512v560.4l-256 93.1zM660.6 312h-54.5c-3 0-5.8 1.7-7.1 4.4l-84.7 168.8H511l-84.7-168.8a8 8 0 0 0-7.1-4.4h-55.7c-1.3 0-2.6.3-3.8 1c-3.9 2.1-5.3 7-3.2 10.8l103.9 191.6h-57c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76v39h-76c-4.4 0-8 3.6-8 8v27.1c0 4.4 3.6 8 8 8h76V704c0 4.4 3.6 8 8 8h49.9c4.4 0 8-3.6 8-8v-63.5h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8h-76.3v-39h76.3c4.4 0 8-3.6 8-8v-27.1c0-4.4-3.6-8-8-8H564l103.7-191.6c.6-1.2 1-2.5 1-3.8c-.1-4.3-3.7-7.9-8.1-7.9z",fill:"currentColor"},null,-1),Il=[$l],Pl=Z({name:"MoneyCollectOutlined",render:function(t,n){return re(),ke("svg",zl,Il)}}),Bl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ml=fe("g",{fill:"none"},[fe("path",{d:"M8.066 18.943l6.5-14.5a.75.75 0 0 1 1.404.518l-.036.096l-6.5 14.5a.75.75 0 0 1-1.404-.518l.036-.096l6.5-14.5l-6.5 14.5zM2.22 11.47l4.25-4.25a.75.75 0 0 1 1.133.976l-.073.085L3.81 12l3.72 3.719a.75.75 0 0 1-.976 1.133l-.084-.073l-4.25-4.25a.75.75 0 0 1-.073-.976l.073-.084l4.25-4.25l-4.25 4.25zm14.25-4.25a.75.75 0 0 1 .976-.073l.084.073l4.25 4.25a.75.75 0 0 1 .073.976l-.073.085l-4.25 4.25a.75.75 0 0 1-1.133-.977l.073-.084L20.19 12l-3.72-3.72a.75.75 0 0 1 0-1.06z",fill:"currentColor"})],-1),Dl=[Ml],Tl=Z({name:"Code24Regular",render:function(t,n){return re(),ke("svg",Bl,Dl)}}),Al={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Ll=fe("g",{fill:"none"},[fe("path",{d:"M6.25 3A3.25 3.25 0 0 0 3 6.25v13.004a.75.75 0 0 0 1.5 0V6.25c0-.966.784-1.75 1.75-1.75h11.5c.967 0 1.75.784 1.75 1.75v4.982c.48-.19.994-.263 1.5-.22V6.25A3.25 3.25 0 0 0 17.75 3H6.25zm6.948 15.572L19.1 12.67a2.285 2.285 0 1 1 3.233 3.232l-5.903 5.902a2.684 2.684 0 0 1-1.247.707l-1.83.457c-.05.013-.1.022-.15.027c-.59.204-2.979.574-3.827-.088c-.574-.448-.46-1.334-.218-1.818c.04-.078-.02-.18-.105-.166c-.66.103-1.243.45-1.827.799c-.783.468-1.57.936-2.549.815c-.979-.122-1.468-.726-1.71-1.255c-.099-.216.18-.401.388-.287c.469.255 1.106.496 1.631.38c.375-.084.904-.458 1.496-.877c1.066-.753 2.337-1.653 3.292-1.268c.84.337 1.46 1.15 1.03 2.113c-.053.118 0 .264.127.293c.423.097.778.066 1.133-.105l.428-1.712c.118-.472.362-.903.706-1.247z",fill:"currentColor"})],-1),Ul=[Ll],Ol=Z({name:"DrawShape24Regular",render:function(t,n){return re(),ke("svg",Al,Ul)}}),Nl={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24"},Vl=fe("g",{fill:"none"},[fe("path",{d:"M15.87 2.669l4.969 4.968a2.25 2.25 0 0 1 0 3.182l-8.682 8.68l6.098.001a.75.75 0 0 1 .743.648l.007.102a.75.75 0 0 1-.649.743l-.101.007l-8.41.001a2.244 2.244 0 0 1-1.715-.655l-4.968-4.969a2.25 2.25 0 0 1 0-3.182l9.526-9.526a2.25 2.25 0 0 1 3.182 0zM5.709 11.768l-1.487 1.488a.75.75 0 0 0 0 1.06l4.969 4.969c.146.146.338.22.53.22l.03-.005l.038.002a.747.747 0 0 0 .463-.217l1.486-1.487l-6.03-6.03zm8.04-8.039l-6.98 6.978l6.03 6.03l6.979-6.978a.75.75 0 0 0 0-1.061l-4.969-4.969a.75.75 0 0 0-1.06 0z",fill:"currentColor"})],-1),Hl=[Vl],jl=Z({name:"Eraser24Regular",render:function(t,n){return re(),ke("svg",Nl,Hl)}}),Fl=Xe(),za=e=>{const t=Ie.Get("api/battles/"+e,{name:"battleDataGetter-"+e,params:{binggan:Fl.binggan},localCache:{mode:"restore",expire:6e5},hitSource:[]});return t.meta={shouldRemind:!1},t},El=e=>{const t=Ie.Post("api/battles/",e,{name:"battleCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},$a=e=>{const t=Ie.Post("api/battles/c_roll/",e,{name:"battleChanllengerRollPoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},en=[[{value:0,label:"AC娘"},{value:1,label:"鹦鹉鸡"},{value:2,label:"咪子鱼"},{value:3,label:"小黑猫"},{value:4,label:"小白猫"},{value:5,label:"麻将脸"},{value:6,label:"小恐龙"},{value:7,label:"TD猫"},{value:8,label:"小豆泥"},{value:9,label:"小企鹅"},{value:10,label:"元元"},{value:11,label:"fufu"}],[{value:100,label:"虎杖悠仁"},{value:101,label:"伏黑惠"},{value:102,label:"钉崎野蔷薇"},{value:103,label:"五条悟"},{value:104,label:"七海建人"},{value:105,label:"夏油杰"},{value:106,label:"乙骨忧太"},{value:107,label:"狗卷棘"},{value:108,label:"两面宿傩"},{value:109,label:"伏黑甚尔"},{value:110,label:"禅院直哉"},{value:111,label:"屁元"},{value:199,label:"芥见下下"}],[],[{value:201,label:"zumi"},{value:202,label:"奶瓶雕"},{value:203,label:"什么夫"},{value:204,label:"盘盘兔"},{value:205,label:"龙小可"},{value:206,label:"皱海蒯"},{value:207,label:"肥肥鲨"},{value:208,label:"保龄鸭"},{value:209,label:"小emo"},{value:210,label:"彩虹马"}]],ql=[{value:0,label:"共通",available:!0},{value:2,label:"咒术回战",available:!0},{available:!1},{value:4,label:"兵兵球",available:!0}];function go(e){const t=e.replace(/,/g,"").trim();return/^\d+(\.(\d+)?)?$/.test(t)?Number(t):t===""?null:Number.NaN}function vo(e){return e===null?"":e.toLocaleString("en-US")}const Wl=Z({__name:"BattleModal",props:{threadId:{},forumId:{},randomHeadsGroup:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:n}){it();const o=Xe(),r=e,l=j(()=>{const y=window.innerWidth;return y>=532?"500px":y-32+"px"}),s=j(()=>{const y=[{value:1,label:"共通",available:!0}];return ql.forEach(_=>{_.value===r.randomHeadsGroup&&y.push(_)}),y}),c=j(()=>{const y=en[a.value-1];if(a.value===1){const _=o.userData.my_battle_chara.filter(M=>!M.not_use).map((M,z)=>({value:z+240,label:M.name}));return y.concat(_)}else return y}),d=$(1),a=$(r.randomHeadsGroup),u=$(100);ht(a,y=>{y===1?d.value=en[y-1][8].value:d.value=en[y-1][0].value},{immediate:!0});const{loading:f,send:k,onSuccess:v}=qt(y=>El(y),{immediate:!1});function w(y){const{timestamp:_,newPostKey:M}=wl(y.isTrusted,r.threadId,o.binggan),z={binggan:o.binggan,forum_id:r.forumId,thread_id:r.threadId,battle_olo:u.value,chara_id:d.value>=240?d.value-240:d.value,is_custom_chara:d.value>=240,chara_group:a.value-1,new_post_key:M,timestamp:_};k(z)}v(()=>{R("refreshPostsList"),x.value=!1});const x=$(!1);function U(){x.value=!0}t({show:U});const R=n;return(y,_)=>(re(),Ce(h(pt),{show:x.value,"onUpdate:show":_[5]||(_[5]=M=>x.value=M),"display-directive":"if"},{default:m(()=>[p(h(ft),{style:Ne({maxWidth:l.value}),title:"表情包大乱斗！",closable:"",onClose:_[4]||(_[4]=M=>x.value=!1),size:"small"},{action:m(()=>[p(h(be),{justify:"end"},{default:m(()=>[p(h(Se),{type:"primary",onClick:w,loading:h(f)},{default:m(()=>[W("提交")]),_:1},8,["loading"]),p(h(Se),{onClick:_[3]||(_[3]=M=>x.value=!1)},{default:m(()=>[W("关闭")]),_:1})]),_:1})]),default:m(()=>[p(h(be),{vertical:""},{default:m(()=>[p(h(Oe),null,{default:m(()=>[W("小斗怡情，大斗伤身，强斗奥飞湮灭")]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"3.2rem"}},{default:m(()=>[W("主题")]),_:1}),p(h(It),{value:a.value,"onUpdate:value":_[0]||(_[0]=M=>a.value=M),options:s.value},null,8,["value","options"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"3.2rem"}},{default:m(()=>[W("角色")]),_:1}),p(h(It),{value:d.value,"onUpdate:value":_[1]||(_[1]=M=>d.value=M),options:c.value},null,8,["value","options"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"3.2rem"}},{default:m(()=>[W("下注")]),_:1}),p(h(Bt),{value:u.value,"onUpdate:value":_[2]||(_[2]=M=>u.value=M),max:1e6,min:100,step:100,parse:h(go),format:h(vo),onKeyup:zt(w,["enter"])},null,8,["value","parse","format"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Gl=Z({__name:"CodeModal",emits:["insertCode"],setup(e,{expose:t,emit:n}){const o=j(()=>{const v=window.innerWidth;return v>=532?"500px":v-32+"px"}),r=$(0),l=$(),s=$(),c=[{value:0,label:"折叠内容"},{value:1,label:"超链接"},{value:2,label:"图片"}],d=j(()=>[{prepend_1:"显示内容",prepend_2:"隐藏内容",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"显示内容",inputDefault_2:"隐藏内容",insertText:`<details><summary>${s.value}</summary>${l.value}</details>`},{prepend_1:"显示文字",prepend_2:"链接网址",inputEnable_1:!0,inputEnable_2:!0,inputDefault_1:"点我跳转",inputDefault_2:"",insertText:`<a href="${s.value}">${l.value}</a>`},{prepend_1:"图片链接",prepend_2:"",inputEnable_1:!0,inputEnable_2:!1,inputDefault_1:"",inputDefault_2:"",insertText:`<img src="${l.value}">`}]);ht(r,()=>{l.value=d.value[r.value].inputDefault_1,s.value=d.value[r.value].inputDefault_2},{immediate:!0});function a(){k("insertCode",d.value[r.value].insertText),u.value=!1}const u=$(!1);function f(){u.value=!0}t({show:f});const k=n;return(v,w)=>(re(),Ce(h(pt),{show:u.value,"onUpdate:show":w[5]||(w[5]=x=>u.value=x),"display-directive":"if"},{default:m(()=>[p(h(ft),{style:Ne({maxWidth:o.value}),title:"快捷代码",closable:"",onClose:w[4]||(w[4]=x=>u.value=!1),size:"small"},{action:m(()=>[p(h(be),{justify:"end"},{default:m(()=>[p(h(Se),{type:"primary",onClick:a},{default:m(()=>[W("插入")]),_:1}),p(h(Se),{onClick:w[3]||(w[3]=x=>u.value=!1)},{default:m(()=>[W("关闭")]),_:1})]),_:1})]),default:m(()=>[p(h(be),{vertical:""},{default:m(()=>[p(h(Oe),null,{default:m(()=>[W("代码预览：")]),_:1}),p(h(Oe),null,{default:m(()=>[W(Qe(d.value[r.value].insertText),1)]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("代码内容")]),_:1}),p(h(It),{value:r.value,"onUpdate:value":w[0]||(w[0]=x=>r.value=x),options:c},null,8,["value"])]),_:1}),Rt(p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W(Qe(d.value[r.value].prepend_1),1)]),_:1}),p(h(Ve),{value:l.value,"onUpdate:value":w[1]||(w[1]=x=>l.value=x),onKeyup:zt(a,["enter"])},null,8,["value"])]),_:1},512),[[Ct,d.value[r.value].inputEnable_1]]),Rt(p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W(Qe(d.value[r.value].prepend_2),1)]),_:1}),p(h(Ve),{value:s.value,"onUpdate:value":w[2]||(w[2]=x=>s.value=x),onKeyup:zt(a,["enter"])},null,8,["value"])]),_:1},512),[[Ct,d.value[r.value].inputEnable_2]])]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Xl=["onClick"],Yl=["src"],Zl=Z({__name:"EmojiTab",props:{randomHeadsGroup:{default:0},autoHide:{type:Boolean,default:!0}},emits:["appendEmoji"],setup(e,{emit:t}){const n=Xe(),o=it(),r=e,l=$(),s=j(()=>{const v=tr.filter(w=>!n.userData.emoji_excluded.includes(w.id)&&(w.headsId===0||w.headsId===r.randomHeadsGroup));return n.userData.my_emoji&&v.unshift({id:0,headsId:0,name:"自定义",emojis:n.userData.my_emoji}),v}),c=t;function d(v,w){c("appendEmoji",v,w==="自定义"),r.autoHide&&(l.value=-1)}let a=!1;function u(v,w){return i("span",{onClick:()=>f(w),innerHTML:v})}function f(v){v===l.value&&(a=!0,l.value=-1)}function k(v,w){return a?(a=!1,!1):!0}return(v,w)=>(re(),Ce(h(Jo),{type:"line","bar-width":0,animated:"",onBeforeLeave:k,size:h(o).isMobile?"small":"medium","default-value":-1,value:l.value,"onUpdate:value":w[0]||(w[0]=x=>l.value=x)},{default:m(()=>[(re(!0),ke(et,null,$t(s.value,(x,U,R)=>(re(),Ce(h(In),{name:x.id,tab:u(x.name,x.id)},{default:m(()=>[p(h(be),{size:"small",class:"emoji-container"},{default:m(()=>[(re(!0),ke(et,null,$t(x.emojis,(y,_,M)=>(re(),ke("div",{class:"emoji-box",onClick:z=>d(y,x.name)},[fe("img",{src:y,class:"emoji-in-box"},null,8,Yl)],8,Xl))),256))]),_:2},1024)]),_:2},1032,["name","tab"]))),256)),p(h(In),{name:-1,tab:"隐藏"})]),_:1},8,["size","value"]))}}),Kl=e=>{const t=Ie.Post("api/hongbao_post/create",e,{name:"hongbaoPostCreatePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Ia=e=>{const t=Ie.Post("api/hongbao_post/store",e,{name:"hongbaoPostStorePoster",params:{},localCache:null,hitSource:[]});return t.meta={shouldRemind:!0},t},Jl=Z({__name:"HongbaoModal",props:{threadId:{},forumId:{}},emits:["refreshPostsList"],setup(e,{expose:t,emit:n}){const o=it(),r=Xe(),l=e,s=j(()=>{const E=window.innerWidth;return E>=532?"500px":E-32+"px"}),c=[{value:1,label:"口令红包 直接公开口令"},{value:2,label:"抢答红包 回复答对才公开口令"},{value:3,label:"暗号红包 抢完红包才公开口令"}],d=[{value:1,label:"随机olo"},{value:2,label:"定额olo"}],a=$(3e3),u=$(10),f=$(1),k=$(1),v=$(),w=$(),x=$([]),U=$(!1),R=$(1);function y(E){E===1&&R.value<5&&(R.value+=1),E===-1&&R.value>1&&(x.value.splice(R.value-1,1),R.value-=1)}const{loading:_,send:M,onSuccess:z}=qt(E=>Kl(E),{immediate:!1});function L(){if(v.value===void 0){window.$message.error("必须填写“红包口令”喔");return}if(w.value===void 0&&[2,3].includes(k.value)){window.$message.error("抢答红包或者暗号红包时，必须填写“口令提示”喔");return}if(f.value===2&&a.value%u.value!==0){window.$message.error("选择定额红包时，总额要是红包数量的整倍数喔");return}const E={binggan:r.binggan,forum_id:l.forumId,thread_id:l.threadId,hongbao_olo:a.value,hongbao_num:u.value,type:f.value,key_word_type:k.value,hongbao_key_word:v.value,hongbao_question:w.value,hongbao_message_json:x.value,hongbao_olo_hide:U.value};M(E)}z(()=>{P("refreshPostsList"),V.value=!1});const V=$(!1);function D(){V.value=!0}t({show:D});const P=n;return(E,O)=>(re(),Ce(h(pt),{show:V.value,"onUpdate:show":O[11]||(O[11]=N=>V.value=N),"display-directive":"if"},{default:m(()=>[p(h(ft),{style:Ne({maxWidth:s.value}),title:"发起红包",closable:"",onClose:O[10]||(O[10]=N=>V.value=!1),size:"small"},{action:m(()=>[p(h(be),{justify:"end"},{default:m(()=>[p(h(Se),{type:"primary",onClick:L,loading:h(_)},{default:m(()=>[W("提交")]),_:1},8,["loading"]),p(h(Se),{onClick:O[9]||(O[9]=N=>V.value=!1)},{default:m(()=>[W("关闭")]),_:1})]),_:1})]),default:m(()=>[p(h(be),{vertical:""},{default:m(()=>[fe("div",null,[p(h(Oe),{depth:3},{default:m(()=>[W("温馨提示：")]),_:1}),W("在红包总额以外，会追加扣除7%手续费。 ")]),fe("div",null,[p(h(Oe),{depth:3},{default:m(()=>[W("总共扣除：")]),_:1}),p(h(Oe),{type:"warning"},{default:m(()=>[W(Qe(Math.ceil(a.value*(h(o).isDouble11?1.02:1.07))),1)]),_:1}),W("个奥利奥 ")]),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("红包类型")]),_:1}),p(h(It),{value:k.value,"onUpdate:value":O[0]||(O[0]=N=>k.value=N),options:c},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("olo类型")]),_:1}),p(h(It),{value:f.value,"onUpdate:value":O[1]||(O[1]=N=>f.value=N),options:d},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("红包个数")]),_:1}),p(h(Bt),{value:u.value,"onUpdate:value":O[2]||(O[2]=N=>u.value=N),max:50,min:5,step:5},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("olo总额")]),_:1}),p(h(Bt),{value:a.value,"onUpdate:value":O[3]||(O[3]=N=>a.value=N),max:1e6,min:3e3,step:1e3,parse:h(go),format:h(vo)},null,8,["value","parse","format"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("红包口令")]),_:1}),p(h(Ve),{value:v.value,"onUpdate:value":O[4]||(O[4]=N=>v.value=N),placeholder:"必填"},null,8,["value"])]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("口令提示")]),_:1}),p(h(Ve),{value:w.value,"onUpdate:value":O[5]||(O[5]=N=>w.value=N),placeholder:"抢答红包或者暗号红包时，必填"},null,8,["value"])]),_:1}),(re(!0),ke(et,null,$t(R.value,N=>(re(),Ce(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"5.2rem"}},{default:m(()=>[W("回复留言")]),_:1}),p(h(Ve),{value:x.value[N-1],"onUpdate:value":G=>x.value[N-1]=G,placeholder:`#${N}（可选） 多个留言时随机抽取一个`,maxlength:255},null,8,["value","onUpdate:value","placeholder"])]),_:2},1024))),256)),p(h(be),{size:"small",align:"center"},{default:m(()=>[p(h(Oe),{depth:3},{default:m(()=>[W("留言数量")]),_:1}),p(h(Ue),{size:"tiny",circle:"",disabled:R.value===5,onClick:O[6]||(O[6]=N=>y(1))},{icon:m(()=>[p(h(Te),null,{default:m(()=>[p(h(il))]),_:1})]),_:1},8,["disabled"]),p(h(Ue),{size:"tiny",circle:"",disabled:R.value===1,onClick:O[7]||(O[7]=N=>{y(-1)})},{icon:m(()=>[p(h(Te),null,{default:m(()=>[p(h(tl))]),_:1})]),_:1},8,["disabled"]),p(h(nr),{checked:U.value,"onUpdate:checked":O[8]||(O[8]=N=>U.value=N),label:"隐藏olo总额",style:{"margin-left":"auto"}},null,8,["checked"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ql=Z({__name:"PingbiciModal",setup(e,{expose:t}){it();const n=Xe(),o=j(()=>{const f=window.innerWidth;return f>=532?"500px":f-32+"px"}),r=$(),{loading:l,send:s,onSuccess:c}=qt(f=>jo(f),{immediate:!1});function d(){if(!r.value){window.$message.error("请填写屏蔽词");return}const f={binggan:n.binggan,content_pingbici:r.value};s(f)}c(()=>{n.refreshUserData(),a.value=!1});const a=$(!1);function u(){a.value=!0}return t({show:u}),(f,k)=>(re(),Ce(h(pt),{show:a.value,"onUpdate:show":k[3]||(k[3]=v=>a.value=v),"display-directive":"if"},{default:m(()=>[p(h(ft),{style:Ne({maxWidth:o.value}),title:"追加屏蔽词",closable:"",onClose:k[2]||(k[2]=v=>a.value=!1),size:"small"},{action:m(()=>[p(h(be),{justify:"end"},{default:m(()=>[p(h(Se),{type:"primary",onClick:d,loading:h(l),disabled:!r.value},{default:m(()=>[W("提交")]),_:1},8,["loading","disabled"]),p(h(Se),{onClick:k[1]||(k[1]=v=>a.value=!1)},{default:m(()=>[W("关闭")]),_:1})]),_:1})]),default:m(()=>[p(h(be),{vertical:""},{default:m(()=>[p(h(Oe),null,{default:m(()=>[W("暂时只做了“内容屏蔽词”的追加")]),_:1}),p(h(ve),null,{default:m(()=>[p(h(me),{style:{width:"4.2rem"}},{default:m(()=>[W("屏蔽词")]),_:1}),p(h(Ve),{value:r.value,"onUpdate:value":k[0]||(k[0]=v=>r.value=v),max:255,onKeyup:zt(d,["enter"])},null,8,["value"])]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Pa=()=>{const e=Ie.Get("api/captcha",{name:"postGetter",params:{},localCache:null,hitSource:[]});return e.meta={shouldRemind:!1},e},mo=e=>{const t=new FormData;t.append("file",e.file),t.append("mode",e.mode),t.append("binggan",e.binggan),t.append("thread_id",String(e.thread_id)),t.append("forum_id",String(e.forum_id));const n=Ie.Post("api/img_upload",t,{name:"uploadImagePoster",params:{},localCache:null,hitSource:[]});return n.meta={shouldRemind:!0},n},ea=Z({__name:"ImageUpload",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{emit:t}){const n=it(),o=Xe(),r=$(null),l=e,s=t;function c(f){var k=document.getElementsByTagName("body")[0],v=document.createElement("script");v.setAttribute("id","image-upload-js");var w=document.getElementById("upload-button");f=="mjj"&&(v.setAttribute("async","true"),v.setAttribute("src","https://mjj.today/sdk/pup.js"),v.setAttribute("data-url","https://mjj.today/upload"),v.setAttribute("data-auto-insert","html-embed"),w==null||w.setAttribute("data-chevereto-pup-trigger","")),f=="imgbb"&&(v.setAttribute("async","true"),v.setAttribute("src","https://imgbb.com/upload.js"),v.setAttribute("data-url","https://imgbb.com/upload"),v.setAttribute("data-auto-insert","html-embed-medium"),w==null||w.setAttribute("data-imgbb-trigger","")),f=="freeimage"&&(v.setAttribute("async","true"),v.setAttribute("src","https://freeimage.host/sdk/pup.js"),v.setAttribute("data-url","https://freeimage.host/upload"),v.setAttribute("data-auto-insert","html-embed-medium"),w==null||w.setAttribute("data-chevereto-pup-trigger","")),k.appendChild(v)}function d(){const f=document.getElementById("image-upload-js");f==null||f.remove()}_t(()=>{c(n.ImgHost)}),Fo(()=>{d()});const a=$(!1),u=({file:f,data:k,headers:v,withCredentials:w,action:x,onFinish:U,onError:R,onProgress:y})=>{var _;if(f.file!==null){if(f.file.size>1024e3){window.$message.error("图片大小不能超过10M喔"),(_=r.value)==null||_.clear();return}const M={binggan:o.binggan,file:f.file,mode:"img",thread_id:l.threadId,forum_id:l.forumId};a.value=!0,mo(M).then(z=>{var L;s("insertImage",z.file_url),(L=r.value)==null||L.clear(),a.value=!1}).catch(()=>{var z;(z=r.value)==null||z.clear(),a.value=!1})}};return(f,k)=>f.forumId===419?(re(),Ce(h(po),{key:0,accept:"image/*",action:"/api/img_upload","custom-request":u,"show-file-list":!1,max:1,ref_key:"NUploadCom",ref:r},{default:m(()=>[p(h(Se),{style:{"margin-right":"auto"},disabled:f.userIsLocked,loading:a.value},{default:m(()=>[W("上传图片")]),_:1},8,["disabled","loading"])]),_:1},512)):(re(),Ce(h(Se),{key:1,style:{"margin-right":"auto"},disabled:f.userIsLocked,"data-target":"#content-input",id:"upload-button"},{default:m(()=>[W("上传图片")]),_:1},8,["disabled"]))}}),ta=["width","height"],na=["width","height"],oa=fe("div",null,"颜色",-1),ra=fe("div",null,"画笔",-1),ia=["onClick"],la=fe("div",null,"操作",-1),aa=["title","innerHTML","onClick"],sa=Z({__name:"DrawerModal",props:{userIsLocked:{type:Boolean},forumId:{},threadId:{}},emits:["insertImage"],setup(e,{expose:t,emit:n}){const o=Xe(),r=e,l=j(()=>{const C=window.innerWidth;return C>=832?"800px":C-32+"px"}),s=$(!1);function c(){s.value=!0}t({show:c});const d=n,a=$(),u=j(()=>{var C;return(C=a.value)==null?void 0:C.getContext("2d")}),f=$(),k=j(()=>{var C;return(C=f.value)==null?void 0:C.getContext("2d")}),v=new Image;let w=!1;const x={x:0,y:0,width:0,height:0},U=$([]),R=$([]),y=$([]),_=$({lineWidth:3,lineColor:"#111111",shadowBlur:1}),M=$(!1),z=$(!1);let L=0,V=0;const D=j(()=>window.innerWidth>836?796:window.innerWidth-36),P=j(()=>window.innerHeight>580?400:window.innerHeight-212),E=j(()=>[{title:"上一步",action:"prev",className:U.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z"/></svg>'},{title:"下一步",action:"next",className:R.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path fill-rule="evenodd" d="M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.5 7.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H4.5z"/></svg>'},{title:"橡皮擦",action:"eraser",className:U.value.length||R.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M8.086 2.207a2 2 0 0 1 2.828 0l3.879 3.879a2 2 0 0 1 0 2.828l-5.5 5.5A2 2 0 0 1 7.879 15H5.12a2 2 0 0 1-1.414-.586l-2.5-2.5a2 2 0 0 1 0-2.828l6.879-6.879zm.66 11.34L3.453 8.254 1.914 9.793a1 1 0 0 0 0 1.414l2.5 2.5a1 1 0 0 0 .707.293H7.88a1 1 0 0 0 .707-.293l.16-.16z"/></svg>'},{title:"清除",action:"clear",className:U.value.length||R.value.length?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor" viewBox="0 0 16 16">  <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/><path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/></svg>'},{title:"拖动背景",action:"drag",className:z.value?"active":"",innerHTML:'<svg width="20" height="20" fill="currentColor"  viewBox="0 0 16 16"> <path d="M6.75 1a.75.75 0 0 1 .75.75V8a.5.5 0 0 0 1 0V5.467l.086-.004c.317-.012.637-.008.816.027.134.027.294.096.448.182.077.042.15.147.15.314V8a.5.5 0 1 0 1 0V6.435a4.9 4.9 0 0 1 .106-.01c.316-.024.584-.01.708.04.118.046.3.207.486.43.081.096.15.19.2.259V8.5a.5.5 0 0 0 1 0v-1h.342a1 1 0 0 1 .995 1.1l-.271 2.715a2.5 2.5 0 0 1-.317.991l-1.395 2.442a.5.5 0 0 1-.434.252H6.035a.5.5 0 0 1-.416-.223l-1.433-2.15a1.5 1.5 0 0 1-.243-.666l-.345-3.105a.5.5 0 0 1 .399-.546L5 8.11V9a.5.5 0 0 0 1 0V1.75A.75.75 0 0 1 6.75 1zM8.5 4.466V1.75a1.75 1.75 0 1 0-3.5 0v5.34l-1.2.24a1.5 1.5 0 0 0-1.196 1.636l.345 3.106a2.5 2.5 0 0 0 .405 1.11l1.433 2.15A1.5 1.5 0 0 0 6.035 16h6.385a1.5 1.5 0 0 0 1.302-.756l1.395-2.441a3.5 3.5 0 0 0 .444-1.389l.271-2.715a2 2 0 0 0-1.99-2.199h-.581a5.114 5.114 0 0 0-.195-.248c-.191-.229-.51-.568-.88-.716-.364-.146-.846-.132-1.158-.108l-.132.012a1.26 1.26 0 0 0-.56-.642 2.632 2.632 0 0 0-.738-.288c-.31-.062-.739-.058-1.05-.046l-.048.002zm2.094 2.025z"/></svg>'}]),O=[{lineWidth:3,innerHTML:"🖌️",font_size:12},{lineWidth:6,innerHTML:"🖌️",font_size:16},{lineWidth:12,innerHTML:"🖌️",font_size:20}];function N(){const C=new ImageData(D.value,P.value);y.value.push(C)}_t(()=>{N()});function G(){u.value.lineWidth=_.value.lineWidth,u.value.shadowBlur=_.value.shadowBlur,u.value.shadowColor=_.value.lineColor,u.value.strokeStyle=_.value.lineColor,u.value.lineCap="round",u.value.lineJoin="round"}function Q(C){if(w)if(z.value){const b=C.target;let I,B;C instanceof MouseEvent?(I=C.clientX-b.getBoundingClientRect().x,B=C.clientY-b.getBoundingClientRect().y):(I=C.changedTouches[0].clientX-b.getBoundingClientRect().x,B=C.changedTouches[0].clientY-b.getBoundingClientRect().y),f.value.height=f.value.height;let te={x:x.x+(I-L),y:x.y+(B-V),width:x.width,height:x.height};xe(v,te)}else{u.value.beginPath(),u.value.moveTo(L,V);const b=C.target;let I,B;C instanceof MouseEvent?(I=C.clientX-b.getBoundingClientRect().x,B=C.clientY-b.getBoundingClientRect().y):(I=C.changedTouches[0].clientX-b.getBoundingClientRect().x,B=C.changedTouches[0].clientY-b.getBoundingClientRect().y),u.value.globalCompositeOperation=M.value?"destination-out":"source-over",u.value.lineTo(I,B),[L,V]=[I,B],u.value.stroke()}}function K(C){if(z.value){const b=C.target;let I,B;C instanceof MouseEvent?(I=C.clientX-b.getBoundingClientRect().x,B=C.clientY-b.getBoundingClientRect().y):(I=C.changedTouches[0].clientX-b.getBoundingClientRect().x,B=C.changedTouches[0].clientY-b.getBoundingClientRect().y),x.x+=I-L,x.y+=B-V,w=!1}else{const b=u.value.getImageData(0,0,a.value.width,a.value.height);R.value.length?(y.value=[],y.value=y.value.concat(U.value),y.value.push(b),R.value=[]):y.value.push(b),w=!1}}function ee(C){if(z.value){const b=C.target;let I,B;C instanceof MouseEvent?(I=C.clientX-b.getBoundingClientRect().x,B=C.clientY-b.getBoundingClientRect().y):(I=C.changedTouches[0].clientX-b.getBoundingClientRect().x,B=C.changedTouches[0].clientY-b.getBoundingClientRect().y),L=I,V=B,w=!0}else{w=!0;const b=C.target;let I,B;C instanceof MouseEvent?(I=C.clientX-b.getBoundingClientRect().x,B=C.clientY-b.getBoundingClientRect().y):(I=C.changedTouches[0].clientX-b.getBoundingClientRect().x,B=C.changedTouches[0].clientY-b.getBoundingClientRect().y),G(),L=I,V=B;const te=u.value.getImageData(0,0,a.value.width,a.value.height);U.value.push(te)}}function le(C){_.value.lineWidth=C,M.value=!1,z.value=!1}function ae(C){switch(C){case"prev":if(U.value.length){const b=U.value.pop(),I=y.value[U.value.length+1];R.value.push(I),u.value.putImageData(b,0,0)}break;case"next":if(R.value.length){const b=R.value.pop(),I=y.value[y.value.length-R.value.length-2];U.value.push(I),u.value.putImageData(b,0,0)}break;case"clear":u.value.clearRect(0,0,a.value.width,a.value.height),U.value=[],R.value=[],y.value=[y.value[0]];break;case"eraser":M.value=!0;break;case"drag":z.value=!0;break}}function we(C){if(C.file.file){var b=new FileReader;b.readAsDataURL(C.file.file),b.onload=I=>{v.src=I.target.result,v.onload=function(){var B=f,te=v;x.width=te.width,x.height=te.height,te.width/te.height>=B.value.width/B.value.height?te.width>B.value.width&&(x.width=B.value.width,x.height=te.height*B.value.width/te.width):te.height>B.value.height&&(x.width=te.width*B.value.height/te.height,x.height=B.value.height),xe(te,x)}}}}function xe(C,b){k.value.drawImage(C,b.x,b.y,b.width,b.height)}const ce=$(!1);function ge(){let C=new Image;C.src=a.value.toDataURL("image/png"),C.onload=()=>{k.value.drawImage(C,0,0),b(f.value)};function b(B){B.toBlob(te=>{te&&I(te)},"image/png")}function I(B){const te={binggan:o.binggan,file:B,mode:"img",thread_id:r.threadId,forum_id:r.forumId};ce.value=!0,mo(te).then(Re=>{d("insertImage",Re.file_url),ce.value=!1,s.value=!1}).catch(()=>{ce.value=!1})}}return(C,b)=>(re(),Ce(h(pt),{show:s.value,"onUpdate:show":b[5]||(b[5]=I=>s.value=I),"display-directive":"show"},{default:m(()=>[p(h(ft),{style:Ne({maxWidth:l.value}),title:"涂鸦板",closable:"",onClose:b[4]||(b[4]=I=>s.value=!1),size:"small","content-style":{padding:"0px"}},{default:m(()=>[fe("div",{id:"canvas-container",style:Ne({width:D.value+"px",height:P.value+"px"})},[fe("canvas",{id:"drawer-canvas-background",ref_key:"canvasBackground",ref:f,width:D.value,height:P.value,onTouchmove:b[0]||(b[0]=dn(()=>{},["prevent"]))},null,40,ta),fe("canvas",{id:"drawer-canvas",ref_key:"canvas",ref:a,class:$n({painting:!z.value,dragging:z.value}),width:D.value,height:P.value,onTouchmove:[b[1]||(b[1]=dn(()=>{},["prevent"])),Q],onMousedown:ee,onMouseup:K,onMousemove:Q,onTouchstart:ee,onTouchend:K},null,42,na)],4),p(h(ii),{"x-gap":"6",cols:4},{default:m(()=>[p(h(Zt),{span:"1"},{default:m(()=>[oa,p(h(Yr),{value:_.value.lineColor,"onUpdate:value":b[2]||(b[2]=I=>_.value.lineColor=I),modes:["hex"],"show-alpha":!1},null,8,["value"])]),_:1}),p(h(Zt),{span:"1"},{default:m(()=>[ra,p(h(be),{id:"canvas-brush",size:"small",align:"center"},{default:m(()=>[(re(),ke(et,null,$t(O,(I,B)=>fe("span",{key:B,style:Ne({fontSize:I.font_size+"px"}),onClick:te=>le(I.lineWidth)},Qe(I.innerHTML),13,ia)),64))]),_:1})]),_:1}),p(h(Zt),{span:"2"},{default:m(()=>[la,p(h(be),{id:"canvas-control",size:"small"},{default:m(()=>[(re(!0),ke(et,null,$t(E.value,(I,B)=>(re(),ke("span",{key:B,title:I.title,class:$n([I.className]),innerHTML:I.innerHTML,onClick:te=>ae(I.action)},null,10,aa))),128))]),_:1})]),_:1})]),_:1})]),action:m(()=>[p(h(be),{justify:"end"},{default:m(()=>[p(h(po),{"default-upload":!1,onChange:we,"show-file-list":!1},{default:m(()=>[p(h(Se),null,{default:m(()=>[W("加载图片")]),_:1})]),_:1}),p(h(Se),{type:"primary",onClick:ge,disabled:C.userIsLocked,loading:ce.value},{default:m(()=>[W("上传")]),_:1},8,["disabled","loading"]),p(h(Se),{onClick:b[3]||(b[3]=I=>s.value=!1)},{default:m(()=>[W("关闭")]),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["show"]))}}),Ba=Z({__name:"PostInput",props:{mode:{},disabled:{type:Boolean},handling:{type:Boolean},forumId:{default:0},threadId:{default:0},randomHeadsGroup:{default:1}},emits:["contentCommit","refreshPostsList"],setup(e,{expose:t,emit:n}){const o=Xe(),r=it();Yo(),Eo();const l=$(null),s=$(null),c=$(null),d=$(null),a=$(null),u=$(null),f=$(null),k=e,v=j(()=>o.userData.binggan.locked_ttl>0?`你的饼干封禁中，将于${Math.floor(o.userData.binggan.locked_ttl/3600)+1}小时后解封`:"正文内容"),w=j(()=>o.userData.binggan.locked_ttl>0),x=$(o.userData.binggan.nickname||"= ="),U=$(""),R=$(""),y=$(!1),_=$(!1),M=$(!1),z=qo("emoji_auto_hide",!1);function L(){let C=[i(Lt,{checked:M.value,"onUpdate:checked":b=>M.value=b,label:"实时预览"}),i(Lt,{checked:z.value,"onUpdate:checked":b=>z.value=b,label:"表情包自动收起"})];return o.userData.binggan.admin!==0&&o.checkAdminForums(k.forumId)&&C.push(i(Lt,{checked:_.value,"onUpdate:checked":b=>_.value=b,label:"管理员"})),i(be,{style:"padding:6px 8px",vertical:!0},()=>C)}const V=[{key:"funcOption",type:"render",render:L}];ht(_,C=>x.value=C?"管理员":"= =");function D(C){return C.selectionStart!=null?C.selectionStart:0}function P(C,b){const I=D(C),B=C.value,te=B.substring(0,I)+b+B.substring(I);R.value=te}function E(C){const b=document.getElementById("content-input");P(b,C),Q(),b.focus()}function O(){Xo({title:"要清空内容吗？",onPositiveClick:()=>R.value=""})}const N=$([""]);function G(){N.value.length>1&&(N.value.pop(),R.value=N.value.slice(-1)[0])}function Q(){N.value.push(R.value??""),N.value.length>20&&N.value.shift()}function K(C,b){E(`<img src='${C}' class='${b?"custom-emoji-img":"emoji-img"}'>`)}function ee(C){E(C)}function le(C){E(`<img src='${C}' />`)}function ae(C){var b;R.value=C,Q(),(b=l.value)==null||b.focus()}const we=n;function xe(C){new Promise(function(I,B){we("contentCommit",{contentInput:R.value,nicknameInput:x.value,postWithAdmin:_.value,titleInput:U.value,isDelay:y.value,ist:C.isTrusted},I)}).then(ce)}function ce(){U.value="",R.value="",y.value=!1}const ge=$(!1);return t({quoteHandle:ae,isTyping:ge}),(C,b)=>(re(),Ce(h(be),{vertical:""},{default:m(()=>[p(h(be),{size:"small",wrap:!1,align:"center"},{default:m(()=>[p(h(ve),{style:{"max-width":"300px"}},{default:m(()=>[p(h(me),{style:{width:"3.2rem"}},{default:m(()=>[W("昵称")]),_:1}),p(h(Ve),{maxlength:30,value:x.value,"onUpdate:value":b[0]||(b[0]=I=>x.value=I),"show-count":"",style:Ne({color:_.value?"FF6060":void 0})},null,8,["value","style"])]),_:1}),p(h(Wo),{trigger:"hover",options:V,placement:"bottom-start"},{default:m(()=>[p(h(Se),{size:"medium",style:{"flex-shrink":"0"},secondary:!1},{default:m(()=>[W("功能")]),_:1})]),_:1})]),_:1}),C.mode==="thread"?(re(),Ce(h(ve),{key:0},{default:m(()=>[p(h(me),{style:{width:"3.2rem"}},{default:m(()=>[W("标题")]),_:1}),p(h(Ve),{maxlength:100,value:U.value,"onUpdate:value":b[1]||(b[1]=I=>U.value=I),"show-count":"",placeholder:"标题内容"},null,8,["value"])]),_:1})):mt("",!0),p(Zl,{"auto-hide":h(z),"random-heads-group":C.randomHeadsGroup,onAppendEmoji:K},null,8,["auto-hide","random-heads-group"]),p(h(be),{size:h(r).isMobile?"small":"medium",justify:"end",align:"center"},{default:m(()=>[C.mode==="post"?(re(),Ce(h(Te),{key:0,size:h(r).isMobile?28:32},{default:m(()=>[p(h(Pl),{style:{cursor:"pointer"},onClick:b[2]||(b[2]=I=>{var B;return(B=s.value)==null?void 0:B.show()})})]),_:1},8,["size"])):mt("",!0),C.mode==="post"?(re(),Ce(h(Te),{key:1,size:h(r).isMobile?28:32},{default:m(()=>[p(h(ml),{style:{cursor:"pointer"},onClick:b[3]||(b[3]=I=>{var B;return(B=c.value)==null?void 0:B.show()})})]),_:1},8,["size"])):mt("",!0),C.mode==="post"?(re(),Ce(h(Te),{key:2,size:h(r).isMobile?28:32},{default:m(()=>[p(h(fl),{style:{cursor:"pointer"},onClick:b[4]||(b[4]=I=>{var B;return(B=d.value)==null?void 0:B.show()})})]),_:1},8,["size"])):mt("",!0),p(h(Te),{size:h(r).isMobile?28:32},{default:m(()=>[p(h(Ol),{style:{cursor:"pointer"},onClick:b[5]||(b[5]=I=>{var B;return(B=f.value)==null?void 0:B.show()})})]),_:1},8,["size"]),p(h(Te),{size:h(r).isMobile?28:32},{default:m(()=>[p(h(Tl),{style:{cursor:"pointer"},onClick:b[6]||(b[6]=I=>{var B;return(B=u.value)==null?void 0:B.show()})})]),_:1},8,["size"]),p(h(Te),{size:h(r).isMobile?28:32},{default:m(()=>[p(h(_l),{style:{cursor:"pointer"},onClick:b[7]||(b[7]=I=>{var B;return(B=a.value)==null?void 0:B.show()})})]),_:1},8,["size"]),p(h(Qo),{vertical:""}),p(h(Te),{size:h(r).isMobile?28:32},{default:m(()=>[p(h(ul),{style:{cursor:"pointer"},onClick:G})]),_:1},8,["size"]),p(h(Te),{size:h(r).isMobile?28:32},{default:m(()=>[p(h(jl),{style:{cursor:"pointer"},onClick:O})]),_:1},8,["size"])]),_:1},8,["size"]),p(h(xn),{value:R.value,"onUpdate:value":b[8]||(b[8]=I=>R.value=I),type:"textarea",placeholder:v.value,autosize:{minRows:5,maxRows:10},ref_key:"contentInputDom",ref:l,style:{"border-radius":"10px"},"input-props":{id:"content-input"},disabled:w.value,onChange:Q,onKeyup:b[9]||(b[9]=zt(dn(I=>xe(I),["ctrl"]),["enter"])),onBlur:b[10]||(b[10]=I=>ge.value=!1),onFocus:b[11]||(b[11]=I=>ge.value=!0)},null,8,["value","placeholder","disabled"]),p(h(be),{justify:"end",align:"center"},{default:m(()=>[p(ea,{"user-is-locked":w.value,"forum-id":C.forumId,"thread-id":C.threadId,onInsertImage:le},null,8,["user-is-locked","forum-id","thread-id"]),C.mode==="thread"?(re(),Ce(h(Lt),{key:0,checked:y.value,"onUpdate:checked":b[12]||(b[12]=I=>y.value=I)},{default:m(()=>[W("延时发送")]),_:1},8,["checked"])):mt("",!0),p(h(Go),{placement:"bottom-start",trigger:"hover",disabled:h(r).isMobile},{trigger:m(()=>[p(h(Se),{type:"primary",onClick:b[13]||(b[13]=I=>xe(I)),loading:C.handling,disabled:w.value},{default:m(()=>[W("提交")]),_:1},8,["loading","disabled"])]),default:m(()=>[W(" 可以Ctrl+Enter ")]),_:1},8,["disabled"])]),_:1}),p(Jl,{ref_key:"HongbaoModalCom",ref:s,"thread-id":C.threadId,"forum-id":C.forumId,onRefreshPostsList:b[14]||(b[14]=I=>we("refreshPostsList"))},null,8,["thread-id","forum-id"]),p(Wl,{ref_key:"BattleModalCom",ref:c,"thread-id":C.threadId,"forum-id":C.forumId,"random-heads-group":C.randomHeadsGroup,onRefreshPostsList:b[15]||(b[15]=I=>we("refreshPostsList"))},null,8,["thread-id","forum-id","random-heads-group"]),p(xl,{ref_key:"RollModalCom",ref:d,"thread-id":C.threadId,"forum-id":C.forumId,onRefreshPostsList:b[16]||(b[16]=I=>we("refreshPostsList"))},null,8,["thread-id","forum-id"]),p(Ql,{ref_key:"PingbiciModalCom",ref:a},null,512),p(Gl,{ref_key:"CodeModalCom",ref:u,onInsertCode:ee},null,512),p(sa,{ref_key:"DrawerModalCom",ref:f,onInsertImage:le,"user-is-locked":w.value,"forum-id":C.forumId,"thread-id":C.threadId},null,8,["user-is-locked","forum-id","thread-id"])]),_:1}))}}),Ma=[{id:1,name:"默认",random_heads:["https://z3.ax1x.com/2021/08/01/fSAAIg.png","https://z3.ax1x.com/2021/08/01/fSAeRs.png","https://z3.ax1x.com/2021/08/01/fSAViQ.png","https://z3.ax1x.com/2021/08/01/fSAZGj.png","https://z3.ax1x.com/2021/08/01/fSAkdS.png","https://z3.ax1x.com/2021/08/01/fSAmzn.png","https://z3.ax1x.com/2021/08/01/fSAuMq.png","https://z3.ax1x.com/2021/08/01/fSAKs0.png","https://z3.ax1x.com/2021/08/01/fSAMLV.png","https://z3.ax1x.com/2021/08/01/fSAlZT.png","https://z3.ax1x.com/2021/08/01/fSA1dU.png","https://z3.ax1x.com/2021/08/01/fSA3oF.png","https://z3.ax1x.com/2021/08/01/fSAGi4.png","https://z3.ax1x.com/2021/08/01/fSAYW9.png","https://z3.ax1x.com/2021/08/01/fSAJJJ.png","https://z3.ax1x.com/2021/08/01/fSAtzR.png","https://z3.ax1x.com/2021/08/01/fSAUQ1.png","https://z3.ax1x.com/2021/08/01/fSAsFe.png","https://z3.ax1x.com/2021/08/01/fSABdO.png","https://z3.ax1x.com/2021/08/01/fSADoD.png","https://z3.ax1x.com/2021/08/01/fSA0eK.png","https://z3.ax1x.com/2021/08/01/fSAyJH.png","https://z3.ax1x.com/2021/08/01/fSA6Wd.png","https://z3.ax1x.com/2021/08/01/fSAgSA.png","https://z3.ax1x.com/2021/08/01/fSA2QI.png","https://z3.ax1x.com/2021/08/01/fSARyt.png","https://z3.ax1x.com/2021/08/01/fSAWOP.png","https://z3.ax1x.com/2021/08/01/fSAhef.png","https://z3.ax1x.com/2021/08/01/fSA4w8.png","https://z3.ax1x.com/2021/08/01/fSA5TS.png","https://z3.ax1x.com/2021/08/01/fSAoFg.png","https://z3.ax1x.com/2021/08/01/fSATYQ.png","https://z3.ax1x.com/2021/08/01/fSA7Wj.png","https://z3.ax1x.com/2021/08/01/fSAbSs.png","https://z3.ax1x.com/2021/08/01/fSAqln.png","https://z3.ax1x.com/2021/08/01/fSALyq.png","https://z3.ax1x.com/2021/08/01/fSAOO0.png","https://z3.ax1x.com/2021/08/01/fSAjmV.png","https://z3.ax1x.com/2021/08/01/fSAvwT.png","https://z3.ax1x.com/2021/08/01/fSAxTU.png"]},{id:2,name:"咒岛",random_heads:["https://www.z4a.net/images/2021/04/28/1ec2f3b016cc3993d.png","https://www.z4a.net/images/2021/04/28/2c9d9c4cfced955f1.png","https://www.z4a.net/images/2021/04/28/3a72868d2ed97544e.png","https://www.z4a.net/images/2021/04/28/4a530a7008124f895.png","https://www.z4a.net/images/2021/04/28/16.png","https://www.z4a.net/images/2021/04/28/5c3d0f8f7e94c0f87.png","https://www.z4a.net/images/2021/04/28/6.png","https://www.z4a.net/images/2021/04/28/7.png","https://www.z4a.net/images/2021/04/28/8.png","https://www.z4a.net/images/2021/04/28/9.png","https://www.z4a.net/images/2021/04/28/17.png","https://www.z4a.net/images/2021/04/28/10a78173cca4d2b9e4.png","https://www.z4a.net/images/2021/04/28/116817e6f9946a883b.png","https://www.z4a.net/images/2021/04/28/12d6faaf27dd411273.png","https://www.z4a.net/images/2021/04/28/13cd6b9af2dee496c2.png","https://www.z4a.net/images/2021/04/28/158cb6d1c543151992.png","https://www.z4a.net/images/2021/04/28/191dbde0611454f9c4.png","https://www.z4a.net/images/2021/04/28/149dd44da8e8badd09.png","https://www.z4a.net/images/2021/04/28/189f30c4bbf3eb9015.png","https://www.z4a.net/images/2021/04/28/201161035e7d5b8c56.png","https://www.z4a.net/images/2021/04/28/21.png","https://www.z4a.net/images/2021/04/28/222dc14b16d6f5e3ad.png","https://www.z4a.net/images/2021/04/28/23.png","https://www.z4a.net/images/2021/04/28/24.png","https://www.z4a.net/images/2021/04/28/25.png","https://www.z4a.net/images/2021/04/28/26.png","https://www.z4a.net/images/2021/04/28/27.png","https://www.z4a.net/images/2021/04/28/28.png","https://www.z4a.net/images/2021/04/28/29.png","https://www.z4a.net/images/2021/04/28/30.png","https://www.z4a.net/images/2021/04/28/31.png","https://www.z4a.net/images/2021/04/28/32.png","https://www.z4a.net/images/2021/04/28/333753a209916c1bac.png","https://www.z4a.net/images/2021/04/28/34.png","https://www.z4a.net/images/2021/04/28/35.png","https://www.z4a.net/images/2021/04/28/36.png","https://www.z4a.net/images/2021/04/28/37.png","https://www.z4a.net/images/2021/04/28/38.png","https://www.z4a.net/images/2021/04/28/39.png","https://www.z4a.net/images/2021/04/28/40.png"]},{id:3,name:"国配",random_heads:["https://s2.ax1x.com/2020/03/04/3oNmCT.jpg","https://s2.ax1x.com/2020/03/04/3oNZ5V.jpg","https://s2.ax1x.com/2020/03/04/3oNVU0.jpg","https://s2.ax1x.com/2020/03/04/3oNEEq.jpg","https://s2.ax1x.com/2020/03/04/3oNkbn.jpg","https://s2.ax1x.com/2020/03/04/3oNFDs.jpg","https://s2.ax1x.com/2020/03/04/3oNiuj.jpg","https://s2.ax1x.com/2020/03/04/3oNCvQ.jpg","https://s2.ax1x.com/2020/03/04/3oN9gg.jpg","https://s2.ax1x.com/2020/03/04/3otx4f.jpg","https://s2.ax1x.com/2020/03/04/3otvUP.jpg","https://s2.ax1x.com/2020/03/04/3otjEt.jpg","https://s2.ax1x.com/2020/03/04/3otOHI.jpg","https://s2.ax1x.com/2020/03/04/3otLDA.jpg","https://s2.ax1x.com/2020/03/04/3otqud.jpg","https://s2.ax1x.com/2020/03/04/3otHjH.jpg","https://s2.ax1x.com/2020/03/04/3ot54K.jpg","https://s2.ax1x.com/2020/03/04/3ot4N6.jpg","https://s2.ax1x.com/2020/03/04/3ot6c4.jpg","https://s2.ax1x.com/2020/03/04/3otcjJ.jpg","https://i.loli.net/2020/05/12/fjzJG2tOKS9x75i.png","https://s2.ax1x.com/2020/03/04/3othAx.jpg","https://s2.ax1x.com/2020/03/04/3otWH1.jpg","https://i.loli.net/2020/05/12/RJkuylMqTDbhFYK.png","https://s2.ax1x.com/2020/03/04/3oaHvF.jpg","https://i.loli.net/2020/05/12/JniT3y5EjlHveCa.png","https://i.loli.net/2020/05/12/uLf37Dh4moSNWHl.png","https://i.loli.net/2020/05/12/4PDlehfWOJZoEcj.png","https://i.loli.net/2020/05/12/UznI9POMuTN5CdF.png","https://i.loli.net/2020/05/12/Ku24JNkQp6sedEb.png","https://i.loli.net/2020/05/12/zPiTZRcU2WxC65D.png","https://i.loli.net/2020/05/12/6JeYhNKMLsBQlFO.png","https://i.loli.net/2020/05/12/gIqU1VEXHAQ2ShG.png","https://i.loli.net/2020/05/12/RJOoTxZKvQtLNrA.png","https://i.loli.net/2020/05/12/WHtM9RFxsaCXUYp.png","https://i.loli.net/2020/05/12/KtVvfRUPzA4CDFi.png","https://i.loli.net/2020/05/12/XQWotbfrYi7dBp6.png","https://i.loli.net/2020/05/12/f4h65rGU7cRYwZ8.png","https://i.loli.net/2020/05/12/1HWeg4xdsX85kZT.png","https://i.loli.net/2020/05/12/J8uH6ClX4EGLifc.png"]},{id:4,name:"兵兵球",random_heads:["https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-01.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-02.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-03.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-04.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-05.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-06.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-07.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-08.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-09.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-10.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-11.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-12.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-13.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-14.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-15.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-16.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-17.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-18.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-19.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-20.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-21.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-22.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-23.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-24.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-25.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-26.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-27.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-28.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-29.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-30.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-31.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-32.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-33.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-34.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-35.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-36.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-37.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-38.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-39.gif","https://hcfgt.com/unicorn/i/1890/touxiang/zhuqiu-40.gif"]}];export{Bt as N,Ba as _,Yr as a,_a as b,Pa as c,Ra as d,vo as e,Ca as f,wl as g,Zt as h,go as i,ii as j,en as k,za as l,$a as m,ka as n,Ia as o,Sa as p,Ma as r};
